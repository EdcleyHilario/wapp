{"version":3,"sources":["layout/themeContext.js","translate/languages/pt.js","translate/languages/index.js","translate/languages/en.js","translate/languages/es.js","translate/i18n.js","errors/toastError.js","services/api.js","services/socket.js","hooks/useWhatsApps/index.js","context/WhatsApp/WhatsAppsContext.js","hooks/useAuth.js/index.js","context/Auth/AuthContext.js","rules.js","components/Can/index.js","pages/ToDoList/index.js","hooks/usePlans/index.js","layout/MainListItems.js","components/ButtonWithSpinner/index.js","components/MarkdownWrapper/index.js","context/Tickets/TicketsContext.js","components/ModalImageCors/index.js","components/ConfirmationModal/index.js","context/ReplyingMessage/ReplyingMessageContext.js","components/MessageOptionsMenu/index.js","components/LocationPreview/index.js","components/MessagesList/index.js","components/TicketHeaderSkeleton/index.js","components/TicketHeader/index.js","components/TicketInfo/index.js","components/TicketMessagesDialog/index.js","helpers/contrastColor.js","components/ContactTag/index.js","components/TicketListItemCustom/index.js","hooks/useTickets/index.js","components/NotificationsPopOver/index.js","components/NotificationsVolume/index.js","components/QueueSelect/index.js","components/UserModal/index.js","components/BackdropLoading/index.js","components/DarkMode/index.js","components/AnnouncementsPopover/index.js","hooks/useDate/index.js","pages/Chat/ChatPopover.js","layout/index.js","pages/Dashboard/Title.js","pages/Dashboard/Chart.js","components/Dashboard/CardCounter.js","components/Dashboard/TableAttendantsStatus.js","hooks/useDashboard/index.js","hooks/useCompanies/index.js","pages/Dashboard/index.js","components/ContactModal/index.js","components/NewTicketModal/index.js","components/TicketsListSkeleton/index.js","components/TicketsListCustom/index.js","components/TabPanel/index.js","components/TicketsQueueSelect/index.js","components/TagsFilter/index.js","components/UsersFilter/index.js","components/TicketsManagerTabs/index.js","components/ContactDrawerSkeleton/index.js","components/ContactForm/index.js","components/ContactNotesDialogListItem/index.js","hooks/useTicketNotes/index.js","components/ContactNotes/index.js","components/ContactDrawer/index.js","components/MessageInputCustom/RecordingTimer.js","hooks/useQuickMessages/index.js","components/MessageInputCustom/index.js","hooks/useLocalStorage/index.js","hooks/useQueues/index.js","components/TransferTicketModalCustom/index.js","components/OutlinedDiv/index.js","components/MessageVariablesPicker/index.js","components/ScheduleModal/index.js","components/TicketOptionsMenu/index.js","components/TicketActionButtonsCustom/index.js","components/TagsContainer/index.js","components/Ticket/index.js","pages/TicketsCustom/index.js","components/TicketAdvancedLayout/index.js","pages/TicketsAdvanced/index.js","pages/TicketResponsiveContainer/index.js","pages/Signup/index.js","pages/Login/index.js","components/MainContainer/index.js","components/MainHeader/index.js","components/MainHeaderButtonsWrapper/index.js","components/Title/index.js","components/TableRowSkeleton/index.js","components/WhatsAppModal/index.js","components/QrcodeModal/index.js","pages/Connections/index.js","components/SchedulesForm/index.js","components/QueueSelectCustom/index.js","components/ModalUsers/index.js","components/CompaniesManager/index.js","components/PlansManager/index.js","hooks/useHelps/index.js","components/HelpsManager/index.js","hooks/useSettings/index.js","components/Settings/Options.js","components/OnlyForSuperUser/index.js","pages/SettingsCustom/index.js","components/FormFields/InputField.js","components/FormFields/SelectField.js","components/CheckoutPage/Forms/AddressForm.js","components/CheckoutPage/Forms/PaymentForm.js","components/CheckoutPage/ReviewOrder/styles.js","components/CheckoutPage/ReviewOrder/ShippingDetails.js","components/CheckoutPage/ReviewOrder/index.js","components/CheckoutPage/ReviewOrder/ReviewOrder.js","components/CheckoutPage/CheckoutSuccess/style.js","components/CheckoutPage/CheckoutSuccess/CheckoutSuccess.js","components/CheckoutPage/CheckoutSuccess/index.js","components/CheckoutPage/FormModel/checkoutFormModel.js","components/CheckoutPage/FormModel/validationSchema.js","components/CheckoutPage/FormModel/formInitialValues.js","components/CheckoutPage/styles.js","components/CheckoutPage/index.js","components/CheckoutPage/CheckoutPage.js","components/SubscriptionModal/index.js","pages/Financeiro/index.js","pages/Users/index.js","pages/Contacts/index.js","components/ColorPicker/index.js","components/QueueOptions/index.js","components/QueueModal/index.js","pages/Queues/index.js","components/TagModal/index.js","pages/Tags/index.js","pages/MessagesAPI/index.js","pages/Helps/index.js","components/ContactListDialog/index.js","pages/ContactLists/index.js","components/ContactListItemModal/index.js","hooks/useContactLists/index.js","pages/ContactListItems/index.js","components/QuickMessageDialog/index.js","pages/QuickMessages/index.js","pages/Kanban/index.js","routes/Route.js","pages/Schedules/index.js","components/CampaignModal/index.js","pages/Campaigns/index.js","pages/CampaignsConfig/index.js","pages/CampaignReport/index.js","components/AnnouncementModal/index.js","pages/Annoucements/index.js","pages/Chat/ChatList.js","pages/Chat/ChatMessages.js","pages/Chat/index.js","pages/Subscription/index.js","components/FileModal/index.js","pages/Files/index.js","components/QueueSelectSingle/index.js","components/PromptModal/index.js","pages/Prompts/index.js","components/QueueIntegrationModal/index.js","pages/QueueIntegration/index.js","routes/index.js","App.js","index.js","assets/logo.png","assets/planilha.xlsx","assets/wa-background.png","assets/wa-background-dark.png","assets/sound.mp3","assets/chat_notify.mp3","assets/n8n.png","assets/dialogflow.png","assets/webhook.png","assets/typebot.jpg"],"names":["ColorModeContext","React","createContext","toggleColorMode","messages","pt","translations","signup","title","toasts","success","fail","form","name","email","password","buttons","submit","login","register","plans","users","connections","campaigns","schedules","enabled","disabled","clear","delete","save","yes","no","money","companies","plan","token","auth","dashboard","charts","perDay","deleted","confirmationModal","deleteTitle","deleteMessage","disconnectTitle","disconnectMessage","add","disconnect","tryAgain","qrcode","newQr","connecting","toolTips","disconnected","content","connected","timeout","table","status","lastUpdate","default","actions","session","whatsappModal","edit","sendIdQueue","timeSendQueue","queueRedirection","queueRedirectionDesc","prompt","maxUseBotQueues","timeUseBotQueues","expiresTicket","expiresInactiveMessage","okAdd","okEdit","cancel","qrCode","message","contacts","searchPlaceholder","importTitlte","importMessage","import","whatsapp","queueIntegrationModal","id","type","projectName","language","jsonContent","urlN8N","typebotSlug","typebotExpires","typebotKeywordFinish","typebotKeywordRestart","typebotRestartMessage","typebotUnknownMessage","typebotDelayMessage","test","testSuccess","addSuccess","editSuccess","promptModal","voice","max_tokens","temperature","apikey","max_messages","voiceKey","voiceRegion","prompts","queue","contactModal","mainInfo","extraInfo","number","extraName","extraValue","addExtraInfo","queueModal","color","greetingMessage","complationMessage","outOfHoursMessage","ratingMessage","orderQueue","integrationId","attach","userModal","profile","scheduleModal","body","contact","sendAt","sentAt","tagModal","chat","noTicketMessage","uploads","titles","titleUploadMsgDragDrop","titleFileList","ticketsManager","newTicket","ticketsQueueSelect","placeholder","tickets","notification","tabs","open","closed","search","showAll","transferTicketModal","fieldLabel","fieldQueueLabel","fieldQueuePlaceholder","noOptions","ok","ticketsList","pendingHeader","assignedHeader","noTicketsTitle","noTicketsMessage","accept","reopen","newTicketModal","mainDrawer","listItems","quickMessages","queues","tags","administration","settings","helps","messagesAPI","annoucements","chats","financeiro","files","queueIntegration","appBar","user","logout","deletedAll","deleteAll","deleteAllTitle","deleteAllMessage","textMessage","mediaMessage","media","notifications","noTickets","noAttachment","dialog","shortcode","geral","visao","mediaName","messageVariablesPicker","label","vars","contactFirstName","contactName","greeting","protocolNumber","date","hour","contactLists","company","contactListItems","lists","contactList","scheduledAt","completedAt","confirmation","new","update","readonly","message1","message2","message3","message4","message5","confirmationMessage1","confirmationMessage2","confirmationMessage3","confirmationMessage4","confirmationMessage5","messagePlaceholder","tagList","fileList","okadd","restart","close","announcements","active","inactive","priority","text","mediaPath","campaignsConfig","queueSelect","inputLabel","userCreation","options","messagesList","header","assignedTo","return","resolve","messagesInput","placeholderOpen","placeholderClosed","signMessage","contactDrawer","fileModal","fileOptions","ticketOptionsMenu","schedule","transfer","registerAppointment","appointmentsModal","textarea","confirm","messageOptionsMenu","reply","backendErrors","ERR_NO_OTHER_WHATSAPP","ERR_NO_DEF_WAPP_FOUND","ERR_WAPP_NOT_INITIALIZED","ERR_WAPP_CHECK_CONTACT","ERR_WAPP_INVALID_CONTACT","ERR_WAPP_DOWNLOAD_MEDIA","ERR_INVALID_CREDENTIALS","ERR_SENDING_WAPP_MSG","ERR_DELETE_WAPP_MSG","ERR_OTHER_OPEN_TICKET","ERR_SESSION_EXPIRED","ERR_USER_CREATION_DISABLED","ERR_NO_PERMISSION","ERR_DUPLICATED_CONTACT","ERR_NO_SETTING_FOUND","ERR_NO_CONTACT_FOUND","ERR_NO_TICKET_FOUND","ERR_NO_USER_FOUND","ERR_NO_WAPP_FOUND","ERR_CREATING_MESSAGE","ERR_CREATING_TICKET","ERR_FETCH_WAPP_MSG","ERR_QUEUE_COLOR_ALREADY_EXISTS","ERR_WAPP_GREETING_REQUIRED","en","titleFrom","es","i18n","use","LanguageDetector","init","debug","defaultNS","fallbackLng","ns","resources","toastError","err","_err$response","_err$response$data","errorMsg","response","data","error","exists","concat","toast","t","toastId","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","isString","api","axios","create","baseURL","process","withCredentials","openApi","socketConnection","params","userId","localStorage","getItem","openSocket","transports","pingTimeout","pingInterval","query","isObject","reducer","state","action","payload","whatsApp","whatsAppIndex","findIndex","s","updatedAt","retries","whatsAppId","splice","useWhatsApps","whatsApps","dispatch","useReducer","loading","setLoading","useState","useEffect","async","get","fetchSession","companyId","socket","on","whatsappId","WhatsAppsContext","WhatsAppsProvider","_ref","children","createElement","Provider","value","useAuth","history","useHistory","isAuth","setIsAuth","setUser","interceptors","request","config","headers","JSON","parse","Promise","reject","_error$response","_error$response2","originalRequest","_retry","post","setItem","stringify","defaults","Authorization","removeItem","handleLogin","userData","has","isArray","setting","find","key","moment","locale","dueDate","vencimento","format","diff","before","isBefore","dias","duration","asDays","Math","round","warn","push","handleLogout","getCurrentUserInfo","AuthContext","AuthProvider","rules","static","admin","Can","role","perform","check","permissions","staticPermissions","includes","dynamicPermissions","dynamic","permissionCondition","defaultProps","useStyles","makeStyles","root","display","flexDirection","alignItems","margin","inputContainer","width","marginBottom","input","flexGrow","marginRight","listContainer","height","marginTop","backgroundColor","borderRadius","list","ToDoList","classes","task","setTask","tasks","setTasks","editIndex","setEditIndex","savedTasks","className","TextField","onChange","event","target","variant","Button","onClick","handleAddTask","trim","now","Date","newTasks","createdAt","List","map","index","ListItem","ListItemText","primary","secondary","toLocaleString","ListItemSecondaryAction","IconButton","handleEditTask","EditIcon","handleDeleteTask","DeleteIcon","usePlans","getPlanList","url","method","responseData","finder","remove","getPlanCompany","ListSubheader","ListItemLink","props","icon","to","renderLink","useMemo","forwardRef","itemProps","ref","RouterLink","Object","assign","button","dense","component","ListItemIcon","newChats","forEach","chatIndex","u","chatId","MainListItems","drawerClose","collapsed","useContext","connectionWarning","setConnectionWarning","openCampaignSubmenu","setOpenCampaignSubmenu","showCampaigns","setShowCampaigns","showKanban","setShowKanban","showOpenAi","setShowOpenAi","showIntegrations","setShowIntegrations","showSchedules","setShowSchedules","showInternalChat","setShowInternalChat","showExternalApi","setShowExternalApi","invisible","setInvisible","pageNumber","setPageNumber","searchParam","planConfigs","useCampaigns","useKanban","useOpenAi","useIntegrations","useSchedules","useInternalChat","useExternalApi","fetchData","delayDebounceFn","setTimeout","fetchChats","clearTimeout","unreadsCount","length","chatUser","unreads","filter","whats","records","style","overflowY","Fragment","hidden","position","fontSize","textAlign","paddingLeft","inset","WhatsAppIcon","FlashOnIcon","LoyaltyRoundedIcon","BorderColorIcon","ContactPhoneOutlinedIcon","Schedule","LocalOfferIcon","Badge","ForumIcon","HelpOutlineIcon","Divider","small","DashboardOutlinedIcon","prev","EventAvailableIcon","ExpandLessIcon","ExpandMoreIcon","Collapse","in","unmountOnExit","disablePadding","ListIcon","PeopleIcon","SettingsOutlinedIcon","super","AnnouncementIcon","AllInclusive","DeviceHubOutlined","badgeContent","SyncAltIcon","AttachFile","AccountTreeOutlinedIcon","PeopleAltOutlinedIcon","CodeRoundedIcon","LocalAtmIcon","handleClickLogout","RotateRight","buttonProgress","green","top","left","marginLeft","ButtonWithSpinner","rest","CircularProgress","size","elements","allowedElements","CustomLink","rel","MarkdownWrapper","_ref2","boldRegex","tildaRegex","replace","markdownOptions","disableParsingRawHTML","forceInline","overrides","a","element","el","Markdown","TicketsContext","TicketsContextProvider","currentTicket","setCurrentTicket","code","uuid","messageMedia","objectFit","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","ModalImageCors","imageUrl","fetching","setFetching","blobUrl","setBlobUrl","responseType","window","URL","createObjectURL","Blob","fetchImage","ModalImage","smallSrcSet","medium","large","alt","ConfirmationModal","onClose","onConfirm","Dialog","aria-labelledby","DialogTitle","DialogContent","dividers","Typography","DialogActions","ReplyMessageContext","ReplyMessageProvider","replyingMessage","setReplyingMessage","MessageOptionsMenu","menuOpen","handleClose","anchorEl","confirmationOpen","setConfirmationOpen","Menu","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","fromMe","MenuItem","e","hanldeReplyMessage","LocationPreview","image","link","description","handleLocation","minWidth","float","src","flexWrap","gutterBottom","dangerouslySetInnerHTML","__html","fullWidth","messagesListWrapper","overflow","minHeight","backgroundImage","mode","whatsBackground","whatsBackgroundDark","padding","scrollbarStyles","circleLoading","opacity","messageLeft","maxWidth","right","whiteSpace","alignSelf","paddingRight","paddingTop","paddingBottom","boxShadow","quotedContainerLeft","quotedMsg","quotedSideColorLeft","flex","messageRight","quotedContainerRight","quotedMsgRight","quotedSideColorRight","messageActionsButton","zIndex","messageContactName","fontWeight","textContentItem","overflowWrap","textContentItemDeleted","fontStyle","timestamp","bottom","dailyTimestamp","dailyTimestampText","ackIcons","verticalAlign","deletedIcon","ackDoneAllIcon","downloadMedia","justifyContent","newMessages","messageIndex","m","newMessage","messageToUpdate","MessagesList","ticket","ticketId","isGroup","hasMore","setHasMore","lastMessageRef","useRef","selectedMessage","setSelectedMessage","setAnchorEl","messageOptionsMenuOpen","Boolean","currentTicketId","current","scrollToBottom","fetchMessages","emit","scrollIntoView","handleOpenMessageOptionsMenu","currentTarget","checkMessageMedia","mediaType","split","locationParts","imageLocation","linkLocation","descriptionLocation","mediaUrl","controls","startIcon","GetApp","href","renderDailyTimestamps","parseISO","messageDay","previousMessageDay","isSameDay","renderNumberTicket","_message$ticket","_message$ticket$whats","messageTicket","ticketNunberClosed","ticketNunberOpen","renderMessageDivider","renderQuotedMessage","_message$quotedMsg","_message$quotedMsg2","_message$quotedMsg3","_message$quotedMsg3$c","_message$quotedMsg4","clsx","onScroll","scrollTop","document","getElementById","prevPageNumber","renderMessages","_message$contact","_message$contact2","messageCenter","isDeleted","ExpandMore","xmlns","viewBox","fill","d","Block","ack","AccessTime","Done","DoneAll","renderMessageAck","ticketHeader","borderBottom","TicketHeaderSkeleton","Card","square","CardHeader","titleTypographyProps","noWrap","subheaderTypographyProps","avatar","Skeleton","animation","Avatar","subheader","palette","tabHeaderBackground","breakpoints","down","TicketHeader","TicketInfo","userName","setUserName","setContactName","offsetWidth","truncadName","substring","cursor","profilePicUrl","mainWrapper","borderLeft","transition","transitions","easing","sharp","leavingScreen","mainWrapperShift","easeOut","enteringScreen","TicketMessagesDialog","setDrawerOpen","setContact","setTicket","queueId","q","fetchTicket","prevState","_data$contact","handleDrawerOpen","renderTicketInfo","Box","contrastColor","tag","ContactTag","toUpperCase","pendingTicket","queueTag","background","noTicketsDiv","newMessagesCount","noTicketsText","lineHeight","connectionTag","contactNameWrapper","lastMessageTime","justifySelf","closedBadge","contactLastMessage","badgeStyle","acceptButton","ticketQueueColor","ticketInfo","secondaryContentSecond","alignContent","ticketInfo1","Radiusdot","transform","TicketListItemCustom","_ticket$queue5","_ticket$queue5$name","_ticket$queue6","_ticket$contact","_ticket$contact2","_ticket$whatsapp","_ticket$whatsapp2","_ticket$whatsapp2$nam","_ticket$queue7","_ticket$queue8","_ticket$queue8$name","ticketUser","setTicketUser","ticketQueueName","setTicketQueueName","setTicketQueueColor","setTag","whatsAppName","setWhatsAppName","openTicketMessageDialog","setOpenTicketMessageDialog","useParams","isMounted","_ticket$queue","_ticket$queue$name","_ticket$queue2","_ticket$user","_ticket$user$name","_ticket$whatsapp$name","handleSendMessage","msg","read","uuidv4","handleSelectTicket","selected","Tooltip","arrow","placement","ListItemAvatar","disableTypography","VisibilityIcon","blue","chatbot","AndroidIcon","grey","lastMessage","unreadMessages","badge","settingIndex","put","handleAcepptTicket","_ticket$queue3","useIntegration","promptId","handleCloseTicket","_ticket$queue4","handleReopenTicket","useTickets","queueIds","withUnreadMessages","setTickets","fetchTickets","tabContainer","maxHeight","popoverPaper","spacing","noShadow","NotificationsPopOver","volume","ticketIdUrl","location","pathname","ticketIdRef","isOpen","setIsOpen","setNotifications","showPendingTickets","setShowPendingTickets","setDesktopNotifications","play","useSound","alertSound","soundAlertRef","historyRef","allTicket","fetchSettings","Notification","requestPermission","console","log","processNotifications","newNotifications","ticketIndex","notfiticationIndex","n","String","_user$queues","some","visibilityState","handleNotifications","urlPicture","renotify","onclick","preventDefault","focus","handleClickAway","NotificationTicket","handleClick","aria-label","overlap","ChatIcon","Popover","disableScrollLock","paper","TicketListItem","icons","customBadge","NotificationsVolume","setVolume","VolumeUpIcon","Grid","container","item","VolumeDownIcon","xs","Slider","step","min","max","handleVolumeChange","chips","chip","QueueSelect","selectedQueueIds","setQueues","FormControl","InputLabel","Select","multiple","labelWidth","MenuProps","renderValue","Chip","multFieldLine","btnWrapper","formControl","UserSchema","Yup","shape","required","UserModal","initialState","loggedInUser","setSelectedQueueIds","setWhatsappId","_data$queues","userQueueIds","fetchUser","scroll","Formik","initialValues","enableReinitialize","validationSchema","onSubmit","values","handleSaveUser","setSubmitting","touched","errors","isSubmitting","Form","Field","as","autoFocus","helperText","labelId","backdrop","drawer","BackdropLoading","Backdrop","switch","visible","btnHeader","DarkMode","mainPaper","AnnouncementDialog","announcement","aria-describedby","border","filename","backgroundRepeat","backgroundSize","backgroundPosition","DialogContentText","newAnnouncements","announcementIndex","announcementId","AnnouncementsPopover","setAnnouncement","showAnnouncementDialog","setShowAnnouncementDialog","fetchAnnouncements","record","Notifications","Paper","scrollHeight","clientHeight","useDate","dateToClient","strDate","isValid","datetimeToClient","dateToDatabase","ChatPopover","notifySound","userObj","senderId","goToMessages","fancyBackground","toolbar","dark","main","barraSuperior","toolbarIcon","appBarShift","menuButton","menuButtonHidden","drawerPaper","scrollbarStylesSoft","drawerPaperClose","overflowX","up","appBarSpacer","containerWithScroll","logo","LoggedInLayout","_user$company","_user$company2","_user$company3","_user$company4","themeToggle","userModalOpen","setUserModalOpen","setMenuOpen","drawerOpen","drawerVariant","setDrawerVariant","useTheme","colorMode","greaterThenSm","useMediaQuery","reload","interval","setInterval","clearInterval","handleCloseMenu","Drawer","ChevronLeftIcon","AppBar","Toolbar","edge","MenuIcon","Brightness7Icon","Brightness4Icon","handleRefreshPage","CachedIcon","aria-controls","aria-haspopup","AccountCircle","handleOpenUserModal","Title","Chart","toISOString","chartData","setChartData","time","amount","aux","startOfHour","ResponsiveContainer","BarChart","barSize","CartesianGrid","strokeDasharray","XAxis","dataKey","stroke","YAxis","allowDecimals","Label","angle","textAnchor","Bar","cardAvatar","cardTitle","cardSubtitle","CardCounter","off","red","pointer","RatingBox","rating","ratingTrunc","trunc","Rating","defaultValue","readOnly","TableAttendantsStatus","attendants","TableContainer","Table","TableHead","TableRow","TableCell","align","TableBody","k","minutes","avgSupportTime","startOf","online","CheckCircleIcon","ErrorIcon","useDashboard","useCompanies","finding","findAll","updateSchedules","fixedHeightPaper","alignRight","selectContainer","Dashboard","counters","setCounters","setAttendants","filterType","setFilterType","period","setPeriod","companyDueDate","setCompanyDueDate","dateFrom","setDateFrom","dateTo","setDateTo","days","isEmpty","date_from","date_to","keys","firstLoad","loadCompanies","companiesList","formatTime","Container","sm","md","TodayIcon","handleChangeFilterType","FormHelperText","InputLabelProps","shrink","handleChangePeriod","GroupIcon","supportPending","supportHappening","AssignmentIcon","supportFinished","PersonIcon","leads","SpeedIcon","avgWaitTime","textField","extraAttr","ContactSchema","ContactModal","contactId","onSave","fetchContact","handleSaveContact","FieldArray","_ref3","info","DeleteOutlineIcon","offline","createFilterOptions","NewTicketModal","modalOpen","initialContact","setOptions","setSearchParam","selectedContact","setSelectedContact","selectedQueue","setSelectedQueue","selectedWhatsapp","setSelectedWhatsapp","newContact","setNewContact","whatsapps","setWhatsapps","contactModalOpen","setContactModalOpen","openAlert","setOpenAlert","userTicketOpen","setUserTicketOpen","queueTicketOpen","setQueueTicketOpen","then","fetchContacts","handleSaveTicket","createAddContactOption","filterOptions","filtered","inputValue","renderOption","option","renderOptionLabel","handleCloseContactModal","Autocomplete","clearOnBlur","autoHighlight","freeSolo","clearOnEscape","getOptionLabel","newValue","handleSelectOption","renderInput","onKeyPress","InputProps","endAdornment","displayEmpty","w","TicketsSkeleton","ticketsListWrapper","borderTop","ticketsListHeader","ticketsCount","unshift","TicketsListCustom","updateCount","filteredTickets","indexOf","shouldUpdateTicket","_data$ticket$queue","elevation","TicketsListSkeleton","TabPanel","TicketsQueueSelect","userQueues","Checkbox","checked","TagsFilter","onFiltered","setTags","selecteds","setSelecteds","loadTags","v","r","renderTags","getTagProps","textShadow","UsersFilter","initialUsers","setUsers","loadUsers","Array","userList","getOptionSelected","toLowerCase","getUserProps","ticketsWrapper","tabsHeader","tabsInternal","settingsIcon","tab","internalTab","ticketOptionsBox","optionsBackground","ticketSearchLine","serachInputWrapper","total","searchIcon","searchInput","insiderTabPanel","insiderDoubleTabPanel","labelContainer","iconLabelWrapper","insiderTabLabel","smallFormControl","TicketsManagerTabs","setTab","tabOpen","setTabOpen","newTicketModalOpen","setNewTicketModalOpen","showAllTickets","setShowAllTickets","searchInputRef","openCount","setOpenCount","pendingCount","setPendingCount","selectedTags","setSelectedTags","selectedUsers","setSelectedUsers","searchTimeout","applyPanelStyle","handleCloseOrOpenTicket","Tabs","handleChangeTab","indicatorColor","textColor","Tab","MoveToInboxIcon","CheckBoxIcon","SearchIcon","InputBase","inputRef","searchedTerm","FormControlLabel","labelPlacement","control","Switch","handleChangeTabOpen","TicketsList","val","ContactDrawerSkeleton","contactHeader","contactAvatar","contactDetails","contactExtraInfo","textCenter","ContactForm","onCancel","inline","ContactNotesDialogListItem","note","deleteItem","useTicketNotes","saveNote","deleteNote","listNotes","NoteSchema","ContactNotes","newNote","setNewNote","showOnDeleteDialog","setShowOnDeleteDialog","selectedNote","setSelectedNote","notes","setNotes","handleResetState","loadNotes","openAndFetchData","handleChangeComment","handleOpenDialogDelete","handleSave","setErrors","rows","multiline","flexShrink","borderRight","contactdrawer","ContactDrawer","_contact$extraInfo","handleDrawerClose","setModalOpen","openForm","setOpenForm","anchor","PaperProps","BackdropProps","ModalProps","CloseIcon","CreateIcon","Link","timerBox","RecordingTimer","timer","setTimer","seconds","addZero","useQuickMessages","deleteRecord","Mp3Recorder","MicRecorder","bitRate","bordabox","newMessageBox","newmessagebox","messageInputWrapper","inputdigita","messageInput","sendMessageIcons","uploadInput","viewMediaInputWrapper","emojiBox","audioLoading","recorderWrapper","cancelAudioIcon","sendAudioIcon","replyginMsgWrapper","replyginMsgContainer","replyginMsgBody","replyginContactMsgSideColor","replyginSelfMsgSideColor","EmojiOptions","showEmoji","setShowEmoji","handleAddEmoji","MoodIcon","Picker","perLine","showPreview","showSkinTones","onSelect","SignSwitch","setSignMessage","isWidthUp","FileInput","handleChangeMedias","disableOption","htmlFor","AttachFileIcon","ActionButtons","inputMessage","recording","ticketStatus","handleCancelAudio","handleUploadAudio","handleStartRecording","SendIcon","HighlightOffIcon","CheckCircleOutlineIcon","MicIcon","CustomInput","setInputMessage","handleInputPaste","handleQuickAnswersClick","setQuickMessages","popupOpen","setPopupOpen","listQuickMessages","truncatedMessage","firstWord","charAt","filteredOptions","setInputRef","closeIcon","opt","isNil","onInputChange","reason","onPaste","shiftKey","maxRows","withWidth","_medias$","medias","setMedias","setRecording","initialValue","storedValue","setStoredValue","valueToStore","Function","useLocalStorage","emoji","native","selectedMedias","from","clipboardData","blob","extension","formData","FormData","getTime","append","handleUploadQuickMessageMedia","navigator","mediaDevices","getUserMedia","audio","start","stop","getMp3","CancelIcon","ClearIcon","renderReplyingMessage","useQueues","TransferTicketModalCustom","ticketid","allQueues","setAllQueues","selectedUser","setSelectedUser","findAllQueues","loadQueues","fetchUsers","noOptionsText","InputComponent","other","OutlinedDiv","inputComponent","inputProps","MessageVariablesPicker","msgVars","msgVar","onMouseDown","ScheduleSchema","ScheduleModal","scheduleId","cleanContact","setSchedule","currentContact","setCurrentContact","setContacts","attachment","setAttachment","attachmentFile","messageInputRef","c","customList","capitalize","file","head","handleAttachmentFile","scheduleData","handleSaveSchedule","setFieldValue","setValueFunc","firstHalfText","selectionStart","secondHalfText","selectionEnd","newCursorPos","setSelectionRange","handleClickMsgVar","DeleteOutline","click","TicketOptionsMenu","transferTicketModalOpen","setTransferTicketModalOpen","scheduleModalOpen","setScheduleModalOpen","setContactId","handleOpenConfirmationModal","keepMounted","handleOpenScheduleModal","handleCloseTransferTicketModal","handleCloseScheduleModal","actionButtons","TicketActionButtonsCustom","ticketOptionsMenuOpen","customTheme","createTheme","handleUpdateTicketStatus","Replay","UndoRoundedIcon","ThemeProvider","MoreVert","TagsContainer","createTag","optionsChanged","newTag","syncTags","PaperComponent","Ticket","TicketActionButtons","MessageInput","chatContainer","chatPapper","contactsWrapper","messagesWrapper","welcomeMsg","boxticket","TicketsCustom","TicketsManager","TicketAdvancedLayout","styled","gridTemplateRows","placeholderContainer","placeholderItem","TicketAdvanced","setOption","BottomNavigation","showLabels","BottomNavigationAction","QuestionAnswerIcon","Tickets","SignUp","qs","phone","planId","setPlans","listPlans","CssBaseline","recurrence","campaignsEnabled","handleSignUp","autoComplete","justify","mt","containerWrapper","gap","mobileContainer","hideOnMobile","Login","showPassword","setShowPassword","handleChangeInput","chatImage","noValidate","InputAdornment","VisibilityOff","Visibility","mainContainer","contentWrapper","MainContainer","contactsHeader","MainHeader","MainHeaderButtonsWrapper","customTableCell","TableRowSkeleton","columns","_","SessionSchema","memo","isDefault","provider","setWhatsApp","selectedPrompt","setSelectedPrompt","setPrompts","whatsQueueIds","handleChangePrompt","whatsappData","handleSaveWhatsApp","selectedIds","setQrCode","QRCode","tooltip","typography","pxToRem","tooltipPopper","CustomToolTip","popper","Connections","whatsAppModalOpen","setWhatsAppModalOpen","qrModalOpen","setQrModalOpen","selectedWhatsApp","setSelectedWhatsApp","confirmModalOpen","setConfirmModalOpen","confirmationModalInitialState","confirmModalInfo","setConfirmModalInfo","handleOpenWhatsAppModal","handleCloseWhatsAppModal","useCallback","handleCloseQrModal","renderActionButtons","handleOpenQrModal","handleStartWhatsAppSession","handleRequestNewQrCode","QrcodeModal","WhatsAppModal","SignalCellularConnectedNoInternet0Bar","CropFree","SignalCellular4Bar","SignalCellularConnectedNoInternet2Bar","renderStatusToolTips","CheckCircle","handleEditWhatsApp","Edit","textfield","row","buttonContainer","SchedulesForm","labelSaveButton","setSchedules","weekday","weekdayEn","startTime","endTime","render","arrayHelpers","FastField","field","NumberFormat","customInput","_ref4","QueueSelectCustom","ModalUsers","tableContainer","textRight","CompanyForm","onDelete","modalUser","setModalUser","firstUser","setFirstUser","setRecord","handleCloseModalUsers","resetForm","handleSubmit","setValues","incrementDueDate","handleOpenModalUsers","CompaniesManagerGrid","rowStyle","renderPlan","renderCampaignsStatus","renderStatus","CompaniesManager","showConfirmDialog","setShowConfirmDialog","setRecords","loadPlans","companyList","handleCancel","handleOpenDeleteDialog","handleDelete","PlanManagerForm","PlansManagerGrid","minimumFractionDigits","renderCampaigns","renderSchedules","renderInternalChat","renderExternalApi","renderKanban","renderOpenAi","renderIntegrations","PlansManager","planList","_data$value","HelpManagerForm","HelpsManagerGrid","video","HelpsManager","useHelps","loadHelps","helpList","useSettings","getAll","fontecor","Options","scheduleTypeChanged","userRating","setUserRating","scheduleType","setScheduleType","callType","setCallType","chatbotType","setChatbotType","CheckMsgIsGroup","setCheckMsgIsGroupType","loadingUserRating","setLoadingUserRating","loadingScheduleType","setLoadingScheduleType","loadingCallType","setLoadingCallType","loadingChatbotType","setLoadingChatbotType","loadingCheckMsgIsGroup","setCheckMsgIsGroup","ipixcType","setIpIxcType","loadingIpIxcType","setLoadingIpIxcType","tokenixcType","setTokenIxcType","loadingTokenIxcType","setLoadingTokenIxcType","ipmkauthType","setIpMkauthType","loadingIpMkauthType","setLoadingIpMkauthType","clientidmkauthType","setClientIdMkauthType","loadingClientIdMkauthType","setLoadingClientIdMkauthType","clientsecretmkauthType","setClientSecrectMkauthType","loadingClientSecrectMkauthType","setLoadingClientSecrectMkauthType","asaasType","setAsaasType","loadingAsaasType","setLoadingAsaasType","SendGreetingAccepted","setSendGreetingAccepted","loadingSendGreetingAccepted","setLoadingSendGreetingAccepted","SettingsTransfTicket","setSettingsTransfTicket","loadingSettingsTransfTicket","setLoadingSettingsTransfTicket","handleChangeUserRating","handleScheduleType","handleGroupType","handleCallType","handleChatbotType","handleSendGreetingAccepted","handleSettingsTransfTicket","scrollButtons","handleChangeIPIxc","handleChangeTokenIxc","handleChangeIpMkauth","handleChangeClientIdMkauth","handleChangeClientSecrectMkauth","handleChangeAsaas","OnlyForSuperUser","SettingsCustom","setCompany","currentUser","setCurrentUser","setSettings","schedulesEnabled","setSchedulesEnabled","getAllSettings","settingList","findData","isSuper","handleTabChange","InputField","errorText","meta","useField","at","_renderHelperText","SelectField","selectedValue","isError","countries","AddressForm","billingName","setBillingName","addressZipCode","setAddressZipCode","addressStreet","setAddressStreet","addressState","setAddressState","addressCity","setAddressCity","addressDistrict","setAddressDistrict","formField","firstName","address1","city","zipcode","country","ul","listStyle","cardHeader","cardPricing","footer","divider","customCard","custom","Pricing","setActiveStep","activeStep","usersPlans","setUsersPlans","companiesPlans","setCompaniesPlans","connectionsPlans","setConnectionsPlans","storagePlans","setStoragePlans","customValuePlans","setCustomValuePlans","plansCompanies","price","buttonText","buttonVariant","tiers","tier","StarIcon","CardContent","line","CardActions","listItem","PaymentDetails","formValues","newPlan","ReviewOrder","useFormikContext","ShippingDetails","div","_templateObject","_taggedTemplateLiteral","Total","_templateObject2","SuccessContent","_templateObject3","_templateObject4","CheckoutSuccess","pix","pixString","copied","setCopied","valor","original","CopyToClipboard","onCopy","handleCopyQR","FaCheckCircle","FaCopy","formId","requiredErrorMsg","lastName","invalidErrorMsg","useAddressForPaymentDetails","invoiceId","nameOnCard","cardNumber","expiryDate","cvv","checkoutFormModel","nullable","stepper","wrapper","CheckoutPage","steps","datePayment","setDatePayment","setinvoiceId","Invoice","currentValidationSchema","isLastStep","_handleBack","Stepper","Step","StepLabel","formInitialValues","newValues","address2","_submitForm","setTouched","PaymentForm","_renderStepContent","invoices","newUsers","userIndex","Invoices","selectedContactId","setSelectedContactId","fetchInvoices","hoje","rowStatus","SubscriptionModal","detail","currency","handleOpenContactModal","Users","deletingUser","setDeletingUser","handleDeleteUser","handleCloseUserModal","startAdornment","handleEditUser","newContacts","contactIndex","Contacts","contactTicket","setContactTicket","deletingContact","setDeletingContact","confirmOpen","setConfirmOpen","handleDeleteContact","go","handleimportContact","CSVLink","textDecoration","separator","hadleEditContact","ColorPicker","currentColor","selectedColor","setSelectedColor","BlockPicker","triangle","colors","hex","onChangeComplete","addButton","QueueOptionStepper","updateOptions","activeOption","setActiveOption","handleOption","parentId","optionList","edition","handleEdition","renderTitle","handleOptionChangeTitle","SaveIcon","order","handleDeleteOption","renderMessage","handleOptionChangeMessage","renderStep","StepContent","optionNumber","handleAddOption","AddIcon","nonLinear","orientation","QueueOptions","fetchOptions","addOption","newOption","renderStepper","colorAdorment","QueueSchema","QueueModal","colorPickerModalOpen","setColorPickerModalOpen","setQueue","greetingRef","integrations","setIntegrations","queueEditable","setQueueEditable","queueIntegrations","handleSaveQueue","onFocus","Colorize","textField1","integration","newQueues","queueIndex","Queues","queueModalOpen","setQueueModalOpen","handleCloseConfirmationModal","handleDeleteQueue","handleCloseQueueModal","handleOpenQueueModal","handleEditQueue","TagSchema","TagModal","tagId","kanban","setKanban","handleKanbanChange","tagData","handleSaveTag","ColorBox","disableAlpha","hslGradient","newTags","tagIndex","Tags","selectedTag","setSelectedTag","deletingTag","setDeletingTag","tagModalOpen","setTagModalOpen","fetchTags","handleDeleteTag","handleCloseTagModal","handleOpenTagModal","handleEditTag","mainHeader","elementMargin","formContainer","MessagesAPI","formMessageTextData","formMessageMediaData","setFile","catch","handleSendTextMessage","firstFile","handleSendMediaMessage","mainPaperContainer","gridTemplateColumns","helpPaper","shadows","paperHover","videoThumbnail","videoTitle","videoDescription","videoModal","videoModalContent","outline","aspectRatio","Helps","selectedVideo","setSelectedVideo","closeVideoModal","handleModalClose","addEventListener","removeEventListener","openVideoModal","Modal","frameBorder","allow","allowFullScreen","ContactListSchema","ContactListModal","contactListId","setContactList","fetchContactList","contactListData","handleSaveContactList","newContactLists","contactListIndex","ContactLists","selectedContactList","setSelectedContactList","deletingContactList","setDeletingContactList","contactListModalOpen","setContactListModalOpen","fetchContactLists","handleDeleteContactList","ContactListDialog","handleCloseContactListModal","handleOpenContactListModal","contactsCount","planilhaExemplo","download","DownloadIcon","goToContacts","handleEditContactList","ContactListItemModal","useContactLists","findById","ContactListItems","contactListItemModalOpen","setContactListItemModalOpen","fileUploadRef","findContactList","handleCloseContactListItemModal","handleImportContacts","goToContactLists","handleOpenContactListItemModal","isWhatsappValid","titleAccess","htmlColor","BlockIcon","path","require","QuickeMessageSchema","QuickMessageDialog","quickemessageId","quickemessage","setQuickemessage","quickemessageData","isMedia","basename","handleSaveQuickeMessage","quickmessages","newQuickmessages","quickemessageIndex","Quickemessages","selectedQuickemessage","setSelectedQuickemessage","deletingQuickemessage","setDeletingQuickemessage","quickemessageModalOpen","setQuickMessageDialogOpen","quickemessages","fetchQuickemessages","handleDeleteQuickemessage","resetPagination","handleCloseQuickMessageDialog","handleOpenQuickMessageDialog","_quickemessage$mediaN","handleEditQuickemessage","Kanban","reloadData","setReloadData","isInitialLoadComplete","setIsInitialLoadComplete","fetchedTags","lista","jsonString","lanes","UserQueue","teste","handleCardClick","cards","toString","popularCards","Board","onCardMoveAcrossLanes","cardId","sourceLaneId","targetLaneId","Route","Component","isPrivate","Redirect","RouterRoute","newSchedules","scheduleIndex","Schedules","selectedSchedule","setSelectedSchedule","deletingSchedule","setDeletingSchedule","param","URLSearchParams","fetchSchedules","handleOpenScheduleModalFromContactId","handleDeleteSchedule","str","len","handleEditSchedule","truncate","tabmsg","campaigntab","CampaignSchema","CampaignModal","campaignId","tagListId","campaign","setCampaign","setContactLists","messageTab","setMessageTab","campaignEditable","setCampaignEditable","tagLists","setTagLists","formattedTagLists","_ref5","prevCampaignData","entries","_ref6","moreThenAnHour","Number","isNaN","isEditable","renderMessageField","identifier","renderConfirmationMessageField","dataValues","_ref7","handleSaveCampaign","_ref8","fileListId","f","centered","restartCampaign","cancelCampaign","newCampaigns","campaignIndex","Campaigns","selectedCampaign","setSelectedCampaign","deletingCampaign","setDeletingCampaign","campaignModalOpen","setCampaignModalOpen","fetchCampaigns","handleDeleteCampaign","handleCloseCampaignModal","handleOpenCampaignModal","formatStatus","PauseCircleOutlineIcon","PlayCircleOutlineIcon","DescriptionIcon","handleEditCampaign","tabPanelsContainer","initialSettings","messageInterval","longerIntervalAfter","greaterInterval","variables","CampaignsConfig","showVariablesForm","setShowVariablesForm","selectedKey","setSelectedKey","variable","setVariable","settingsList","fromEntries","handleOnChangeVariable","changedProp","handleOnChangeSettings","removeVariable","newList","addVariable","variablesExists","CampaignReport","validContacts","setValidContacts","delivered","setDelivered","confirmationRequested","setConfirmationRequested","confirmed","setConfirmed","percent","setPercent","mounted","findCampaign","valids","isNull","deliveredAt","confirmationRequestedAt","LinearProgress","DoneIcon","DoneAllIcon","ListAltIcon","ScheduleIcon","AnnouncementSchema","AnnouncementModal","announcementData","handleSaveAnnouncement","Announcements","selectedAnnouncement","setSelectedAnnouncement","deletingAnnouncement","setDeletingAnnouncement","announcementModalOpen","setAnnouncementModalOpen","handleDeleteAnnouncement","handleCloseAnnouncementModal","handleOpenAnnouncementModal","_announcement$mediaNa","handleEditAnnouncement","boxlist","chatList","ChatList","handleSelectChat","handleDeleteChat","handleEditChat","pageInfo","selectedChat","setSelectedChat","getPrimaryText","mainText","getSecondaryText","getItemStyle","ownerId","messageList","chatlist","inputArea","buttonSend","boxLeft","boxRight","ChatMessages","handleLoadMore","scrollToBottomRef","baseRef","contentMessage","setContentMessage","sender","Input","onKeyUp","gridContainer","gridItem","gridItemTab","btnContainer","ChatModal","handleLoadNewChat","setTitle","alert","showDialog","setShowDialog","dialogType","setDialogType","currentChat","setCurrentChat","setChats","chatsPageInfo","setChatsPageInfo","setMessages","messagesPageInfo","setMessagesPageInfo","messagesPage","setMessagesPage","findChats","selectChat","findMessages","changedChats","filteredChats","sendMessage","deleteChat","loadMoreMessages","_formatDate","past","abs","ceil","trialExpiration","FileListSchema","FilesModal","setFiles","selectedFileNames","setSelectedFileNames","setFileList","uploadFiles","filesOptions","fileOption","fileData","handleSaveFileList","minRows","selectedFile","updatedOptions","updatedFileNames","newFiles","fileListIndex","FileLists","selectedFileList","setSelectedFileList","deletingFileList","setDeletingFileList","fileListModalOpen","setFileListModalOpen","fetchFileLists","fileId","handleDeleteFileList","FileModal","handleCloseFileListModal","handleOpenFileListModal","handleEditFileList","QueueSelectSingle","PromptModal","selectedVoice","setSelectedVoice","showApiKey","setShowApiKey","handleToggleApiKey","maxTokens","apiKey","maxMessages","setPrompt","fetchPrompt","handleChangeVoice","promptData","handleSavePrompt","newPrompts","promptIndex","p","Prompts","promptModalOpen","setPromptModalOpen","handleDeletePrompt","handleClosePromptModal","handleOpenPromptModal","handleEditPrompt","btnLeft","DialogflowSchema","QueueIntegration","setIntegration","handleSaveDialogflow","xl","helpertext","handleTestSession","newIntegrations","integrationIndex","selectedIntegration","setSelectedIntegration","fetchIntegrations","handleDeleteIntegration","IntegrationModal","handleCloseIntegrationModal","dialogflow","n8n","webhooks","typebot","handleEditIntegration","Routes","BrowserRouter","exact","Signup","TicketResponsiveContainer","QuickMessages","Files","Financeiro","Annoucements","Subscription","Chat","ToastContainer","queryClient","QueryClient","App","setLocale","prefersDarkMode","preferredTheme","setMode","prevMode","textPrimary","borderPrimary","light","announcementspopover","boxchatlist","messageIcons","inputBackground","i18nlocale","ptBR","QueryClientProvider","client","ReactDOM","module","exports"],"mappings":"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SlM,KAAKoB,EAAE,c,iJCzgBxC,MAAM+H,GAAYC,YAAWvH,IAAK,CACjCmM,OAAQ,CACP4D,SAAU,YAGX0C,eAAgB,CACfrf,MAAOsf,KAAM,KACb3C,SAAU,WACV4C,IAAK,MACLC,KAAM,MACNvK,WAAY,GACZwK,YAAa,OAiBAC,OAbW7P,IAAqC,IAApC,QAAEb,EAAO,SAAEc,KAAa6P,GAAM9P,EACxD,MAAMyF,EAAUpB,KAEhB,OACC1b,IAAAuX,cAACqG,KAAMyC,OAAAC,OAAA,CAAChD,UAAWR,EAAQyD,OAAQ9e,SAAU+U,GAAa2Q,GACxD7P,EACAd,GACAxW,IAAAuX,cAAC6P,KAAgB,CAACC,KAAM,GAAI/J,UAAWR,EAAQ+J,mB,UCzBnD,MAAMS,GAAW,CAChB,IACA,OACA,UACA,OACA,UACA,QACA,QACA,IACA,OACA,MACA,MACA,MACA,aACA,OACA,KACA,SACA,SACA,UACA,OACA,OACA,MACA,WACA,OACA,WACA,KACA,MACA,UACA,MACA,SACA,MACA,KACA,KACA,KACA,QACA,WACA,aACA,SACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,SACA,KACA,OACA,IACA,SACA,MACA,QACA,MACA,MACA,SACA,QACA,SACA,KACA,OACA,OACA,MACA,OACA,UACA,OACA,WACA,OACA,QACA,MACA,WACA,SACA,KACA,WACA,SACA,SACA,IACA,QACA,UACA,MACA,WACA,IACA,KACA,KACA,OACA,IACA,OACA,SACA,UACA,SACA,QACA,SACA,OACA,SACA,QACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,QACA,KACA,QACA,OACA,QACA,KACA,QACA,IACA,KACA,MACA,QACA,MAGA,SACA,WACA,OACA,UACA,gBACA,IACA,QACA,OACA,iBACA,SACA,OACA,OACA,UACA,UACA,WACA,iBACA,OACA,OACA,MACA,OACA,SAGKC,GAAkB,CAAC,IAAK,IAAK,SAAU,KAAM,IAAK,OAAQ,OAE1DC,GAAanQ,IAAA,IAAC,SAAEC,KAAasI,GAAOvI,EAAA,OACzCrX,IAAAuX,cAAA,IAAA8I,OAAAC,OAAA,GAAOV,EAAK,CAAElC,OAAO,SAAS+J,IAAI,wBAChCnQ,IAsCYoQ,OAlCSC,IAAmB,IAAlB,SAAErQ,GAAUqQ,EACpC,MAAMC,EAAY,aACZC,EAAa,WAEfvQ,GAAYsQ,EAAU1hB,KAAKoR,KAC9BA,EAAWA,EAASwQ,QAAQF,EAAW,WAEpCtQ,GAAYuQ,EAAW3hB,KAAKoR,KAC/BA,EAAWA,EAASwQ,QAAQD,EAAY,WAGzC,MAAMxY,EAAUrP,IAAMggB,QAAQ,KAC7B,MAAM+H,EAAkB,CACvBC,uBAAuB,EACvBC,aAAa,EACbC,UAAW,CACVC,EAAG,CAAE1H,UAAW+G,MAUlB,OANAF,GAAS1G,QAAQwH,IACXb,GAAgBlM,SAAS+M,KAC7BL,EAAgBG,UAAUE,GAAWC,GAAMA,EAAG/Q,UAAY,QAIrDyQ,GACL,IAEH,OAAKzQ,EAEEtX,IAAAuX,cAAC+Q,KAAQ,CAACjZ,QAASA,GAAUiI,GAFd,M,WCjLvB,MAAMiR,GAAiBtoB,0BAEjBuoB,GAAyBnR,IAAmB,IAAlB,SAAEC,GAAUD,EAC3C,MAAOoR,EAAeC,GAAoBhS,mBAAS,CAAErR,GAAI,KAAMsjB,KAAM,OAC5DhR,EAAUC,uBASnB,OAPGjB,oBAAU,KACmB,OAArB8R,EAAcpjB,IACdsS,EAAQ4C,KAAK,YAAD9G,OAAagV,EAAcG,QAG5C,CAACH,IAGNzoB,IAAAuX,cAACgR,GAAe/Q,SAAQ,CACvBC,MAAO,CAAEgR,gBAAeC,qBAEvBpR,I,2JCdJ,MAAMoE,GAAYC,YAAWvH,IAAK,CACjCyU,aAAc,CACbC,UAAW,QACX5M,MAAO,IACPM,OAAQ,IACRuM,oBAAqB,EACrBC,qBAAsB,EACtBC,uBAAwB,EACxBC,wBAAyB,MAmCZC,OA/BQ9R,IAAmB,IAAlB,SAAE+R,GAAU/R,EACnC,MAAMyF,EAAUpB,MACT2N,EAAUC,GAAe5S,oBAAS,IAClC6S,EAASC,GAAc9S,mBAAS,IAiBvC,OAfAC,oBAAU,KACT,IAAKyS,EAAU,OACIxS,WAClB,MAAM,KAAEtD,EAAI,QAAE6E,SAAkB7D,GAAIuC,IAAIuS,EAAU,CACjDK,aAAc,SAETrK,EAAMsK,OAAOC,IAAIC,gBACtB,IAAIC,KAAK,CAACvW,GAAO,CAAEhO,KAAM6S,EAAQ,mBAElCqR,EAAWpK,GACXkK,GAAY,IAEbQ,IACE,CAACV,IAGHppB,IAAAuX,cAACwS,KAAU,CACVzM,UAAWR,EAAQ+L,aACnBmB,YAAaX,EAAWD,EAAWG,EACnCU,OAAQZ,EAAWD,EAAWG,EAC9BW,MAAOb,EAAWD,EAAWG,EAC7BY,IAAI,W,sBCAQC,OAlCW/S,IAAoD,IAAnD,MAAE9W,EAAK,SAAE+W,EAAQ,KAAEjO,EAAI,QAAEghB,EAAO,UAAEC,GAAWjT,EACvE,OACCrX,IAAAuX,cAACgT,KAAM,CACNlhB,KAAMA,EACNghB,QAASA,IAAMA,GAAQ,GACvBG,kBAAgB,kBAEhBxqB,IAAAuX,cAACkT,KAAW,CAACplB,GAAG,kBAAkB9E,GAClCP,IAAAuX,cAACmT,KAAa,CAACC,UAAQ,GACtB3qB,IAAAuX,cAACqT,IAAU,KAAEtT,IAEdtX,IAAAuX,cAACsT,KAAa,KACb7qB,IAAAuX,cAACqG,KAAM,CACND,QAAQ,YACRE,QAASA,IAAMwM,GAAQ,GACvB7iB,MAAM,WAEL+K,KAAKoB,EAAE,qCAET3T,IAAAuX,cAACqG,KAAM,CACND,QAAQ,YACRE,QAASA,KACRwM,GAAQ,GACRC,KAED9iB,MAAM,aAEL+K,KAAKoB,EAAE,yCCnCb,MAAMmX,GAAsB7qB,0BAEtB8qB,GAAuB1T,IAAmB,IAAlB,SAAEC,GAAUD,EACzC,MAAO2T,EAAiBC,GAAsBvU,mBAAS,MAEvD,OACC1W,IAAAuX,cAACuT,GAAoBtT,SAAQ,CAC5BC,MAAO,CAAEuT,kBAAiBC,uBAEzB3T,IC2DW4T,OA3DY7T,IAAmD,IAAlD,QAAExS,EAAO,SAAEsmB,EAAQ,YAAEC,EAAW,SAAEC,GAAUhU,EACvE,MAAM,mBAAE4T,GAAuB9J,qBAAW2J,KACnCQ,EAAkBC,GAAuB7U,oBAAS,GAoBzD,OACC1W,IAAAuX,cAAAvX,IAAAikB,SAAA,KACCjkB,IAAAuX,cAAC6S,GAAiB,CACjB7pB,MAAOgS,KAAKoB,EAAE,8CACdtK,KAAMiiB,EACNjB,QAASkB,EACTjB,UAxByB1T,UAC3B,UACOtC,GAAI3S,OAAO,aAAD8R,OAAc5O,EAAQQ,KACrC,MAAO4N,GACRD,GAAWC,MAsBTV,KAAKoB,EAAE,iDAET3T,IAAAuX,cAACiU,IAAI,CACJH,SAAUA,EACVI,mBAAoB,KACpBC,aAAc,CACbC,SAAU,SACVC,WAAY,SAEbC,gBAAiB,CAChBF,SAAU,MACVC,WAAY,SAEbviB,KAAM8hB,EACNd,QAASe,GAERvmB,EAAQinB,QACR9rB,IAAAuX,cAACwU,IAAQ,CAAClO,QA9BsBmO,IACnCT,GAAoB,GACpBH,MA6BK7Y,KAAKoB,EAAE,8BAGV3T,IAAAuX,cAACwU,IAAQ,CAAClO,QAvCcoO,KAC1BhB,EAAmBpmB,GACnBumB,MAsCI7Y,KAAKoB,EAAE,gC,qBCdEuY,OA5CS7U,IAAmC,IAAlC,MAAE8U,EAAK,KAAEC,EAAI,YAAEC,GAAahV,EACjDV,oBAAU,OAAU,CAACwV,EAAOC,EAAMC,IAElC,MAAMC,EAAiB1V,UACnB,IACI8S,OAAOrgB,KAAK+iB,GACd,MAAOnZ,GACLD,GAAWC,KAInB,OACFjT,IAAAuX,cAAAvX,IAAAikB,SAAA,KACCjkB,IAAAuX,cAAA,OAAKwM,MAAO,CACXwI,SAAU,UAEVvsB,IAAAuX,cAAA,WACCvX,IAAAuX,cAAA,OAAKwM,MAAO,CAAEyI,MAAO,SACpBxsB,IAAAuX,cAAA,OAAKkV,IAAKN,EAAOhC,IAAI,MAAMtM,QAASyO,EAAgBvI,MAAO,CAAE7H,MAAO,YAEnEmQ,GACFrsB,IAAAuX,cAAA,OAAKwM,MAAO,CAAElI,QAAS,OAAQ6Q,SAAU,SACxC1sB,IAAAuX,cAACqT,IAAU,CAAC7G,MAAO,CAAEtH,UAAW,OAAQwK,WAAY,OAAQ3K,YAAa,OAAQkQ,MAAO,QAAU7O,QAAQ,YAAYnW,MAAM,UAAUmlB,cAAY,GACjJ3sB,IAAAuX,cAAA,OAAKqV,wBAAyB,CAAEC,OAAQR,EAAYvE,QAAQ,MAAO,eAIrE9nB,IAAAuX,cAAA,OAAKwM,MAAO,CAAElI,QAAS,QAASxY,QAAS,GAAI3B,MAAO,UACpD1B,IAAAuX,cAAA,WACCvX,IAAAuX,cAAC2N,IAAO,MACRllB,IAAAuX,cAACqG,KAAM,CACNkP,WAAS,EACTtlB,MAAM,UACNqW,QAASyO,EACT7qB,UAAW2qB,GACX,mB,qBCLP,MAAM1Q,GAAYC,YAAYvH,IAAK,CACjC2Y,oBAAqB,CACnBC,SAAU,SACV7I,SAAU,WACVtI,QAAS,OACTC,cAAe,SACfO,SAAU,EACVH,MAAO,OACPqQ,SAAU,IACVU,UAAW,KAGb3d,aAAc,CACZ4d,gBAAgC,UAAf9Y,EAAM+Y,KAAgB,OAAA1Z,OAAU2Z,KAAe,YAAA3Z,OAAa4Z,KAAmB,KAChGxR,QAAS,OACTC,cAAe,SACfO,SAAU,EACViR,QAAS,sBACTtJ,UAAW,YACR5P,EAAMmZ,iBAGXC,cAAe,CACbhmB,MAAOsf,KAAM,KACb3C,SAAU,WACVsJ,QAAS,MACT1G,IAAK,EACLC,KAAM,MACNvK,UAAW,IAGbiR,YAAa,CACXpR,YAAa,GACbG,UAAW,EACX8P,SAAU,IACVoB,SAAU,IACVnR,OAAQ,OACRX,QAAS,QACTsI,SAAU,WACV,gCAAiC,CAC/BtI,QAAS,OACTsI,SAAU,WACV4C,IAAK,EACL6G,MAAO,GAGTC,WAAY,WACZnR,gBAAiB,UACjBlV,MAAO,UACPsmB,UAAW,aACX/E,oBAAqB,EACrBC,qBAAsB,EACtBC,uBAAwB,EACxBC,wBAAyB,EACzB5E,YAAa,EACbyJ,aAAc,EACdC,WAAY,EACZC,cAAe,EACfC,UAAW,qBAGbC,oBAAqB,CACnBnS,OAAQ,sBACRgR,SAAU,SACVtQ,gBAAiB,UACjBC,aAAc,QACdd,QAAS,OACTsI,SAAU,YAGZiK,UAAW,CACTd,QAAS,GACTK,SAAU,IACVnR,OAAQ,OACRX,QAAS,QACTgS,WAAY,WACZb,SAAU,UAGZqB,oBAAqB,CACnBC,KAAM,OACNpS,MAAO,MACPQ,gBAAiB,WAGnB6R,aAAc,CACZtH,WAAY,GACZxK,UAAW,EACX8P,SAAU,IACVoB,SAAU,IACVnR,OAAQ,OACRX,QAAS,QACTsI,SAAU,WACV,gCAAiC,CAC/BtI,QAAS,OACTsI,SAAU,WACV4C,IAAK,EACL6G,MAAO,GAGTC,WAAY,WACZnR,gBAAiB,UACjBlV,MAAO,UACPsmB,UAAW,WACX/E,oBAAqB,EACrBC,qBAAsB,EACtBC,uBAAwB,EACxBC,wBAAyB,EACzB5E,YAAa,EACbyJ,aAAc,EACdC,WAAY,EACZC,cAAe,EACfC,UAAW,qBAGbM,qBAAsB,CACpBxS,OAAQ,sBACRgI,UAAW,SACXtH,gBAAiB,UACjBC,aAAc,QACdd,QAAS,OACTsI,SAAU,YAGZsK,eAAgB,CACdnB,QAAS,GACTK,SAAU,IACVnR,OAAQ,OACRqR,WAAY,YAGda,qBAAsB,CACpBJ,KAAM,OACNpS,MAAO,MACPQ,gBAAiB,WAGnBiS,qBAAsB,CACpB9S,QAAS,OACTsI,SAAU,WACV3c,MAAO,OACPonB,OAAQ,EACRlS,gBAAiB,UACjB+Q,QAAS,MACT,8BAA+B,CAAE/Q,gBAAiB,YAGpDmS,mBAAoB,CAClBhT,QAAS,OACTrU,MAAO,UACPsnB,WAAY,KAGdC,gBAAiB,CACfC,aAAc,aACd1B,QAAS,oBAGX2B,uBAAwB,CACtBC,UAAW,SACX1nB,MAAO,sBACPwnB,aAAc,aACd1B,QAAS,oBAGXzE,aAAc,CACZC,UAAW,QACX5M,MAAO,IACPM,OAAQ,IACRuM,oBAAqB,EACrBC,qBAAsB,EACtBC,uBAAwB,EACxBC,wBAAyB,GAG3BiG,UAAW,CACT/K,SAAU,GACVD,SAAU,WACViL,OAAQ,EACRxB,MAAO,EACPpmB,MAAO,QAGT6nB,eAAgB,CACdtT,WAAY,SACZsI,UAAW,SACXyJ,UAAW,SACX5R,MAAO,QACPQ,gBAAiB,UACjBV,OAAQ,OACRW,aAAc,OACduR,UAAW,qBAGboB,mBAAoB,CAClB9nB,MAAO,UACP8lB,QAAS,EACTQ,UAAW,SACX7G,WAAY,OAGdsI,SAAU,CACRnL,SAAU,GACVoL,cAAe,SACfvI,WAAY,GAGdwI,YAAa,CACXrL,SAAU,GACVoL,cAAe,SACflT,YAAa,GAGfoT,eAAgB,CACdloB,MAAOsf,KAAM,KACb1C,SAAU,GACVoL,cAAe,SACfvI,WAAY,GAGd0I,cAAe,CACb9T,QAAS,OACTE,WAAY,SACZ6T,eAAgB,SAChBlT,gBAAiB,UACjB4Q,QAAS,OAIP9X,GAAUA,CAACC,EAAOC,KACtB,GAAoB,kBAAhBA,EAAOpQ,KAA0B,CACnC,MAAMnF,EAAWuV,EAAOC,QAClBka,EAAc,GAWpB,OATA1vB,EAASygB,QAAS/b,IAChB,MAAMirB,EAAera,EAAMK,UAAWia,GAAMA,EAAE1qB,KAAOR,EAAQQ,KACvC,IAAlByqB,EACFra,EAAMqa,GAAgBjrB,EAEtBgrB,EAAYtV,KAAK1V,KAId,IAAIgrB,KAAgBpa,GAG7B,GAAoB,gBAAhBC,EAAOpQ,KAAwB,CACjC,MAAM0qB,EAAata,EAAOC,QACpBma,EAAera,EAAMK,UAAWia,GAAMA,EAAE1qB,KAAO2qB,EAAW3qB,IAQhE,OANsB,IAAlByqB,EACFra,EAAMqa,GAAgBE,EAEtBva,EAAM8E,KAAKyV,GAGN,IAAIva,GAGb,GAAoB,mBAAhBC,EAAOpQ,KAA2B,CACpC,MAAM2qB,EAAkBva,EAAOC,QACzBma,EAAera,EAAMK,UAAWia,GAAMA,EAAE1qB,KAAO4qB,EAAgB5qB,IAMrE,OAJsB,IAAlByqB,IACFra,EAAMqa,GAAgBG,GAGjB,IAAIxa,GAGb,GAAoB,UAAhBC,EAAOpQ,KACT,MAAO,IAigBI4qB,OA7fM7Y,IAAoC,IAAnC,OAAE8Y,EAAM,SAAEC,EAAQ,QAAEC,GAAShZ,EACjD,MAAMyF,EAAUpB,MAETpM,EAAcgH,GAAYC,qBAAWf,GAAS,KAC9CgN,EAAYC,GAAiB/L,mBAAS,IACtC4Z,EAASC,GAAc7Z,oBAAS,IAChCF,EAASC,GAAcC,oBAAS,GACjC8Z,EAAiBC,oBAEhBC,EAAiBC,GAAsBja,mBAAS,KAChD2U,EAAUuF,GAAela,mBAAS,MACnCma,EAAyBC,QAAQzF,GACjC0F,EAAkBN,iBAAOL,GAE/BzZ,oBAAU,KACRL,EAAS,CAAEhR,KAAM,UACjBmd,EAAc,GAEdsO,EAAgBC,QAAUZ,GACzB,CAACA,IAEJzZ,oBAAU,KACRF,GAAW,GACX,MAAM2M,EAAkBC,WAAW,KACXzM,WACpB,QAAiBzC,IAAbic,EACJ,IACE,MAAM,KAAE9c,SAAegB,GAAIuC,IAAI,aAAeuZ,EAAU,CACtDtb,OAAQ,CAAE0N,gBAGRuO,EAAgBC,UAAYZ,IAC9B9Z,EAAS,CAAEhR,KAAM,gBAAiBqQ,QAASrC,EAAKnT,WAChDowB,EAAWjd,EAAKgd,SAChB7Z,GAAW,IAGM,IAAf+L,GAAoBlP,EAAKnT,SAASsjB,OAAS,GAC7CwN,IAEF,MAAOhe,GACPwD,GAAW,GACXzD,GAAWC,KAGfie,IACC,KACH,MAAO,KACL3N,aAAaH,KAEd,CAACZ,EAAY4N,IAEhBzZ,oBAAU,KACR,MAAMI,EAAY/B,aAAaC,QAAQ,aACjC+B,EAASnC,GAAiB,CAAEkC,cAelC,OAbAC,EAAOC,GAAG,UAAW,IAAMD,EAAOma,KAAK,cAAc,GAAD1d,OAAK0c,EAAO9qB,MAEhE2R,EAAOC,GAAG,WAADxD,OAAYsD,EAAS,eAAgBzD,IACxB,WAAhBA,EAAKoC,SACPY,EAAS,CAAEhR,KAAM,cAAeqQ,QAASrC,EAAKzO,UAC9CosB,KAGkB,WAAhB3d,EAAKoC,QACPY,EAAS,CAAEhR,KAAM,iBAAkBqQ,QAASrC,EAAKzO,YAI9C,KACLmS,EAAOlU,eAER,CAACstB,EAAUD,IAEd,MAIMc,EAAiBA,KACjBT,EAAeQ,SACjBR,EAAeQ,QAAQI,eAAe,KAqBpCC,EAA+BA,CAACrF,EAAGnnB,KACvC+rB,EAAY5E,EAAEsF,eACdX,EAAmB9rB,IAOf0sB,EAAqB1sB,IACzB,GAA0B,oBAAtBA,EAAQ2sB,WAAmC3sB,EAAQsD,KAAKspB,MAAM,KAAKhO,QAAU,EAAG,CAClF,IAAIiO,EAAgB7sB,EAAQsD,KAAKspB,MAAM,KACnCE,EAAgBD,EAAc,GAC9BE,EAAeF,EAAc,GAE7BG,EAAsB,KAK1B,OAHIH,EAAcjO,OAAS,IACzBoO,EAAsBhtB,EAAQsD,KAAKspB,MAAM,KAAK,IAEzCzxB,IAAAuX,cAAC2U,GAAe,CAACC,MAAOwF,EAAevF,KAAMwF,EAAcvF,YAAawF,IAqC5E,MAA0B,UAAtBhtB,EAAQ2sB,UACRxxB,IAAAuX,cAAC4R,GAAc,CAACC,SAAUvkB,EAAQitB,WACV,UAAtBjtB,EAAQ2sB,UAEfxxB,IAAAuX,cAAA,SAAOwa,UAAQ,GACb/xB,IAAAuX,cAAA,UAAQkV,IAAK5nB,EAAQitB,SAAUxsB,KAAK,eAGT,UAAtBT,EAAQ2sB,UAEfxxB,IAAAuX,cAAA,SACE+F,UAAWR,EAAQ+L,aACnB4D,IAAK5nB,EAAQitB,SACbC,UAAQ,IAKV/xB,IAAAuX,cAAAvX,IAAAikB,SAAA,KACEjkB,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQ6S,eACtB3vB,IAAAuX,cAACqG,KAAM,CACLoU,UAAWhyB,IAAAuX,cAAC0a,KAAM,MAClBzqB,MAAM,UACNmW,QAAQ,WACRD,OAAO,SACPwU,KAAMrtB,EAAQitB,UACf,aAIH9xB,IAAAuX,cAAC2N,IAAO,QAqBViN,EAAwBA,CAACttB,EAASyZ,KACtC,GAAc,IAAVA,EACF,OACEte,IAAAuX,cAAA,QACE+F,UAAWR,EAAQuS,eACnB7V,IAAG,aAAA/F,OAAe5O,EAAQQ,KAE1BrF,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQwS,oBACrBzV,aAAOuY,aAAS9iB,EAAagP,GAAOH,WAAY,gBAKzD,GAAIG,EAAQhP,EAAamU,OAAS,EAAG,CACnC,IAAI4O,EAAaD,aAAS9iB,EAAagP,GAAOH,WAC1CmU,EAAqBF,aAAS9iB,EAAagP,EAAQ,GAAGH,WAE1D,IAAKoU,aAAUF,EAAYC,GACzB,OACEtyB,IAAAuX,cAAA,QACE+F,UAAWR,EAAQuS,eACnB7V,IAAG,aAAA/F,OAAe5O,EAAQQ,KAE1BrF,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQwS,oBACrBzV,aAAOuY,aAAS9iB,EAAagP,GAAOH,WAAY,gBAM3D,OAAIG,IAAUhP,EAAamU,OAAS,EAEhCzjB,IAAAuX,cAAA,OACEiC,IAAG,OAAA/F,OAAS5O,EAAQsZ,WACpBgC,IAAKqQ,EACLzM,MAAO,CAAEyI,MAAO,OAAQ9qB,MAAO,eALrC,GAWI8wB,EAAqBA,CAAC3tB,EAASyZ,KACnC,GAAIA,EAAQhP,EAAamU,QAAUnF,EAAQ,EAAG,CAAC,IAADmU,EAAAC,EAE5C,IAAIC,EAAgB9tB,EAAQurB,SACO,QAAjBqC,EAAG5tB,EAAQsrB,cAAM,IAAAsC,GAAU,QAAVC,EAAdD,EAAgBttB,gBAAQ,IAAAutB,GAAxBA,EAA0B9xB,KAG/C,GAAI+xB,IAFwBrjB,EAAagP,EAAQ,GAAG8R,SAGlD,OACEpwB,IAAAuX,cAAA,cACEvX,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQ8V,oBAAoB,uBACrB/Y,aAAOuY,aAAS9iB,EAAagP,EAAQ,GAAGH,WAAY,wBAG3Ene,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQ+V,kBAAkB,sBACpBhZ,aAAOuY,aAASvtB,EAAQsZ,WAAY,2BAQ9D2U,EAAuBA,CAACjuB,EAASyZ,KACrC,GAAIA,EAAQhP,EAAamU,QAAUnF,EAAQ,EAAG,CAI5C,GAHkBhP,EAAagP,GAAOwN,SACZxc,EAAagP,EAAQ,GAAGwN,OAGhD,OACE9rB,IAAAuX,cAAA,QAAMwM,MAAO,CAAEtH,UAAW,IAAMjD,IAAG,WAAA/F,OAAa5O,EAAQQ,QAM1D0tB,EAAuBluB,IAAa,IAADmuB,EAAAC,EAAAC,EAAAC,EAAAC,EACvC,OACEpzB,IAAAuX,cAAA,OACE+F,UAAW+V,YAAKvW,EAAQqR,oBAAqB,CAC3C,CAACrR,EAAQ0R,sBAAuB3pB,EAAQinB,UAG1C9rB,IAAAuX,cAAA,QACE+F,UAAW+V,YAAKvW,EAAQuR,oBAAqB,CAC3C,CAACvR,EAAQ4R,sBAAwC,QAApBsE,EAAGnuB,EAAQupB,iBAAS,IAAA4E,OAAA,EAAjBA,EAAmBlH,WAGvD9rB,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQsR,aACH,QAAlB6E,EAACpuB,EAAQupB,iBAAS,IAAA6E,OAAA,EAAjBA,EAAmBnH,SACnB9rB,IAAAuX,cAAA,QAAM+F,UAAWR,EAAQ+R,oBACL,QADwBqE,EACzCruB,EAAQupB,iBAAS,IAAA8E,GAAS,QAATC,EAAjBD,EAAmB9qB,eAAO,IAAA+qB,OAAT,EAAjBA,EAA4BvyB,MAIA,UAAhCiE,EAAQupB,UAAUoD,WAEfxxB,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQ6S,eACtB3vB,IAAAuX,cAAA,SAAOwa,UAAQ,GACb/xB,IAAAuX,cAAA,UAAQkV,IAAK5nB,EAAQupB,UAAU0D,SAAUxsB,KAAK,gBAKrB,UAAhCT,EAAQupB,UAAUoD,WAEfxxB,IAAAuX,cAAA,SACE+F,UAAWR,EAAQ+L,aACnB4D,IAAK5nB,EAAQupB,UAAU0D,SACvBC,UAAQ,IAImB,gBAAhCltB,EAAQupB,UAAUoD,WAEfxxB,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQ6S,eACtB3vB,IAAAuX,cAACqG,KAAM,CACLoU,UAAWhyB,IAAAuX,cAAC0a,KAAM,MAClBzqB,MAAM,UACNmW,QAAQ,WACRD,OAAO,SACPwU,KAAMrtB,EAAQupB,UAAU0D,UACzB,aAO0B,UAAhCjtB,EAAQupB,UAAUoD,WAEfxxB,IAAAuX,cAAC4R,GAAc,CAACC,SAAUvkB,EAAQupB,UAAU0D,aAC1B,QADuCsB,EACxDvuB,EAAQupB,iBAAS,IAAAgF,OAAA,EAAjBA,EAAmBjrB,SA+IhC,OACEnI,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQiQ,qBACtB/sB,IAAAuX,cAAC2T,GAAkB,CACjBrmB,QAAS6rB,EACTrF,SAAUA,EACVF,SAAU0F,EACVzF,YAjYiCY,IACrC4E,EAAY,SAkYV5wB,IAAAuX,cAAA,OACElS,GAAG,eACHiY,UAAWR,EAAQxN,aACnBgkB,SA5ZgBtH,IACpB,IAAKsE,EAAS,OACd,MAAM,UAAEiD,GAAcvH,EAAEsF,cAEN,IAAdiC,IACFC,SAASC,eAAe,gBAAgBF,UAAY,GAGlD/c,GAIA+c,EAAY,IArBhB9Q,EAAeiR,GAAmBA,EAAiB,KAua9CpkB,EAAamU,OAAS,EArJNkQ,MACrB,GAAIrkB,EAAamU,OAAS,EAAG,CAiI3B,OAhIyBnU,EAAa+O,IAAI,CAACxZ,EAASyZ,KAEX,IAADsV,EAgCjBC,EAhCrB,MAA0B,aAAtBhvB,EAAQ2sB,UAERxxB,IAAAuX,cAACvX,IAAMikB,SAAQ,CAACzK,IAAK3U,EAAQQ,IAC1B8sB,EAAsBttB,EAASyZ,GAC/BkU,EAAmB3tB,EAASyZ,GAC5BwU,EAAqBjuB,EAASyZ,GAC/Bte,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQgX,eACtB9zB,IAAAuX,cAACsH,IAAU,CACTlB,QAAQ,YACR0J,KAAK,QACLhiB,GAAG,uBACH5D,SAAUoD,EAAQkvB,UAClBzW,UAAWR,EAAQ6R,qBACnB9Q,QAAUmO,GAAMqF,EAA6BrF,EAAGnnB,IAEhD7E,IAAAuX,cAACyc,KAAU,OAEZ3D,GACCrwB,IAAAuX,cAAA,QAAM+F,UAAWR,EAAQ+R,oBACP,QAD0B+E,EACzC/uB,EAAQuD,eAAO,IAAAwrB,OAAA,EAAfA,EAAiBhzB,MAGtBZ,IAAAuX,cAAA,WACEvX,IAAAuX,cAAA,OAAK0c,MAAM,6BAA6BC,QAAQ,YAAYhY,MAAM,KAAKM,OAAO,MAC5Exc,IAAAuX,cAAA,QAAM4c,KAAK,UAAUC,EAAE,0RACnB,IAACp0B,IAAAuX,cAAA,YAAM,yCAAiCsC,aAAOuY,aAASvtB,EAAQsZ,WAAY,aAOvFtZ,EAAQinB,OAoDT9rB,IAAAuX,cAACvX,IAAMikB,SAAQ,CAACzK,IAAK3U,EAAQQ,IAC1B8sB,EAAsBttB,EAASyZ,GAC/BkU,EAAmB3tB,EAASyZ,GAC5BwU,EAAqBjuB,EAASyZ,GAC/Bte,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQyR,cACtBvuB,IAAAuX,cAACsH,IAAU,CACTlB,QAAQ,YACR0J,KAAK,QACLhiB,GAAG,uBACH5D,SAAUoD,EAAQkvB,UAClBzW,UAAWR,EAAQ6R,qBACnB9Q,QAAUmO,GAAMqF,EAA6BrF,EAAGnnB,IAEhD7E,IAAAuX,cAACyc,KAAU,QAEXnvB,EAAQitB,UAAkC,oBAAtBjtB,EAAQ2sB,WAAyD,UAAtB3sB,EAAQ2sB,YAEpED,EAAkB1sB,GACvB7E,IAAAuX,cAAA,OACE+F,UAAW+V,YAAKvW,EAAQiS,gBAAiB,CACvC,CAACjS,EAAQmS,wBAAyBpqB,EAAQkvB,aAG3ClvB,EAAQkvB,WACP/zB,IAAAuX,cAAC8c,KAAK,CACJ7sB,MAAM,WACN4c,SAAS,QACT9G,UAAWR,EAAQ2S,cAGtB5qB,EAAQupB,WAAa2E,EAAoBluB,GAC1C7E,IAAAuX,cAACmQ,GAAe,KAAE7iB,EAAQsD,MAC1BnI,IAAAuX,cAAA,QAAM+F,UAAWR,EAAQqS,WACtBtV,aAAOuY,aAASvtB,EAAQsZ,WAAY,SApR7BtZ,IACJ,IAAhBA,EAAQyvB,IACHt0B,IAAAuX,cAACgd,KAAU,CAACnQ,SAAS,QAAQ9G,UAAWR,EAAQyS,WAErC,IAAhB1qB,EAAQyvB,IACHt0B,IAAAuX,cAACid,KAAI,CAACpQ,SAAS,QAAQ9G,UAAWR,EAAQyS,WAE/B,IAAhB1qB,EAAQyvB,IACHt0B,IAAAuX,cAACkd,KAAO,CAACrQ,SAAS,QAAQ9G,UAAWR,EAAQyS,WAElC,IAAhB1qB,EAAQyvB,KAA6B,IAAhBzvB,EAAQyvB,IACxBt0B,IAAAuX,cAACkd,KAAO,CAACrQ,SAAS,QAAQ9G,UAAWR,EAAQ4S,sBADtD,EA2QiBgF,CAAiB7vB,OApF1B7E,IAAAuX,cAACvX,IAAMikB,SAAQ,CAACzK,IAAK3U,EAAQQ,IAC1B8sB,EAAsBttB,EAASyZ,GAC/BkU,EAAmB3tB,EAASyZ,GAC5BwU,EAAqBjuB,EAASyZ,GAC/Bte,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQ4Q,aACtB1tB,IAAAuX,cAACsH,IAAU,CACTlB,QAAQ,YACR0J,KAAK,QACLhiB,GAAG,uBACH5D,SAAUoD,EAAQkvB,UAClBzW,UAAWR,EAAQ6R,qBACnB9Q,QAAUmO,GAAMqF,EAA6BrF,EAAGnnB,IAEhD7E,IAAAuX,cAACyc,KAAU,OAEZ3D,GACCrwB,IAAAuX,cAAA,QAAM+F,UAAWR,EAAQ+R,oBACP,QAD0BgF,EACzChvB,EAAQuD,eAAO,IAAAyrB,OAAA,EAAfA,EAAiBjzB,MAKrBiE,EAAQkvB,WACP/zB,IAAAuX,cAAA,WACEvX,IAAAuX,cAAA,QAAM+F,UAAW,mBAChB,8CACCtd,IAAAuX,cAAC8c,KAAK,CACJ7sB,MAAM,QACN4c,SAAS,QACT9G,UAAWR,EAAQ2S,iBAMzB5qB,EAAQitB,UAAkC,oBAAtBjtB,EAAQ2sB,WAAyD,UAAtB3sB,EAAQ2sB,YAEpED,EAAkB1sB,GACvB7E,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQiS,iBACrBlqB,EAAQupB,WAAa2E,EAAoBluB,GAC1C7E,IAAAuX,cAACmQ,GAAe,KAAwB,oBAAtB7iB,EAAQ2sB,UAAkC,KAAO3sB,EAAQsD,MAC3EnI,IAAAuX,cAAA,QAAM+F,UAAWR,EAAQqS,WACtBtV,aAAOuY,aAASvtB,EAAQsZ,WAAY,eAoDnD,OAAOne,IAAAuX,cAAA,WAAK,uCAiBiBoc,GAAmB,IAE/Cnd,GACCxW,IAAAuX,cAAA,WACEvX,IAAAuX,cAAC6P,KAAgB,CAAC9J,UAAWR,EAAQ0Q,mB,iCCtyB/C,MAAM9R,GAAYC,YAAWvH,IAAK,CACjCugB,aAAc,CACb9Y,QAAS,OACTa,gBAAiB,OACjB4R,KAAM,OACNsG,aAAc,oCAwBDC,OApBcA,KAC5B,MAAM/X,EAAUpB,KAEhB,OACC1b,IAAAuX,cAACud,KAAI,CAACC,QAAM,EAACzX,UAAWR,EAAQ6X,cAC/B30B,IAAAuX,cAACyd,KAAU,CACVC,qBAAsB,CAAEC,QAAQ,GAChCC,yBAA0B,CAAED,QAAQ,GACpCE,OACCp1B,IAAAuX,cAAC8d,KAAQ,CAACC,UAAU,OAAO3X,QAAQ,UAClC3d,IAAAuX,cAACge,KAAM,CAACpL,IAAI,mBAGd5pB,MAAOP,IAAAuX,cAAC8d,KAAQ,CAACC,UAAU,OAAOpZ,MAAO,KACzCsZ,UAAWx1B,IAAAuX,cAAC8d,KAAQ,CAACC,UAAU,OAAOpZ,MAAO,UCvBjD,MAAMR,GAAYC,YAAWvH,IAAK,CACjCugB,aAAc,CACb9Y,QAAS,OACTa,gBAAiBtI,EAAMqhB,QAAQC,oBAC/BpH,KAAM,OACNsG,aAAc,gCACd,CAACxgB,EAAMuhB,YAAYC,KAAK,OAAQ,CAC/BlJ,SAAU,YAsBEmJ,OAhBMxe,IAA4B,IAA3B,QAAEb,EAAO,SAAEc,GAAUD,EAC1C,MAAMyF,EAAUpB,KAEhB,OACC1b,IAAAuX,cAAAvX,IAAAikB,SAAA,KACEzN,EACAxW,IAAAuX,cAACsd,GAAoB,MAErB70B,IAAAuX,cAACud,KAAI,CAACC,QAAM,EAACzX,UAAWR,EAAQ6X,cAC9Brd,KCiBSwe,OAvCIze,IAAmC,IAAlC,QAAEjP,EAAO,OAAE+nB,EAAM,QAAEtS,GAASxG,EAC/C,MAAM,KAAE/L,GAAS6kB,GACV4F,EAAUC,GAAetf,mBAAS,KAClC/J,EAAaspB,GAAkBvf,mBAAS,IAuB/C,OArBAC,oBAAU,KACT,GAAIvO,IACH6tB,EAAe7tB,EAAQxH,MACpB4yB,SAASrrB,KAAK+tB,YAAc,KAC1B9tB,EAAQxH,KAAK6iB,OAAS,IAAI,CAC7B,MAAM0S,EAAc/tB,EAAQxH,KAAKw1B,UAAU,EAAG,IAAM,MACpDH,EAAeE,GAKd7qB,GAAQlD,IACX4tB,EAAY,GAADviB,OAAIlB,KAAKoB,EAAE,kCAAiC,KAAAF,OAAInI,EAAK1K,OAE7D4yB,SAASrrB,KAAK+tB,YAAc,KAC9BF,EAAY,GAADviB,OAAInI,EAAK1K,SAIpB,IAGFZ,IAAAuX,cAACyd,KAAU,CACVnX,QAASA,EACTkG,MAAO,CAAEsS,OAAQ,WACjBpB,qBAAsB,CAAEC,QAAQ,GAChCC,yBAA0B,CAAED,QAAQ,GACpCE,OAAQp1B,IAAAuX,cAACge,KAAM,CAAC9I,IAAKrkB,EAAQkuB,cAAenM,IAAI,kBAChD5pB,MAAK,GAAAkT,OAAK9G,EAAW,MAAA8G,OAAK0c,EAAO9qB,IACjCmwB,UAAWrF,EAAO7kB,MAAI,GAAAmI,OAAOsiB,MCnBhC,MAEMra,GAAYC,YAAYvH,IAAK,CACjCwH,KAAM,CACJC,QAAS,OACTW,OAAQ,OACR2H,SAAU,WACV6I,SAAU,UAGZuJ,YAAa,CACXjI,KAAM,EACN9R,OAAQ,OACRX,QAAS,OACTC,cAAe,SACfkR,SAAU,SACVjE,oBAAqB,EACrBE,uBAAwB,EACxBuN,WAAY,IACZla,aAnBgB,IAoBhBma,WAAYriB,EAAMsiB,YAAYliB,OAAO,SAAU,CAC7CmiB,OAAQviB,EAAMsiB,YAAYC,OAAOC,MACjC1c,SAAU9F,EAAMsiB,YAAYxc,SAAS2c,iBAIzCC,iBAAkB,CAChB9N,qBAAsB,EACtBE,wBAAyB,EACzBuN,WAAYriB,EAAMsiB,YAAYliB,OAAO,SAAU,CAC7CmiB,OAAQviB,EAAMsiB,YAAYC,OAAOI,QACjC7c,SAAU9F,EAAMsiB,YAAYxc,SAAS8c,iBAEvC1a,YAAa,MAIF,SAAS2a,GAAoB5f,GAAmC,IAAlC,KAAEhO,EAAI,YAAE+hB,EAAW,SAAEgF,GAAU/Y,EAC1E,MAAMM,EAAUC,uBACVkF,EAAUpB,MAEV,KAAEpQ,GAAS6V,qBAAWzG,KAErB,CAAEwc,GAAiBxgB,oBAAS,IAC5BF,EAASC,GAAcC,oBAAS,IAChCtO,EAAS+uB,GAAczgB,mBAAS,KAChCyZ,EAAQiH,GAAa1gB,mBAAS,IAErCC,oBAAU,KACR,IAAIyM,EAAkB,KA4BtB,OA3BI/Z,IACFoN,GAAW,GACX2M,EAAkBC,WAAW,KACPzM,WAClB,IACE,MAAM,KAAEtD,SAAegB,GAAIuC,IAAI,YAAcuZ,IACvC,QAAEiH,GAAY/jB,GACd,OAAE5I,EAAM,QAAEzC,GAAYqD,EAG5B,QAAqB6I,IADAzJ,EAAO6O,KAAM+d,GAAMA,EAAEjyB,KAAOgyB,IACH,UAAZpvB,EAGhC,OAFAyL,IAAMH,MAAM,gCACZoE,EAAQ4C,KAAK,YAIf4c,EAAW7jB,EAAKlL,SAChBgvB,EAAU9jB,GACVmD,GAAW,GACX,MAAOxD,GACPwD,GAAW,GACXzD,GAAWC,KAGfskB,IACC,MAEE,KACmB,OAApBnU,GACFG,aAAaH,KAGhB,CAACgN,EAAU9kB,EAAMqM,EAAStO,IAE7BsN,oBAAU,KACR,MAAMI,EAAY/B,aAAaC,QAAQ,aACvC,IAAI+B,EAAS,KA6Bb,OA3BI3N,IACF2N,EAASnC,GAAiB,CAAEkC,cAC5BC,EAAOC,GAAG,UAAW,IAAMD,EAAOma,KAAK,cAAc,GAAD1d,OAAK0c,EAAO9qB,MAEhE2R,EAAOC,GAAG,WAADxD,OAAYsD,EAAS,WAAYzD,IACpB,WAAhBA,EAAKoC,QACP0hB,EAAU9jB,EAAK6c,QAGG,WAAhB7c,EAAKoC,SACPhC,IAAMjT,QAAQ,+BACdkX,EAAQ4C,KAAK,eAIjBvD,EAAOC,GAAG,WAADxD,OAAYsD,EAAS,YAAazD,IACrB,WAAhBA,EAAKoC,QACPyhB,EAAYK,IAAe,IAADC,EACxB,OAAID,EAAUnyB,MAAmB,QAAjBoyB,EAAKnkB,EAAKlL,eAAO,IAAAqvB,OAAA,EAAZA,EAAcpyB,IAC1B,IAAKmyB,KAAclkB,EAAKlL,SAE1BovB,OAMR,KACU,OAAXxgB,GACFA,EAAOlU,eAGV,CAACstB,EAAUD,EAAQxY,EAAStO,IAE/B,MAAMquB,EAAmBA,KACvBR,GAAc,IA2BhB,OACEl3B,IAAAuX,cAACgT,KAAM,CAACoD,SAAS,KAAKtD,QAASe,EAAa/hB,KAAMA,GAChDrJ,IAAAuX,cAACse,GAAY,CAACrf,QAASA,GA1BFmhB,MACvB,QAAoBxjB,IAAhBgc,EAAO7kB,KACT,OACEtL,IAAAuX,cAACue,GAAU,CACT1tB,QAASA,EACT+nB,OAAQA,EACRtS,QAAS6Z,KAoBoBC,IACjC33B,IAAAuX,cAACwT,GAAoB,KAbrB/qB,IAAAuX,cAACqgB,KAAG,CAACta,UAAWR,EAAQlB,MACtB5b,IAAAuX,cAAC2Y,GAAY,CACXC,OAAQA,EACRC,SAAUD,EAAO9qB,GACjBgrB,QAASF,EAAOE,YAUpBrwB,IAAAuX,cAACsT,KAAa,KACZ7qB,IAAAuX,cAACqG,KAAM,CAACC,QAASuN,EAAa5jB,MAAM,WAAU,YC7IvCqwB,I,WChCf,MAAMnc,GAAYC,aAAWvH,IAAK,CAC9B0jB,IAAK,CACDxK,QAAS,UACT3Q,aAAc,MACdyH,SAAU,QACV0K,WAAY,OACZtnB,MAAO,OACP8U,YAAa,MACbuR,WAAY,aAcLkK,OAVI1gB,IAAc,IAAb,IAAEygB,GAAKzgB,EACvB,MAAMyF,EAAUpB,KAEhB,OACI1b,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQgb,IAAK/T,MAAO,CAAErH,gBAAiBob,EAAItwB,MAAOiV,UAAW,QACxEqb,EAAIl3B,KAAKo3B,gBCmBtB,MAAMtc,GAAYC,YAAYvH,IAAK,CACjC+b,OAAQ,CACNhM,SAAU,YAGZ8T,cAAe,CACb5B,OAAQ,SAEV6B,SAAU,CACRC,WAAY,UACZ3wB,MAAO,OACP8U,YAAa,EACbgR,QAAS,EACTwB,WAAY,OACZxK,YAAa,EACbyJ,aAAc,EACdpR,aAAc,EACdyH,SAAU,QACVyJ,WAAY,UAEduK,aAAc,CACZvc,QAAS,OACTW,OAAQ,QACRR,OAAQ,GACRF,cAAe,SACfC,WAAY,SACZ6T,eAAgB,UAElByI,iBAAkB,CAChBlU,SAAU,WACV2J,UAAW,SACXxR,YAAa,EACb2K,WAAY,OACZF,IAAK,OACLC,KAAM,OACNrK,aAAc,GAEhB2b,cAAe,CACbjU,UAAW,SACX7c,MAAO,qBACP4c,SAAU,OACVmU,WAAY,OAEdC,cAAe,CACbL,WAAY,QACZ3wB,MAAO,OACP8U,YAAa,EACbgR,QAAS,EACTwB,WAAY,OACZxK,YAAa,EACbyJ,aAAc,EACdpR,aAAc,EACdyH,SAAU,QACVyJ,WAAY,UAEd3jB,eAAgB,CACdma,UAAW,SACXD,SAAU,OACV0K,WAAY,MACZ9S,OAAQ,OAGVyc,mBAAoB,CAClB5c,QAAS,OACT+T,eAAgB,gBAChB3I,WAAY,OAGdyR,gBAAiB,CACfC,YAAa,WACbtU,UAAW,QACXF,SAAU,WACV4C,KAAM,IAGR6R,YAAa,CACX9K,UAAW,SACX6K,YAAa,WACbrc,YAAa,GACb2K,WAAY,QAGd4R,mBAAoB,CAClB9K,aAAc,KACd9G,WAAY,OAId6R,WAAY,CACVtxB,MAAO,QACPkV,gBAAiBoK,KAAM,MAGzBiS,aAAc,CACZ5U,SAAU,WACVyJ,MAAO,SAITmL,aAAc,CACZ5U,SAAU,WACV6C,KAAM,OAIRgS,iBAAkB,CAChB1K,KAAM,OACNpS,MAAO,MACPM,OAAQ,OACR2H,SAAU,WACV4C,IAAK,KACLC,KAAM,MAGRiS,WAAY,CACV9U,SAAU,WACV4C,KAAM,IAERmS,uBAAwB,CACtBrd,QAAS,OAGTE,WAAY,aACZ2Q,SAAU,OACV5Q,cAAe,MACfqd,aAAc,cAEhBC,YAAa,CACXjV,SAAU,WACV4C,IAAK,GACL6G,MAAO,GAETyL,UAAW,CACT,oBAAqB,CACnB1c,aAAc,EACdwH,SAAU,UACV3H,OAAQ,GACRR,OAAQ,EACRsR,QAAS,GAEX,4CAA6C,CAC3CgM,UAAW,oCAkXFC,OA5WgBliB,IAAiB,IAADmiB,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,IAAf,OAAE/J,GAAQ9Y,EACxC,MAAMyF,EAAUpB,KACV/D,EAAUC,wBACTpB,EAASC,GAAcC,oBAAS,IAChCyjB,EAAYC,GAAiB1jB,mBAAS,OACtC2jB,EAAiBC,GAAsB5jB,mBAAS,OAChDsiB,EAAkBuB,GAAuB7jB,mBAAS,OAClDohB,EAAK0C,GAAU9jB,mBAAS,KACxB+jB,EAAcC,GAAmBhkB,mBAAS,OAE1CikB,EAAyBC,GAA8BlkB,oBAAS,IACjE,SAAE0Z,GAAayK,sBACfC,EAAYrK,kBAAO,IACnB,iBAAE/H,GAAqBvH,qBAAWoH,KAClC,KAAEjd,GAAS6V,qBAAWzG,KACtB,QAAEzS,GAAYqD,EAEpBqL,oBAAU,KAAO,IAADokB,EAAAC,EAAAC,EACoBC,EAAAC,EAMQC,EANtCjL,EAAOpb,QAAUob,EAAO7kB,MAC1B8uB,EAAyB,QAAZc,EAAC/K,EAAO7kB,YAAI,IAAA4vB,GAAM,QAANC,EAAXD,EAAat6B,YAAI,IAAAu6B,OAAN,EAAXA,EAAmBnD,gBAEnCsC,EAA+B,QAAbS,EAAC5K,EAAOppB,aAAK,IAAAg0B,GAAM,QAANC,EAAZD,EAAcn6B,YAAI,IAAAo6B,OAAN,EAAZA,EAAoBhD,eACvCuC,EAAgC,QAAbU,EAAC9K,EAAOppB,aAAK,IAAAk0B,OAAA,EAAZA,EAAczzB,OAE9B2oB,EAAOjZ,YAAciZ,EAAOhrB,WAC9Bu1B,EAAoC,QAArBU,EAACjL,EAAOhrB,SAASvE,YAAI,IAAAw6B,OAAA,EAApBA,EAAsBpD,eAKxC,OAFAwC,EAAa,OAANrK,QAAM,IAANA,OAAM,EAANA,EAAQxlB,MAER,KACLmwB,EAAU9J,SAAU,IAGrB,IAGH,MA+ESqK,EAAoBzkB,UAEvB,MAAM0kB,EAAG,qCAAA7nB,OAAyC,OAAJnI,QAAI,IAAJA,OAAI,EAAJA,EAAM1K,KAAI,oDAClDiE,EAAU,CACZ02B,KAAM,EACNzP,QAAQ,EACRgG,SAAU,GACV3pB,KAAK,8BAADsL,OAA6B6nB,EAAIvd,SAEzC,UACUzJ,GAAIsE,KAAK,aAADnF,OAAcpO,GAAMR,GACpC,MAAOoO,GACLD,GAAWC,KA8CrB,OACEjT,IAAAuX,cAACvX,IAAMikB,SAAQ,CAACzK,IAAK2W,EAAO9qB,IAC1BrF,IAAAuX,cAAC0f,GAAoB,CACnB5tB,KAAMsxB,EAENvP,YAAaA,IAAMwP,GAA2B,GAC9CxK,SAAUD,EAAO9qB,KAEnBrF,IAAAuX,cAACgH,IAAQ,CAACiC,OAAK,EAACD,QAAM,EACpB1C,QAAUmO,IACc,YAAlBmE,EAAO1sB,QAlDS0sB,KAC1B,MAAMxH,EAAO6S,gBACP,GAAEn2B,EAAE,KAAEujB,GAASuH,EACrBzH,EAAiB,CAAErjB,KAAIujB,OAAMD,UAgDvB8S,CAAmBtL,IAErBuL,SAAUtL,IAAaA,IAAaD,EAAO9qB,GAC3CiY,UAAW+V,YAAKvW,EAAQqT,OAAQ,CAC9B,CAACrT,EAAQmb,eAAkC,YAAlB9H,EAAO1sB,UAGlCzD,IAAAuX,cAACokB,KAAO,CAACC,OAAK,EAACC,UAAU,QAAQt7B,OAAmB,QAAZi5B,EAAArJ,EAAOppB,aAAK,IAAAyyB,GAAM,QAANC,EAAZD,EAAc54B,YAAI,IAAA64B,OAAN,EAAZA,EAAoBzB,gBAAiB,YAC3Eh4B,IAAAuX,cAAA,QAAMwM,MAAO,CAAErH,iBAA6B,QAAZgd,EAAAvJ,EAAOppB,aAAK,IAAA2yB,OAAA,EAAZA,EAAclyB,QAAS,WAAa8V,UAAWR,EAAQkc,oBAEzFh5B,IAAAuX,cAACukB,KAAc,KACM,YAAlB3L,EAAO1sB,OACNzD,IAAAuX,cAACge,KAAM,CACLxR,MAAO,CACLtH,UAAW,QACXwK,WAAY,OACZ/K,MAAO,OACPM,OAAQ,OACRG,aAAc,OAEhB8P,IAAW,OAAN0D,QAAM,IAANA,GAAe,QAATwJ,EAANxJ,EAAQ/nB,eAAO,IAAAuxB,OAAT,EAANA,EAAiBrD,gBAGxBt2B,IAAAuX,cAACge,KAAM,CACLxR,MAAO,CACLtH,UAAW,QACXwK,WAAY,MACZ/K,MAAO,OACPM,OAAQ,OACRG,aAAc,OAEhB8P,IAAW,OAAN0D,QAAM,IAANA,GAAe,QAATyJ,EAANzJ,EAAQ/nB,eAAO,IAAAwxB,OAAT,EAANA,EAAiBtD,iBAI5Bt2B,IAAAuX,cAACiH,IAAY,CACXud,mBAAiB,EAEjBtd,QACEze,IAAAuX,cAAA,QAAM+F,UAAWR,EAAQ2b,oBACvBz4B,IAAAuX,cAACqT,IAAU,CACTsK,QAAM,EACNzU,UAAU,OACV9C,QAAQ,QACRnW,MAAM,eAEL2oB,EAAO/nB,QAAQxH,KACH,UAAZqH,GACCjI,IAAAuX,cAACokB,KAAO,CAACp7B,MAAM,mBACbP,IAAAuX,cAACykB,KAAc,CACbne,QAASA,IAAM+c,GAA2B,GAC1CxW,SAAS,QACTL,MAAO,CACLvc,MAAOy0B,KAAK,KACZ5F,OAAQ,UACRpP,WAAY,GACZuI,cAAe,cAMzBxvB,IAAAuX,cAACqH,KAAuB,KACtB5e,IAAAuX,cAACqgB,KAAG,CAACta,UAAWR,EAAQsc,aAvGhCp5B,IAAAuX,cAAAvX,IAAAikB,SAAA,KACGkM,EAAO+L,SACNl8B,IAAAuX,cAACokB,KAAO,CAACp7B,MAAM,WACbP,IAAAuX,cAAC4kB,KAAW,CACV/X,SAAS,QACTL,MAAO,CAAEvc,MAAO40B,KAAK,KAAM9f,YAAa,UAuG9CoC,UACE1e,IAAAuX,cAAA,QAAM+F,UAAWR,EAAQ2b,oBAEvBz4B,IAAAuX,cAACqT,IAAU,CACTtN,UAAWR,EAAQ+b,mBACnB3D,QAAM,EACNzU,UAAU,OACV9C,QAAQ,QACRnW,MAAM,iBACP,IAAE2oB,EAAOkM,YAAYhhB,SAAS,yBAA2Brb,IAAAuX,cAACmQ,GAAe,KAAC,sBAAiC1nB,IAAAuX,cAACmQ,GAAe,KAAEyI,EAAOkM,aACnIr8B,IAAAuX,cAAA,QAAM+F,UAAWR,EAAQoc,yBAChB,OAAN/I,QAAM,IAANA,GAAgB,QAAV0J,EAAN1J,EAAQhrB,gBAAQ,IAAA00B,OAAV,EAANA,EAAkBj5B,MAAOZ,IAAAuX,cAACwN,IAAK,CAACzH,UAAWR,EAAQ0b,eAAsB,OAANrI,QAAM,IAANA,GAAgB,QAAV2J,EAAN3J,EAAQhrB,gBAAQ,IAAA20B,GAAM,QAANC,EAAhBD,EAAkBl5B,YAAI,IAAAm5B,OAAhB,EAANA,EAAwB/B,eAAyBh4B,IAAAuX,cAAA,WACpH4iB,EAAan6B,IAAAuX,cAACwN,IAAK,CAAChB,MAAO,CAAErH,gBAAiB,WAAaY,UAAWR,EAAQ0b,eAAgB2B,GAAsBn6B,IAAAuX,cAAA,WACrHvX,IAAAuX,cAACwN,IAAK,CAAChB,MAAO,CAAErH,iBAA6B,QAAZsd,EAAA7J,EAAOppB,aAAK,IAAAizB,OAAA,EAAZA,EAAcxyB,QAAS,WAAa8V,UAAWR,EAAQ0b,gBAA4B,QAAZyB,EAAA9J,EAAOppB,aAAK,IAAAkzB,GAAM,QAANC,EAAZD,EAAcr5B,YAAI,IAAAs5B,OAAN,EAAZA,EAAoBlC,gBAAiB,aAE/Ih4B,IAAAuX,cAAA,QAAMwM,MAAO,CAAEiK,WAAY,OAAS1Q,UAAWR,EAAQoc,wBACjD,OAAHpB,QAAG,IAAHA,OAAG,EAAHA,EAAKzZ,IAAKyZ,GAEP93B,IAAAuX,cAACwgB,GAAU,CAACD,IAAKA,EAAKte,IAAG,sBAAA/F,OAAwB0c,EAAO9qB,GAAE,KAAAoO,OAAIqkB,EAAIzyB,SAM1ErF,IAAAuX,cAACwN,IAAK,CACJzH,UAAWR,EAAQub,iBACnBjS,aAAc+J,EAAOmM,eACrBxf,QAAS,CACPyf,MAAOzf,EAAQgc,iBAOzB94B,IAAAuX,cAACqH,KAAuB,KACrBuR,EAAOkM,aACNr8B,IAAAuX,cAAAvX,IAAAikB,SAAA,KAEEjkB,IAAAuX,cAACqT,IAAU,CACTtN,UAAWR,EAAQ4b,gBACnBjY,UAAU,OACV9C,QAAQ,QACRnW,MAAM,iBAGL+qB,aAAUH,aAASjC,EAAOna,WAAY,IAAIiI,MACzCje,IAAAuX,cAAAvX,IAAAikB,SAAA,KAAGpK,aAAOuY,aAASjC,EAAOna,WAAY,UAEtChW,IAAAuX,cAAAvX,IAAAikB,SAAA,KAAGpK,aAAOuY,aAASjC,EAAOna,WAAY,gBAI1ChW,IAAAuX,cAAA,aAMNvX,IAAAuX,cAAA,QAAM+F,UAAWR,EAAQoc,wBACJ,YAAlB/I,EAAO1sB,QACNzD,IAAAuX,cAAC2P,GACC,CACAnD,MAAO,CAAErH,gBAAiB,QAASlV,MAAO,QAAS8lB,QAAS,MAAO8B,OAAQ,OAAQzS,aAAc,MAAOqK,KAAM,MAAO5C,SAAU,UAC/HzG,QAAQ,YACRL,UAAWR,EAAQic,aACnB1R,KAAK,QACL7Q,QAASA,EAETqH,QAASmO,GArPQpV,WACvBH,GAAW,GACX,IAMI,IAAI+lB,QALEloB,GAAImoB,IAAI,YAADhpB,OAAapO,GAAM,CAC5B5B,OAAQ,OACRsR,OAAY,OAAJzJ,QAAI,IAAJA,OAAI,EAAJA,EAAMjG,KAKlB,IACI,MAAM,KAAEiO,SAAegB,GAAIuC,IAAI,cAE/B2lB,EAAelpB,EAAKsQ,OAAQ7N,GAAgB,yBAAVA,EAAEyD,KAEtC,MAAOvG,GACLD,GAAWC,GAIe,YAA1BupB,EAAa,GAAG/kB,OAAwB0Y,EAAOE,SAC/CgL,EAAkBlL,EAAO9qB,IAI/B,MAAO4N,GACLwD,GAAW,GAEXzD,GAAWC,GAEX6nB,EAAU9J,SACVva,GAAW,GAKfkB,EAAQ4C,KAAK,YAAD9G,OAAa0c,EAAOvH,QAiNZ8T,CAAmBvM,EAAO9qB,KAEvCkN,KAAKoB,EAAE,+BAIQ,WAAlBwc,EAAO1sB,QACPzD,IAAAuX,cAAC2P,GACC,CACAnD,MAAO,CAAErH,gBAAiB,MAAOlV,MAAO,QAAS8lB,QAAS,MAAO8B,OAAQ,MAAOzS,aAAc,MAAOqK,KAAM,MAAO5C,SAAU,UAC5HzG,QAAQ,YACRL,UAAWR,EAAQic,aACnB1R,KAAK,QACL7Q,QAASA,EACTqH,QAASmO,GA3SKpV,WACxB4jB,EAAa,OAANrK,QAAM,IAANA,OAAM,EAANA,EAAQxlB,MACf8L,GAAW,GACX,IAAK,IAADkmB,QACIroB,GAAImoB,IAAI,YAADhpB,OAAapO,GAAM,CAC9B5B,OAAQ,SACRsR,OAAY,OAAJzJ,QAAI,IAAJA,OAAI,EAAJA,EAAMjG,GACdgyB,QAAe,OAANlH,QAAM,IAANA,GAAa,QAAPwM,EAANxM,EAAQppB,aAAK,IAAA41B,OAAP,EAANA,EAAet3B,GACxBu3B,gBAAgB,EAChBC,SAAU,KACV/0B,cAAe,OAEjB,MAAOmL,GACPwD,GAAW,GACXzD,GAAWC,GAET6nB,EAAU9J,SACZva,GAAW,GAEbkB,EAAQ4C,KAAK,cAwRWuiB,CAAkB3M,EAAO9qB,KAEtCkN,KAAKoB,EAAE,+BAIQ,WAAlBwc,EAAO1sB,QACPzD,IAAAuX,cAAC2P,GACC,CACAnD,MAAO,CAAErH,gBAAiB,MAAOlV,MAAO,QAAS8lB,QAAS,MAAO8B,OAAQ,MAAOzS,aAAc,MAAOqK,KAAM,MAAO5C,SAAU,UAC5HzG,QAAQ,YACRL,UAAWR,EAAQic,aACnB1R,KAAK,QACL7Q,QAASA,EACTqH,QAASmO,GAnSMpV,WACzBH,GAAW,GACX,IAAK,IAADsmB,QACIzoB,GAAImoB,IAAI,YAADhpB,OAAapO,GAAM,CAC9B5B,OAAQ,OACRsR,OAAY,OAAJzJ,QAAI,IAAJA,OAAI,EAAJA,EAAMjG,GACdgyB,QAAe,OAANlH,QAAM,IAANA,GAAa,QAAP4M,EAAN5M,EAAQppB,aAAK,IAAAg2B,OAAP,EAANA,EAAe13B,KAE1B,MAAO4N,GACPwD,GAAW,GACXzD,GAAWC,GAET6nB,EAAU9J,SACZva,GAAW,GAEbkB,EAAQ4C,KAAK,YAAD9G,OAAa0c,EAAOvH,QAoRRoU,CAAmB7M,EAAO9qB,KAEvCkN,KAAKoB,EAAE,iCAOhB3T,IAAAuX,cAAC2N,IAAO,CAACvH,QAAQ,QAAQ8C,UAAU,SC9d1Bwc,OA9DI5lB,IAWZ,IAXa,YAClBqL,EAAW,KACX/X,EAAI,MACJvJ,EAAK,WACLohB,EAAU,OACV/e,EAAM,KACNqJ,EAAI,UACJkJ,EAAS,QACTxM,EAAO,SACP0zB,EAAQ,mBACRC,GACD9lB,EACC,MAAOb,EAASC,GAAcC,oBAAS,IAChC4Z,EAASC,GAAc7Z,oBAAS,IAChCxN,EAASk0B,GAAc1mB,mBAAS,IA6CvC,OA3CAC,oBAAU,KACRF,GAAW,GACX,MAAM2M,EAAkBC,WAAW,KACZzM,WACnB,IACE,MAAM,KAAEtD,SAAegB,GAAIuC,IAAI,WAAY,CACzC/B,OAAQ,CACN4N,cACAF,aACA7X,OACAvJ,QACAqC,SACAqJ,OACAkJ,YACAxM,UACA0zB,WACAC,wBAGJC,EAAW9pB,EAAKpK,SAChBqnB,EAAWjd,EAAKgd,SAChB7Z,GAAW,GACX,MAAOxD,GACPwD,GAAW,GACXzD,GAAWC,KAGfoqB,IACC,KACH,MAAO,IAAM9Z,aAAaH,IACzB,CACDV,EACA/X,EACAvJ,EACAohB,EACA/e,EACAqJ,EACAkJ,EACAxM,EACA0zB,EACAC,IAGK,CAAEj0B,UAASsN,UAAS8Z,Y,qBCxC7B,MAAM5U,GAAYC,YAAWvH,IAAK,CACjCkpB,aAAc,CACbtZ,UAAW,OACXuZ,UAAW,OACRnpB,EAAMmZ,iBAEViQ,aAAc,CACbthB,MAAO,OACPyR,SAAU,IACV1G,WAAY7S,EAAMqpB,QAAQ,GAC1BnhB,YAAalI,EAAMqpB,QAAQ,GAC3B,CAACrpB,EAAMuhB,YAAYC,KAAK,OAAQ,CAC/BjI,SAAU,MAGZ+P,SAAU,CACTxP,UAAW,sBAkOEyP,OA9NeC,IAC7B,MAAM9gB,EAAUpB,KAEV/D,EAAUC,wBACV,KAAEtM,GAAS6V,qBAAWzG,IACtBmjB,GAAelmB,EAAQmmB,SAASC,SAAStM,MAAM,KAAK,GACpDuM,EAAcvN,iBAAOoN,GACrBxS,EAAWoF,oBACVwN,EAAQC,GAAaxnB,oBAAS,IAC9B3K,EAAeoyB,GAAoBznB,mBAAS,KAE5C0nB,EAAoBC,GAAyB3nB,oBAAS,IAEtD,CAAE4nB,GAA2B5nB,mBAAS,KAEvC,QAAExN,GAAY+zB,GAAW,CAAEE,mBAAoB,UAE9CoB,GAAQC,aAASC,KAAYb,GAC9Bc,EAAgBjO,mBAEhBkO,EAAalO,iBAAO9Y,GAE1BhB,oBAAU,KACaC,WACrB,IAEwB,WAAnBtL,EAAKszB,WACRP,GAAsB,GAEtB,MAAOprB,GACND,GAAWC,KAIf4rB,IACE,IAEHloB,oBAAU,KACT+nB,EAAc1N,QAAUuN,EAElB,iBAAkB7U,OAGvBoV,aAAaC,oBAFbC,QAAQC,IAAI,+CAIX,CAACV,IAEJ5nB,oBAAU,KACoBuoB,MAC5B,GAAId,EACHD,EAAiBj1B,OACX,CACN,MAAMi2B,EAAmBj2B,EAAQ0a,OAAOuM,GAA4B,YAAlBA,EAAO1sB,QAEzD06B,EAAiBgB,KAInBD,IACE,CAACh2B,IAEJyN,oBAAU,KACTqnB,EAAYhN,QAAU6M,GACpB,CAACA,IAEJlnB,oBAAU,KACT,MAAMK,EAASnC,GAAiB,CAACkC,UAAWzL,EAAKyL,UAAWhC,OAAQzJ,EAAKjG,KAyDzE,OAxDA2R,EAAOC,GAAG,UAAW,IAAMD,EAAOma,KAAK,qBAEvCna,EAAOC,GAAG,WAADxD,OAAYnI,EAAKyL,UAAS,WAAWzD,IACzB,iBAAhBA,EAAKoC,QAA6C,WAAhBpC,EAAKoC,SAC1CyoB,EAAiB3G,IAChB,MAAM4H,EAAc5H,EAAU1hB,UAAUnC,GAAKA,EAAEtO,KAAOiO,EAAK8c,UAC3D,OAAqB,IAAjBgP,GACH5H,EAAUrhB,OAAOipB,EAAa,GACvB,IAAI5H,IAELA,IAGR8G,EAAwB9G,IACvB,MAAM6H,EAAqB7H,EAAU1hB,UACpCwpB,GAAKA,EAAExH,MAAQyH,OAAOjsB,EAAK8c,WAE5B,OAA4B,IAAxBiP,GACH7H,EAAU6H,GAAoB3wB,QAC9B8oB,EAAUrhB,OAAOkpB,EAAoB,GAC9B,IAAI7H,IAELA,OAKVxgB,EAAOC,GAAG,WAADxD,OAAYnI,EAAKyL,UAAS,eAAezD,IAAS,IAADksB,EACzD,GACiB,WAAhBlsB,EAAKoC,SAAwBpC,EAAKzO,QAAQinB,QAClB,YAAvBxY,EAAK6c,OAAO1sB,UACX6P,EAAKzO,QAAQ02B,MAA+B,YAAvBjoB,EAAK6c,OAAO1sB,UAClC6P,EAAK6c,OAAOpb,UAAe,OAAJzJ,QAAI,IAAJA,OAAI,EAAJA,EAAMjG,MAAOiO,EAAK6c,OAAOpb,WAC5C,OAAJzJ,QAAI,IAAJA,GAAY,QAARk0B,EAAJl0B,EAAMZ,cAAM,IAAA80B,OAAR,EAAJA,EAAcC,KAAK14B,GAAUA,EAAM1B,KAAOiO,EAAK6c,OAAOkH,YAAc/jB,EAAK6c,OAAOkH,SAChF,CACD8G,EAAiB3G,IAChB,MAAM4H,EAAc5H,EAAU1hB,UAAUnC,GAAKA,EAAEtO,KAAOiO,EAAK6c,OAAO9qB,IAClE,OAAqB,IAAjB+5B,GACH5H,EAAU4H,GAAe9rB,EAAK6c,OACvB,IAAIqH,IAEL,CAAClkB,EAAK6c,UAAWqH,KASzB,GALElkB,EAAKzO,QAAQurB,WAAa4N,EAAYhN,SACT,YAA7BwC,SAASkM,iBACTpsB,EAAK6c,OAAOpb,QAAUzB,EAAK6c,OAAOpb,UAAe,OAAJzJ,QAAI,IAAJA,OAAI,EAAJA,EAAMjG,KACpDiO,EAAK6c,OAAOE,QAEY,OAEzBsP,EAAoBrsB,MAIf,KACN0D,EAAOlU,eAEN,CAACwI,EAAM8yB,IAEV,MAAMuB,EAAsBrsB,IAC3B,MAAM,QAAEzO,EAAO,QAAEuD,EAAO,OAAE+nB,GAAW7c,EAE/BjE,EAAU,CACflH,KAAK,GAADsL,OAAK5O,EAAQsD,KAAI,OAAAsL,OAAMoG,aAAO,IAAIoE,KAAQ,UAC9C4B,KAAMzX,EAAQw3B,WACd9H,IAAK3H,EAAO9qB,GACZw6B,UAAU,GAGL12B,EAAe,IAAI21B,aAAa,GAADrrB,OACjClB,KAAKoB,EAAE,gCAA+B,KAAAF,OAAIrL,EAAQxH,MACrDyO,GAGDlG,EAAa22B,QAAU9T,IACtBA,EAAE+T,iBACFrW,OAAOsW,QACPrB,EAAW3N,QAAQzW,KAAK,YAAD9G,OAAa0c,EAAOvH,QAI5C0V,EAAwB9G,IACvB,MAAM6H,EAAqB7H,EAAU1hB,UACpCwpB,GAAKA,EAAExH,MAAQ3uB,EAAa2uB,KAE7B,OAA4B,IAAxBuH,GACH7H,EAAU6H,GAAsBl2B,EACzB,IAAIquB,IAEL,CAACruB,KAAiBquB,KAG1BkH,EAAc1N,WAOTiP,EAAkBA,KACvB/B,GAAU,IAGLgC,EAAqB7oB,IAAmB,IAAlB,SAAEC,GAAUD,EACvC,OAAOrX,IAAAuX,cAAA,OAAKsG,QAASoiB,GAAkB3oB,IAGxC,OACCtX,IAAAuX,cAAAvX,IAAAikB,SAAA,KACCjkB,IAAAuX,cAACsH,IAAU,CACVhB,QAfiBsiB,KACnBjC,EAAU1G,IAAcA,IAetBrX,IAAKkL,EACL+U,aAAW,qBACX54B,MAAM,UACNuc,MAAO,CAACvc,MAAM,UAEdxH,IAAAuX,cAACwN,IAAK,CAACsb,QAAQ,cAAcja,aAAcra,EAAc0X,OAAQjc,MAAM,aACtExH,IAAAuX,cAAC+oB,KAAQ,QAGXtgC,IAAAuX,cAACgpB,KAAO,CACPC,mBAAiB,EACjBn3B,KAAM40B,EACN5S,SAAUA,EAAS2F,QACnBtF,aAAc,CACbC,SAAU,SACVC,WAAY,SAEbC,gBAAiB,CAChBF,SAAU,MACVC,WAAY,SAEb9O,QAAS,CAAE2jB,MAAO3jB,EAAQ0gB,cAC1BnT,QAAS4V,GAETjgC,IAAAuX,cAAC6G,IAAI,CAACoC,OAAK,EAAClD,UAAWR,EAAQwgB,cACJ,IAAzBvxB,EAAc0X,OACdzjB,IAAAuX,cAACgH,IAAQ,KACRve,IAAAuX,cAACiH,IAAY,KAAEjM,KAAKoB,EAAE,6BAGvB5H,EAAcsS,IAAI8R,GACjBnwB,IAAAuX,cAAC2oB,EAAkB,CAAC1mB,IAAK2W,EAAO9qB,IAC/BrF,IAAAuX,cAACmpB,GAAc,CAACvQ,OAAQA,U,+DCrPhC,MAAMzU,GAAYC,YAAYvH,IAAK,CAC/BkpB,aAAc,CACVhQ,QAASlZ,EAAMqpB,QAAQ,IAE3BD,aAAc,CACVthB,MAAO,OACPyR,SAAU,IACV1G,WAAY7S,EAAMqpB,QAAQ,GAC1BnhB,YAAalI,EAAMqpB,QAAQ,GAC3B,CAACrpB,EAAMuhB,YAAYC,KAAK,OAAQ,CAC5BjI,SAAU,MAGlB+P,SAAU,CACNxP,UAAW,mBAEfyS,MAAO,CACHn5B,MAAO,QAEXo5B,YAAa,CACTlkB,gBAAiB,UACjBlV,MAAO,WA6EAq5B,OAzEaxpB,IAA4B,IAA3B,OAAEumB,EAAM,UAAEkD,GAAWzpB,EAC9C,MAAMyF,EAAUpB,KAEV2P,EAAWoF,oBACVwN,EAAQC,GAAaxnB,oBAAS,GAerC,OACI1W,IAAAuX,cAAAvX,IAAAikB,SAAA,KACIjkB,IAAAuX,cAACsH,IAAU,CACPvB,UAAWR,EAAQ6jB,MACnB9iB,QAjBQsiB,KAChBjC,EAAW1G,IAAeA,IAiBlBrX,IAAKkL,EACL+U,aAAW,sBAIXpgC,IAAAuX,cAACwpB,KAAY,CAACv5B,MAAM,aAExBxH,IAAAuX,cAACgpB,KAAO,CACJC,mBAAiB,EACjBn3B,KAAM40B,EACN5S,SAAUA,EAAS2F,QACnBtF,aAAc,CACVC,SAAU,SACVC,WAAY,SAEhBC,gBAAiB,CACbF,SAAU,MACVC,WAAY,SAEhB9O,QAAS,CAAE2jB,MAAO3jB,EAAQ0gB,cAC1BnT,QAlCY4V,KACpB/B,GAAU,KAmCFl+B,IAAAuX,cAAC6G,IAAI,CAACoC,OAAK,EAAClD,UAAWR,EAAQwgB,cAC3Bt9B,IAAAuX,cAACypB,KAAI,CAACC,WAAS,EAACxD,QAAS,GACrBz9B,IAAAuX,cAACypB,KAAI,CAACE,MAAI,GACNlhC,IAAAuX,cAAC4pB,KAAc,OAEnBnhC,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,IAAE,GACTphC,IAAAuX,cAAC8pB,KAAM,CACH5pB,MAAOmmB,EACPpT,kBAAgB,oBAChB8W,KAAM,GACNC,IAAK,EACLC,IAAK,EACLhkB,SAAUA,CAACwO,EAAGvU,IA5CdA,KACxBqpB,EAAUrpB,GACVzC,aAAa6D,QAAQ,SAAUpB,IA2CHgqB,CAAmBhqB,MAI/BzX,IAAAuX,cAACypB,KAAI,CAACE,MAAI,GACNlhC,IAAAuX,cAACwpB,KAAY,Y,2DCzFzC,MAAMrlB,GAAYC,YAAWvH,IAAK,CACjCstB,MAAO,CACN7lB,QAAS,OACT6Q,SAAU,QAEXiV,KAAM,CACL3lB,OAAQ,MAwEK4lB,OApEKvqB,IAAqC,IAApC,iBAAEwqB,EAAgB,SAAErkB,GAAUnG,EAClD,MAAMyF,EAAUpB,MACThR,EAAQo3B,GAAaprB,mBAAS,IAErCC,oBAAU,KACT,WACC,IACC,MAAM,KAAErD,SAAegB,GAAIuC,IAAI,UAC/BirB,EAAUxuB,GACT,MAAOL,GACRD,GAAWC,KALb,IAQE,IAMH,OACCjT,IAAAuX,cAAA,OAAKwM,MAAO,CAAEtH,UAAW,IACxBzc,IAAAuX,cAACwqB,KAAW,CAACjV,WAAS,EAAC9Q,OAAO,QAAQ2B,QAAQ,YAC7C3d,IAAAuX,cAACyqB,KAAU,KAAEzvB,KAAKoB,EAAE,2BACpB3T,IAAAuX,cAAC0qB,KAAM,CACNC,UAAQ,EACRC,WAAY,GACZ1qB,MAAOoqB,EACPrkB,SAZiBwO,IACpBxO,EAASwO,EAAEtO,OAAOjG,QAYf2qB,UAAW,CACV1W,aAAc,CACbC,SAAU,SACVC,WAAY,QAEbC,gBAAiB,CAChBF,SAAU,MACVC,WAAY,QAEbH,mBAAoB,MAErB4W,YAAa3G,GACZ17B,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQ4kB,QACd,OAARhG,QAAQ,IAARA,OAAQ,EAARA,EAAUjY,QAAS,GACnBiY,EAASrd,IAAIhZ,IACZ,MAAM0B,EAAQ2D,EAAO6O,KAAK+d,GAAKA,EAAEjyB,KAAOA,GACxC,OAAO0B,EACN/G,IAAAuX,cAAC+qB,KAAI,CACJ9oB,IAAKnU,EACL0e,MAAO,CAAErH,gBAAiB3V,EAAMS,OAChCmW,QAAQ,WACRnR,MAAOzF,EAAMnG,KACb0c,UAAWR,EAAQ6kB,OAEjB,SAKPj3B,EAAO2T,IAAItX,GACX/G,IAAAuX,cAACwU,IAAQ,CAACvS,IAAKzS,EAAM1B,GAAIoS,MAAO1Q,EAAM1B,IACpC0B,EAAMnG,WCnDd,MAAM8a,GAAYC,YAAWvH,IAAK,CACjCwH,KAAM,CACLC,QAAS,OACT6Q,SAAU,QAEX6V,cAAe,CACd1mB,QAAS,OACT,yBAA0B,CACzBS,YAAalI,EAAMqpB,QAAQ,KAI7B+E,WAAY,CACXre,SAAU,YAGX0C,eAAgB,CACfrf,MAAOsf,KAAM,KACb3C,SAAU,WACV4C,IAAK,MACLC,KAAM,MACNvK,WAAY,GACZwK,YAAa,IAEdwb,YAAa,CACZzmB,OAAQ5H,EAAMqpB,QAAQ,GACtBlR,SAAU,QAINmW,GAAaC,OAAaC,MAAM,CACrChiC,KAAM+hC,OACJpB,IAAI,EAAG,cACPC,IAAI,GAAI,aACRqB,SAAS,YACX/hC,SAAU6hC,OAAapB,IAAI,EAAG,cAAcC,IAAI,GAAI,aACpD3gC,MAAO8hC,OAAa9hC,MAAM,iBAAiBgiC,SAAS,cA6NtCC,OA1NGzrB,IAAgC,IAA/B,KAAEhO,EAAI,QAAEghB,EAAO,OAAEtV,GAAQsC,EAC3C,MAAMyF,EAAUpB,KAEVqnB,EAAe,CACpBniC,KAAM,GACNC,MAAO,GACPC,SAAU,GACVmH,QAAS,SAGFqD,KAAM03B,GAAiB7hB,qBAAWzG,KAEnCpP,EAAMyM,GAAWrB,mBAASqsB,IAC1BlB,EAAkBoB,GAAuBvsB,mBAAS,KAClDQ,EAAYgsB,GAAiBxsB,oBAAS,IACvC,QAAEF,EAAO,UAAEH,GAAcD,KAE/BO,oBAAU,KACSC,WACjB,GAAK7B,EACL,IAAK,IAADouB,EACH,MAAM,KAAE7vB,SAAegB,GAAIuC,IAAI,UAADpD,OAAWsB,IACzCgD,EAAQyf,IACA,IAAKA,KAAclkB,KAE3B,MAAM8vB,EAA0B,QAAdD,EAAG7vB,EAAK5I,cAAM,IAAAy4B,OAAA,EAAXA,EAAa9kB,IAAItX,GAASA,EAAM1B,IACrD49B,EAAoBG,GACpBF,EAAc5vB,EAAK4D,WAAa5D,EAAK4D,WAAa,IACjD,MAAOjE,GACRD,GAAWC,KAIbowB,IACE,CAACtuB,EAAQ1L,IAEZ,MAAM+hB,EAAcA,KACnBf,IACAtS,EAAQgrB,IAkBT,OACC/iC,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQlB,MACvB5b,IAAAuX,cAACgT,KAAM,CACNlhB,KAAMA,EACNghB,QAASe,EACTuC,SAAS,KACTb,WAAS,EACTwW,OAAO,SAEPtjC,IAAAuX,cAACkT,KAAW,CAACplB,GAAG,qBACR,GAAAoO,OAANsB,EACKxC,KAAKoB,EAAE,wBACPpB,KAAKoB,EAAE,yBAEd3T,IAAAuX,cAACgsB,KAAM,CACNC,cAAel4B,EACfm4B,oBAAoB,EACpBC,iBAAkBhB,GAClBiB,SAAUA,CAACC,EAAQhgC,KAClByf,WAAW,KAlCOzM,WACtB,MAAMuC,EAAW,IAAKyqB,EAAQ1sB,aAAYgmB,SAAU2E,GACpD,IACK9sB,QACGT,GAAImoB,IAAI,UAADhpB,OAAWsB,GAAUoE,SAE5B7E,GAAIsE,KAAK,SAAUO,GAE1BzF,IAAMjT,QAAQ8R,KAAKoB,EAAE,sBACpB,MAAOV,GACRD,GAAWC,GAEZmY,KAuBKyY,CAAeD,GACfhgC,EAAQkgC,eAAc,IACpB,OAGHnc,IAAA,IAAC,QAAEoc,EAAO,OAAEC,EAAM,aAAEC,GAActc,EAAA,OAClC3nB,IAAAuX,cAAC2sB,KAAI,KACJlkC,IAAAuX,cAACmT,KAAa,CAACC,UAAQ,GACtB3qB,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQylB,eACvBviC,IAAAuX,cAAC4sB,KAAK,CACLC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,uBACd0wB,WAAS,EACTzjC,KAAK,OACL2S,MAAOwwB,EAAQnjC,MAAQkwB,QAAQkT,EAAOpjC,MACtC0jC,WAAYP,EAAQnjC,MAAQojC,EAAOpjC,KACnC+c,QAAQ,WACR3B,OAAO,QACP8Q,WAAS,IAEV9sB,IAAAuX,cAAC4sB,KAAK,CACLC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,2BACdrO,KAAK,WACL1E,KAAK,WACL2S,MAAOwwB,EAAQjjC,UAAYgwB,QAAQkT,EAAOljC,UAC1CwjC,WAAYP,EAAQjjC,UAAYkjC,EAAOljC,SACvC6c,QAAQ,WACR3B,OAAO,QACP8Q,WAAS,KAGX9sB,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQylB,eACvBviC,IAAAuX,cAAC4sB,KAAK,CACLC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,wBACd/S,KAAK,QACL2S,MAAOwwB,EAAQljC,OAASiwB,QAAQkT,EAAOnjC,OACvCyjC,WAAYP,EAAQljC,OAASmjC,EAAOnjC,MACpC8c,QAAQ,WACR3B,OAAO,QACP8Q,WAAS,IAEV9sB,IAAAuX,cAACwqB,KAAW,CACXpkB,QAAQ,WACRL,UAAWR,EAAQ2lB,YACnBzmB,OAAO,SAEPhc,IAAAuX,cAACwD,GAAG,CACHC,KAAMgoB,EAAa/6B,QACnBgT,QAAQ,yBACRpZ,IAAKA,IACJ7B,IAAAuX,cAAAvX,IAAAikB,SAAA,KACCjkB,IAAAuX,cAACyqB,KAAU,CAAC38B,GAAG,iCACbkN,KAAKoB,EAAE,2BAGT3T,IAAAuX,cAAC4sB,KAAK,CACLC,GAAInC,KACJz1B,MAAO+F,KAAKoB,EAAE,0BACd/S,KAAK,UACL2jC,QAAQ,0BACRl/B,GAAG,oBACHw9B,UAAQ,GAER7iC,IAAAuX,cAACwU,IAAQ,CAACtU,MAAM,SAAQ,SACxBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAM,QAAO,cAO7BzX,IAAAuX,cAACwD,GAAG,CACHC,KAAMgoB,EAAa/6B,QACnBgT,QAAQ,wBACRpZ,IAAKA,IACJ7B,IAAAuX,cAACqqB,GAAW,CACXC,iBAAkBA,EAClBrkB,SAAUomB,GAAUX,EAAoBW,OAI3C5jC,IAAAuX,cAACwD,GAAG,CACHC,KAAMgoB,EAAa/6B,QACnBgT,QAAQ,yBACRpZ,IAAKA,IACJ7B,IAAAuX,cAACwqB,KAAW,CAACpkB,QAAQ,WAAW3B,OAAO,QAAQsB,UAAWR,EAAQ6Q,SAAUb,WAAS,GACpF9sB,IAAAuX,cAACyqB,KAAU,KACTzvB,KAAKoB,EAAE,4BAET3T,IAAAuX,cAAC4sB,KAAK,CACLC,GAAInC,KACJxqB,MAAOP,EACPsG,SAAWwO,GAAMkX,EAAclX,EAAEtO,OAAOjG,OACxCjL,MAAO+F,KAAKoB,EAAE,4BAGd3T,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,IAAI,QACpBpB,EAAUgI,IAAKlZ,GACfnF,IAAAuX,cAACwU,IAAQ,CAACvS,IAAKrU,EAASE,GAAIoS,MAAOtS,EAASE,IAAKF,EAASvE,YAOhEZ,IAAAuX,cAACsT,KAAa,KACb7qB,IAAAuX,cAACqG,KAAM,CACNC,QAASuN,EACT5jB,MAAM,YACN/F,SAAUwiC,EACVtmB,QAAQ,YAEPpL,KAAKoB,EAAE,6BAET3T,IAAAuX,cAACqG,KAAM,CACNtY,KAAK,SACLkC,MAAM,UACN/F,SAAUwiC,EACVtmB,QAAQ,YACRL,UAAWR,EAAQ0lB,YAEZ,GAAA/uB,OAANsB,EACKxC,KAAKoB,EAAE,4BACPpB,KAAKoB,EAAE,4BACZswB,GACAjkC,IAAAuX,cAAC6P,KAAgB,CAChBC,KAAM,GACN/J,UAAWR,EAAQ+J,yB,WC3Q9B,MAAMnL,GAAYC,YAAWvH,IAAK,CACjCowB,SAAU,CACT5V,OAAQxa,EAAMwa,OAAO6V,OAAS,EAC9Bj9B,MAAO,WAaMk9B,OATSA,KACvB,MAAM5nB,EAAUpB,KAChB,OACC1b,IAAAuX,cAACotB,KAAQ,CAACrnB,UAAWR,EAAQ0nB,SAAUn7B,MAAM,GAC5CrJ,IAAAuX,cAAC6P,KAAgB,CAAC5f,MAAM,c,0CCVTmU,YAAYvH,IAAK,CAC/BusB,MAAO,CACHn5B,MAAO,QAEXo9B,OAAQ,CACJp9B,MAAO,QAEXq9B,QAAS,CACLhpB,QAAS,QAEbipB,UAAW,CACPt9B,MAAO,WAmDAu9B,I,0CCxCf,MAAMrpB,GAAYC,YAAYvH,IAAK,CACjC4wB,UAAW,CACT1W,KAAM,EACNiP,UAAW,IACX5P,SAAU,IACVL,QAASlZ,EAAMqpB,QAAQ,GACvBzZ,UAAW,YACR5P,EAAMmZ,oBAIb,SAAS0X,GAAkB5tB,GAAuC,IAAtC,aAAE6tB,EAAY,KAAE77B,EAAI,YAAE+hB,GAAa/T,EAI7D,OACErX,IAAAuX,cAACgT,KAAM,CACLlhB,KAAMA,EACNghB,QAASA,IAAMe,IACfZ,kBAAgB,qBAChB2a,mBAAiB,4BAEjBnlC,IAAAuX,cAACkT,KAAW,CAACplB,GAAG,sBAAsB6/B,EAAa3kC,OACnDP,IAAAuX,cAACmT,KAAa,KACXwa,EAAal2B,WACZhP,IAAAuX,cAAA,OACEwM,MAAO,CACLqhB,OAAQ,oBACRppB,OAAQ,cACRqI,UAAW,SACXnI,MAAO,QACPM,OAAQ,IACR0Q,gBAAgB,OAADzZ,QApBL4xB,EAoB2BH,EAAal2B,UAnBtD,GAANyE,OAAUiB,wBAAiC,YAAAjB,OAAW4xB,IAmBgB,KAC5DC,iBAAkB,YAClBC,eAAgB,UAChBC,mBAAoB,YAI1BxlC,IAAAuX,cAACkuB,KAAiB,CAACpgC,GAAG,4BACnB6/B,EAAan2B,OAGlB/O,IAAAuX,cAACsT,KAAa,KACZ7qB,IAAAuX,cAACqG,KAAM,CAACC,QAASA,IAAMuN,IAAe5jB,MAAM,UAAU68B,WAAS,GAAC,YAhChDgB,MAwCxB,MAAM7vB,GAAUA,CAACC,EAAOC,KACtB,GAAoB,uBAAhBA,EAAOpQ,KAA+B,CACxC,MAAMqJ,EAAgB+G,EAAOC,QACvB+vB,EAAmB,GAezB,OAbIrsB,mBAAQ1K,IACVA,EAAciS,QAASskB,IACrB,MAAMS,EAAoBlwB,EAAMK,UAC7BgL,GAAMA,EAAEzb,KAAO6/B,EAAa7/B,KAEJ,IAAvBsgC,EACFlwB,EAAMkwB,GAAqBT,EAE3BQ,EAAiBnrB,KAAK2qB,KAKrB,IAAIzvB,KAAUiwB,GAGvB,GAAoB,yBAAhBhwB,EAAOpQ,KAAiC,CAC1C,MAAM4/B,EAAexvB,EAAOC,QACtBgwB,EAAoBlwB,EAAMK,UAAWgL,GAAMA,EAAEzb,KAAO6/B,EAAa7/B,IAEvE,OAA2B,IAAvBsgC,GACFlwB,EAAMkwB,GAAqBT,EACpB,IAAIzvB,IAEJ,CAACyvB,KAAiBzvB,GAI7B,GAAoB,wBAAhBC,EAAOpQ,KAAgC,CACzC,MAAMsgC,EAAiBlwB,EAAOC,QAExBgwB,EAAoBlwB,EAAMK,UAAWgL,GAAMA,EAAEzb,KAAOugC,GAI1D,OAH2B,IAAvBD,GACFlwB,EAAMU,OAAOwvB,EAAmB,GAE3B,IAAIlwB,GAGb,GAAoB,UAAhBC,EAAOpQ,KACT,MAAO,IAII,SAASugC,KACtB,MAAM/oB,EAAUpB,MAETlF,EAASC,GAAcC,oBAAS,IAChC2U,EAAUuF,GAAela,mBAAS,OAClC8L,EAAYC,GAAiB/L,mBAAS,IACtC4Z,EAASC,GAAc7Z,oBAAS,IAChCgM,GAAehM,mBAAS,KACxB/H,EAAe2H,GAAYC,qBAAWf,GAAS,KAC/C8M,EAAWC,GAAgB7L,oBAAS,IACpCwuB,EAAcY,GAAmBpvB,mBAAS,KAC1CqvB,EAAwBC,GAA6BtvB,oBAAS,GAErEC,oBAAU,KACRL,EAAS,CAAEhR,KAAM,UACjBmd,EAAc,IACb,CAACC,IAEJ/L,oBAAU,KACRF,GAAW,GACX,MAAM2M,EAAkBC,WAAW,KACjC4iB,KACC,KACH,MAAO,IAAM1iB,aAAaH,IAEzB,CAACV,EAAaF,IAEjB7L,oBAAU,KACR,MACMK,EAASnC,GAAiB,CAAEkC,UADhB/B,aAAaC,QAAQ,eAYvC,OATA+B,EAAOC,GAAG,uBAAyB3D,IACb,WAAhBA,EAAKoC,QAAuC,WAAhBpC,EAAKoC,SACnCY,EAAS,CAAEhR,KAAM,uBAAwBqQ,QAASrC,EAAK4yB,SACvD3jB,GAAa,IAEK,WAAhBjP,EAAKoC,QACPY,EAAS,CAAEhR,KAAM,sBAAuBqQ,SAAUrC,EAAKjO,OAGpD,KACL2R,EAAOlU,eAER,IAEH,MAAMmjC,EAAqBrvB,UACzB,IACE,MAAM,KAAEtD,SAAegB,GAAIuC,IAAI,kBAAmB,CAChD/B,OAAQ,CAAE4N,cAAaF,gBAEzBlM,EAAS,CAAEhR,KAAM,qBAAsBqQ,QAASrC,EAAKwQ,UACrDyM,EAAWjd,EAAKgd,SAChB7Z,GAAW,GACX,MAAOxD,GACPD,GAAWC,KA+CT5J,EAAOynB,QAAQzF,GACfhmB,EAAKgE,EAAO,sBAAmB8K,EAErC,OACEnU,IAAAuX,cAAA,WACEvX,IAAAuX,cAAC0tB,GAAkB,CACjBC,aAAcA,EACd77B,KAAM08B,EACN3a,YAAaA,IAAM4a,GAA0B,KAE/ChmC,IAAAuX,cAACsH,IAAU,CACTlB,QAAQ,YACRwnB,mBAAkB9/B,EAClBwY,QA5CeJ,IACnBmT,EAAYnT,EAAM6T,eAClB/O,GAAa,IA2CTwB,MAAO,CAAEvc,MAAO,UAEhBxH,IAAAuX,cAACwN,IAAK,CACJvd,MAAM,YACNmW,QAAQ,MACR2E,UAAWA,GAAa3T,EAAc8U,OAAS,GAE/CzjB,IAAAuX,cAAC4uB,KAAa,QAGlBnmC,IAAAuX,cAACgpB,KAAO,CACNl7B,GAAIA,EACJgE,KAAMA,EACNgiB,SAAUA,EACVhB,QAtDce,KAClBwF,EAAY,OAsDRlF,aAAc,CACZC,SAAU,SACVC,WAAY,UAEdC,gBAAiB,CACfF,SAAU,MACVC,WAAY,WAGd5rB,IAAAuX,cAAC6uB,KAAK,CACJzoB,QAAQ,WACR2V,SA/EctH,IACpB,IAAKsE,GAAW9Z,EAAS,OACzB,MAAM,UAAE+c,EAAS,aAAE8S,EAAY,aAAEC,GAAiBta,EAAEsF,cAChD+U,GAAgB9S,EAAY,KAAO+S,GANvC7jB,EAAe+U,GAAcA,EAAY,IAmFnCla,UAAWR,EAAQkoB,WAEnBhlC,IAAAuX,cAAC6G,IAAI,CACHqC,UAAU,MACV2f,aAAW,uBACXrc,MAAO,CAAEwI,SAAU,MAElBlT,mBAAQ1K,IACPA,EAAc0P,IAAI,CAAC6iB,EAAM1nB,KACvBxZ,WAAAuX,cAACgH,IAAQ,CACP/E,IAAKA,EACLuK,MAAO,CAELqhB,OAAQ,iBACR5O,YA7EM1nB,EA6EqBoyB,EAAKpyB,SA5E/B,IAAbA,EACK,oBAEQ,IAAbA,EACK,mBAEQ,IAAbA,EACK,sBADT,GAuEgBunB,OAAQ,WAEVxY,QAASA,KA/DvBioB,EA+D0D5E,GA9D1D8E,GAA0B,QAC1BpV,EAAY,QA+DGsQ,EAAKlyB,WACJhP,IAAAuX,cAACukB,KAAc,KACb97B,IAAAuX,cAACge,KAAM,CACLpL,IAAK+W,EAAK50B,UACVmgB,KA1EA4Y,EA0EkBnE,EAAKlyB,UAzErC,GAANyE,OAAUiB,wBAAiC,YAAAjB,OAAW4xB,OA6ExCrlC,IAAAuX,cAACiH,IAAY,CACXC,QAASyiB,EAAK3gC,MACdme,UACE1e,IAAAuX,cAAAvX,IAAAikB,SAAA,KACEjkB,IAAAuX,cAACqT,IAAU,CAACnK,UAAU,OAAOsD,MAAO,CAAEK,SAAU,KAC7C3K,IAAOynB,EAAK/iB,WAAWtE,OAAO,eAEjC7Z,IAAAuX,cAAA,QAAMwM,MAAO,CAAEtH,UAAW,EAAGZ,QAAS,WACtC7b,IAAAuX,cAACqT,IAAU,CAACnK,UAAU,OAAO9C,QAAQ,SAClCujB,EAAKnyB,UAvFRs2B,MAZEv2B,IA0GbuK,mBAAQ1K,IAA2C,IAAzBA,EAAc8U,QACvCzjB,IAAAuX,cAACiH,IAAY,CAACC,QAAQ,wB,yBCzT7B,SAAS8nB,KAsBd,MAAO,CACLC,aAtBF,SAAsBC,GACpB,OAAIhtB,IAAOgtB,GAASC,UACXjtB,IAAOgtB,GAAS5sB,OAAO,cAEzB4sB,GAmBPE,iBAhBF,SAA0BF,GACxB,OAAIhtB,IAAOgtB,GAASC,UACXjtB,IAAOgtB,GAAS5sB,OAAO,oBAEzB4sB,GAaPG,eAVF,SAAwBH,GACtB,OAAIhtB,IAAOgtB,EAAS,cAAcC,UACzBjtB,IAAOgtB,GAAS5sB,OAAO,uBAEzB4sB,I,yBCSX,MAAM/qB,GAAYC,YAAYvH,IAAK,CACjC4wB,UAAW,CACT1W,KAAM,EACNiP,UAAW,IACX5P,SAAU,IACVL,QAASlZ,EAAMqpB,QAAQ,GACvBzZ,UAAW,YACR5P,EAAMmZ,oBAIP/X,GAAUA,CAACC,EAAOC,KACtB,GAAoB,eAAhBA,EAAOpQ,KAAuB,CAChC,MAAM2F,EAAQyK,EAAOC,QACfgL,EAAW,GAajB,OAXItH,mBAAQpO,IACVA,EAAM2V,QAASpY,IACb,MAAMqY,EAAYpL,EAAMK,UAAWgL,GAAMA,EAAEzb,KAAOmD,EAAKnD,KACpC,IAAfwb,EACFpL,EAAMoL,GAAarY,EAEnBmY,EAASpG,KAAK/R,KAKb,IAAIiN,KAAUkL,GAGvB,GAAoB,iBAAhBjL,EAAOpQ,KAAyB,CAClC,MAAMkD,EAAOkN,EAAOC,QACdkL,EAAYpL,EAAMK,UAAWgL,GAAMA,EAAEzb,KAAOmD,EAAKnD,IAEvD,OAAmB,IAAfwb,GACFpL,EAAMoL,GAAarY,EACZ,IAAIiN,IAEJ,CAACjN,KAASiN,GAIrB,GAAoB,gBAAhBC,EAAOpQ,KAAwB,CACjC,MAAMyb,EAASrL,EAAOC,QAEhBkL,EAAYpL,EAAMK,UAAWgL,GAAMA,EAAEzb,KAAO0b,GAIlD,OAHmB,IAAfF,GACFpL,EAAMU,OAAO0K,EAAW,GAEnB,IAAIpL,GAGb,GAAoB,UAAhBC,EAAOpQ,KACT,MAAO,GAGT,GAAoB,gBAAhBoQ,EAAOpQ,KAAwB,CAOjC,OANqBmQ,EAAM4I,IAAK7V,GAC1BA,EAAKnD,KAAOqQ,EAAOC,QAAQnN,KAAKnD,GAC3BqQ,EAAOC,QAAQnN,KAEjBA,KAME,SAASq+B,KACtB,MAAM/pB,EAAUpB,MAEV,KAAEpQ,GAAS6V,qBAAWzG,KAErBlE,EAASC,GAAcC,oBAAS,IAChC2U,EAAUuF,GAAela,mBAAS,OAClC8L,EAAYC,GAAiB/L,mBAAS,IACtC4Z,EAASC,GAAc7Z,oBAAS,IAChCgM,GAAehM,mBAAS,KACxBzL,EAAOqL,GAAYC,qBAAWf,GAAS,KACvC8M,EAAWC,GAAgB7L,oBAAS,IACrC,iBAAEiwB,GAAqBJ,MACtBhI,GAAQC,aAASsI,MAClBpI,EAAgBjO,mBAEtB9Z,oBAAU,KACR+nB,EAAc1N,QAAUuN,EAElB,iBAAkB7U,OAGtBoV,aAAaC,oBAFbC,QAAQC,IAAI,+CAIb,CAACV,IAEJ5nB,oBAAU,KACRL,EAAS,CAAEhR,KAAM,UACjBmd,EAAc,IACb,CAACC,IAEJ/L,oBAAU,KACRF,GAAW,GACX,MAAM2M,EAAkBC,WAAW,KACjCC,KACC,KACH,MAAO,IAAMC,aAAaH,IAEzB,CAACV,EAAaF,IAEjB7L,oBAAU,KACR,MAAMI,EAAY/B,aAAaC,QAAQ,aACjC+B,EAASnC,GAAiB,CAAEkC,cAelC,OAbAC,EAAOC,GAAG,WAADxD,OAAYsD,EAAS,SAAUzD,IACtC,GAAoB,gBAAhBA,EAAKoC,OAA0B,CACjCY,EAAS,CAAEhR,KAAM,cAAeqQ,QAASrC,IACzBA,EAAK0c,WAAWxnB,KAAKpH,MAAMid,IAAI0oB,GAAWA,EAAQhyB,QAEtDsG,SAAS/P,EAAKjG,KAAOiO,EAAK0c,WAAWgX,WAAa17B,EAAKjG,IACjEq5B,EAAc1N,UAGE,WAAhB1d,EAAKoC,QACPY,EAAS,CAAEhR,KAAM,cAAeqQ,QAASrC,MAGtC,KACL0D,EAAOlU,eAGR,IAEH6T,oBAAU,KACR,IAAI6M,EAAe,EACnB,GAAIvY,EAAMwY,OAAS,EACjB,IAAK,IAAIjb,KAAQyC,EACf,IAAK,IAAIyY,KAAYlb,EAAKpH,MACpBsiB,EAAS3O,SAAWzJ,EAAKjG,KAC3Bme,GAAgBE,EAASC,SAM/BpB,IADEiB,EAAe,KAKlB,CAACvY,EAAOK,EAAKjG,KAEhB,MAAMie,EAAa1M,UACjB,IACE,MAAM,KAAEtD,SAAegB,GAAIuC,IAAI,UAAW,CACxC/B,OAAQ,CAAE4N,cAAaF,gBAEzBlM,EAAS,CAAEhR,KAAM,aAAcqQ,QAASrC,EAAKwQ,UAC7CyM,EAAWjd,EAAKgd,SAChB7Z,GAAW,GACX,MAAOxD,GACPD,GAAWC,KA6BT5J,EAAOynB,QAAQzF,GACfhmB,EAAKgE,EAAO,sBAAmB8K,EAErC,OACEnU,IAAAuX,cAAA,WACEvX,IAAAuX,cAACsH,IAAU,CACTsmB,mBAAkB9/B,EAClBsY,QAAQ,YACRnW,MAAO8a,EAAY,UAAY,UAC/BzE,QAtBeJ,IACnBmT,EAAYnT,EAAM6T,eAClB/O,GAAa,IAqBTwB,MAAO,CAAEvc,MAAO,UAEhBxH,IAAAuX,cAACwN,IAAK,CAACvd,MAAM,YAAYmW,QAAQ,MAAM2E,UAAWA,GAChDtiB,IAAAuX,cAACyN,KAAS,QAGdhlB,IAAAuX,cAACgpB,KAAO,CACNl7B,GAAIA,EACJgE,KAAMA,EACNgiB,SAAUA,EACVhB,QA5Bce,KAClBwF,EAAY,OA4BRlF,aAAc,CACZC,SAAU,SACVC,WAAY,UAEdC,gBAAiB,CACfF,SAAU,MACVC,WAAY,WAGd5rB,IAAAuX,cAAC6uB,KAAK,CACJzoB,QAAQ,WACR2V,SArDctH,IACpB,IAAKsE,GAAW9Z,EAAS,OACzB,MAAM,UAAE+c,EAAS,aAAE8S,EAAY,aAAEC,GAAiBta,EAAEsF,cAChD+U,GAAgB9S,EAAY,KAAO+S,GANvC7jB,EAAe+U,GAAcA,EAAY,IAyDnCla,UAAWR,EAAQkoB,WAEnBhlC,IAAAuX,cAAC6G,IAAI,CACHqC,UAAU,MACV2f,aAAW,uBACXrc,MAAO,CAAEwI,SAAU,MAElBlT,mBAAQpO,IACPA,EAAMoT,IAAI,CAAC6iB,EAAM1nB,IACfxZ,IAAAuX,cAACgH,IAAQ,CACP/E,IAAKA,EACLuK,MAAO,CACLoU,WAAY3e,EAAM,IAAM,EAAI,UAAY,QACxC4rB,OAAQ,iBACR/O,OAAQ,WAEVxY,QAASA,KAAMopB,OArDTz+B,EAqDsB04B,OApD1CxX,OAAOoU,SAAS5L,KAAI,UAAAze,OAAajL,EAAKogB,OADlBpgB,OAsDN+X,QAAM,GAENvgB,IAAAuX,cAACiH,IAAY,CACXC,QAASyiB,EAAK7E,YACd3d,UACE1e,IAAAuX,cAAAvX,IAAAikB,SAAA,KACEjkB,IAAAuX,cAACqT,IAAU,CAACnK,UAAU,OAAOsD,MAAO,CAAEK,SAAU,KAC7CuiB,EAAiBzF,EAAKlrB,YAEzBhW,IAAAuX,cAAA,QAAMwM,MAAO,CAAEtH,UAAW,EAAGZ,QAAS,gBAMjDxC,mBAAQpO,IAA2B,IAAjBA,EAAMwY,QACvBzjB,IAAAuX,cAACiH,IAAY,CAACC,QAASlM,KAAKoB,EAAE,uCC9O5C,MAEM+H,GAAYC,YAAYvH,IAAK,CACjCwH,KAAM,CACJC,QAAS,OACTW,OAAQ,QACR,CAACpI,EAAMuhB,YAAYC,KAAK,OAAQ,CAC9BpZ,OAAQ,sBAEVE,gBAAiBtI,EAAMqhB,QAAQyR,gBAC/B,+BAAgC,CAC9B1/B,MAAsB,UAAf4M,EAAM+Y,KAAmB,UAAY,OAC5CiY,OAAuB,UAAfhxB,EAAM+Y,KAAmB,4BAA8B,sCAEjE,0CAA2C,CACzC3lB,MAAsB,UAAf4M,EAAM+Y,KAAmB,UAAY,SAGhDiI,OAAQ,CACNlZ,MAAO,QAETirB,QAAS,CACPpZ,aAAc,GACdvmB,MAAO4M,EAAMqhB,QAAQ2R,KAAKC,KAC1BlP,WAAY/jB,EAAMqhB,QAAQ6R,eAE5BC,YAAa,CACX1rB,QAAS,OACTE,WAAY,SACZ6T,eAAgB,gBAChBtC,QAAS,QACTL,UAAW,OACX,CAAC7Y,EAAMuhB,YAAYC,KAAK,OAAQ,CAC9BpZ,OAAQ,SAGZnR,OAAQ,CACNujB,OAAQxa,EAAMwa,OAAO6V,OAAS,EAC9BhO,WAAYriB,EAAMsiB,YAAYliB,OAAO,CAAC,QAAS,UAAW,CACxDmiB,OAAQviB,EAAMsiB,YAAYC,OAAOC,MACjC1c,SAAU9F,EAAMsiB,YAAYxc,SAAS2c,iBAGzC2Q,YAAa,CACXvgB,WA5CgB,IA6ChB/K,MAAM,eAADzI,OA7CW,IA6CiB,OACjCgjB,WAAYriB,EAAMsiB,YAAYliB,OAAO,CAAC,QAAS,UAAW,CACxDmiB,OAAQviB,EAAMsiB,YAAYC,OAAOC,MACjC1c,SAAU9F,EAAMsiB,YAAYxc,SAAS8c,iBAEvC,CAAC5iB,EAAMuhB,YAAYC,KAAK,OAAQ,CAC9B/Z,QAAS,SAGb4rB,WAAY,CACVnrB,YAAa,IAEforB,iBAAkB,CAChB7rB,QAAS,QAEXtb,MAAO,CACL8b,SAAU,EACV+H,SAAU,GACV5c,MAAO,SAETmgC,YAAa,CACXxjB,SAAU,WACV0J,WAAY,SACZ3R,MApEgB,IAqEhBua,WAAYriB,EAAMsiB,YAAYliB,OAAO,QAAS,CAC5CmiB,OAAQviB,EAAMsiB,YAAYC,OAAOC,MACjC1c,SAAU9F,EAAMsiB,YAAYxc,SAAS8c,iBAEvC,CAAC5iB,EAAMuhB,YAAYC,KAAK,OAAQ,CAC9B1Z,MAAO,WAEN9H,EAAMwzB,qBAEXC,iBAAkB,CAChBC,UAAW,SACXrR,WAAYriB,EAAMsiB,YAAYliB,OAAO,QAAS,CAC5CmiB,OAAQviB,EAAMsiB,YAAYC,OAAOC,MACjC1c,SAAU9F,EAAMsiB,YAAYxc,SAAS2c,gBAEvC3a,MAAO9H,EAAMqpB,QAAQ,GACrB,CAACrpB,EAAMuhB,YAAYoS,GAAG,OAAQ,CAC5B7rB,MAAO9H,EAAMqpB,QAAQ,IAEvB,CAACrpB,EAAMuhB,YAAYC,KAAK,OAAQ,CAC9B1Z,MAAO,SAGX8rB,aAAc,CACZ/a,UAAW,QAEb5pB,QAAS,CACPirB,KAAM,EACNtB,SAAU,QAGZiU,UAAW,CACTjT,WAAY5Z,EAAMqpB,QAAQ,GAC1BxP,cAAe7Z,EAAMqpB,QAAQ,IAE/BgD,MAAO,CACLnT,QAASlZ,EAAMqpB,QAAQ,GACvB5hB,QAAS,OACTmR,SAAU,OACVlR,cAAe,UAEjBmsB,oBAAqB,CACnB3Z,KAAM,EACNhB,QAASlZ,EAAMqpB,QAAQ,GACvBzZ,UAAW,YACR5P,EAAMmZ,iBAEXoQ,qBAAsB,GAGtBuK,KAAM,CACJhsB,MAAO,MACPM,OAAQ,OACRmR,SAAU,IACV,CAACvZ,EAAMuhB,YAAYC,KAAK,OAAQ,CAC9B1Z,MAAO,OACPM,OAAQ,MACRmR,SAAU,KAEZua,KAAM9zB,EAAM8zB,SAoSDC,OAhSQ9wB,IAAgC,IAAD+wB,EAAAC,EAAAC,EAAAC,EAAA,IAA9B,SAAEjxB,EAAQ,YAAEkxB,GAAanxB,EAC/C,MAAMyF,EAAUpB,MACT+sB,EAAeC,GAAoBhyB,oBAAS,IAC5C2U,EAAUuF,GAAela,mBAAS,OAClCyU,EAAUwd,GAAejyB,oBAAS,IACnC,aAAE8D,EAAY,QAAEhE,GAAY2K,qBAAWzG,KACtCkuB,EAAY1R,GAAiBxgB,oBAAS,IACtCmyB,EAAeC,GAAoBpyB,mBAAS,cAE7C,KAAEpL,GAAS6V,qBAAWzG,IAEtBtG,EAAQ20B,eACR,UAAEC,GAAc7nB,qBAAWphB,GAC3BkpC,EAAgBC,YAAc90B,EAAMuhB,YAAYoS,GAAG,QAElDnK,EAAQkD,GAAapqB,mBAAS1B,aAAaC,QAAQ,WAAa,IAEjE,aAAEuxB,GAAiBD,KAkDzB5vB,oBAAU,KACJ6c,SAASrrB,KAAK+tB,YAAc,KAC9BgB,GAAc,IAEf,IAEHvgB,oBAAU,KACJ6c,SAASrrB,KAAK+tB,YAAc,IAC9B4S,EAAiB,aAEjBA,EAAiB,cAElB,CAACF,IAEJjyB,oBAAU,KACR,MAAMI,EAAY/B,aAAaC,QAAQ,aACjCF,EAASC,aAAaC,QAAQ,UAE9B+B,EAASnC,GAAiB,CAAEkC,cAElCC,EAAOC,GAAG,WAADxD,OAAYsD,EAAS,SAAUzD,IAClCA,EAAKhI,KAAKjG,MAAQ0P,IACpB/B,GAAW,+CACXqQ,WAAW,KACTrO,aAAatT,QACbgoB,OAAOoU,SAASqL,UACf,QAIPnyB,EAAOma,KAAK,cACZ,MAAMiY,EAAWC,YAAY,KAC3BryB,EAAOma,KAAK,eACX,KAEH,MAAO,KACLna,EAAOlU,aACPwmC,cAAcF,KAGf,IAEH,MAKMG,EAAkBA,KACtB3Y,EAAY,MACZ+X,GAAY,IAkCd,OAAInyB,EACKxW,IAAAuX,cAACmtB,GAAe,MAIvB1kC,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQlB,MACtB5b,IAAAuX,cAACiyB,IAAM,CACL7rB,QAASkrB,EACTvrB,UAAWsrB,EAAa9rB,EAAQ6qB,YAAc7qB,EAAQ+qB,iBACtD/qB,QAAS,CACP2jB,MAAOpN,YACLvW,EAAQ6qB,aACPiB,GAAc9rB,EAAQ+qB,mBAG3Bx+B,KAAMu/B,GAEN5oC,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQyqB,aACtBvnC,IAAAuX,cAAA,OAAKkV,IAAKyb,KAAM5qB,UAAWR,EAAQorB,KAAM/d,IAAI,SAC7CnqB,IAAAuX,cAACsH,IAAU,CAAChB,QAASA,IAAMqZ,GAAe0R,IACxC5oC,IAAAuX,cAACkyB,IAAe,QAGpBzpC,IAAAuX,cAAC2N,IAAO,MACRllB,IAAAuX,cAAC6G,IAAI,CAACd,UAAWR,EAAQmrB,qBACvBjoC,IAAAuX,cAACyJ,GAAa,CAACC,YA9CHA,KACduS,SAASrrB,KAAK+tB,YAAc,KAC9BgB,GAAc,IA4C+BhW,WAAY0nB,KAEvD5oC,IAAAuX,cAAC2N,IAAO,OAEVllB,IAAAuX,cAACurB,GAAS,CACRz5B,KAAMo/B,EACNpe,QAASA,IAAMqe,GAAiB,GAChC3zB,OAAY,OAAJzJ,QAAI,IAAJA,OAAI,EAAJA,EAAMjG,KAEhBrF,IAAAuX,cAACmyB,IAAM,CACLvlB,SAAS,WACT7G,UAAW+V,YAAKvW,EAAQzR,OAAQu9B,GAAc9rB,EAAQ0qB,aACtDhgC,MAAM,WAENxH,IAAAuX,cAACoyB,IAAO,CAAChsB,QAAQ,QAAQL,UAAWR,EAAQqqB,SAC1CnnC,IAAAuX,cAACsH,IAAU,CACT+qB,KAAK,QACLjsB,QAAQ,YACRyiB,aAAW,cACXviB,QAASA,IAAMqZ,GAAe0R,GAC9BtrB,UAAW+V,YACTvW,EAAQ2qB,WACRmB,GAAc9rB,EAAQ4qB,mBAGxB1nC,IAAAuX,cAACsyB,IAAQ,OAGX7pC,IAAAuX,cAACqT,IAAU,CACTnK,UAAU,KACV9C,QAAQ,KACRnW,MAAM,UACN0tB,QAAM,EACN5X,UAAWR,EAAQvc,OAGlB0oC,GAAmC,WAAd,OAAJ39B,QAAI,IAAJA,OAAI,EAAJA,EAAMrD,WAA2B,OAAJqD,QAAI,IAAJA,GAAa,QAAT88B,EAAJ98B,EAAM2B,eAAO,IAAAm7B,OAAT,EAAJA,EAAezuB,SAC5D3Z,IAAAuX,cAAAvX,IAAAikB,SAAA,KAAE,UACIjkB,IAAAuX,cAAA,SAAIjM,EAAK1K,MAAU,iBAAaZ,IAAAuX,cAAA,SAAQ,OAAJjM,QAAI,IAAJA,GAAa,QAAT+8B,EAAJ/8B,EAAM2B,eAAO,IAAAo7B,OAAT,EAAJA,EAAeznC,MAAS,mBAAc4lC,EAAiB,OAAJl7B,QAAI,IAAJA,GAAa,QAATg9B,EAAJh9B,EAAM2B,eAAO,IAAAq7B,OAAT,EAAJA,EAAe3uB,SAAS,KAGrH3Z,IAAAuX,cAAAvX,IAAAikB,SAAA,KAAE,WACKjkB,IAAAuX,cAAA,SAAIjM,EAAK1K,MAAU,iBAAaZ,IAAAuX,cAAA,SAAQ,OAAJjM,QAAI,IAAJA,GAAa,QAATi9B,EAAJj9B,EAAM2B,eAAO,IAAAs7B,OAAT,EAAJA,EAAe3nC,MAAS,MAKvEZ,IAAAuX,cAACsH,IAAU,CAAC+qB,KAAK,QAAQ/rB,QA5ET3d,KACtB8oC,EAAU9oC,oBA4Ec,SAAfkU,EAAM+Y,KAAkBntB,IAAAuX,cAACuyB,KAAe,CAAC/lB,MAAO,CAAEvc,MAAO,WAAgBxH,IAAAuX,cAACwyB,KAAe,CAAChmB,MAAO,CAAEvc,MAAO,YAG7GxH,IAAAuX,cAACspB,GAAmB,CAClBC,UAAWA,EACXlD,OAAQA,IAGV59B,IAAAuX,cAACsH,IAAU,CACThB,QAjGgBmsB,KACxBtgB,OAAOoU,SAASqL,QAAO,IAiGf/I,aAAY7tB,KAAKoB,EAAE,6BACnBnM,MAAM,WAENxH,IAAAuX,cAAC0yB,IAAU,CAAClmB,MAAO,CAAEvc,MAAO,YAG7B8D,EAAKjG,IAAMrF,IAAAuX,cAAComB,GAAoB,CAACC,OAAQA,IAE1C59B,IAAAuX,cAACsuB,GAAoB,MAErB7lC,IAAAuX,cAACsvB,GAAW,MAEZ7mC,IAAAuX,cAAA,WACEvX,IAAAuX,cAACsH,IAAU,CACTuhB,aAAW,0BACX8J,gBAAc,cACdC,gBAAc,OACdtsB,QA7IQJ,IAClBmT,EAAYnT,EAAM6T,eAClBqX,GAAY,IA4IFhrB,QAAQ,YACRoG,MAAO,CAAEvc,MAAO,UAEhBxH,IAAAuX,cAAC6yB,IAAa,OAEhBpqC,IAAAuX,cAACiU,IAAI,CACHnmB,GAAG,cACHgmB,SAAUA,EACVI,mBAAoB,KACpBC,aAAc,CACZC,SAAU,SACVC,WAAY,SAEdC,gBAAiB,CACfF,SAAU,MACVC,WAAY,SAEdviB,KAAM8hB,EACNd,QAASkf,GAETvpC,IAAAuX,cAACwU,IAAQ,CAAClO,QAxJMwsB,KAC1B3B,GAAiB,GACjBa,MAuJah3B,KAAKoB,EAAE,uCAOlB3T,IAAAuX,cAAA,QAAM+F,UAAWR,EAAQzZ,SACvBrD,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQkrB,eAEvB1wB,GAAsB,Q,iNC/bhBgzB,OARD1qB,GAEZ5f,IAAAuX,cAACqT,IAAU,CAACnK,UAAU,KAAK9C,QAAQ,KAAKnW,MAAM,UAAUmlB,cAAY,GAClE/M,EAAMtI,UCoGKizB,OAxFDA,KACb,MAAMn2B,EAAQ20B,cAERj8B,EAAO2jB,kBAAO,IAAIxS,MAAOusB,gBACzB,QAAEthC,GAAY+zB,GAAW,CAAEnwB,KAAMA,EAAKkkB,WAErCyZ,EAAWC,GAAgBh0B,mBAAS,CAC1C,CAAEi0B,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,GACzB,CAAED,KAAM,QAASC,OAAQ,KAkB1B,OAfAj0B,oBAAU,KACT+zB,EAAalT,IACZ,IAAIqT,EAAM,IAAIrT,GASd,OAPAqT,EAAIjqB,QAAQuH,IACXjf,EAAQ0X,QAAQuP,IACftW,aAAOixB,aAAY1Y,aAASjC,EAAOhS,YAAa,WAAagK,EAAEwiB,MAC9DxiB,EAAEyiB,aAIEC,KAEN,CAAC3hC,IAGHlJ,IAAAuX,cAACvX,IAAMikB,SAAQ,KACdjkB,IAAAuX,cAAC+yB,GAAK,QAAA72B,OAAKlB,KAAKoB,EAAE,kCAAgCF,OACjDvK,EAAQua,SAETzjB,IAAAuX,cAACwzB,KAAmB,KACnB/qC,IAAAuX,cAACyzB,KAAQ,CACR13B,KAAMm3B,EACNQ,QAAS,GACT/uB,MAAO,IACPM,OAAQ,IACRR,OAAQ,CACP+K,IAAK,GACL6G,MAAO,GACPwB,OAAQ,EACRpI,KAAM,KAGPhnB,IAAAuX,cAAC2zB,KAAa,CAACC,gBAAgB,QAC/BnrC,IAAAuX,cAAC6zB,KAAK,CAACC,QAAQ,OAAOC,OAAQl3B,EAAMqhB,QAAQ1mB,KAAK2P,YACjD1e,IAAAuX,cAACg0B,KAAK,CACLjmC,KAAK,SACLkmC,eAAe,EACfF,OAAQl3B,EAAMqhB,QAAQ1mB,KAAK2P,WAE3B1e,IAAAuX,cAACk0B,KAAK,CACLC,MAAO,IACPvnB,SAAS,OACTJ,MAAO,CAAE4nB,WAAY,SAAUxX,KAAM/f,EAAMqhB,QAAQ1mB,KAAK0P,UACxD,YAIFze,IAAAuX,cAACq0B,KAAG,CAACP,QAAQ,SAASlX,KAAM/f,EAAMqhB,QAAQhX,QAAQ4oB,WC3FvD,MAAM3rB,GAAYC,YAAWvH,IAAK,CACjCy3B,WAAY,CACXznB,SAAU,OACV5c,MAAO40B,KAAK,KACZ1f,gBAAiB,UACjBR,MAAO9H,EAAMqpB,QAAQ,GACrBjhB,OAAQpI,EAAMqpB,QAAQ,IAEvBqO,UAAW,CACV1nB,SAAU,OACV5c,MAAO4M,EAAMqhB,QAAQ1mB,KAAK0P,SAE3BstB,aAAc,CACbvkC,MAAO40B,KAAK,KACZhY,SAAU,WAIG,SAAS4nB,GAAYpsB,GAChC,MAAM,KAAEC,EAAI,MAAEtf,EAAK,MAAEkX,EAAK,QAAEjB,GAAYoJ,EACrC9C,EAAUpB,KACb,OAAUlF,EAoBJxW,IAAAuX,cAAC8d,KAAQ,CAAC1X,QAAQ,OAAOnB,OAAQ,KAnBnCxc,IAAAuX,cAACud,KAAI,KACD90B,IAAAuX,cAACyd,KAAU,CACPI,OACIp1B,IAAAuX,cAACge,KAAM,CAACjY,UAAWR,EAAQ+uB,YACtBhsB,GAGTtf,MACIP,IAAAuX,cAACqT,IAAU,CAACjN,QAAQ,KAAK8C,UAAU,KAAKnD,UAAWR,EAAQgvB,WACrDvrC,GAGVi1B,UACIx1B,IAAAuX,cAACqT,IAAU,CAACjN,QAAQ,YAAY8C,UAAU,IAAInD,UAAWR,EAAQivB,cAC3Dt0B,M,qICxB1B,MAAMiE,GAAYC,YAAWvH,IAAK,CACjC6C,GAAI,CACHzP,MAAOsf,KAAM,KACb1C,SAAU,QAEX6nB,IAAK,CACJzkC,MAAO0kC,KAAI,KACX9nB,SAAU,QAER+nB,QAAS,CACL9V,OAAQ,cAIT,SAAS+V,GAAS/0B,GAAe,IAAb,OAAEg1B,GAAQh1B,EACjC,MAAMi1B,EAAyB,OAAXD,EAAkB,EAAIjyB,KAAKmyB,MAAMF,GACrD,OAAOrsC,IAAAuX,cAACi1B,KAAM,CACVC,aAAcH,EACd9K,IAAK,EACLkL,UAAQ,IAID,SAASC,GAAsB/sB,GAC1C,MAAM,QAAEpJ,EAAO,WAAEo2B,GAAehtB,EAC7B9C,EAAUpB,KAwBb,OAAUlF,EAgCJxW,IAAAuX,cAAC8d,KAAQ,CAAC1X,QAAQ,OAAOnB,OAAQ,MA/BnCxc,IAAAuX,cAACs1B,KAAc,CAACpsB,UAAW2lB,MACvBpmC,IAAAuX,cAACu1B,KAAK,KACF9sC,IAAAuX,cAACw1B,KAAS,KACN/sC,IAAAuX,cAACy1B,KAAQ,KACLhtC,IAAAuX,cAAC01B,KAAS,KAAC,QACXjtC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAS,oBAC1BltC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAS,uBAC1BltC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAS,oBAGlCltC,IAAAuX,cAAC41B,KAAS,KAhCXP,EAAWvuB,IAAI,CAAC8J,EAAGilB,KACtBptC,WAAAuX,cAACy1B,KAAQ,CAACxzB,IAAK4zB,GACXptC,IAAAuX,cAAC01B,KAAS,KAAE9kB,EAAEvnB,MACdZ,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,SAAS3sC,MAAM,yDAAyD+c,UAAWR,EAAQqvB,SACxGnsC,IAAAuX,cAAC60B,GAAS,CAACC,OAAQlkB,EAAEkkB,UAEzBrsC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,WAWZG,EAXiCllB,EAAEmlB,eAY/C7zB,MAAS8zB,QAAQ,OAAO1qC,IAAIwqC,EAAS,WAAWxzB,OAAO,iBAXhD7Z,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACX/kB,EAAEqlB,OACAxtC,IAAAuX,cAACk2B,KAAe,CAACnwB,UAAWR,EAAQ7F,KAClCjX,IAAAuX,cAACm2B,KAAS,CAACpwB,UAAWR,EAAQmvB,QAOvD,IAAoBoB,OC/CNM,OAhBMA,KAWV,CACHp0B,KAVS3C,UACT,MAAM,KAAEtD,SAAegB,GAAI2D,QAAQ,CAC/BmH,IAAI,aACJC,OAAQ,MACRvK,WAEJ,OAAOxB,KC0EAs6B,OAlFMA,KAsEV,CACHhsC,KArESgV,UACT,MAAQtD,KAAMgM,SAAuBhL,GAAI2D,QAAQ,CAC7CmH,IAAK,aACLC,OAAQ,OACR/L,SAEJ,OAAOgM,GAgEP7R,OA5BWmJ,UACX,MAAQtD,KAAMgM,SAAuBhL,GAAI2D,QAAQ,CAC7CmH,IAAI,cAAD3L,OAAgBH,EAAKjO,IACxBga,OAAQ,MACR/L,SAEJ,OAAOgM,GAuBPE,OApBW5I,UACX,MAAM,KAAEtD,SAAegB,GAAI2D,QAAQ,CAC/BmH,IAAI,cAAD3L,OAAgBpO,GACnBga,OAAQ,WAEZ,OAAO/L,GAgBPsJ,KAvDShG,UACT,MAAM,KAAEtD,SAAegB,GAAI2D,QAAQ,CAC/BmH,IAAI,kBACJC,OAAQ,QAEZ,OAAO/L,GAmDPiG,KAhDS3C,UACT,MAAM,KAAEtD,SAAegB,GAAI2D,QAAQ,CAC/BmH,IAAI,cAAD3L,OAAgBpO,GACnBga,OAAQ,QAEZ,OAAO/L,GA4CPu6B,QAzCYj3B,UACZ,MAAM,KAAEtD,SAAegB,GAAI2D,QAAQ,CAC/BmH,IAAI,cAAD3L,OAAgBpO,GACnBga,OAAQ,QAEZ,OAAO/L,GAqCPw6B,QAlEYl3B,UACZ,MAAM,KAAEtD,SAAegB,GAAI2D,QAAQ,CAC/BmH,IAAI,aACJC,OAAQ,QAEZ,OAAO/L,GA8DPy6B,gBAjBoBn3B,UACpB,MAAQtD,KAAMgM,SAAuBhL,GAAI2D,QAAQ,CAC7CmH,IAAI,cAAD3L,OAAgBH,EAAKjO,GAAE,cAC1Bga,OAAQ,MACR/L,SAEJ,OAAOgM,KChCf,MAAM5D,GAAYC,YAAYvH,IAAK,CACjC6sB,UAAW,CACTjT,WAAY5Z,EAAMqpB,QAAQ,GAC1BxP,cAAe7Z,EAAMqpB,QAAQ,IAE/BuQ,iBAAkB,CAChB1gB,QAASlZ,EAAMqpB,QAAQ,GACvB5hB,QAAS,OACTC,cAAe,SACfU,OAAQ,IACRwH,UAAW,UACR5P,EAAMmZ,iBAEXse,WAAY,CACVznB,SAAU,OACV5c,MAAO40B,KAAK,KACZ1f,gBAAiB,UACjBR,MAAO9H,EAAMqpB,QAAQ,GACrBjhB,OAAQpI,EAAMqpB,QAAQ,IAExBqO,UAAW,CACT1nB,SAAU,OACV5c,MAAOy0B,KAAK,MAEd8P,aAAc,CACZvkC,MAAO40B,KAAK,KACZhY,SAAU,QAEZ6pB,WAAY,CACV5pB,UAAW,SAEbyI,UAAW,CACT5Q,MAAO,QAETgyB,gBAAiB,CACfhyB,MAAO,OACPmI,UAAW,WAqRA8pB,OAjRGA,KAChB,MAAMrxB,EAAUpB,MACT0yB,EAAUC,GAAe33B,mBAAS,KAClCk2B,EAAY0B,GAAiB53B,mBAAS,KACtC63B,EAAYC,GAAiB93B,mBAAS,IACtC+3B,EAAQC,GAAah4B,mBAAS,IAC9Bi4B,EAAgBC,GAAqBl4B,sBACrCm4B,EAAUC,GAAep4B,mBAC9B+C,IAAO,IAAK,KAAKI,OAAO,gBAEnBk1B,EAAQC,GAAat4B,mBAAS+C,MAASI,OAAO,gBAC9CrD,EAASC,GAAcC,oBAAS,IACjC,KAAE6C,GAASo0B,MACX,QAAEE,GAAYD,KAyBpBh3B,eAAeuM,IACb1M,GAAW,GAEX,IAAI3B,EAAS,GAsBb,GApBI25B,EAAS,IACX35B,EAAS,CACPm6B,KAAMR,KAILS,mBAAQL,IAAap1B,IAAOo1B,GAAUnI,YACzC5xB,EAAS,IACJA,EACHq6B,UAAW11B,IAAOo1B,GAAUh1B,OAAO,iBAIlCq1B,mBAAQH,IAAWt1B,IAAOs1B,GAAQrI,YACrC5xB,EAAS,IACJA,EACHs6B,QAAS31B,IAAOs1B,GAAQl1B,OAAO,gBAIA,IAA/BwG,OAAOgvB,KAAKv6B,GAAQ2O,OAGtB,OAFA/P,IAAMH,MAAM,6BACZkD,GAAW,GAIb,MAAMnD,QAAaiG,EAAKzE,GAIxBu5B,EAAY/6B,EAAK86B,UACb/0B,mBAAQ/F,EAAKs5B,YACf0B,EAAch7B,EAAKs5B,YAEnB0B,EAAc,IAGhB73B,GAAW,GAlEbE,oBAAU,KAIR0M,WAAW,MAHXzM,uBACQuM,IAGNmsB,IACC,MAEF,IA6DH34B,oBAAU,MACRC,uBACQ24B,IAERpsB,IACC,IAGH,MAAMpM,EAAY/B,aAAaC,QAAQ,aACjCs6B,EAAgB34B,UACpBH,GAAW,GACX,IACE,MAAM+4B,QAAsB3B,EAAQ92B,GACpC63B,EAAkBn1B,IAAO+1B,EAAc71B,SAASE,OAAO,eACvD,MAAOmS,GACPgT,QAAQC,IAAI,+BAAsBjT,GAGpCvV,GAAW,IAGb,SAASg5B,EAAWpC,GAClB,OAAO5zB,MACJ8zB,QAAQ,OACR1qC,IAAIwqC,EAAS,WACbxzB,OAAO,eA2DZ,OACE7Z,IAAAuX,cAAA,WACEvX,IAAAuX,cAACm4B,KAAS,CAAC/hB,SAAS,KAAKrQ,UAAWR,EAAQmkB,WAC1CjhC,IAAAuX,cAACypB,KAAI,CAACC,WAAS,EAACxD,QAAS,EAAG7N,eAAe,YACzC5vB,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAIuO,GAAI,EAAGC,GAAI,GAC5B5vC,IAAAuX,cAACy0B,GAAW,CACVnsB,KAAM7f,IAAAuX,cAACs4B,KAAS,CAACzrB,SAAS,YAC1B7jB,MAAM,kBACNkX,MAAOk3B,EACPn4B,QAASA,KAGbxW,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,IACbphC,IAAAuX,cAAC6uB,KAAK,CAAC9oB,UAAWR,EAAQkxB,kBACxBhuC,IAAAuX,cAACgzB,GAAK,QAGVvqC,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAIuO,GAAI,EAAGC,GAAI,GAC5B5vC,IAAAuX,cAACwqB,KAAW,CAACzkB,UAAWR,EAAQoxB,iBAC9BluC,IAAAuX,cAACyqB,KAAU,CAAC38B,GAAG,yBAAwB,kBACvCrF,IAAAuX,cAAC0qB,KAAM,CACLsC,QAAQ,wBACR9sB,MAAO82B,EACP/wB,SAAWwO,GAlKzBpV,eAAsCa,GACpC+2B,EAAc/2B,GACA,IAAVA,EACFi3B,EAAU,IAEVI,EAAY,IACZE,EAAU,KA4JiBc,CAAuB9jB,EAAEtO,OAAOjG,QAEjDzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,GAAG,mBACpBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,GAAG,0BAEtBzX,IAAAuX,cAACw4B,KAAc,KAAC,qCAnFP,IAAfxB,EAEAvuC,IAAAuX,cAAAvX,IAAAikB,SAAA,KACEjkB,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAIuO,GAAI,EAAGC,GAAI,GAC5B5vC,IAAAuX,cAACgG,KAAS,CACR/Q,MAAM,eACNlH,KAAK,OACLmS,MAAOo3B,EACPrxB,SAAWwO,GAAM8iB,EAAY9iB,EAAEtO,OAAOjG,OACtC6F,UAAWR,EAAQgQ,UACnBkjB,gBAAiB,CACfC,QAAQ,MAIdjwC,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAIuO,GAAI,EAAGC,GAAI,GAC5B5vC,IAAAuX,cAACgG,KAAS,CACR/Q,MAAM,aACNlH,KAAK,OACLmS,MAAOs3B,EACPvxB,SAAWwO,GAAMgjB,EAAUhjB,EAAEtO,OAAOjG,OACpC6F,UAAWR,EAAQgQ,UACnBkjB,gBAAiB,CACfC,QAAQ,OAQhBjwC,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAIuO,GAAI,EAAGC,GAAI,GAC5B5vC,IAAAuX,cAACwqB,KAAW,CAACzkB,UAAWR,EAAQoxB,iBAC9BluC,IAAAuX,cAACyqB,KAAU,CAAC38B,GAAG,yBAAwB,cACvCrF,IAAAuX,cAAC0qB,KAAM,CACLsC,QAAQ,wBACRl/B,GAAG,kBACHoS,MAAOg3B,EACPjxB,SAAWwO,GA9HvBpV,eAAkCa,GAChCi3B,EAAUj3B,GA6HiBy4B,CAAmBlkB,EAAEtO,OAAOjG,QAE7CzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,GAAG,sBACpBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,GAAG,qBACpBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,GAAG,qBACpBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,IAAI,sBACrBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,IAAI,sBACrBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,IAAI,sBACrBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,IAAI,uBAEvBzX,IAAAuX,cAACw4B,KAAc,KAAC,qCAyClB/vC,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAI9jB,UAAWR,EAAQmxB,YACpCjuC,IAAAuX,cAAC2P,GAAiB,CAChB1Q,QAASA,EACTqH,QAASA,IAAMsF,IACfxF,QAAQ,YACRnW,MAAM,WACP,YAIHxH,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAIuO,GAAI,EAAGC,GAAI,GAC5B5vC,IAAAuX,cAACy0B,GAAW,CACVnsB,KAAM7f,IAAAuX,cAAC44B,KAAS,CAAC/rB,SAAS,YAC1B7jB,MAAM,iBACNkX,MAAO22B,EAASgC,eAChB55B,QAASA,KAGbxW,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAIuO,GAAI,EAAGC,GAAI,GAC5B5vC,IAAAuX,cAACy0B,GAAW,CACVnsB,KAAM7f,IAAAuX,cAAC44B,KAAS,CAAC/rB,SAAS,YAC1B7jB,MAAM,mBACNkX,MAAO22B,EAASiC,iBAChB75B,QAASA,KAGbxW,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAIuO,GAAI,EAAGC,GAAI,GAC5B5vC,IAAAuX,cAACy0B,GAAW,CACVnsB,KAAM7f,IAAAuX,cAAC+4B,KAAc,CAAClsB,SAAS,YAC/B7jB,MAAM,kBACNkX,MAAO22B,EAASmC,gBAChB/5B,QAASA,KAGbxW,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAIuO,GAAI,EAAGC,GAAI,GAC5B5vC,IAAAuX,cAACy0B,GAAW,CACVnsB,KAAM7f,IAAAuX,cAACi5B,KAAU,CAACpsB,SAAS,YAC3B7jB,MAAM,QACNkX,MAAO22B,EAASqC,MAChBj6B,QAASA,KAGbxW,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAIuO,GAAI,EAAGC,GAAI,GAC5B5vC,IAAAuX,cAACy0B,GAAW,CACVnsB,KAAM7f,IAAAuX,cAACm5B,KAAS,CAACtsB,SAAS,YAC1B7jB,MAAM,sBACNkX,MAAOg4B,EAAWrB,EAASd,gBAC3B92B,QAASA,KAGbxW,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAIuO,GAAI,EAAGC,GAAI,GAC5B5vC,IAAAuX,cAACy0B,GAAW,CACVnsB,KAAM7f,IAAAuX,cAACm5B,KAAS,CAACtsB,SAAS,YAC1B7jB,MAAM,iBACNkX,MAAOg4B,EAAWrB,EAASuC,aAC3Bn6B,QAASA,KAGbxW,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,IACZwL,EAAWnpB,OACVzjB,IAAAuX,cAACo1B,GAAqB,CACpBC,WAAYA,EACZp2B,QAASA,IAET,U,yKC9ThB,MAAMkF,GAAYC,YAAWvH,IAAK,CACjCwH,KAAM,CACLC,QAAS,OACT6Q,SAAU,QAEXkkB,UAAW,CACVt0B,YAAalI,EAAMqpB,QAAQ,GAC3BnP,KAAM,GAGPuiB,UAAW,CACVh1B,QAAS,OACT+T,eAAgB,SAChB7T,WAAY,UAGbymB,WAAY,CACXre,SAAU,YAGX0C,eAAgB,CACfrf,MAAOsf,KAAM,KACb3C,SAAU,WACV4C,IAAK,MACLC,KAAM,MACNvK,WAAY,GACZwK,YAAa,OAIT6pB,GAAgBnO,OAAaC,MAAM,CACxChiC,KAAM+hC,OACJpB,IAAI,EAAG,cACPC,IAAI,GAAI,aACRqB,SAAS,YACX17B,OAAQw7B,OAAapB,IAAI,EAAG,cAAcC,IAAI,GAAI,aAClD3gC,MAAO8hC,OAAa9hC,MAAM,mBA+NZkwC,OA5NM15B,IAA0D,IAAzD,KAAEhO,EAAI,QAAEghB,EAAO,UAAE2mB,EAAS,cAAExN,EAAa,OAAEyN,GAAQ55B,EACxE,MAAMyF,EAAUpB,KACVof,EAAYrK,kBAAO,GAEnBsS,EAAe,CACpBniC,KAAM,GACNuG,OAAQ,GACRtG,MAAO,KAGDuH,EAAS+uB,GAAczgB,mBAASqsB,GAEvCpsB,oBAAU,IACF,KACNmkB,EAAU9J,SAAU,GAEnB,IAEHra,oBAAU,KACYC,WAOpB,GANI4sB,GACHrM,EAAWK,IACH,IAAKA,KAAcgM,KAIvBwN,EAEL,IACC,MAAM,KAAE19B,SAAegB,GAAIuC,IAAI,aAADpD,OAAcu9B,IACxClW,EAAU9J,UACbgO,QAAQC,IAAI3rB,GACZ6jB,EAAW7jB,IAEX,MAAOL,GACRD,GAAWC,KAIbi+B,IACE,CAACF,EAAW3nC,EAAMm6B,IAErB,MAAMpY,EAAcA,KACnBf,IACA8M,EAAW4L,IAqBZ,OACC/iC,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQlB,MACvB5b,IAAAuX,cAACgT,KAAM,CAAClhB,KAAMA,EAAMghB,QAASe,EAAauC,SAAS,KAAK2V,OAAO,SAC9DtjC,IAAAuX,cAACkT,KAAW,CAACplB,GAAG,qBACL,GAAAoO,OAATu9B,EACKz+B,KAAKoB,EAAE,2BACPpB,KAAKoB,EAAE,4BAEd3T,IAAAuX,cAACgsB,KAAM,CACNC,cAAep7B,EACfq7B,oBAAoB,EACpBC,iBAAkBoN,GAClBnN,SAAUA,CAACC,EAAQhgC,KAClByf,WAAW,KA/BUzM,WACzB,IACC,GAAIo6B,QACG18B,GAAImoB,IAAI,aAADhpB,OAAcu9B,GAAapN,GACxCxY,QACM,CACN,MAAM,KAAE9X,SAAegB,GAAIsE,KAAK,YAAagrB,GACzCqN,GACHA,EAAO39B,GAER8X,IAED1X,IAAMjT,QAAQ8R,KAAKoB,EAAE,yBACpB,MAAOV,GACRD,GAAWC,KAkBPk+B,CAAkBvN,GAClBhgC,EAAQkgC,eAAc,IACpB,OAGHnc,IAAA,IAAC,OAAEic,EAAM,OAAEI,EAAM,QAAED,EAAO,aAAEE,GAActc,EAAA,OAC1C3nB,IAAAuX,cAAC2sB,KAAI,KACJlkC,IAAAuX,cAACmT,KAAa,CAACC,UAAQ,GACtB3qB,IAAAuX,cAACqT,IAAU,CAACjN,QAAQ,YAAYgP,cAAY,GAC1Cpa,KAAKoB,EAAE,+BAET3T,IAAAuX,cAAC4sB,KAAK,CACLC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,0BACd/S,KAAK,OACLyjC,WAAS,EACT9wB,MAAOwwB,EAAQnjC,MAAQkwB,QAAQkT,EAAOpjC,MACtC0jC,WAAYP,EAAQnjC,MAAQojC,EAAOpjC,KACnC+c,QAAQ,WACR3B,OAAO,QACPsB,UAAWR,EAAQ8zB,YAEpB5wC,IAAAuX,cAAC4sB,KAAK,CACLC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,4BACd/S,KAAK,SACL2S,MAAOwwB,EAAQ58B,QAAU2pB,QAAQkT,EAAO78B,QACxCm9B,WAAYP,EAAQ58B,QAAU68B,EAAO78B,OACrC8B,YAAY,gBACZ0U,QAAQ,WACR3B,OAAO,UAERhc,IAAAuX,cAAA,WACCvX,IAAAuX,cAAC4sB,KAAK,CACLC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,2BACd/S,KAAK,QACL2S,MAAOwwB,EAAQljC,OAASiwB,QAAQkT,EAAOnjC,OACvCyjC,WAAYP,EAAQljC,OAASmjC,EAAOnjC,MACpCoI,YAAY,gBACZ6jB,WAAS,EACT9Q,OAAO,QACP2B,QAAQ,cAGV3d,IAAAuX,cAACqT,IAAU,CACV7G,MAAO,CAAE5H,aAAc,EAAGM,UAAW,IACrCkB,QAAQ,aAEPpL,KAAKoB,EAAE,8BAA8B,KAAS,OAAPvL,QAAO,IAAPA,OAAO,EAAPA,EAASjD,UAAkB,OAAPiD,QAAO,IAAPA,OAAO,EAAPA,EAASjD,SAASvE,KAAO,IAEtFZ,IAAAuX,cAACqT,IAAU,CACV7G,MAAO,CAAE5H,aAAc,EAAGM,UAAW,IACrCkB,QAAQ,aAEPpL,KAAKoB,EAAE,gCAGT3T,IAAAuX,cAAC65B,KAAU,CAACxwC,KAAK,aACfywC,IAAA,IAAC,KAAE92B,EAAI,OAAEiF,GAAQ6xB,EAAA,OACjBrxC,IAAAuX,cAAAvX,IAAAikB,SAAA,KACE2f,EAAO18B,WACP08B,EAAO18B,UAAUuc,OAAS,GAC1BmgB,EAAO18B,UAAUmX,IAAI,CAACizB,EAAMhzB,IAC3Bte,IAAAuX,cAAA,OACC+F,UAAWR,EAAQ+zB,UACnBr3B,IAAG,GAAA/F,OAAK6K,EAAK,UAEbte,IAAAuX,cAAC4sB,KAAK,CACLC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,+BACd/S,KAAI,aAAA6S,OAAe6K,EAAK,UACxBX,QAAQ,WACR3B,OAAO,QACPsB,UAAWR,EAAQ8zB,YAEpB5wC,IAAAuX,cAAC4sB,KAAK,CACLC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,gCACd/S,KAAI,aAAA6S,OAAe6K,EAAK,WACxBX,QAAQ,WACR3B,OAAO,QACPsB,UAAWR,EAAQ8zB,YAEpB5wC,IAAAuX,cAACsH,IAAU,CACVwI,KAAK,QACLxJ,QAASA,IAAM2B,EAAOlB,IAEtBte,IAAAuX,cAACg6B,KAAiB,SAItBvxC,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQ+zB,WACvB7wC,IAAAuX,cAACqG,KAAM,CACNmG,MAAO,CAAEuK,KAAM,EAAG7R,UAAW,GAC7BkB,QAAQ,WACRnW,MAAM,UACNqW,QAASA,IAAMtD,EAAK,CAAE3Z,KAAM,GAAI6W,MAAO,MAAM,KAAAhE,OAEvClB,KAAKoB,EAAE,4CAOnB3T,IAAAuX,cAACsT,KAAa,KACb7qB,IAAAuX,cAACqG,KAAM,CACNC,QAASuN,EACT5jB,MAAM,YACN/F,SAAUwiC,EACVtmB,QAAQ,YAEPpL,KAAKoB,EAAE,gCAET3T,IAAAuX,cAACqG,KAAM,CACNtY,KAAK,SACLkC,MAAM,UACN/F,SAAUwiC,EACVtmB,QAAQ,YACRL,UAAWR,EAAQ0lB,YAET,GAAA/uB,OAATu9B,EACKz+B,KAAKoB,EAAE,+BACPpB,KAAKoB,EAAE,+BACZswB,GACAjkC,IAAAuX,cAAC6P,KAAgB,CAChBC,KAAM,GACN/J,UAAWR,EAAQ+J,yBCnP9B,MAAMnL,GAAYC,YAAYvH,IAAK,CACjCo5B,OAAQ,CACNppB,SAAU,GACV5c,MAAO,WAETgqC,QAAS,CACPptB,SAAU,GACV5c,MAAO,cAILoc,GAAS6tB,aAAoB,CACjC1zB,MAAM,IAuXO2zB,OApXQr6B,IAA6C,IAADmoB,EAAA,IAA3C,UAAEmS,EAAS,QAAEtnB,EAAO,eAAEunB,GAAgBv6B,EAC5D,MAAMyF,EAAUpB,MACTrM,EAASwiC,GAAcn7B,mBAAS,KAEhCF,EAASC,GAAcC,oBAAS,IAChCgM,EAAaovB,GAAkBp7B,mBAAS,KACxCq7B,EAAiBC,GAAsBt7B,mBAAS,OAChDu7B,EAAeC,GAAoBx7B,mBAAS,KAC5Cy7B,EAAkBC,GAAuB17B,mBAAS,KAClD27B,EAAYC,GAAiB57B,mBAAS,KACtC67B,EAAWC,GAAgB97B,mBAAS,KACpC+7B,EAAkBC,GAAuBh8B,oBAAS,IACnD,KAAEpL,GAAS6V,qBAAWzG,KACtB,UAAE3D,EAAS,WAAEG,GAAe5L,GAE1BqnC,EAAWC,GAAiBl8B,oBAAS,IACtCm8B,EAAgBC,GAAqBp8B,mBAAS,KAC9Cq8B,EAAiBC,GAAsBt8B,mBAAS,IAEvDC,oBAAU,UACmBxC,KAAT,OAAdy9B,QAAc,IAAdA,OAAc,EAAdA,EAAgBvsC,MAClBwsC,EAAW,CAACD,IACZI,EAAmBJ,KAEpB,CAACA,IAEJj7B,oBAAU,KACRF,GAAW,GACX,MAAM2M,EAAkBC,WAAW,KAOd,OAAfnM,QAAqC/C,IAAd+C,GACzBk7B,EAAoBl7B,GAGK,IAAvB5L,EAAKZ,OAAO+Y,QACdyuB,EAAiB5mC,EAAKZ,OAAO,GAAGrF,IAXZuR,WACpBtC,GACGuC,IAAI,YAAa,CAAE/B,OAAQ,CAAEiC,YAAWlT,QAAS,KACjDovC,KAAKtrB,IAAA,IAAC,KAAErU,GAAMqU,EAAA,OAAK6qB,EAAal/B,MAUrC4/B,GACAz8B,GAAW,IACV,KACH,MAAO,IAAM8M,aAAaH,IACzB,IAEHzM,oBAAU,KACR,IAAKg7B,GAAajvB,EAAYe,OAAS,EAErC,YADAhN,GAAW,GAGbA,GAAW,GACX,MAAM2M,EAAkBC,WAAW,KACXzM,WACpB,IACE,MAAM,KAAEtD,SAAegB,GAAIuC,IAAI,WAAY,CACzC/B,OAAQ,CAAE4N,iBAEZmvB,EAAWv+B,EAAKxO,UAChB2R,GAAW,GACX,MAAOxD,GACPwD,GAAW,GACXzD,GAAWC,KAGfigC,IACC,KACH,MAAO,IAAM3vB,aAAaH,IACzB,CAACV,EAAaivB,IAejB,MAAMvmB,EAAcA,KAClBf,IACAynB,EAAe,IACfc,GAAa,GACbE,EAAkB,IAClBE,EAAmB,IACnBhB,EAAmB,OAWfmB,EAAmBv8B,UACvB,GAAKo6B,EACL,GAAsB,KAAlBiB,GAAyC,UAAjB3mC,EAAKrD,QAAjC,CAKAwO,GAAW,GACX,IACE,MAAM4gB,EAA4B,KAAlB4a,EAAuBA,EAAgB,KACjD/6B,EAAkC,KAArBi7B,EAA0BA,EAAmB,MACxD7+B,KAAM6c,SAAiB7b,GAAIsE,KAAK,WAAY,CAClDo4B,UAAWA,EACX3Z,UACAngB,aACAnC,OAAQzJ,EAAKjG,GACb5B,OAAQ,SAGV4mB,EAAQ8F,GACR,MAAOld,GAEP,MAAMkd,EAAU/X,KAAKC,MAAMpF,EAAII,SAASC,KAAKC,OAEzC4c,EAAOpb,UAAe,OAAJzJ,QAAI,IAAJA,OAAI,EAAJA,EAAMjG,KAC1ButC,GAAa,GACbE,EAAkB3iB,EAAO7kB,KAAK1K,MAC9BoyC,EAAmB7iB,EAAOppB,MAAMnG,QAEhCgyC,GAAa,GACbE,EAAkB,IAClBE,EAAmB,IACnBv8B,GAAW,GACX4T,EAAQ8F,IAGZ1Z,GAAW,QAjCT/C,IAAMH,MAAM,uBAqDV6/B,EAAyBA,CAACC,EAAev+B,KAC7C,MAAMw+B,EAAW1vB,GAAOyvB,EAAev+B,GAMvC,MAL0B,KAAtBA,EAAOy+B,aAAsB/8B,GAAWkM,EAAYe,QAAU,GAChE6vB,EAAS/4B,KAAK,CACZ3Z,KAAK,GAAD6S,OAAKqB,EAAOy+B,cAGbD,GAGHE,EAAeC,GACfA,EAAOtsC,OACFnH,IAAAuX,cAAAvX,IAAAikB,SAAA,KAELjkB,IAAAuX,cAACqT,IAAU,CAACnK,UAAU,OAAOsD,MAAO,CAAEK,SAAU,GAAI6C,WAAY,OAAQpL,QAAS,cAAeE,WAAY,SAAUwc,WAAY,MAC/Hkb,EAAO7yC,KAAK,MAAI6yC,EAAOtsC,SAItB,GAANsM,OAAUlB,KAAKoB,EAAE,sBAAqB,KAAAF,OAAIggC,EAAO7yC,MAI/C8yC,EAAoBD,GACpBA,EAAOtsC,OACH,GAANsM,OAAUggC,EAAO7yC,KAAI,OAAA6S,OAAMggC,EAAOtsC,QAE5B,GAANsM,OAAUggC,EAAO7yC,MAqDrB,OACEZ,IAAAuX,cAAAvX,IAAAikB,SAAA,KACEjkB,IAAAuX,cAACw5B,GAAY,CACX1nC,KAAMopC,EACNjP,cAAe6O,EACfhoB,QA7F0BspB,KAC9BjB,GAAoB,IA6FhBzB,OA1F4B7oC,IAChC+qC,EAAiB/qC,EAAQ/C,OA2FvBrF,IAAAuX,cAACgT,KAAM,CAAClhB,KAAMsoC,EAAWtnB,QAASe,GAChCprB,IAAAuX,cAACkT,KAAW,CAACplB,GAAG,qBACbkN,KAAKoB,EAAE,yBAEV3T,IAAAuX,cAACmT,KAAa,CAACC,UAAQ,GACrB3qB,IAAAuX,cAACypB,KAAI,CAACjd,MAAO,CAAE7H,MAAO,KAAO+kB,WAAS,EAACxD,QAAS,QA7D/BtpB,IAAnBy9B,QAAsDz9B,IAAtBy9B,EAAevsC,GAE/CrF,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIF,MAAI,GAChBlhC,IAAAuX,cAACq8B,KAAY,CACX9mB,WAAS,EACTzd,QAASA,EACTmH,QAASA,EACTq9B,aAAW,EACXC,eAAa,EACbC,UAAQ,EACRC,eAAa,EACbC,eAAgBP,EAChBF,aAAcA,EACdH,cAAeD,EACf51B,SAAUA,CAACwO,EAAGkoB,IA/DGC,EAACnoB,EAAGkoB,MACjB,OAARA,QAAQ,IAARA,OAAQ,EAARA,EAAU/sC,QACZ6qC,EAAmBkC,IACF,OAARA,QAAQ,IAARA,OAAQ,EAARA,EAAUtzC,QACnB0xC,EAAc,CAAE1xC,KAAMszC,EAAStzC,OAC/B8xC,GAAoB,KA0DayB,CAAmBnoB,EAAGkoB,GACjDE,YAAat/B,GACX9U,IAAAuX,cAACgG,KAAS8C,OAAAC,OAAA,GACJxL,EAAM,CACVtI,MAAO+F,KAAKoB,EAAE,6BACdgK,QAAQ,WACR0mB,WAAS,EACT7mB,SAAUwO,GAAK8lB,EAAe9lB,EAAEtO,OAAOjG,OACvC48B,WAAYroB,KACNxV,GAAYu7B,GACG,UAAV/lB,EAAExS,KACT25B,EAAiBpB,EAAgB1sC,KAGrCivC,WAAY,IACPx/B,EAAOw/B,WACVC,aACEv0C,IAAAuX,cAACvX,IAAMikB,SAAQ,KACZzN,EACCxW,IAAAuX,cAAC6P,KAAgB,CAAC5f,MAAM,UAAU6f,KAAM,KACtC,KACHvS,EAAOw/B,WAAWC,qBAU9B,KAoBCv0C,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIF,MAAI,GAChBlhC,IAAAuX,cAAC0qB,KAAM,CACLY,UAAQ,EACR/V,WAAS,EACT0nB,cAAY,EACZ72B,QAAQ,WACRlG,MAAOw6B,EACPz0B,SAAWwO,IACTkmB,EAAiBlmB,EAAEtO,OAAOjG,QAE5B2qB,UAAW,CACT1W,aAAc,CACZC,SAAU,SACVC,WAAY,QAEdC,gBAAiB,CACfF,SAAU,MACVC,WAAY,QAEdH,mBAAoB,MAEtB4W,YAAaA,KACX,GAAsB,KAAlB4P,EACF,MAAO,qBAGT,OADc3mC,EAAKZ,OAAO6O,KAAK+d,GAAKA,EAAEjyB,KAAO4sC,GAChCrxC,QAGH,QAAX4+B,EAAAl0B,EAAKZ,cAAM,IAAA80B,OAAA,EAAXA,EAAa/b,QAAS,GACrBnY,EAAKZ,OAAO2T,IAAI,CAACtX,EAAOyS,IACtBxZ,IAAAuX,cAACwU,IAAQ,CAACvL,OAAK,EAAChH,IAAKA,EAAK/B,MAAO1Q,EAAM1B,IACrCrF,IAAAuX,cAACiH,IAAY,CAACC,QAAS1X,EAAMnG,WAOvCZ,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIF,MAAI,GAChBlhC,IAAAuX,cAAC0qB,KAAM,CACLY,UAAQ,EACR/V,WAAS,EACT0nB,cAAY,EACZ72B,QAAQ,WACRlG,MAAO06B,EACP30B,SAAWwO,IACTomB,EAAoBpmB,EAAEtO,OAAOjG,QAE/B2qB,UAAW,CACT1W,aAAc,CACZC,SAAU,SACVC,WAAY,QAEdC,gBAAiB,CACfF,SAAU,MACVC,WAAY,QAEdH,mBAAoB,MAEtB4W,YAAaA,KACX,GAAyB,KAArB8P,EACF,MAAO,2BAGT,OADiBI,EAAUh5B,KAAKk7B,GAAKA,EAAEpvC,KAAO8sC,GAC9BvxC,QAGR,OAAT2xC,QAAS,IAATA,OAAS,EAATA,EAAW9uB,QAAS,GACnB8uB,EAAUl0B,IAAI,CAAClZ,EAAUqU,IACvBxZ,IAAAuX,cAACwU,IAAQ,CAACvL,OAAK,EAAChH,IAAKA,EAAK/B,MAAOtS,EAASE,IACxCrF,IAAAuX,cAACiH,IAAY,CACXC,QACEze,IAAAuX,cAAAvX,IAAAikB,SAAA,KAEEjkB,IAAAuX,cAACqT,IAAU,CAACnK,UAAU,OAAOsD,MAAO,CAAEK,SAAU,GAAI6C,WAAY,OAAQpL,QAAS,cAAeE,WAAY,SAAUwc,WAAY,MAC/HpzB,EAASvE,KAAK,SAAQZ,IAAAuX,cAAA,KAAG+F,UAAiC,cAArBnY,EAAS1B,OAA0BqZ,EAAQ0wB,OAAS1wB,EAAQ00B,SAAU,IAAErsC,EAAS1B,OAAO,eAWpJzD,IAAAuX,cAACsT,KAAa,KACZ7qB,IAAAuX,cAACqG,KAAM,CACLC,QAASuN,EACT5jB,MAAM,YACN/F,SAAU+U,EACVmH,QAAQ,YAEPpL,KAAKoB,EAAE,kCAEV3T,IAAAuX,cAAC2P,GAAiB,CAChBvJ,QAAQ,YACRrY,KAAK,SACL7D,UAAWswC,EACXl0B,QAASA,IAAMs1B,EAAiBpB,EAAgB1sC,IAChDmC,MAAM,UACNgP,QAASA,GAERjE,KAAKoB,EAAE,kCCpWL+gC,OArCSA,IAEtB10C,IAAAuX,cAAAvX,IAAAikB,SAAA,KACCjkB,IAAAuX,cAACgH,IAAQ,CAACiC,OAAK,GACdxgB,IAAAuX,cAACukB,KAAc,KACd97B,IAAAuX,cAAC8d,KAAQ,CAACC,UAAU,OAAO3X,QAAQ,SAASzB,MAAO,GAAIM,OAAQ,MAEhExc,IAAAuX,cAACiH,IAAY,CACZC,QAASze,IAAAuX,cAAC8d,KAAQ,CAACC,UAAU,OAAO9Y,OAAQ,GAAIN,MAAO,KACvDwC,UAAW1e,IAAAuX,cAAC8d,KAAQ,CAACC,UAAU,OAAO9Y,OAAQ,GAAIN,MAAO,QAG3Dlc,IAAAuX,cAAC2N,IAAO,CAACvH,QAAQ,UACjB3d,IAAAuX,cAACgH,IAAQ,CAACiC,OAAK,GACdxgB,IAAAuX,cAACukB,KAAc,KACd97B,IAAAuX,cAAC8d,KAAQ,CAACC,UAAU,OAAO3X,QAAQ,SAASzB,MAAO,GAAIM,OAAQ,MAEhExc,IAAAuX,cAACiH,IAAY,CACZC,QAASze,IAAAuX,cAAC8d,KAAQ,CAACC,UAAU,OAAO9Y,OAAQ,GAAIN,MAAO,KACvDwC,UAAW1e,IAAAuX,cAAC8d,KAAQ,CAACC,UAAU,OAAO9Y,OAAQ,GAAIN,MAAO,SAG3Dlc,IAAAuX,cAAC2N,IAAO,CAACvH,QAAQ,UACjB3d,IAAAuX,cAACgH,IAAQ,CAACiC,OAAK,GACdxgB,IAAAuX,cAACukB,KAAc,KACd97B,IAAAuX,cAAC8d,KAAQ,CAACC,UAAU,OAAO3X,QAAQ,SAASzB,MAAO,GAAIM,OAAQ,MAEhExc,IAAAuX,cAACiH,IAAY,CACZC,QAASze,IAAAuX,cAAC8d,KAAQ,CAACC,UAAU,OAAO9Y,OAAQ,GAAIN,MAAO,KACvDwC,UAAW1e,IAAAuX,cAAC8d,KAAQ,CAACC,UAAU,OAAO9Y,OAAQ,GAAIN,MAAO,QAG3Dlc,IAAAuX,cAAC2N,IAAO,CAACvH,QAAQ,WC1BpB,MAAMjC,GAAYC,YAAYvH,IAAK,CACjCugC,mBAAoB,CAClBxwB,SAAU,WACVtI,QAAS,OACTW,OAAQ,OACRV,cAAe,SACfkR,SAAU,SACVhE,qBAAsB,EACtBE,wBAAyB,GAG3Bnf,YAAa,CACXukB,KAAM,EACNiP,UAAW,OACXvZ,UAAW,YACR5P,EAAMmZ,gBACTqnB,UAAW,iCAGbC,kBAAmB,CACjBrtC,MAAO,mBACPonB,OAAQ,EACRlS,gBAAiB,QACjBkY,aAAc,gCACd/Y,QAAS,OACTE,WAAY,SACZ6T,eAAgB,iBAGlBklB,aAAc,CACZhmB,WAAY,SACZtnB,MAAO,qBACPyf,WAAY,MACZ7C,SAAU,QAGZkU,cAAe,CACbjU,UAAW,SACX7c,MAAO,qBACP4c,SAAU,OACVmU,WAAY,OAGdruB,eAAgB,CACdma,UAAW,SACXD,SAAU,OACV0K,WAAY,MACZ9S,OAAQ,OAGVoc,aAAc,CACZvc,QAAS,OACTW,OAAQ,QACRR,OAAQ,GACRF,cAAe,SACfC,WAAY,SACZ6T,eAAgB,aAIdpa,GAAUA,CAACC,EAAOC,KACtB,GAAoB,iBAAhBA,EAAOpQ,KAAyB,CAelC,OAdmBoQ,EAAOC,QAEfiL,QAASuP,IAClB,MAAMiP,EAAc3pB,EAAMK,UAAWnC,GAAMA,EAAEtO,KAAO8qB,EAAO9qB,KACtC,IAAjB+5B,GACF3pB,EAAM2pB,GAAejP,EACjBA,EAAOmM,eAAiB,GAC1B7mB,EAAMs/B,QAAQt/B,EAAMU,OAAOipB,EAAa,GAAG,KAG7C3pB,EAAM8E,KAAK4V,KAIR,IAAI1a,GAGb,GAAoB,iBAAhBC,EAAOpQ,KAAyB,CAClC,MAAM8qB,EAAW1a,EAAOC,QAElBypB,EAAc3pB,EAAMK,UAAWnC,GAAMA,EAAEtO,KAAO+qB,GAKpD,OAJqB,IAAjBgP,IACF3pB,EAAM2pB,GAAa9C,eAAiB,GAG/B,IAAI7mB,GAGb,GAAoB,kBAAhBC,EAAOpQ,KAA0B,CACnC,MAAM6qB,EAASza,EAAOC,QAEhBypB,EAAc3pB,EAAMK,UAAWnC,GAAMA,EAAEtO,KAAO8qB,EAAO9qB,IAO3D,OANqB,IAAjB+5B,EACF3pB,EAAM2pB,GAAejP,EAErB1a,EAAMs/B,QAAQ5kB,GAGT,IAAI1a,GAGb,GAAoB,kCAAhBC,EAAOpQ,KAA0C,CACnD,MAAM6qB,EAASza,EAAOC,QAEhBypB,EAAc3pB,EAAMK,UAAWnC,GAAMA,EAAEtO,KAAO8qB,EAAO9qB,IAQ3D,OAPqB,IAAjB+5B,GACF3pB,EAAM2pB,GAAejP,EACrB1a,EAAMs/B,QAAQt/B,EAAMU,OAAOipB,EAAa,GAAG,KAE3C3pB,EAAMs/B,QAAQ5kB,GAGT,IAAI1a,GAGb,GAAoB,0BAAhBC,EAAOpQ,KAAkC,CAC3C,MAAM8C,EAAUsN,EAAOC,QACjBypB,EAAc3pB,EAAMK,UAAWnC,GAAMA,EAAEq9B,YAAc5oC,EAAQ/C,IAInE,OAHqB,IAAjB+5B,IACF3pB,EAAM2pB,GAAah3B,QAAUA,GAExB,IAAIqN,GAGb,GAAoB,kBAAhBC,EAAOpQ,KAA0B,CACnC,MAAM8qB,EAAW1a,EAAOC,QAClBypB,EAAc3pB,EAAMK,UAAWnC,GAAMA,EAAEtO,KAAO+qB,GAKpD,OAJqB,IAAjBgP,GACF3pB,EAAMU,OAAOipB,EAAa,GAGrB,IAAI3pB,GAGb,GAAoB,UAAhBC,EAAOpQ,KACT,MAAO,IAmLI0vC,OA/KYp1B,IACzB,MAAM,OACJnc,EAAM,YACNif,EAAW,KACX/X,EAAI,MACJvJ,EAAK,QACLoI,EAAO,iBACPq4B,EAAgB,YAChBoT,EAAW,MACXlxB,GACEnE,EACE9C,EAAUpB,MACT8G,EAAYC,GAAiB/L,mBAAS,IACtC3M,EAAauM,GAAYC,qBAAWf,GAAS,KAC9C,KAAElK,GAAS6V,qBAAWzG,KACtB,QAAEzS,EAAO,OAAEyC,GAAWY,EAE5BqL,oBAAU,KACRL,EAAS,CAAEhR,KAAM,UACjBmd,EAAc,IACb,CAAChf,EAAQif,EAAapM,EAAU9M,EAASmB,EAAMvJ,EAAOygC,IAEzD,MAAM,QAAE34B,EAAO,QAAEonB,EAAO,QAAE9Z,GAAYymB,GAAW,CAC/Cza,aACAE,cACAjf,SACA+F,UACAmB,KAAMyN,KAAKU,UAAUnO,GACrBvJ,MAAOgX,KAAKU,UAAU1X,GACtB87B,SAAU9kB,KAAKU,UAAU+oB,KAG3BlrB,oBAAU,KACR,MAAMumB,EAAWxyB,EAAO2T,IAAKiZ,GAAMA,EAAEjyB,IAC/B6vC,EAAkBhsC,EAAQ0a,OAC7BjQ,GAAMupB,EAASiY,QAAQxhC,EAAE0jB,UAAY,GAItC/gB,EADc,SAAZrO,EACO,CAAE3C,KAAM,eAAgBqQ,QAASu/B,GAEjC,CAAE5vC,KAAM,eAAgBqQ,QAASzM,KAE3C,CAACA,EAASzF,EAAQif,EAAahY,EAAQzC,IAE1C0O,oBAAU,KACR,MAAMI,EAAY/B,aAAaC,QAAQ,aACjC+B,EAASnC,GAAiB,CAAEkC,cAE5Bq+B,EAAsBjlB,KACxBA,EAAOpb,QAAUob,EAAOpb,UAAe,OAAJzJ,QAAI,IAAJA,OAAI,EAAJA,EAAMjG,KAAMmE,MAC/C2mB,EAAOkH,SAAWwK,EAAiBsT,QAAQhlB,EAAOkH,UAAY,GAiElE,OA5DArgB,EAAOC,GAAG,UAAW,KACfxT,EACFuT,EAAOma,KAAK,cAAe1tB,GAE3BuT,EAAOma,KAAK,sBAIhBna,EAAOC,GAAG,WAADxD,OAAYsD,EAAS,WAAYzD,IAXV6c,MAaV,iBAAhB7c,EAAKoC,QACPY,EAAS,CACPhR,KAAM,eACNqQ,QAASrC,EAAK8c,WAIE,WAAhB9c,EAAKoC,QAAuB0/B,EAAmB9hC,EAAK6c,SACtD7Z,EAAS,CACPhR,KAAM,gBACNqQ,QAASrC,EAAK6c,SAIE,WAAhB7c,EAAKoC,UA3BqBya,EA2ByB7c,EAAK6c,QA1BrDkH,UAAyD,IAA9CwK,EAAiBsT,QAAQhlB,EAAOkH,WA2BhD/gB,EAAS,CAAEhR,KAAM,gBAAiBqQ,QAASrC,EAAK6c,OAAO9qB,KAGrC,WAAhBiO,EAAKoC,QACPY,EAAS,CAAEhR,KAAM,gBAAiBqQ,QAASrC,EAAK8c,aAIpDpZ,EAAOC,GAAG,WAADxD,OAAYsD,EAAS,eAAgBzD,IAAU,IAAD+hC,EACrD,MAAMnY,EAAWxyB,EAAO2T,IAAKiZ,GAAMA,EAAEjyB,KAEvB,SAAZ4C,IAC8C,IAA7Ci1B,EAASiY,QAAyB,QAAlBE,EAAC/hC,EAAK6c,OAAOppB,aAAK,IAAAsuC,OAAA,EAAjBA,EAAmBhwC,KACb,OAAtBiO,EAAK6c,OAAOppB,QAKI,WAAhBuM,EAAKoC,QAAuB0/B,EAAmB9hC,EAAK6c,SACtD7Z,EAAS,CACPhR,KAAM,gCACNqQ,QAASrC,EAAK6c,WAKpBnZ,EAAOC,GAAG,WAADxD,OAAYsD,EAAS,YAAazD,IACrB,WAAhBA,EAAKoC,QACPY,EAAS,CACPhR,KAAM,wBACNqQ,QAASrC,EAAKlL,YAKb,KACL4O,EAAOlU,eAER,CAACW,EAAQ+F,EAAS8B,EAAMu2B,EAAkBl3B,EAAMvJ,EAAO6G,EAASyC,IAEnEiM,oBAAU,KACmB,oBAAhBs+B,GACTA,EAAYlrC,EAAY0Z,SAGzB,CAAC1Z,IAgBJ,OACE/J,IAAAuX,cAAC6uB,KAAK,CAAC9oB,UAAWR,EAAQ63B,mBAAoB5wB,MAAOA,GACnD/jB,IAAAuX,cAAC6uB,KAAK,CACJrR,QAAM,EACNn0B,KAAK,SACL00C,UAAW,EACXh4B,UAAWR,EAAQ/S,YACnBupB,SAjBgBtH,IACpB,IAAKsE,GAAW9Z,EAAS,OAEzB,MAAM,UAAE+c,EAAS,aAAE8S,EAAY,aAAEC,GAAiBta,EAAEsF,cAEhD+U,GAAgB9S,EAAY,KAAO+S,GARvC7jB,EAAe+U,GAAcA,EAAY,KAsBrCx3B,IAAAuX,cAAC6G,IAAI,CAAC2F,MAAO,CAAEiK,WAAY,IACD,IAAvBjkB,EAAY0Z,QAAiBjN,EAU5BxW,IAAAuX,cAAAvX,IAAAikB,SAAA,KACGla,EAAYsU,IAAK8R,GAChBnwB,IAAAuX,cAACmpB,GAAc,CAACvQ,OAAQA,EAAQ3W,IAAK2W,EAAO9qB,OAXhDrF,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQsb,cACtBp4B,IAAAuX,cAAA,QAAM+F,UAAWR,EAAQ5S,gBACtBqI,KAAKoB,EAAE,+BAEV3T,IAAAuX,cAAA,KAAG+F,UAAWR,EAAQwb,eACnB/lB,KAAKoB,EAAE,kCAUb6C,GAAWxW,IAAAuX,cAACg+B,GAAmB,UClT3BC,OAfEn+B,IAAyC,IAAxC,SAAEC,EAAQ,MAAEG,EAAK,KAAE7W,KAASumB,GAAM9P,EACnD,OAAII,IAAU7W,EAEZZ,IAAAuX,cAAA,MAAA8I,OAAAC,OAAA,CACCtF,KAAK,WACL3V,GAAE,mBAAAoO,OAAqB7S,GACvB4pB,kBAAA,cAAA/W,OAA+B7S,IAC3BumB,GAEJnnB,IAAAuX,cAAAvX,IAAAikB,SAAA,KAAG3M,IAGQ,M,WC6CAm+B,OAnDYp+B,IAIpB,IAJqB,WAC3Bq+B,EAAU,iBACV7T,EAAmB,GAAE,SACrBrkB,GACAnG,EAKA,OACCrX,IAAAuX,cAAA,OAAKwM,MAAO,CAAE7H,MAAO,IAAKO,WAAY,IACrCzc,IAAAuX,cAACwqB,KAAW,CAACjV,WAAS,EAAC9Q,OAAO,SAC7Bhc,IAAAuX,cAAC0qB,KAAM,CACNC,UAAQ,EACRsS,cAAY,EACZ72B,QAAQ,WACRlG,MAAOoqB,EACPrkB,SAZiBwO,IACpBxO,EAASwO,EAAEtO,OAAOjG,QAYf2qB,UAAW,CACV1W,aAAc,CACbC,SAAU,SACVC,WAAY,QAEbC,gBAAiB,CAChBF,SAAU,MACVC,WAAY,QAEbH,mBAAoB,MAErB4W,YAAaA,IAAM9vB,KAAKoB,EAAE,oCAEf,OAAV+hC,QAAU,IAAVA,OAAU,EAAVA,EAAYjyB,QAAS,GACrBiyB,EAAWr3B,IAAItX,GACd/G,IAAAuX,cAACwU,IAAQ,CAACvL,OAAK,EAAChH,IAAKzS,EAAM1B,GAAIoS,MAAO1Q,EAAM1B,IAC3CrF,IAAAuX,cAACo+B,KAAQ,CACR5xB,MAAO,CACNvc,MAAOT,EAAMS,OAEd6f,KAAK,QACL7f,MAAM,UACNouC,QAAS/T,EAAiBsT,QAAQpuC,EAAM1B,KAAO,IAEhDrF,IAAAuX,cAACiH,IAAY,CAACC,QAAS1X,EAAMnG,aC5C9B,SAASi1C,GAAUx+B,GAAkB,IAAjB,WAAEy+B,GAAYz+B,EACvC,MAAO1M,EAAMorC,GAAWr/B,mBAAS,KAC1Bs/B,EAAWC,GAAgBv/B,mBAAS,IAE3CC,oBAAU,MACRC,uBACQs/B,IAER/yB,IACC,IAEH,MAAM+yB,EAAWt/B,UACf,IACE,MAAM,KAAEtD,SAAegB,GAAIuC,IAAI,cAC/Bk/B,EAAQziC,GACR,MAAOL,GACPD,GAAWC,KASf,OACEjT,IAAAuX,cAACqgB,KAAG,CAAC7T,MAAO,CAAEuJ,QAAS,KACrBttB,IAAAuX,cAACq8B,KAAY,CACX1R,UAAQ,EACR7a,KAAK,QACLhY,QAAS1E,EACT8M,MAAOu+B,EACPx4B,SAAUA,CAACwO,EAAGmqB,EAAGC,IAZNx/B,WACfq/B,EAAax+B,GACbq+B,EAAWr+B,IAUgB+F,CAAS24B,GAChClC,eAAiBR,GAAWA,EAAO7yC,KACnCy1C,WAAYA,CAAC5+B,EAAO6+B,IAClB7+B,EAAM4G,IAAI,CAACo1B,EAAQn1B,IACjBte,IAAAuX,cAAC+qB,KAAIjiB,OAAAC,OAAA,CACH3C,QAAQ,WACRoG,MAAO,CACLrH,gBAAiB+2B,EAAOjsC,OAAS,OACjC+uC,WAAY,mBACZ/uC,MAAO,SAETgF,MAAOinC,EAAO7yC,MACV01C,EAAY,CAAEh4B,UAAQ,CAC1B+I,KAAK,YAIX+sB,YAAct/B,GACZ9U,IAAAuX,cAACgG,KAAS8C,OAAAC,OAAA,GACJxL,EAAM,CACV6I,QAAQ,WACR1U,YAAY,wBCrDjB,SAASutC,GAAWn/B,GAAgC,IAA/B,WAAEy+B,EAAU,aAAEW,GAAcp/B,EACtD,MAAOjW,EAAOs1C,GAAYhgC,mBAAS,KAC5Bs/B,EAAWC,GAAgBv/B,mBAAS,IAE3CC,oBAAU,MACRC,uBACQ+/B,IAERxzB,IACC,IAEHxM,oBAAU,KACRs/B,EAAa,IAEXW,MAAMv9B,QAAQo9B,IACdG,MAAMv9B,QAAQjY,IACdA,EAAMqiB,OAAS,GAEfjG,EAASi5B,IAGV,CAACA,EAAcr1C,IAElB,MAAMu1C,EAAY//B,UAChB,IACE,MAAM,KAAEtD,SAAegB,GAAIuC,IAAI,eACzBggC,EAAWvjC,EAAK+K,IAAKyC,IAAC,CAAQzb,GAAIyb,EAAEzb,GAAIzE,KAAMkgB,EAAElgB,QACtD81C,EAASG,GACT,MAAO5jC,GACPD,GAAWC,KAITuK,EAAW5G,UACfq/B,EAAax+B,GACbq+B,EAAWr+B,IAGb,OACEzX,IAAAuX,cAACqgB,KAAG,CAAC7T,MAAO,CAAEuJ,QAAS,kBACrBttB,IAAAuX,cAACq8B,KAAY,CACX1R,UAAQ,EACR7a,KAAK,QACLhY,QAASjO,EACTqW,MAAOu+B,EACPx4B,SAAUA,CAACwO,EAAGmqB,EAAGC,IAAM54B,EAAS24B,GAChClC,eAAiBR,GAAWA,EAAO7yC,KACnCk2C,kBAAmBA,CAACrD,EAAQh8B,KAElB,OAANg8B,QAAM,IAANA,OAAM,EAANA,EAAQpuC,OAAY,OAALoS,QAAK,IAALA,OAAK,EAALA,EAAOpS,MAChB,OAANouC,QAAM,IAANA,OAAM,EAANA,EAAQ7yC,KAAKm2C,kBAAuB,OAALt/B,QAAK,IAALA,OAAK,EAALA,EAAO7W,KAAKm2C,eAG/CV,WAAYA,CAAC5+B,EAAOu/B,IAClBv/B,EAAM4G,IAAI,CAACo1B,EAAQn1B,IACjBte,IAAAuX,cAAC+qB,KAAIjiB,OAAAC,OAAA,CACH3C,QAAQ,WACRoG,MAAO,CACLrH,gBAAiB,UACjB65B,WAAY,mBACZ/uC,MAAO,SAETgF,MAAOinC,EAAO7yC,MACVo2C,EAAa,CAAE14B,UAAQ,CAC3B+I,KAAK,YAIX+sB,YAAct/B,GACZ9U,IAAAuX,cAACgG,KAAS8C,OAAAC,OAAA,GACJxL,EAAM,CACV6I,QAAQ,WACR1U,YAAY,yBClDxB,MAAMyS,GAAYC,YAAWvH,IAAK,CACjC6iC,eAAgB,CACf9yB,SAAU,WACVtI,QAAS,OACTW,OAAQ,OACRV,cAAe,SACfkR,SAAU,SACVhE,qBAAsB,EACtBE,wBAAyB,EACzBvM,aAAa,GAGdu6B,WAAY,CACX5oB,KAAM,OACN5R,gBAAiBtI,EAAMqhB,QAAQC,qBAGhCyhB,aAAc,CACb7oB,KAAM,OACN5R,gBAAiBtI,EAAMqhB,QAAQC,qBAGhC0hB,aAAc,CACbtpB,UAAW,SACX7G,WAAY,OACZqG,QAAS,GAGV+pB,IAAK,CACJ9qB,SAAU,IACVrQ,MAAO,KAGRo7B,YAAa,CACZ/qB,SAAU,IACVrQ,MAAO,IACPoR,QAAS,GAGViqB,iBAAkB,CACjB17B,QAAS,OACT+T,eAAgB,gBAChB7T,WAAY,SACZoc,WAAY/jB,EAAMqhB,QAAQ+hB,kBAC1BlqB,QAASlZ,EAAMqpB,QAAQ,IAGxBga,iBAAkB,CACjBnqB,QAASlZ,EAAMqpB,QAAQ,IAGxBia,mBAAoB,CACnBppB,KAAM,EACN6J,WAAY/jB,EAAMqhB,QAAQkiB,MAC1B97B,QAAS,OACTc,aAAc,GACd2Q,QAAS,EACThR,YAAalI,EAAMqpB,QAAQ,IAG5Bma,WAAY,CACXpwC,MAAO,OACPyf,WAAY,EACZ3K,YAAa,EACbwR,UAAW,UAGZ+pB,YAAa,CACZvpB,KAAM,EACN8W,OAAQ,OACRzoB,aAAc,IAGfm7B,gBAAiB,CAChBt7B,OAAQ,OACRC,UAAW,QACXuR,WAAY,QAGb+pB,sBAAuB,CACtBl8B,QAAQ,OACRC,cAAe,SACfW,UAAW,QACXuR,WAAY,OACZxR,OAAQ,QAGTw7B,eAAgB,CACf97B,MAAO,OACPoR,QAAS,GAEV2qB,iBAAkB,CACjBn8B,cAAe,MACf,oBAAqB,CACpBK,aAAc,iBACdG,YAAa,KAGf47B,gBAAiB,CAChB,CAAC9jC,EAAMuhB,YAAYC,KAAK,OAAQ,CAC/B/Z,QAAQ,SAGVs8B,iBAAkB,CACjB,4BAA6B,CAC5B7qB,QAAS,aAEV,4BAA6B,CAC5B7Q,UAAW,YA0PC27B,OArPYA,KACzB,MAAMt7B,EAAUpB,KACV/D,EAAUC,wBAET8K,EAAaovB,GAAkBp7B,mBAAS,KACxC2gC,EAAKgB,GAAU3hC,mBAAS,SACxB4hC,EAASC,GAAc7hC,mBAAS,SAChC8hC,EAAoBC,GAAyB/hC,oBAAS,IACtDgiC,EAAgBC,GAAqBjiC,oBAAS,GAC/CkiC,EAAiBnoB,oBACjB,KAAEnlB,GAAS6V,qBAAWzG,KACtB,QAAEzS,GAAYqD,GAEbutC,EAAWC,GAAgBpiC,mBAAS,IACpCqiC,EAAcC,GAAmBtiC,mBAAS,GAE3C0sB,EAAe93B,EAAKZ,OAAO2T,IAAKiZ,GAAMA,EAAEjyB,KACvCw8B,EAAkBoB,GAAuBvsB,mBAAS0sB,GAAgB,KAClE6V,EAAcC,GAAmBxiC,mBAAS,KAC1CyiC,EAAeC,GAAoB1iC,mBAAS,IAenD,IAAI2iC,EAbJ1iC,oBAAU,KAC2B,UAA/BrL,EAAKrD,QAAQ+vB,eACf2gB,GAAkB,IAGnB,IAEHhiC,oBAAU,KACI,WAAR0gC,GACFuB,EAAe5nB,QAAQgP,SAExB,CAACqX,IAIJ,MAwBMiC,EAAmB71C,IACvB,GAAI60C,IAAY70C,EACd,MAAO,CAAEyY,MAAO,EAAGM,OAAQ,IAqB/B,OACExc,IAAAuX,cAAC6uB,KAAK,CAACkP,UAAW,EAAG33B,QAAQ,WAAWL,UAAWR,EAAQm6B,gBACzDj3C,IAAAuX,cAACm6B,GAAc,CACbC,UAAW6G,EACXnuB,QAAU8F,IArBiBA,KAC/BsoB,GAAsB,QACPtkC,IAAXgc,QAAwChc,IAAhBgc,EAAOvH,MACjCjR,EAAQ4C,KAAK,YAAD9G,OAAa0c,EAAOvH,QAoB5B2wB,CAAwBppB,MAG5BnwB,IAAAuX,cAAC6uB,KAAK,CAACkP,UAAW,EAAGvgB,QAAM,EAACzX,UAAWR,EAAQo6B,YAC7Cl3C,IAAAuX,cAACiiC,KAAI,CACH/hC,MAAO4/B,EACP75B,SA3CgBi8B,CAACztB,EAAGkoB,KAC1BmE,EAAOnE,IA2CDv2B,QAAQ,YACR+7B,eAAe,UACfC,UAAU,UACVvZ,aAAW,2BAEXpgC,IAAAuX,cAACqiC,KAAG,CACFniC,MAAO,OACPoI,KAAM7f,IAAAuX,cAACsiC,KAAe,MACtBrtC,MAAO+F,KAAKoB,EAAE,2BACdmJ,QAAS,CAAElB,KAAMkB,EAAQu6B,OAE3Br3C,IAAAuX,cAACqiC,KAAG,CACFniC,MAAO,SACPoI,KAAM7f,IAAAuX,cAACuiC,KAAY,MACnBttC,MAAO+F,KAAKoB,EAAE,6BACdmJ,QAAS,CAAElB,KAAMkB,EAAQu6B,OAE3Br3C,IAAAuX,cAACqiC,KAAG,CACFniC,MAAO,SACPoI,KAAM7f,IAAAuX,cAACwiC,KAAU,MACjBvtC,MAAO+F,KAAKoB,EAAE,6BACdmJ,QAAS,CAAElB,KAAMkB,EAAQu6B,SAI/Br3C,IAAAuX,cAAC6uB,KAAK,CAACrR,QAAM,EAACugB,UAAW,EAAGh4B,UAAWR,EAAQy6B,kBACpC,WAARF,EACCr3C,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQ46B,oBACtB13C,IAAAuX,cAACwiC,KAAU,CAACz8B,UAAWR,EAAQ86B,aAC/B53C,IAAAuX,cAACyiC,KAAS,CACR18B,UAAWR,EAAQ+6B,YACnBoC,SAAUrB,EACV3vC,YAAasJ,KAAKoB,EAAE,8BACpBrO,KAAK,SACLkY,SA9FUwO,IACpB,MAAMkuB,EAAeluB,EAAEtO,OAAOjG,MAAMs/B,cAIpC,GAFAxzB,aAAa81B,GAEQ,KAAjBa,EAGF,OAFApI,EAAeoI,QACf7B,EAAO,QAITgB,EAAgBh2B,WAAW,KACzByuB,EAAeoI,IACd,SAqFGl6C,IAAAuX,cAAAvX,IAAAikB,SAAA,KACEjkB,IAAAuX,cAACqG,KAAM,CACLD,QAAQ,WACRnW,MAAM,UACNqW,QAASA,IAAM46B,GAAsB,IAEpClmC,KAAKoB,EAAE,qCAEV3T,IAAAuX,cAACwD,GAAG,CACFC,KAAM1P,EAAKrD,QACXgT,QAAQ,0BACRpZ,IAAKA,IACH7B,IAAAuX,cAAC4iC,KAAgB,CACf3tC,MAAO+F,KAAKoB,EAAE,2BACdymC,eAAe,QACfC,QACEr6C,IAAAuX,cAAC+iC,KAAM,CACLjzB,KAAK,QACLuuB,QAAS8C,EACTl7B,SAAUA,IACRm7B,EAAmBnhB,IAAeA,GAEpC52B,KAAK,iBACL4G,MAAM,iBAQpBxH,IAAAuX,cAACk+B,GAAkB,CACjB1xB,MAAO,CAAEkD,WAAY,GACrB4a,iBAAkBA,EAClB6T,WAAgB,OAAJpqC,QAAI,IAAJA,OAAI,EAAJA,EAAMZ,OAClB8S,SAAWomB,GAAWX,EAAoBW,MAG9C5jC,IAAAuX,cAACi+B,GAAQ,CAAC/9B,MAAO4/B,EAAKz2C,KAAK,OAAO0c,UAAWR,EAAQm6B,gBACnDj3C,IAAAuX,cAACiiC,KAAI,CACH/hC,MAAO6gC,EACP96B,SAvHoB+8B,CAACvuB,EAAGkoB,KAC9BqE,EAAWrE,IAuHLwF,eAAe,UACfC,UAAU,UACVh8B,QAAQ,aAER3d,IAAAuX,cAACqiC,KAAG,CACFptC,MACExM,IAAAuX,cAACwN,IAAK,CACJzH,UAAWR,EAAQyf,MACnBnW,aAAcyyB,EACdrxC,MAAM,WAEL+K,KAAKoB,EAAE,+BAGZ8D,MAAO,SAETzX,IAAAuX,cAACqiC,KAAG,CACFptC,MACExM,IAAAuX,cAACwN,IAAK,CACJzH,UAAWR,EAAQyf,MACnBnW,aAAc2yB,EACdvxC,MAAM,aAEL+K,KAAKoB,EAAE,8BAGZ8D,MAAO,aAGXzX,IAAAuX,cAAC6uB,KAAK,CAAC9oB,UAAWR,EAAQm6B,gBACxBj3C,IAAAuX,cAACijC,GAAW,CACV/2C,OAAO,OACP+F,QAASkvC,EACT7W,iBAAkBA,EAClBoT,YAAcwF,GAAQ3B,EAAa2B,GACnC12B,MAAOu1B,EAAgB,UAEzBt5C,IAAAuX,cAACijC,GAAW,CACV/2C,OAAO,UACPo+B,iBAAkBA,EAClBoT,YAAcwF,GAAQzB,EAAgByB,GACtC12B,MAAOu1B,EAAgB,eAI7Bt5C,IAAAuX,cAACi+B,GAAQ,CAAC/9B,MAAO4/B,EAAKz2C,KAAK,SAAS0c,UAAWR,EAAQm6B,gBACrDj3C,IAAAuX,cAACijC,GAAW,CACV/2C,OAAO,SACP+F,SAAS,EACTq4B,iBAAkBA,KAGtB7hC,IAAAuX,cAACi+B,GAAQ,CAAC/9B,MAAO4/B,EAAKz2C,KAAK,SAAS0c,UAAWR,EAAQm6B,gBACrDj3C,IAAAuX,cAACs+B,GAAU,CAACC,WA5JUE,IAC1B,MAAMrrC,EAAOqrC,EAAU33B,IAAK1K,GAAMA,EAAEtO,IACpC6zC,EAAgBvuC,MA2JC,UAAZ1C,GACCjI,IAAAuX,cAACi/B,GAAW,CAACV,WAzJQE,IAC3B,MAAM50C,EAAQ40C,EAAU33B,IAAK1K,GAAMA,EAAEtO,IACrC+zC,EAAiBh4C,MAyJbpB,IAAAuX,cAACijC,GAAW,CACV93B,YAAaA,EACblZ,SAAS,EACTmB,KAAMsuC,EACN73C,MAAO+3C,EACPtX,iBAAkBA,O,qDC1Ub6Y,OA1CerjC,IAAkB,IAAjB,QAAEyF,GAASzF,EACzC,OACCrX,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQzZ,SACvBrD,IAAAuX,cAAC6uB,KAAK,CAACrR,QAAM,EAACpX,QAAQ,WAAWL,UAAWR,EAAQ69B,eACnD36C,IAAAuX,cAACypB,KAAI,CAACC,WAAS,GACdjhC,IAAAuX,cAACypB,KAAI,CAACE,MAAI,GACTlhC,IAAAuX,cAAC8d,KAAQ,CACRC,UAAU,OACV3X,QAAQ,SACRzB,MAAO,GACPM,OAAQ,GACRc,UAAWR,EAAQ89B,iBAGrB56C,IAAAuX,cAACypB,KAAI,CAACE,MAAI,GACTlhC,IAAAuX,cAAC8d,KAAQ,CAACC,UAAU,OAAO9Y,OAAQ,GAAIN,MAAO,KAC9Clc,IAAAuX,cAAC8d,KAAQ,CAACC,UAAU,OAAO9Y,OAAQ,GAAIN,MAAO,KAC9Clc,IAAAuX,cAAC8d,KAAQ,CAACC,UAAU,OAAO9Y,OAAQ,GAAIN,MAAO,QAIjDlc,IAAAuX,cAAC6uB,KAAK,CAACrR,QAAM,EAACzX,UAAWR,EAAQ+9B,gBAChC76C,IAAAuX,cAACqT,IAAU,CAACjN,QAAQ,aAClBpL,KAAKoB,EAAE,4BAET3T,IAAAuX,cAAC6uB,KAAK,CAACrR,QAAM,EAACpX,QAAQ,WAAWL,UAAWR,EAAQg+B,kBACnD96C,IAAAuX,cAAC8d,KAAQ,CAACC,UAAU,OAAO9Y,OAAQ,GAAIN,MAAO,KAC9Clc,IAAAuX,cAAC8d,KAAQ,CAACC,UAAU,OAAO9Y,OAAQ,GAAIN,MAAO,OAE/Clc,IAAAuX,cAAC6uB,KAAK,CAACrR,QAAM,EAACpX,QAAQ,WAAWL,UAAWR,EAAQg+B,kBACnD96C,IAAAuX,cAAC8d,KAAQ,CAACC,UAAU,OAAO9Y,OAAQ,GAAIN,MAAO,KAC9Clc,IAAAuX,cAAC8d,KAAQ,CAACC,UAAU,OAAO9Y,OAAQ,GAAIN,MAAO,OAE/Clc,IAAAuX,cAAC6uB,KAAK,CAACrR,QAAM,EAACpX,QAAQ,WAAWL,UAAWR,EAAQg+B,kBACnD96C,IAAAuX,cAAC8d,KAAQ,CAACC,UAAU,OAAO9Y,OAAQ,GAAIN,MAAO,KAC9Clc,IAAAuX,cAAC8d,KAAQ,CAACC,UAAU,OAAO9Y,OAAQ,GAAIN,MAAO,UCxBnD,MAAMR,GAAYC,YAAWvH,IAAK,CACjCwH,KAAM,CACLC,QAAS,OACT6Q,SAAU,QAEXkkB,UAAW,CACVt0B,YAAalI,EAAMqpB,QAAQ,GAC3BnP,KAAM,GAGPuiB,UAAW,CACVh1B,QAAS,OACT+T,eAAgB,SAChB7T,WAAY,UAGbymB,WAAY,CACXre,SAAU,YAGX0C,eAAgB,CACfrf,MAAOsf,KAAM,KACb3C,SAAU,WACV4C,IAAK,MACLC,KAAM,MACNvK,WAAY,GACZwK,YAAa,IAGX8zB,WAAY,CACRr+B,gBAAiB,UAInBo0B,GAAgBnO,OAAaC,MAAM,CACxChiC,KAAM+hC,OACJpB,IAAI,EAAG,cACPC,IAAI,GAAI,aACRqB,SAAS,YACX17B,OAAQw7B,OAAapB,IAAI,EAAG,cAAcC,IAAI,GAAI,aAClD3gC,MAAO8hC,OAAa9hC,MAAM,mBAGpB,SAASm6C,GAAW3jC,GAAyC,IAAvC,eAAEu6B,EAAc,OAAEX,EAAM,SAAEgK,GAAU5jC,EAChE,MAAMyF,EAAUpB,MAETtT,EAAS+uB,GAAczgB,mBAASk7B,GAEpCj7B,oBAAU,KACNwgB,EAAWya,IACZ,CAACA,IAkBJ,OACI5xC,IAAAuX,cAACgsB,KAAM,CACHC,cAAep7B,EACfq7B,oBAAoB,EACpBC,iBAAkBoN,GAClBnN,SAAUA,CAACC,EAAQhgC,KACfyf,WAAW,KAtBAzM,WACzB,IACC,GAAIxO,EAAQ/C,SACLiP,GAAImoB,IAAI,aAADhpB,OAAcrL,EAAQ/C,IAAMu+B,OACnC,CACN,MAAM,KAAEtwB,SAAegB,GAAIsE,KAAK,YAAagrB,GACzCqN,GACHA,EAAO39B,GAGTI,IAAMjT,QAAQ8R,KAAKoB,EAAE,yBACpB,MAAOV,GACRD,GAAWC,KAWMk+B,CAAkBvN,GAClBhgC,EAAQkgC,eAAc,IACvB,OAGNnc,IAAA,IAAC,OAAEic,EAAM,OAAEI,EAAM,QAAED,EAAO,aAAEE,GAActc,EAAA,OACvC3nB,IAAAuX,cAAC2sB,KAAI,KACDlkC,IAAAuX,cAACypB,KAAI,CAACC,WAAS,EAACxD,QAAS,GAMrBz9B,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,IACXphC,IAAAuX,cAAC4sB,KAAK,CACFC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,0BACd/S,KAAK,OACLyjC,WAAS,EACT9wB,MAAOwwB,EAAQnjC,MAAQkwB,QAAQkT,EAAOpjC,MACtC0jC,WAAYP,EAAQnjC,MAAQojC,EAAOpjC,KACnC+c,QAAQ,WACR3B,OAAO,QACPsB,UAAWR,EAAQ8zB,UACnB9jB,WAAS,KAGjB9sB,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,IACXphC,IAAAuX,cAAC4sB,KAAK,CACFC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,4BACd/S,KAAK,SACL2S,MAAOwwB,EAAQ58B,QAAU2pB,QAAQkT,EAAO78B,QACxCm9B,WAAYP,EAAQ58B,QAAU68B,EAAO78B,OACrC8B,YAAY,gBACZ0U,QAAQ,WACR3B,OAAO,QACP8Q,WAAS,KAGjB9sB,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,IACXphC,IAAAuX,cAAC4sB,KAAK,CACFC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,2BACd/S,KAAK,QACL2S,MAAOwwB,EAAQljC,OAASiwB,QAAQkT,EAAOnjC,OACvCyjC,WAAYP,EAAQljC,OAASmjC,EAAOnjC,MACpCoI,YAAY,gBACZ6jB,WAAS,EACT9Q,OAAO,QACP2B,QAAQ,cAGhB3d,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAI3D,QAAS,GACxBz9B,IAAAuX,cAACypB,KAAI,CAACC,WAAS,EAACxD,QAAS,GACrBz9B,IAAAuX,cAACypB,KAAI,CAACI,GAAI,EAAGF,MAAI,GACblhC,IAAAuX,cAACqG,KAAM,CACHC,QAASo9B,EACTzzC,MAAM,YACN/F,SAAUwiC,EACVtmB,QAAQ,WACRmP,WAAS,GAERva,KAAKoB,EAAE,iCAGhB3T,IAAAuX,cAACypB,KAAI,CAAClkB,QAASA,EAAQi+B,WAAY3Z,GAAI,EAAGF,MAAI,GAC1ClhC,IAAAuX,cAACqG,KAAM,CACHtY,KAAK,SACLkC,MAAM,UACN/F,SAAUwiC,EACVtmB,QAAQ,YACRL,UAAWR,EAAQ0lB,WACnB1V,WAAS,GAER1kB,EAAQ/C,GAAE,GAAAoO,OACFlB,KAAKoB,EAAE,gCAA8B,GAAAF,OACrClB,KAAKoB,EAAE,+BACfswB,GACGjkC,IAAAuX,cAAC6P,KAAgB,CACbC,KAAM,GACN/J,UAAWR,EAAQ+J,yBCjKnE,MAAMnL,GAAYC,YAAYvH,IAAK,CAC/B8mC,OAAQ,CACJh/B,MAAO,WAIA,SAASi/B,GAA4Bv7B,GAChD,MAAM,KAAEw7B,EAAI,WAAEC,GAAez7B,EACvB9C,EAAUpB,KAMhB,OACI1b,IAAAuX,cAACgH,IAAQ,CAACxC,WAAW,cACjB/b,IAAAuX,cAACukB,KAAc,KACX97B,IAAAuX,cAACge,KAAM,CAACpL,IAAKixB,EAAK9vC,KAAK1K,KAAM6rB,IAAI,iCAErCzsB,IAAAuX,cAACiH,IAAY,CACTC,QACIze,IAAAuX,cAAAvX,IAAAikB,SAAA,KACIjkB,IAAAuX,cAACqT,IAAU,CACPnK,UAAU,OACV9C,QAAQ,QACRL,UAAWR,EAAQo+B,OACnB1zC,MAAM,eAEL4zC,EAAKA,OAIlB18B,UACI1e,IAAAuX,cAAAvX,IAAAikB,SAAA,KACKm3B,EAAK9vC,KAAK1K,KAAK,KAAG6Y,IAAO2hC,EAAKj9B,WAAWtE,OAAO,qBAI7D7Z,IAAAuX,cAACqH,KAAuB,KACpB5e,IAAAuX,cAACsH,IAAU,CAAChB,QAASA,KA5B7Bw9B,EA4BgDD,IAAOxR,KAAK,MAAMxJ,aAAW,UACjEpgC,IAAAuX,cAAC0H,KAAU,SChBhBq8B,OAnCQA,KA4BZ,CACHC,SA3Ba3kC,UACb,MAAQtD,KAAMgM,SAAuBhL,GAAI2D,QAAQ,CAC7CmH,IAAK,gBACLC,OAAQ,OACR/L,SAEJ,OAAOgM,GAsBPk8B,WAnBe5kC,UACf,MAAM,KAAEtD,SAAegB,GAAI2D,QAAQ,CAC/BmH,IAAI,iBAAD3L,OAAmBpO,GACtBga,OAAQ,WAEZ,OAAO/L,GAePmoC,UAZc7kC,UACd,MAAM,KAAEtD,SAAegB,GAAI2D,QAAQ,CAC/BmH,IAAK,qBACLC,OAAQ,MACRvK,WAEJ,OAAOxB,KCPf,MAAMoI,GAAYC,YAAYvH,IAAK,CAC/BwH,KAAM,CACF,uBAAwB,CACpBI,OAAQ5H,EAAMqpB,QAAQ,GACtBvhB,MAAO,UAGfU,KAAM,CACFV,MAAO,OACPyR,SAAU,QACV4P,UAAW,QACX7gB,gBAAiBtI,EAAMqhB,QAAQ0C,WAAWsI,MAC1CzT,SAAU,QAEdkuB,OAAQ,CACJh/B,MAAO,WAITw/B,GAAa/Y,OAAaC,MAAM,CACrCwY,KAAMzY,OACJpB,IAAI,EAAG,cACPsB,SAAS,cAEL,SAAS8Y,GAAYtkC,GAAe,IAAb,OAAE8Y,GAAQ9Y,EACpC,MAAQhS,GAAI+qB,EAAQ,UAAE4gB,GAAc7gB,EAC9BrT,EAAUpB,MACTkgC,EAASC,GAAcnlC,mBAAS,CAAE0kC,KAAM,MACxC5kC,EAASC,GAAcC,oBAAS,IAChColC,EAAoBC,GAAyBrlC,oBAAS,IACtDslC,EAAcC,GAAmBvlC,mBAAS,KAC1CwlC,EAAOC,GAAYzlC,mBAAS,KAC7B,SAAE6kC,EAAQ,WAAEC,EAAU,UAAEC,GAAcH,KAE5C3kC,oBAAU,MACNC,iBACIwlC,UACMC,IAEVC,IAED,IAEH,MAAMF,EAAmBA,KACrBP,EAAW,CAAET,KAAM,KACnB3kC,GAAW,IAGT8lC,EAAuBvwB,IACzB6vB,EAAW,CAAET,KAAMpvB,EAAEtO,OAAOjG,SAoB1B+kC,EAA0Btb,IAC5B+a,EAAgB/a,GAChB6a,GAAsB,IAgBpBM,EAAYzlC,UACdH,GAAW,GACX,IACI,MAAMylC,QAAcT,EAAU,CAAErrB,WAAU4gB,cAC1CmL,EAASD,GACX,MAAOlwB,GACLtY,IAAMH,MAAMyY,GAEhBvV,GAAW,IAaf,OACIzW,IAAAuX,cAAAvX,IAAAikB,SAAA,KACIjkB,IAAAuX,cAAC6S,GAAiB,CACd7pB,MAAM,mBACN8I,KAAMyyC,EACNzxB,QAAS0xB,EACTzxB,UAxCS1T,UACjBH,GAAW,GACX,UACU+kC,EAAWQ,EAAa32C,UACxBg3C,IACNJ,EAAgB,IAChBvoC,IAAMjT,QAAQ,6CAChB,MAAOurB,GACLtY,IAAMH,MAAMyY,GAEhBvV,GAAW,KA+BN,2CAGDzW,IAAAuX,cAACgsB,KAAM,CACHC,cAAeoY,EACfnY,oBAAoB,EACpBC,iBAAkBgY,GAClB/X,SAAUA,CAACC,EAAQhgC,KACfyf,WAAW,KAvERzM,WACfH,GAAW,GACX,UACU8kC,EAAS,IACR3X,EACHxT,WACA4gB,oBAEEqL,IACNR,EAAW,CAAET,KAAM,KACnB1nC,IAAMjT,QAAQ,4CAChB,MAAOurB,GACLtY,IAAMH,MAAMyY,GAEhBvV,GAAW,IA0DKgmC,CAAW7Y,GACXhgC,EAAQkgC,eAAc,IACvB,OAINnc,IAAA,IAAC,QAAEoc,EAAO,OAAEC,EAAM,UAAE0Y,GAAW/0B,EAAA,OAC5B3nB,IAAAuX,cAAC2sB,KAAI,KACDlkC,IAAAuX,cAACypB,KAAI,CAACC,WAAS,EAACxD,QAAS,GACrBz9B,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIF,MAAI,GACdlhC,IAAAuX,cAAC4sB,KAAK,CACFC,GAAI7mB,KACJ3c,KAAK,OACL+7C,KAAM,EACNnwC,MAAO+F,KAAKoB,EAAE,gDACd1K,YAAasJ,KAAKoB,EAAE,mDACpBipC,WAAW,EACXrpC,MAAOwwB,EAAQqX,MAAQtqB,QAAQkT,EAAOoX,MACtC9W,WAAYP,EAAQqX,MAAQpX,EAAOoX,KACnCz9B,QAAQ,WACRH,SAAU++B,EACVzvB,WAAS,KAGfovB,EAAMz4B,OAAS,GACbzjB,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIF,MAAI,GACdlhC,IAAAuX,cAAC6G,IAAI,CAACd,UAAWR,EAAQF,MAnD9Cs/B,EAAM79B,IAAK+8B,GACPp7C,IAAAuX,cAAC4jC,GAA0B,CAC9BC,KAAMA,EACN5hC,IAAK4hC,EAAK/1C,GACVg2C,WAAYmB,OAoDAx8C,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIF,MAAI,GACdlhC,IAAAuX,cAACypB,KAAI,CAACC,WAAS,EAACxD,QAAS,GACrBz9B,IAAAuX,cAACypB,KAAI,CAACI,GAAI,EAAGF,MAAI,GACblhC,IAAAuX,cAACqG,KAAM,CACHC,QAASA,KACLg+B,EAAW,IACXa,EAAU,KAEdl1C,MAAM,UACNmW,QAAQ,WACRmP,WAAS,GACZ,aAIL9sB,IAAAuX,cAACypB,KAAI,CAACI,GAAI,EAAGF,MAAI,GACblhC,IAAAuX,cAAC2P,GAAiB,CAAC1Q,QAASA,EAAShP,MAAM,UAAUlC,KAAK,SAASqY,QAAQ,YAAY0mB,WAAS,EAACvX,WAAS,GAAC,kBCxKnJ,MAEMpR,GAAYC,YAAWvH,IAAK,CACjCqwB,OAAQ,CACPvoB,MAJkB,IAKlB2gC,WAAY,GAEblV,YAAa,CACZzrB,MARkB,IASlBL,QAAS,OACT+4B,UAAW,gCACXkI,YAAa,gCACbloB,aAAc,gCACd5L,qBAAsB,EACtBE,wBAAyB,GAE1B3Z,OAAQ,CACPsM,QAAS,OACT+Y,aAAc,gCACdlY,gBAAiBtI,EAAMqhB,QAAQsnB,cAC/BhhC,WAAY,SACZuR,QAASlZ,EAAMqpB,QAAQ,EAAG,GAC1BxQ,UAAW,OACX2C,eAAgB,cAEjBvsB,QAAS,CACRwY,QAAS,OACTa,gBAAiBtI,EAAMqhB,QAAQsnB,cAC/BjhC,cAAe,SACfwR,QAAS,kBACT9Q,OAAQ,OACRwH,UAAW,YACR5P,EAAMmZ,iBAGVqtB,cAAe,CACd5+B,OAAQ,GACRE,MAAO,IACPM,OAAQ,KAGTm+B,cAAe,CACd9+B,QAAS,OACTyR,QAAS,EACTxR,cAAe,SACfC,WAAY,SACZ6T,eAAgB,SAChB,QAAS,CACR5T,OAAQ,IAIV6+B,eAAgB,CACfp+B,UAAW,EACX6Q,QAAS,EACTzR,QAAS,OACTC,cAAe,UAEhBg/B,iBAAkB,CACjBr+B,UAAW,EACX6Q,QAAS,MAmHI0vB,OA/GO3lC,IAA4D,IAAD4lC,EAAA,IAA1D,KAAE5zC,EAAI,kBAAE6zC,EAAiB,QAAE90C,EAAO,OAAE+nB,EAAM,QAAE3Z,GAASa,EAC3E,MAAMyF,EAAUpB,MAETi2B,EAAWwL,GAAgBzmC,oBAAS,IACpC0mC,EAAUC,GAAe3mC,oBAAS,GAMzC,OAJAC,oBAAU,KACT0mC,GAAY,IACV,CAACh0C,EAAMjB,IAGTpI,IAAAuX,cAAAvX,IAAAikB,SAAA,KACCjkB,IAAAuX,cAACiyB,IAAM,CACNlsB,UAAWR,EAAQ2nB,OACnB9mB,QAAQ,aACR2/B,OAAO,QACPj0C,KAAMA,EACNk0C,WAAY,CAAEx5B,MAAO,CAAEI,SAAU,aACjCq5B,cAAe,CAAEz5B,MAAO,CAAEI,SAAU,aACpCs5B,WAAY,CACXxc,UAAWzN,SAASC,eAAe,oBACnC1P,MAAO,CAAEI,SAAU,aAEpBrH,QAAS,CACR2jB,MAAO3jB,EAAQ6qB,cAGhB3nC,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQvN,QACvBvP,IAAAuX,cAACsH,IAAU,CAAChB,QAASq/B,GACpBl9C,IAAAuX,cAACmmC,KAAS,OAEX19C,IAAAuX,cAACqT,IAAU,CAAC7G,MAAO,CAAE4U,YAAa,WAChCpmB,KAAKoB,EAAE,0BAGT6C,EACAxW,IAAAuX,cAACmjC,GAAqB,CAAC59B,QAASA,IAEhC9c,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQzZ,SACvBrD,IAAAuX,cAAC6uB,KAAK,CAACrR,QAAM,EAACpX,QAAQ,WAAWL,UAAWR,EAAQ69B,eACnD36C,IAAAuX,cAACyd,KAAU,CACVnX,QAASA,OACTkG,MAAO,CAAEsS,OAAQ,UAAWna,MAAO,QACnC+Y,qBAAsB,CAAEC,QAAQ,GAChCC,yBAA0B,CAAED,QAAQ,GACpCE,OAAQp1B,IAAAuX,cAACge,KAAM,CAAC9I,IAAKrkB,EAAQkuB,cAAenM,IAAI,gBAAgBpG,MAAO,CAAE7H,MAAO,GAAIM,OAAQ,MAC5Fjc,MACCP,IAAAuX,cAAAvX,IAAAikB,SAAA,KACCjkB,IAAAuX,cAACqT,IAAU,CAAC/M,QAASA,IAAMw/B,GAAY,IACrCj1C,EAAQxH,KACTZ,IAAAuX,cAAComC,KAAU,CAAC55B,MAAO,CAACK,SAAU,GAAI6C,WAAY,OAIjDuO,UACCx1B,IAAAuX,cAAAvX,IAAAikB,SAAA,KACCjkB,IAAAuX,cAACqT,IAAU,CAAC7G,MAAO,CAACK,SAAU,KAC7BpkB,IAAAuX,cAACqmC,KAAI,CAAC1rB,KAAI,OAAAze,OAASrL,EAAQjB,SAAWiB,EAAQjB,SAE/CnH,IAAAuX,cAACqT,IAAU,CAAC7G,MAAO,CAACK,SAAU,KAC7BpkB,IAAAuX,cAACqmC,KAAI,CAAC1rB,KAAI,UAAAze,OAAYrL,EAAQvH,QAAUuH,EAAQvH,WAKpDb,IAAAuX,cAACqG,KAAM,CACND,QAAQ,WACRnW,MAAM,UACNqW,QAASA,IAAMs/B,GAAcC,GAC7Br5B,MAAO,CAACK,SAAU,KAEjB7R,KAAKoB,EAAE,+BAEPvL,EAAQ/C,IAAM+3C,GAAap9C,IAAAuX,cAACyjC,GAAW,CAACpJ,eAAgBxpC,EAAS6yC,SAAUA,IAAMoC,GAAY,MAEhGr9C,IAAAuX,cAAC6uB,KAAK,CAACrR,QAAM,EAACpX,QAAQ,WAAWL,UAAWR,EAAQ+9B,gBACnD76C,IAAAuX,cAACqT,IAAU,CAACjN,QAAQ,YAAYoG,MAAO,CAAC5H,aAAc,KACpD5J,KAAKoB,EAAE,8CAET3T,IAAAuX,cAACokC,GAAY,CAACxrB,OAAQA,KAEvBnwB,IAAAuX,cAAC6uB,KAAK,CAACrR,QAAM,EAACpX,QAAQ,WAAWL,UAAWR,EAAQ+9B,gBACnD76C,IAAAuX,cAACw5B,GAAY,CACZ1nC,KAAMsoC,EACNtnB,QAASA,IAAM8yB,GAAa,GAC5BnM,UAAW5oC,EAAQ/C,KAEpBrF,IAAAuX,cAACqT,IAAU,CAACjN,QAAQ,aAClBpL,KAAKoB,EAAE,4BAED,OAAPvL,QAAO,IAAPA,GAAkB,QAAX60C,EAAP70C,EAASlB,iBAAS,IAAA+1C,OAAX,EAAPA,EAAoB5+B,IAAIizB,GACxBtxC,IAAAuX,cAAC6uB,KAAK,CACL5sB,IAAK83B,EAAKjsC,GACV0vB,QAAM,EACNpX,QAAQ,WACRL,UAAWR,EAAQg+B,kBAEnB96C,IAAAuX,cAACyqB,KAAU,KAAEsP,EAAK1wC,MAClBZ,IAAAuX,cAACqT,IAAU,CAACnK,UAAU,MAAMyU,QAAM,EAACnR,MAAO,CAAEiK,WAAY,IACvDhuB,IAAAuX,cAACmQ,GAAe,KAAE4pB,EAAK75B,e,iNCvLjC,MAAMiE,GAAYC,YAAWvH,IAAK,CACjCypC,SAAU,CACThiC,QAAS,OACToL,WAAY,GACZ3K,YAAa,GACbP,WAAY,aAuCC+hC,OAnCQA,KACtB,MAAMhhC,EAAUpB,MAKTqiC,EAAOC,GAAYtnC,mBAJL,CACpB22B,QAAS,EACT4Q,QAAS,IAIVtnC,oBAAU,KACT,MAAMyyB,EAAWC,YAChB,IACC2U,EAASxmB,GACkB,KAAtBA,EAAUymB,QACN,IAAKzmB,EAAW6V,QAAS7V,EAAU6V,QAAU,EAAG4Q,QAAS,GAE1D,IAAKzmB,EAAWymB,QAASzmB,EAAUymB,QAAU,IAEtD,KAED,MAAO,KACN3U,cAAcF,KAEb,IAEH,MAAM8U,EAAU5e,GACRA,EAAI,GAAK,IAAMA,EAAIA,EAG3B,OACCt/B,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQ+gC,UACvB79C,IAAAuX,cAAA,eAAA9D,OAAUyqC,EAAQH,EAAM1Q,SAAQ,KAAA55B,OAAIyqC,EAAQH,EAAME,aCKtCE,OA7CUA,KAqCd,CACHv8C,KApCSgV,UACT,MAAQtD,KAAMgM,SAAuBhL,GAAI2D,QAAQ,CAC7CmH,IAAK,kBACLC,OAAQ,OACR/L,SAEJ,OAAOgM,GA+BP7R,OA5BWmJ,UACX,MAAQtD,KAAMgM,SAAuBhL,GAAI2D,QAAQ,CAC7CmH,IAAI,mBAAD3L,OAAqBH,EAAKjO,IAC7Bga,OAAQ,MACR/L,SAEJ,OAAOgM,GAuBP8+B,aApBiBxnC,UACjB,MAAM,KAAEtD,SAAegB,GAAI2D,QAAQ,CAC/BmH,IAAI,mBAAD3L,OAAqBpO,GACxBga,OAAQ,WAEZ,OAAO/L,GAgBPsJ,KAbShG,UACT,MAAM,KAAEtD,SAAegB,GAAI2D,QAAQ,CAC/BmH,IAAK,uBACLC,OAAQ,MACRvK,WAEJ,OAAOxB,KCEf,MAAM+qC,GAAc,IAAIC,KAAY,CAAEC,QAAS,MAEzC7iC,GAAYC,YAAYvH,IAAK,CACjCmiB,YAAa,CACX7Z,gBAAiBtI,EAAMqhB,QAAQ+oB,SAC/B3iC,QAAS,OACTC,cAAe,SACfC,WAAY,SACZ64B,UAAW,iCAGb6J,cAAe,CACb/hC,gBAAiBtI,EAAMqhB,QAAQipB,cAC/BxiC,MAAO,OACPL,QAAS,OACTyR,QAAS,MACTvR,WAAY,UAGd4iC,oBAAqB,CACnBrxB,QAAS,EACThR,YAAa,EACbI,gBAAiBtI,EAAMqhB,QAAQmpB,YAC/B/iC,QAAS,OACTc,aAAc,GACd2R,KAAM,GAGRuwB,aAAc,CACZv6B,YAAa,GACbgK,KAAM,EACN8W,OAAQ,QAGV0Z,iBAAkB,CAChBt3C,MAAO,QAGTu3C,YAAa,CACXljC,QAAS,QAGXmjC,sBAAuB,CACrBnjC,QAAS,OACTyR,QAAS,YACTnJ,SAAU,WACVyL,eAAgB,gBAChB7T,WAAY,SACZW,gBAAiB,OACjBk4B,UAAW,iCAGbqK,SAAU,CACR96B,SAAU,WACViL,OAAQ,GACRlT,MAAO,GACP04B,UAAW,qBAGbpnB,cAAe,CACbhmB,MAAOsf,KAAM,KACb2G,QAAS,MACTtJ,SAAU,WACV4C,IAAK,MACLC,KAAM,MACNC,YAAa,IAGfi4B,aAAc,CACZ13C,MAAOsf,KAAM,KACb2G,QAAS,OAGX0xB,gBAAiB,CACftjC,QAAS,OACTE,WAAY,SACZod,aAAc,UAGhBimB,gBAAiB,CACf53C,MAAO,OAGT63C,cAAe,CACb73C,MAAO,SAGT83C,mBAAoB,CAClBzjC,QAAS,OACTK,MAAO,OACPH,WAAY,SACZ6T,eAAgB,SAChB5B,WAAY,EACZ1J,YAAa,GACbyJ,aAAc,GAGhBwxB,qBAAsB,CACpBjxB,KAAM,EACNhS,YAAa,EACb0H,UAAW,SACXtH,gBAAiB,sBACjBC,aAAc,QACdd,QAAS,OACTsI,SAAU,YAGZq7B,gBAAiB,CACflyB,QAAS,GACT9Q,OAAQ,OACRX,QAAS,QACTgS,WAAY,WACZb,SAAU,UAGZyyB,4BAA6B,CAC3BnxB,KAAM,OACNpS,MAAO,MACPQ,gBAAiB,WAGnBgjC,yBAA0B,CACxBpxB,KAAM,OACNpS,MAAO,MACPQ,gBAAiB,WAGnBmS,mBAAoB,CAClBhT,QAAS,OACTrU,MAAO,UACPsnB,WAAY,QAIV6wB,GAAgB//B,IACpB,MAAM,SAAEne,EAAQ,UAAEm+C,EAAS,aAAEC,EAAY,eAAEC,GAAmBlgC,EACxD9C,EAAUpB,KAChB,OACE1b,IAAAuX,cAAAvX,IAAAikB,SAAA,KACEjkB,IAAAuX,cAACsH,IAAU,CACTuhB,aAAW,cACX3f,UAAU,OACVhf,SAAUA,EACVoc,QAAUmO,GAAM6zB,EAAcroB,IAAeA,IAE7Cx3B,IAAAuX,cAACwoC,KAAQ,CAACziC,UAAWR,EAAQgiC,oBAE9Bc,EACC5/C,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQmiC,UACtBj/C,IAAAuX,cAACyoC,KAAM,CACLC,QAAS,GACTC,aAAa,EACbC,eAAe,EACfC,SAAUN,KAGZ,OAKJO,GAAczgC,IAClB,MAAM,MAAE1D,EAAK,eAAEokC,EAAc,YAAExwC,GAAgB8P,EAC/C,OAAI2gC,aAAU,KAAMrkC,GAEhBlc,IAAAuX,cAAC4iC,KAAgB,CACfp2B,MAAO,CAAEzH,YAAa,EAAG9U,MAAO,QAChCgF,MAAO+F,KAAKoB,EAAE,6BACdymC,eAAe,QACfC,QACEr6C,IAAAuX,cAAC+iC,KAAM,CACLjzB,KAAK,QACLuuB,QAAS9lC,EACT0N,SAAWwO,IACTs0B,EAAet0B,EAAEtO,OAAOk4B,UAE1Bh1C,KAAK,iBACL4G,MAAM,cAMT,MAGHg5C,GAAa5gC,IACjB,MAAM,mBAAE6gC,EAAkB,cAAEC,GAAkB9gC,EACxC9C,EAAUpB,KAChB,OACE1b,IAAAuX,cAAAvX,IAAAikB,SAAA,KACEjkB,IAAAuX,cAAA,SACE2qB,UAAQ,EACR58B,KAAK,OACLD,GAAG,gBACH5D,SAAUi/C,IACVpjC,UAAWR,EAAQiiC,YACnBvhC,SAAUijC,IAEZzgD,IAAAuX,cAAA,SAAOopC,QAAQ,iBACb3gD,IAAAuX,cAACsH,IAAU,CACTuhB,aAAW,SACX3f,UAAU,OACVhf,SAAUi/C,KAEV1gD,IAAAuX,cAACqpC,KAAc,CAACtjC,UAAWR,EAAQgiC,uBAOvC+B,GAAiBjhC,IACrB,MAAM,aACJkhC,EAAY,QACZtqC,EAAO,UACPuqC,EAAS,aACTC,EAAY,kBACZ3lB,EAAiB,kBACjB4lB,EAAiB,kBACjBC,EAAiB,qBACjBC,GACEvhC,EACE9C,EAAUpB,KAChB,OAAIolC,EAEA9gD,IAAAuX,cAACsH,IAAU,CACTuhB,aAAW,cACX3f,UAAU,OACV5C,QAASwd,EACT55B,SAAU+U,GAEVxW,IAAAuX,cAAC6pC,KAAQ,CAAC9jC,UAAWR,EAAQgiC,oBAGxBiC,EAEP/gD,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQqiC,iBACtBn/C,IAAAuX,cAACsH,IAAU,CACTuhB,aAAW,kBACX3f,UAAU,OACV2D,SAAS,QACT3iB,SAAU+U,EACVqH,QAASojC,GAETjhD,IAAAuX,cAAC8pC,KAAgB,CAAC/jC,UAAWR,EAAQsiC,mBAEtC5oC,EACCxW,IAAAuX,cAAA,WACEvX,IAAAuX,cAAC6P,KAAgB,CAAC9J,UAAWR,EAAQoiC,gBAGvCl/C,IAAAuX,cAACumC,GAAc,MAGjB99C,IAAAuX,cAACsH,IAAU,CACTuhB,aAAW,oBACX3f,UAAU,OACV5C,QAASqjC,EACTz/C,SAAU+U,GAEVxW,IAAAuX,cAAC+pC,KAAsB,CAAChkC,UAAWR,EAAQuiC,kBAM/Cr/C,IAAAuX,cAACsH,IAAU,CACTuhB,aAAW,eACX3f,UAAU,OACVhf,SAAU+U,GAA4B,SAAjBwqC,EACrBnjC,QAASsjC,GAETnhD,IAAAuX,cAACgqC,KAAO,CAACjkC,UAAWR,EAAQgiC,qBAM9B0C,GAAe5hC,IACnB,MAAM,QACJpJ,EAAO,SACPyjC,EAAQ,aACR+G,EAAY,aACZF,EAAY,gBACZW,EAAe,kBACfpmB,EAAiB,iBACjBqmB,EAAgB,cAChBhB,EAAa,wBACbiB,GACE/hC,EACE9C,EAAUpB,MACTjR,EAAem3C,GAAoBlrC,mBAAS,KAC5CrH,EAASwiC,GAAcn7B,mBAAS,KAChCmrC,EAAWC,GAAgBprC,oBAAS,IAErC,KAAEpL,GAAS6V,qBAAWzG,KAEpBkC,KAAMmlC,GAAsB5D,KAEpCxnC,oBAAU,MACRC,iBACE,MAAMG,EAAY/B,aAAaC,QAAQ,aAEjC5F,SADiB0yC,EAAkB,CAAEhrC,YAAWhC,OAAQzJ,EAAKjG,MAC1CgZ,IAAK0R,IAC5B,IAAIiyB,EAAmBjyB,EAAElrB,QAIzB,OAHIwP,oBAAS2tC,IAAqBA,EAAiBv+B,OAAS,KAC1Du+B,EAAmBjyB,EAAElrB,QAAQuxB,UAAU,EAAG,IAAM,OAE3C,CACL3e,MAAOsY,EAAElrB,QACT2H,MAAM,IAADiH,OAAMsc,EAAE5jB,UAAS,OAAAsH,OAAMuuC,GAC5BhzC,UAAW+gB,EAAE/gB,aAGjB4yC,EAAiBvyC,GAEnB8T,IAEC,IAEHxM,oBAAU,KACR,GACEtC,oBAASysC,KACR5R,mBAAQ4R,IACTA,EAAar9B,OAAS,EACtB,CACA,MAAMw+B,EAAYnB,EAAaoB,OAAO,GACtCJ,EAAaG,EAAU9M,QAAQ,MAAQ,GAEvC,MAAMgN,EAAkB13C,EAAcmZ,OACnCmM,GAAMA,EAAEvjB,MAAM2oC,QAAQ2L,IAAiB,GAE1CjP,EAAWsQ,QAEXL,GAAa,IAGd,CAAChB,IAEJ,MAqBMsB,EAAehmC,IACfA,IACFA,EAAM4jB,QACNia,EAASjpB,QAAU5U,IAIvB,OACEpc,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQ6hC,qBACtB3+C,IAAAuX,cAACq8B,KAAY,CACXG,UAAQ,EACR1qC,KAAMw4C,EACNx8C,GAAG,eACHoS,MAAOqpC,EACPzxC,QAASA,EACTgzC,UAAW,KACXpO,eAAiBR,GACXl+B,oBAASk+B,GACJA,EAAOjnC,MAEPinC,EAGXj2B,SAAUA,CAACC,EAAO6kC,KAEZ/sC,oBAAS+sC,IAAQlpC,eAAIkpC,EAAK,UAAYC,iBAAMD,EAAItzC,YAClDyyC,EAAgBa,EAAI7qC,OACpB4L,WAAW,KACT42B,EAASjpB,QAAQuC,UAAY0mB,EAASjpB,QAAQqV,cAC7C,MACM9wB,oBAAS+sC,IAAQlpC,eAAIkpC,EAAK,WAAaC,iBAAMD,EAAItzC,aAC1D2yC,EAAwBW,GAExBj/B,WAAW,KACT42B,EAASjpB,QAAQuC,UAAY0mB,EAASjpB,QAAQqV,cAC7C,OAGPmc,cAAeA,CAAC/kC,EAAO6kC,EAAKG,KACX,UAAXA,GACFhB,EAAgBhkC,EAAMC,OAAOjG,QAGjCirC,QAzDW12B,IACM,SAAjBg1B,GACFU,EAAiB11B,IAwDfqoB,WAjEcroB,IACdxV,GAAWwV,EAAE22B,UACE,UAAV32B,EAAExS,KACT6hB,KA+DEtX,MAAO,CAAE7H,MAAO,QAChBk4B,YAAct/B,IACZ,MAAM,gBAAEk7B,EAAe,WAAEsE,KAAentB,GAASrS,EACjD,OACE9U,IAAAuX,cAACyiC,KAAS35B,OAAAC,OAAA,GACJxL,EAAOw/B,WACPntB,EAAI,CACR1lB,SAAUi/C,IACVzG,SAAUmI,EACVn5C,YA7DW,SAAjB+3C,EACKzuC,KAAKoB,EAAE,iCAETpB,KAAKoB,EAAE,mCA2DJipC,WAAS,EACTt/B,UAAWR,EAAQ+hC,aACnB+D,QAAS,UA4TRC,sBAnTajjC,IAAW,IAADkjC,EACpC,MAAM,aAAE9B,EAAY,SAAE5wB,GAAaxQ,EAC7B9C,EAAUpB,MAETqnC,EAAQC,GAAatsC,mBAAS,KAC9BoqC,EAAcW,GAAmB/qC,mBAAS,KAC1CkpC,EAAWC,GAAgBnpC,oBAAS,IACpCF,EAASC,GAAcC,oBAAS,IAChCqqC,EAAWkC,GAAgBvsC,oBAAS,GACrCujC,EAAWxpB,oBACX,mBAAExF,EAAkB,gBAAED,GAC1B7J,qBAAW2J,KACP,KAAExf,GAAS6V,qBAAWzG,KAErB5K,EAAawwC,GC5df,SAAyB9mC,EAAK0pC,GACpC,MAAOC,EAAaC,GAAkB1sC,mBAAS,KAC9C,IACC,MAAMwqB,EAAOlsB,aAAaC,QAAQuE,GAClC,OAAO0nB,EAAO9oB,KAAKC,MAAM6oB,GAAQgiB,EAChC,MAAO3vC,GAER,OADAP,GAAWO,GACJ2vC,KAiBT,MAAO,CAACC,EAbS1rC,IAChB,IACC,MAAM4rC,EACL5rC,aAAiB6rC,SAAW7rC,EAAM0rC,GAAe1rC,EAElD2rC,EAAeC,GAEfruC,aAAa6D,QAAQW,EAAKpB,KAAKU,UAAUuqC,IACxC,MAAO9vC,GACRP,GAAWO,MDwc0BgwC,CAAgB,cAAc,GAEpE5sC,oBAAU,KACRsjC,EAASjpB,QAAQgP,SAChB,CAAChV,IAEJrU,oBAAU,KACRsjC,EAASjpB,QAAQgP,QACV,KACLyhB,EAAgB,IAChB5B,GAAa,GACbmD,EAAU,IACV/3B,EAAmB,QAEpB,CAACmF,EAAUnF,IAUd,MAAM60B,EAAkB9zB,IACtB,IAAIw3B,EAAQx3B,EAAEy3B,OACdhC,EAAiBjqB,GAAcA,EAAYgsB,IAGvC/C,EAAsBz0B,IAC1B,IAAKA,EAAEtO,OAAOvS,MACZ,OAGF,MAAMu4C,EAAiB9M,MAAM+M,KAAK33B,EAAEtO,OAAOvS,OAC3C63C,EAAUU,IAGNhC,EAAoB11B,IACpBA,EAAE43B,cAAcz4C,MAAM,IACxB63C,EAAU,CAACh3B,EAAE43B,cAAcz4C,MAAM,MAuB/Bw2C,EAA0B/qC,UAC9B,GAAIa,EAAMzI,UACR,IACE,MAAM,KAAEsE,SAAeiB,KAAMsC,IAAIY,EAAMzI,UAAW,CAChDya,aAAc,SAKhB,MA5BgC7S,OAAOitC,EAAMh/C,KACjD4R,GAAW,GACX,IACE,MAAMqtC,EAAYD,EAAKv+C,KAAKmsB,MAAM,KAAK,GAEjCsyB,EAAW,IAAIC,SACf3e,EAAQ,GAAA5xB,QAAM,IAAIwK,MAAOgmC,UAAS,KAAAxwC,OAAIqwC,GAC5CC,EAASG,OAAO,SAAUL,EAAMxe,GAChC0e,EAASG,OAAO,OAASr/C,GACzBk/C,EAASG,OAAO,UAAU,SAEpB5vC,GAAIsE,KAAK,aAADnF,OAAc2c,GAAY2zB,GACxC,MAAO9wC,GACPD,GAAWC,GACXwD,GAAW,GAEbA,GAAW,IAUP0tC,CAA8B7wC,EAAMmE,EAAMA,YAC1CgqC,EAAgB,IAGhB,MAAOxuC,GACPD,GAAWC,GAIfwuC,EAAgB,IAChBA,EAAgBhqC,EAAMA,QAwBlB4jB,EAAoBzkB,UACxB,GAA4B,KAAxBkqC,EAAa/iC,OAAe,OAChCtH,GAAW,GAEX,MAAM5R,EAAU,CACd02B,KAAM,EACNzP,QAAQ,EACRgG,SAAU,GACV3pB,KAAM2H,EAAW,IAAA2D,OACL,OAAJnI,QAAI,IAAJA,OAAI,EAAJA,EAAM1K,KAAI,QAAA6S,OAAOqtC,EAAa/iC,QAClC+iC,EAAa/iC,OACjBqQ,UAAWpD,GAEb,UACQ1W,GAAIsE,KAAK,aAADnF,OAAc2c,GAAYvrB,GACxC,MAAOoO,GACPD,GAAWC,GAGbwuC,EAAgB,IAChB5B,GAAa,GACbppC,GAAW,GACXwU,EAAmB,OAGfk2B,EAAuBvqC,UAC3BH,GAAW,GACX,UACQ2tC,UAAUC,aAAaC,aAAa,CAAEC,OAAO,UAC7ClG,GAAYmG,QAClBvB,GAAa,GACbxsC,GAAW,GACX,MAAOxD,GACPD,GAAWC,GACXwD,GAAW,KAITyqC,EAAoBtqC,UACxBH,GAAW,GACX,IACE,MAAO,CAAEotC,SAAcxF,GAAYoG,OAAOC,SAC1C,GAAIb,EAAKx8B,KAAO,IAGd,OAFA5Q,GAAW,QACXwsC,GAAa,GAIf,MAAMc,EAAW,IAAIC,SACf3e,EAAQ,qBAAA5xB,QAAwB,IAAIwK,MAAOgmC,UAAS,QAC1DF,EAASG,OAAO,SAAUL,EAAMxe,GAChC0e,EAASG,OAAO,OAAQ7e,GACxB0e,EAASG,OAAO,UAAU,SAEpB5vC,GAAIsE,KAAK,aAADnF,OAAc2c,GAAY2zB,GACxC,MAAO9wC,GACPD,GAAWC,GAGbgwC,GAAa,GACbxsC,GAAW,IAGPwqC,EAAoBrqC,UACxB,UACQynC,GAAYoG,OAAOC,SACzBzB,GAAa,GACb,MAAOhwC,GACPD,GAAWC,KAITytC,EAAgBA,IACblqC,GAAWuqC,GAA8B,SAAjBC,EAiCjC,OAAI+B,EAAOt/B,OAAS,EAEhBzjB,IAAAuX,cAAC6uB,KAAK,CAACkP,UAAW,EAAGvgB,QAAM,EAACzX,UAAWR,EAAQkiC,uBAC7Ch/C,IAAAuX,cAACsH,IAAU,CACTuhB,aAAW,gBACX3f,UAAU,OACV5C,QAAUmO,GAAMg3B,EAAU,KAE1BhjD,IAAAuX,cAACotC,KAAU,CAACrnC,UAAWR,EAAQgiC,oBAGhCtoC,EACCxW,IAAAuX,cAAA,WACEvX,IAAAuX,cAAC6P,KAAgB,CAAC9J,UAAWR,EAAQ0Q,iBAGvCxtB,IAAAuX,cAAA,YACY,QADZurC,EACGC,EAAO,UAAE,IAAAD,OAAA,EAATA,EAAWliD,MAIhBZ,IAAAuX,cAACsH,IAAU,CACTuhB,aAAW,cACX3f,UAAU,OACV5C,QAvJkBjH,UACxBH,GAAW,GACXuV,EAAE+T,iBAEF,MAAMgkB,EAAW,IAAIC,SACrBD,EAASG,OAAO,UAAU,GAC1BnB,EAAOniC,QAAS9U,IACdi4C,EAASG,OAAO,SAAUp4C,GAC1Bi4C,EAASG,OAAO,OAAQp4C,EAAMlL,QAGhC,UACQ0T,GAAIsE,KAAK,aAADnF,OAAc2c,GAAY2zB,GACxC,MAAO9wC,GACPD,GAAWC,GAGbwD,GAAW,GACXusC,EAAU,KAsIJvhD,SAAU+U,GAEVxW,IAAAuX,cAAC6pC,KAAQ,CAAC9jC,UAAWR,EAAQgiC,qBAMjC9+C,IAAAuX,cAAC6uB,KAAK,CAACrR,QAAM,EAACugB,UAAW,EAAGh4B,UAAWR,EAAQyZ,aAC5CvL,GAhEwBnmB,KAAa,IAAD+uB,EACzC,OACE5zB,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQwiC,oBACtBt/C,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQyiC,sBACtBv/C,IAAAuX,cAAA,QACE+F,UAAW+V,YAAKvW,EAAQ2iC,4BAA6B,CACnD,CAAC3iC,EAAQ4iC,2BAA4B76C,EAAQinB,WAGjD9rB,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQ0iC,kBACpB36C,EAAQinB,QACR9rB,IAAAuX,cAAA,QAAM+F,UAAWR,EAAQ+R,oBACP,QAD0B+E,EACzC/uB,EAAQuD,eAAO,IAAAwrB,OAAA,EAAfA,EAAiBhzB,MAGrBiE,EAAQsD,OAGbnI,IAAAuX,cAACsH,IAAU,CACTuhB,aAAW,eACX3f,UAAU,OACVhf,SAAU+U,GAA4B,SAAjBwqC,EACrBnjC,QAASA,IAAMoN,EAAmB,OAElCjrB,IAAAuX,cAACqtC,KAAS,CAACtnC,UAAWR,EAAQgiC,sBAwCZ+F,CAAsB75B,GAC1ChrB,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQ2hC,eACtBz+C,IAAAuX,cAACooC,GAAY,CACXl+C,SAAUi/C,IACVZ,eAAgBA,EAChBF,UAAWA,EACXC,aAAcA,IAGhB7/C,IAAAuX,cAACipC,GAAS,CACRE,cAAeA,EACfD,mBAAoBA,IAGtBzgD,IAAAuX,cAAC8oC,GAAU,CACTnkC,MAAO0D,EAAM1D,MACbokC,eAAgBA,EAChBxwC,YAAaA,IAGf9P,IAAAuX,cAACiqC,GAAW,CACVhrC,QAASA,EACTyjC,SAAUA,EACV+G,aAAcA,EACdF,aAAcA,EACdW,gBAAiBA,EAEjBpmB,kBAAmBA,EACnBqmB,iBAAkBA,EAClBhB,cAAeA,EACfiB,wBAAyBA,IAG3B3hD,IAAAuX,cAACspC,GAAa,CACZC,aAAcA,EACdtqC,QAASA,EACTuqC,UAAWA,EACXC,aAAcA,EACd3lB,kBAAmBA,EACnB4lB,kBAAmBA,EACnBC,kBAAmBA,EACnBC,qBAAsBA,Q,sBEjvBnB2D,OATGA,KAMV,CAAEhX,QALOl3B,UACT,MAAM,KAAEtD,SAAegB,GAAIuC,IAAI,UAC/B,OAAOvD,KCsBf,MAAMoI,GAAYC,YAAYvH,IAAK,CACjCuZ,SAAU,CACRzR,MAAO,WAILm3B,GAAgB5B,aAAoB,CACxC1zB,MAAM,IAmQOgnC,OAhQmB1tC,IAAuC,IAAtC,UAAEs6B,EAAS,QAAEtnB,EAAO,SAAE26B,GAAU3tC,EACjE,MAAMM,EAAUC,wBACTvI,EAASwiC,GAAcn7B,mBAAS,KAChChM,EAAQo3B,GAAaprB,mBAAS,KAC9BuuC,EAAWC,GAAgBxuC,mBAAS,KACpCF,EAASC,GAAcC,oBAAS,IAChCgM,EAAaovB,GAAkBp7B,mBAAS,KACxCyuC,EAAcC,GAAmB1uC,mBAAS,OAC1Cu7B,EAAeC,GAAoBx7B,mBAAS,IAC7CoG,EAAUpB,MACRoyB,QAASuX,GAAkBP,KAC7BhqB,EAAYrK,kBAAO,IAClB8hB,EAAWC,GAAgB97B,mBAAS,KACpCy7B,EAAkBC,GAAuB17B,mBAAS,KACnD,KAAEpL,GAAS6V,qBAAWzG,KACtB,UAAE3D,EAAS,WAAEG,GAAe5L,EAElCqL,oBAAU,IACD,KACLmkB,EAAU9J,SAAU,GAErB,IAEHra,oBAAU,KACRF,GAAW,GACX,MAAM2M,EAAkBC,WAAW,KAOd,OAAfnM,QAAsC/C,IAAf+C,GACzBk7B,EAAoBl7B,GAGK,IAAvB5L,EAAKZ,OAAO+Y,QACdyuB,EAAiB5mC,EAAKZ,OAAO,GAAGrF,IAXZuR,WACpBtC,GACGuC,IAAI,YAAa,CAAE/B,OAAQ,CAAEiC,YAAWlT,QAAS,KACjDovC,KAAKtrB,IAAA,IAAC,KAAErU,GAAMqU,EAAA,OAAK6qB,EAAal/B,MAUrC4/B,GACAz8B,GAAW,IACV,KACH,MAAO,IAAM8M,aAAaH,IACzB,IAEHzM,oBAAU,KACR,GAAImkB,EAAU9J,QAAS,CACFpa,WACjB,MAAMgG,QAAayoC,IACnBH,EAAatoC,GACbklB,EAAUllB,IAEZ0oC,KAGD,IAEH3uC,oBAAU,KACR,IAAKg7B,GAAajvB,EAAYe,OAAS,EAErC,YADAhN,GAAW,GAGb,MAAM2M,EAAkBC,WAAW,KACjC5M,GAAW,GACQG,WACjB,IACE,MAAM,KAAEtD,SAAegB,GAAIuC,IAAI,UAAW,CACxC/B,OAAQ,CAAE4N,iBAEZmvB,EAAWv+B,EAAKlS,OAChBqV,GAAW,GACX,MAAOxD,GACPwD,GAAW,GACXzD,GAAWC,KAIfsyC,IACC,KACH,MAAO,IAAMhiC,aAAaH,IACzB,CAACV,EAAaivB,IAEjB,MAAMvmB,EAAcA,KAClBf,IACAynB,EAAe,IACfsT,EAAgB,OAoClB,OACEplD,IAAAuX,cAACgT,KAAM,CAAClhB,KAAMsoC,EAAWtnB,QAASe,EAAauC,SAAS,KAAK2V,OAAO,SAClEtjC,IAAAuX,cAAA,QAAMosB,SAnCe/sB,UAEvB,GADAoV,EAAE+T,iBACGilB,GACA/S,GAAmC,KAAlBA,EAAtB,CACAx7B,GAAW,GACX,IACE,IAAInD,EAAO,GAEP6xC,IACF7xC,EAAKyB,OAASowC,EAAa9/C,IAGzB4sC,GAAmC,OAAlBA,IACnB3+B,EAAK+jB,QAAU4a,EAEVkT,IACH7xC,EAAK7P,OAAS,UACd6P,EAAKyB,OAAS,OAIdo9B,IACF7+B,EAAK4D,WAAai7B,SAEd79B,GAAImoB,IAAI,YAADhpB,OAAauxC,GAAY1xC,GAEtCqE,EAAQ4C,KAAK,YACb,MAAOtH,GACPwD,GAAW,GACXzD,GAAWC,OAOTjT,IAAAuX,cAACkT,KAAW,CAACplB,GAAG,qBACbkN,KAAKoB,EAAE,8BAEV3T,IAAAuX,cAACmT,KAAa,CAACC,UAAQ,GACrB3qB,IAAAuX,cAACq8B,KAAY,CACX7vB,MAAO,CAAE7H,MAAO,IAAKC,aAAc,IACnC83B,eAAiBR,GAAM,GAAAhgC,OAAQggC,EAAO7yC,MACtC4c,SAAUA,CAACwO,EAAGkoB,KACZkR,EAAgBlR,GACA,MAAZA,GAAoB0C,MAAMv9B,QAAQ66B,EAASxpC,QAC7Co3B,EAAUoS,EAASxpC,SAEnBo3B,EAAUmjB,GACV/S,EAAiB,MAGrB7iC,QAASA,EACTgkC,cAAeA,GACfU,UAAQ,EACRD,eAAa,EACb0R,cAAejzC,KAAKoB,EAAE,iCACtB6C,QAASA,EACT49B,YAAct/B,GACZ9U,IAAAuX,cAACgG,KAAS8C,OAAAC,OAAA,GACJxL,EAAM,CACVtI,MAAO+F,KAAKoB,EAAE,kCACdgK,QAAQ,WACR0mB,WAAS,EACT7mB,SAAWwO,GAAM8lB,EAAe9lB,EAAEtO,OAAOjG,OACzC68B,WAAY,IACPx/B,EAAOw/B,WACVC,aACEv0C,IAAAuX,cAACvX,IAAMikB,SAAQ,KACZzN,EACCxW,IAAAuX,cAAC6P,KAAgB,CAAC5f,MAAM,UAAU6f,KAAM,KACtC,KACHvS,EAAOw/B,WAAWC,oBAO/Bv0C,IAAAuX,cAACwqB,KAAW,CAACpkB,QAAQ,WAAWL,UAAWR,EAAQ6Q,UACjD3tB,IAAAuX,cAACyqB,KAAU,KACRzvB,KAAKoB,EAAE,wCAEV3T,IAAAuX,cAAC0qB,KAAM,CACLxqB,MAAOw6B,EACPz0B,SAAWwO,GAAMkmB,EAAiBlmB,EAAEtO,OAAOjG,OAC3CjL,MAAO+F,KAAKoB,EAAE,8CAEbjJ,EAAO2T,IAAKtX,GACX/G,IAAAuX,cAACwU,IAAQ,CAACvS,IAAKzS,EAAM1B,GAAIoS,MAAO1Q,EAAM1B,IACnC0B,EAAMnG,SAMfZ,IAAAuX,cAACypB,KAAI,CAACC,WAAS,EAACxD,QAAS,EAAG1Z,MAAO,CAACtH,UAAW,SAC7Czc,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIF,MAAI,GAChBlhC,IAAAuX,cAAC0qB,KAAM,CACLY,UAAQ,EACR/V,WAAS,EACT0nB,cAAY,EACZ72B,QAAQ,WACRlG,MAAO06B,EACP30B,SAAWwO,IACTomB,EAAoBpmB,EAAEtO,OAAOjG,QAE/B2qB,UAAW,CACT1W,aAAc,CACZC,SAAU,SACVC,WAAY,QAEdC,gBAAiB,CACfF,SAAU,MACVC,WAAY,QAEdH,mBAAoB,MAEtB4W,YAAaA,KACX,GAAyB,KAArB8P,EACF,MAAO,2BAGT,OADiBI,EAAUh5B,KAAKk7B,GAAKA,EAAEpvC,KAAO8sC,GAC9BvxC,QAGR,OAAT2xC,QAAS,IAATA,OAAS,EAATA,EAAW9uB,QAAS,GACnB8uB,EAAUl0B,IAAI,CAAClZ,EAAUqU,IACvBxZ,IAAAuX,cAACwU,IAAQ,CAACvL,OAAK,EAAChH,IAAKA,EAAK/B,MAAOtS,EAASE,IACxCrF,IAAAuX,cAACiH,IAAY,CACXC,QACEze,IAAAuX,cAAAvX,IAAAikB,SAAA,KAEEjkB,IAAAuX,cAACqT,IAAU,CAACnK,UAAU,OAAOsD,MAAO,CAAEK,SAAU,GAAI6C,WAAY,OAAQpL,QAAS,cAAeE,WAAY,SAAUwc,WAAY,MAC/HpzB,EAASvE,KAAK,SAAQZ,IAAAuX,cAAA,KAAG+F,UAAiC,cAArBnY,EAAS1B,OAA0BqZ,EAAQ0wB,OAAS1wB,EAAQ00B,SAAU,IAAErsC,EAAS1B,OAAO,eAWpJzD,IAAAuX,cAACsT,KAAa,KACZ7qB,IAAAuX,cAACqG,KAAM,CACLC,QAASuN,EACT5jB,MAAM,YACN/F,SAAU+U,EACVmH,QAAQ,YAEPpL,KAAKoB,EAAE,uCAEV3T,IAAAuX,cAAC2P,GAAiB,CAChBvJ,QAAQ,YACRrY,KAAK,SACLkC,MAAM,UACNgP,QAASA,GAERjE,KAAKoB,EAAE,uCCzRpB,MAAM8xC,GAAiBpuC,IAAA,IAAC,SAAE4iC,KAAayL,GAAOruC,EAAA,OAAKrX,IAAAuX,cAAA,MAASmuC,IAyB7CC,OAvBKh+B,IAMb,IANc,WACnB2sB,EAAU,SACVh9B,EAAQ,gBACR04B,EAAe,MACfxjC,KACGk5C,GACJ/9B,EACC,OACE3nB,IAAAuX,cAACgG,KAAS8C,OAAAC,OAAA,GACJolC,EAAK,CACT/nC,QAAQ,WACRnR,MAAOA,EACPowC,WAAS,EACT5M,gBAAiB,CAAEC,QAAQ,KAASD,GACpCsE,WAAY,CACVsR,eAAgBH,MACbnR,GAELuR,WAAY,CAAEvuC,SAAUA,OCnB9B,MAAMoE,GAAYC,YAAWvH,IAAK,CAC9ButB,KAAM,CACF3lB,OAAQ5H,EAAMqpB,QAAQ,IACtBpH,OAAQ,cA6DDyvB,OAzDgBzuC,IAA4B,IAA3B,QAAEwG,EAAO,SAAEpc,GAAU4V,EACjD,MAAMyF,EAAUpB,KAQVqqC,EAAU,CACZ,CACInlD,KAAM2R,KAAKoB,EAAE,gDACb8D,MAAO,iBAEX,CACI7W,KAAM2R,KAAKoB,EAAE,2CACb8D,MAAO,aAEX,CACI7W,KAAM2R,KAAKoB,EAAE,wCACb8D,MAAO,WAEX,CACI7W,KAAM2R,KAAKoB,EAAE,8CACb8D,MAAO,iBAEX,CACI7W,KAAM2R,KAAKoB,EAAE,oCACb8D,MAAO,aAEX,CACI7W,KAAM2R,KAAKoB,EAAE,oCACb8D,MAAO,cAIf,OACIzX,IAAAuX,cAACouC,GAAW,CACR3pC,OAAO,QACP8Q,WAAS,EACTtgB,MAAO+F,KAAKoB,EAAE,gCACdlS,SAAUA,GAETskD,EAAQ1nC,IAAI2nC,GACThmD,IAAAuX,cAAC+qB,KAAI,CACD9oB,IAAKwsC,EAAOvuC,MACZwuC,YAAaj6B,GA3CTmU,EAACnU,EAAGvU,KACpBuU,EAAE+T,iBACEt+B,GACJoc,EAAQpG,IAwCsB0oB,CAAYnU,EAAGg6B,EAAOvuC,OACxCjL,MAAOw5C,EAAOplD,KACdymB,KAAK,QACL/J,UAAWR,EAAQ6kB,KACnBn6B,MAAM,eC9B1B,MAAMkU,GAAYC,YAAWvH,IAAK,CACjCwH,KAAM,CACLC,QAAS,OACT6Q,SAAU,QAEX6V,cAAe,CACd1mB,QAAS,OACT,yBAA0B,CACzBS,YAAalI,EAAMqpB,QAAQ,KAI7B+E,WAAY,CACXre,SAAU,YAGX0C,eAAgB,CACfrf,MAAOsf,KAAM,KACb3C,SAAU,WACV4C,IAAK,MACLC,KAAM,MACNvK,WAAY,GACZwK,YAAa,IAEdwb,YAAa,CACZzmB,OAAQ5H,EAAMqpB,QAAQ,GACtBlR,SAAU,QAIN25B,GAAiBvjB,OAAaC,MAAM,CACzCz6B,KAAMw6B,OACJpB,IAAI,EAAG,wBACPsB,SAAS,kBACXmO,UAAWrO,OAAaE,SAAS,kBACjCx6B,OAAQs6B,OAAaE,SAAS,oBA0ThBsjB,OAvTO9uC,IAAqE,IAApE,KAAEhO,EAAI,QAAEghB,EAAO,WAAE+7B,EAAU,UAAEpV,EAAS,aAAEqV,EAAY,OAAEld,GAAQ9xB,EACpF,MAAMyF,EAAUpB,KACV/D,EAAUC,wBACV,KAAEtM,GAAS6V,qBAAWzG,IAEtBqoB,EAAe,CACpB56B,KAAM,GACN6oC,UAAW,GACX3oC,OAAQoR,MAAS5W,IAAI,EAAG,QAAQgX,OAAO,oBACvCvR,OAAQ,IAGHspC,EAAiB,CACtBvsC,GAAI,GACJzE,KAAM,KAGAuP,EAAUm2C,GAAe5vC,mBAASqsB,IAClCwjB,EAAgBC,GAAqB9vC,mBAASk7B,IAC9C9sC,EAAU2hD,GAAe/vC,mBAAS,CAACk7B,KACnC8U,EAAYC,GAAiBjwC,mBAAS,MACvCkwC,EAAiBn2B,iBAAO,OACvBnF,EAAkBC,GAAuB7U,oBAAS,GACnDmwC,EAAkBp2B,mBAExB9Z,oBAAU,KACT,GAAIq6B,GAAalsC,EAAS2e,OAAQ,CACjC,MAAMrb,EAAUtD,EAASyU,KAAKutC,GAAKA,EAAEzhD,KAAO2rC,GACxC5oC,GACHo+C,EAAkBp+C,KAGlB,CAAC4oC,EAAWlsC,IAEf6R,oBAAU,KACT,MAAM,UAAEI,GAAczL,EACtB,GAAIjC,EACH,IACC,WACC,MAAQiK,KAAMlG,SAAsBkH,GAAIuC,IAAI,iBAAkB,CAAE/B,OAAQ,CAAEiC,UAAWA,KACrF,IAAIgwC,EAAa35C,EAAYiR,IAAKyoC,IAAC,CAAQzhD,GAAIyhD,EAAEzhD,GAAIzE,KAAMkmD,EAAElmD,QAU7D,GATIyY,mBAAQ0tC,IACXN,EAAY,CAAC,CAAEphD,GAAI,GAAIzE,KAAM,OAASmmD,IAEnC/V,GACHsV,EAAY9uB,IACJ,IAAKA,EAAWwZ,gBAIpBoV,EAAY,OAEjB,MAAM,KAAE9yC,SAAegB,GAAIuC,IAAI,cAADpD,OAAe2yC,IAC7CE,EAAY9uB,IACJ,IAAKA,KAAclkB,EAAMjL,OAAQoR,IAAOnG,EAAKjL,QAAQwR,OAAO,uBAEpE2sC,EAAkBlzC,EAAKlL,UAlBxB,GAoBC,MAAO6K,GACRD,GAAWC,KAGX,CAACmzC,EAAYpV,EAAW3nC,EAAMiC,IAEjC,MAAM8f,EAAcA,KACnBf,IACAs8B,EAAc,MACdL,EAAYvjB,IAiFb,OACC/iC,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQlB,MACvB5b,IAAAuX,cAAC6S,GAAiB,CACjB7pB,MAAOgS,KAAKoB,EAAE,+CACdtK,KAAMiiB,EACNjB,QAASA,IAAMkB,GAAoB,GACnCjB,UA3BiB1T,UACf8vC,IACHC,EAAc,MACdC,EAAe51B,QAAQvZ,MAAQ,MAG5BtH,EAASnB,kBACNsF,GAAI3S,OAAO,cAAD8R,OAAetD,EAAS9K,GAAE,kBAC1CihD,EAAajhC,IAAI,IACbA,EACHrW,UAAW,QAEZ0E,IAAMjT,QAAQ8R,KAAKoB,EAAE,iCACA,mBAAVw1B,IACVnK,QAAQC,IAAIkK,GACZnK,QAAQC,IAAI,KACZkK,QAaC52B,KAAKoB,EAAE,kDAET3T,IAAAuX,cAACgT,KAAM,CACNlhB,KAAMA,EACNghB,QAASe,EACTuC,SAAS,KACTb,WAAS,EACTwW,OAAO,SAEPtjC,IAAAuX,cAACkT,KAAW,CAACplB,GAAG,qBACM,SAApB8K,EAAS1M,OAAoB,gBAAe,YAAAgQ,OAAeuzC,sBAAW72C,EAAS1M,UAEjFzD,IAAAuX,cAAA,OAAKwM,MAAO,CAAElI,QAAS,SACtB7b,IAAAuX,cAAA,SACCjS,KAAK,OACL8E,OAAO,kBACP+V,IAAKymC,EACLppC,SAAWwO,GAvGcA,KAC7B,MAAMi7B,EAAOC,gBAAKl7B,EAAEtO,OAAOvS,OACvB87C,GACHN,EAAcM,IAoGME,CAAqBn7B,MAGxChsB,IAAAuX,cAACgsB,KAAM,CACNC,cAAerzB,EACfszB,oBAAoB,EACpBC,iBAAkBwiB,GAClBviB,SAAUA,CAACC,EAAQhgC,KAClByf,WAAW,KAxGWzM,WAC1B,MAAMwwC,EAAe,IAAKxjB,EAAQ7uB,OAAQzJ,EAAKjG,IAC/C,IACC,GAAI+gD,GAEH,SADM9xC,GAAImoB,IAAI,cAADhpB,OAAe2yC,GAAcgB,GACxB,MAAdV,EAAoB,CACvB,MAAM3C,EAAW,IAAIC,SACrBD,EAASG,OAAO,OAAQwC,SAClBpyC,GAAIsE,KAAK,cAADnF,OACC2yC,EAAU,iBACxBrC,QAGI,CACN,MAAM,KAAEzwC,SAAegB,GAAIsE,KAAK,aAAcwuC,GAC9C,GAAkB,MAAdV,EAAoB,CACvB,MAAM3C,EAAW,IAAIC,SACrBD,EAASG,OAAO,OAAQwC,SAClBpyC,GAAIsE,KAAK,cAADnF,OAAeH,EAAKjO,GAAE,iBAAiB0+C,IAGvDrwC,IAAMjT,QAAQ8R,KAAKoB,EAAE,0BACA,mBAAVw1B,GACVA,IAEG6H,GACyB,oBAAjBqV,IACVA,IACA1uC,EAAQ4C,KAAK,eAGd,MAAOtH,GACRD,GAAWC,GAEZuzC,EAAkB5U,GAClB0U,EAAYvjB,GACZ3X,KAqEKi8B,CAAmBzjB,GACnBhgC,EAAQkgC,eAAc,IACpB,OAGHnc,IAAA,IAAC,QAAEoc,EAAO,OAAEC,EAAM,aAAEC,EAAY,OAAEL,EAAM,cAAE0jB,GAAe3/B,EAAA,OACzD3nB,IAAAuX,cAAC2sB,KAAI,KACJlkC,IAAAuX,cAACmT,KAAa,CAACC,UAAQ,GACtB3qB,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQylB,eACvBviC,IAAAuX,cAACwqB,KAAW,CACXpkB,QAAQ,WACRmP,WAAS,GAET9sB,IAAAuX,cAACq8B,KAAY,CACZ9mB,WAAS,EACTrV,MAAO8uC,EACPl3C,QAASvK,EACT0Y,SAAUA,CAACwO,EAAG5jB,KACb,MAAM4oC,EAAY5oC,EAAUA,EAAQ/C,GAAK,GACzCihD,EAAY,IAAKn2C,EAAU6gC,cAC3BwV,EAAkBp+C,GAAoBwpC,IAEvCqC,eAAiBR,GAAWA,EAAO7yC,KACnCk2C,kBAAmBA,CAACrD,EAAQh8B,IACpBA,EAAMpS,KAAOouC,EAAOpuC,GAE5B+uC,YAAct/B,GAAW9U,IAAAuX,cAACgG,KAAS8C,OAAAC,OAAA,GAAKxL,EAAM,CAAE6I,QAAQ,WAAW1U,YAAY,iBAIlFjJ,IAAAuX,cAAA,WACAvX,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQylB,eACvBviC,IAAAuX,cAAC4sB,KAAK,CACLC,GAAI7mB,KACJo/B,KAAM,EACNC,WAAW,EACXpwC,MAAO+F,KAAKoB,EAAE,2BACd/S,KAAK,OACLq5C,SAAU4M,EACVtzC,MAAOwwB,EAAQ57B,MAAQ2oB,QAAQkT,EAAO77B,MACtCm8B,WAAYP,EAAQ57B,MAAQ67B,EAAO77B,KACnCwV,QAAQ,WACR3B,OAAO,QACP8Q,WAAS,KAGX9sB,IAAAuX,cAACypB,KAAI,CAACE,MAAI,GACTlhC,IAAAuX,cAACuuC,GAAsB,CACtBrkD,SAAUwiC,EACVpmB,QAASpG,GApHQb,OAAOovC,EAAQuB,KACxC,MAAMl/B,EAAKw+B,EAAgB71B,QACrBw2B,EAAgBn/B,EAAG5Q,MAAM2e,UAAU,EAAG/N,EAAGo/B,gBACzCC,EAAiBr/B,EAAG5Q,MAAM2e,UAAU/N,EAAGs/B,cACvCC,EAAev/B,EAAGo/B,eAAiBzB,EAAOviC,OAEhD8jC,EAAa,OAAO,GAAD9zC,OAAK+zC,GAAa/zC,OAAGuyC,GAAMvyC,OAAGi0C,UAE3C,IAAIpvC,QAAQ89B,GAAK/yB,WAAW+yB,EAAG,MACrCyQ,EAAgB71B,QAAQ62B,kBAAkBD,EAAcA,IA2G9BE,CAAkBrwC,EAAO6vC,MAG7CtnD,IAAAuX,cAAA,WACAvX,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQylB,eACvBviC,IAAAuX,cAAC4sB,KAAK,CACLC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,6BACdrO,KAAK,iBACL1E,KAAK,SACLovC,gBAAiB,CAChBC,QAAQ,GAET18B,MAAOwwB,EAAQ17B,QAAUyoB,QAAQkT,EAAO37B,QACxCi8B,WAAYP,EAAQ17B,QAAU27B,EAAO37B,OACrCsV,QAAQ,WACRmP,WAAS,MAGT3c,EAASnB,WAAa03C,IACvB1mD,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIF,MAAI,GACjBlhC,IAAAuX,cAACqG,KAAM,CAACoU,UAAWhyB,IAAAuX,cAAC+O,KAAU,OAC5BogC,EAAaA,EAAW9lD,KAAOuP,EAAS7D,WAE1CtM,IAAAuX,cAACsH,IAAU,CACVhB,QAASA,IAAM0N,GAAoB,GACnC/jB,MAAM,aAENxH,IAAAuX,cAACwwC,KAAa,CAACvgD,MAAM,iBAKzBxH,IAAAuX,cAACsT,KAAa,MACX67B,IAAev2C,EAASnB,WACzBhP,IAAAuX,cAACqG,KAAM,CACNpW,MAAM,UACNqW,QAASA,IAAM+oC,EAAe51B,QAAQg3B,QACtCvmD,SAAUwiC,EACVtmB,QAAQ,YAEPpL,KAAKoB,EAAE,iCAGV3T,IAAAuX,cAACqG,KAAM,CACNC,QAASuN,EACT5jB,MAAM,YACN/F,SAAUwiC,EACVtmB,QAAQ,YAEPpL,KAAKoB,EAAE,kCAEa,OAApBxD,EAAS7H,QAAuC,KAApB6H,EAAS7H,SACtCtI,IAAAuX,cAACqG,KAAM,CACNtY,KAAK,SACLkC,MAAM,UACN/F,SAAUwiC,EACVtmB,QAAQ,YACRL,UAAWR,EAAQ0lB,YAER,GAAA/uB,OAAV2yC,EACK7zC,KAAKoB,EAAE,gCACPpB,KAAKoB,EAAE,gCACZswB,GACAjkC,IAAAuX,cAAC6P,KAAgB,CAChBC,KAAM,GACN/J,UAAWR,EAAQ+J,yBCjPhBohC,OA/GW5wC,IAAkD,IAAjD,OAAE8Y,EAAM,SAAEhF,EAAQ,YAAEC,EAAW,SAAEC,GAAUhU,EACrE,MAAOiU,EAAkBC,GAAuB7U,oBAAS,IAClDwxC,EAAyBC,GAA8BzxC,oBAAS,GACjEokB,EAAYrK,kBAAO,IACnB,KAAEnlB,GAAS6V,qBAAWzG,KAErB0tC,EAAmBC,GAAwB3xC,oBAAS,IACpDs6B,EAAWsX,GAAgB5xC,mBAAS,MAE3CC,oBAAU,IACF,KACNmkB,EAAU9J,SAAU,GAEnB,IAEH,MAQMu3B,EAA8Bv8B,IACnCT,GAAoB,GACpBH,KAyBD,OACCprB,IAAAuX,cAAAvX,IAAAikB,SAAA,KACCjkB,IAAAuX,cAACiU,IAAI,CACJnmB,GAAG,cACHgmB,SAAUA,EACVI,mBAAoB,KACpBC,aAAc,CACbC,SAAU,SACVC,WAAY,SAEb48B,aAAW,EACX38B,gBAAiB,CAChBF,SAAU,MACVC,WAAY,SAEbviB,KAAM8hB,EACNd,QAASe,GAETprB,IAAAuX,cAACwU,IAAQ,CAAClO,QA7BmB4qC,KAC/Br9B,IACAk9B,EAAan4B,EAAO/nB,QAAQ/C,IAC5BgjD,GAAqB,KA2BjB91C,KAAKoB,EAAE,+BAET3T,IAAAuX,cAACwU,IAAQ,CAAClO,QA3CmBmO,IAC/Bm8B,GAA2B,GAC3B/8B,MA0CI7Y,KAAKoB,EAAE,+BAET3T,IAAAuX,cAACwD,GAAG,CACHC,KAAM1P,EAAKrD,QACXgT,QAAQ,8BACRpZ,IAAKA,IACJ7B,IAAAuX,cAACwU,IAAQ,CAAClO,QAAS0qC,GACjBh2C,KAAKoB,EAAE,gCAKZ3T,IAAAuX,cAAC6S,GAAiB,CACjB7pB,MAAK,GAAAkT,OAAKlB,KAAKoB,EAAE,8CAA4CF,OAC5D0c,EAAO9qB,GAAE,KAAAoO,OACNlB,KAAKoB,EAAE,iDAAgD,KAAAF,OAC1D0c,EAAO/nB,QAAQxH,KAAI,KAEpByI,KAAMiiB,EACNjB,QAASkB,EACTjB,UA7EwB1T,UAC1B,UACOtC,GAAI3S,OAAO,YAAD8R,OAAa0c,EAAO9qB,KACnC,MAAO4N,GACRD,GAAWC,MA2ETV,KAAKoB,EAAE,gDAET3T,IAAAuX,cAACwtC,GAAyB,CACzBpT,UAAWuW,EACX79B,QAjEoCq+B,KAClC5tB,EAAU9J,SACbm3B,GAA2B,IAgE1BnD,SAAU70B,EAAO9qB,KAElBrF,IAAAuX,cAAC4uC,GAAa,CACb98C,KAAM++C,EACN/9B,QA1D8Bs+B,KAChCN,GAAqB,GACrBC,EAAa,OAyDX99B,kBAAgB,oBAChBwmB,UAAWA,M,qBCpGf,MAAMt1B,GAAYC,YAAWvH,IAAK,CACjCw0C,cAAe,CACdtsC,YAAa,EACbgS,KAAM,OACNR,UAAW,SACX7G,WAAY,OACZ,QAAS,CACRjL,OAAQ5H,EAAMqpB,QAAQ,SAyHVorB,OApHmBxxC,IAAiB,IAAhB,OAAE8Y,GAAQ9Y,EAC5C,MAAMyF,EAAUpB,KACV/D,EAAUC,wBACTyT,EAAUuF,GAAela,mBAAS,OAClCF,EAASC,GAAcC,oBAAS,GACjCoyC,EAAwBh4B,QAAQzF,IAChC,KAAE/f,GAAS6V,qBAAWzG,KACtB,iBAAEgO,GAAqBvH,qBAAWoH,IAElCwgC,EAAcC,YAAY,CAC/BvzB,QAAS,CACNhX,QAASqI,QAYPmiC,EAA2BryC,MAAOoV,EAAGvoB,EAAQsR,KAClD0B,GAAW,GACX,UACOnC,GAAImoB,IAAI,YAADhpB,OAAa0c,EAAO9qB,IAAM,CACtC5B,OAAQA,EACRsR,OAAQA,GAAU,KAClB6nB,eAA2B,WAAXn5B,GAA8B0sB,EAAOyM,eACrDC,SAAqB,WAAXp5B,GAA8B0sB,EAAO0M,SAC/C/0B,cAA0B,WAAXrE,GAA8B0sB,EAAOroB,gBAGrD2O,GAAW,GACI,SAAXhT,EACHilB,EAAiB,IAAKyH,EAAQxH,KAAM,WAEpCD,EAAiB,CAAErjB,GAAI,KAAMsjB,KAAM,OACnChR,EAAQ4C,KAAK,aAEb,MAAOtH,GACRwD,GAAW,GACXzD,GAAWC,KAIb,OACCjT,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQ8rC,eACJ,WAAlBz4B,EAAO1sB,QACPzD,IAAAuX,cAAC2P,GAAiB,CACjB1Q,QAASA,EACTwb,UAAWhyB,IAAAuX,cAAC2xC,KAAM,MAClB7hC,KAAK,QACLxJ,QAASmO,GAAKi9B,EAAyBj9B,EAAG,OAAY,OAAJ1gB,QAAI,IAAJA,OAAI,EAAJA,EAAMjG,KAEvDkN,KAAKoB,EAAE,uCAGS,SAAlBwc,EAAO1sB,QACPzD,IAAAuX,cAAAvX,IAAAikB,SAAA,KACCjkB,IAAAuX,cAACokB,KAAO,CAACp7B,MAAOgS,KAAKoB,EAAE,uCACtB3T,IAAAuX,cAACsH,IAAU,CAAChB,QAASmO,GAAKi9B,EAAyBj9B,EAAG,UAAW,OAChEhsB,IAAAuX,cAAC4xC,KAAe,QAGlBnpD,IAAAuX,cAAC6xC,IAAa,CAACh1C,MAAO20C,GACrB/oD,IAAAuX,cAACokB,KAAO,CAACp7B,MAAOgS,KAAKoB,EAAE,wCACtB3T,IAAAuX,cAACsH,IAAU,CAAChB,QAASmO,GAAKi9B,EAAyBj9B,EAAG,SAAc,OAAJ1gB,QAAI,IAAJA,OAAI,EAAJA,EAAMjG,IAAKmC,MAAM,WAChFxH,IAAAuX,cAACk2B,KAAe,SAqBnBztC,IAAAuX,cAACsH,IAAU,CAAChB,QA3EoBmO,IACnC4E,EAAY5E,EAAEsF,iBA2EVtxB,IAAAuX,cAAC8xC,KAAQ,OAEVrpD,IAAAuX,cAAC0wC,GAAiB,CACjB93B,OAAQA,EACR9E,SAAUA,EACVF,SAAU29B,EACV19B,YA9EgCY,IACpC4E,EAAY,UAiFQ,YAAlBT,EAAO1sB,QACPzD,IAAAuX,cAAC2P,GAAiB,CACjB1Q,QAASA,EACT6Q,KAAK,QACL1J,QAAQ,YACRnW,MAAM,UACNqW,QAASmO,GAAKi9B,EAAyBj9B,EAAG,OAAY,OAAJ1gB,QAAI,IAAJA,OAAI,EAAJA,EAAMjG,KAEvDkN,KAAKoB,EAAE,yCCtIN,SAAS21C,GAAajyC,GAAc,IAAb,OAAE8Y,GAAQ9Y,EAEpC,MAAO1M,EAAMorC,GAAWr/B,mBAAS,KAC1Bs/B,EAAWC,GAAgBv/B,mBAAS,IACrCokB,EAAYrK,kBAAO,GAEzB9Z,oBAAU,IACC,KACHmkB,EAAU9J,SAAU,GAEzB,IAEHra,oBAAU,KACFmkB,EAAU9J,SACVklB,IAAWjD,KAAK,KACR2D,MAAMv9B,QAAQ8W,EAAOxlB,MACrBsrC,EAAa9lB,EAAOxlB,MAEpBsrC,EAAa,OAI1B,CAAC9lB,IAEJ,MAAMo5B,EAAY3yC,UACd,IACI,MAAQtD,KAAMgM,SAAuBhL,GAAIsE,KAAK,QAAStF,GACvD,OAAOgM,EACT,MAAOrM,GACLD,GAAWC,KAIbijC,EAAWt/B,UACb,IACI,MAAM,KAAEtD,SAAegB,GAAIuC,IAAI,cAC/Bk/B,EAAQziC,GACV,MAAOL,GACLD,GAAWC,KAabuK,EAAW5G,MAAOa,EAAOgrC,KAC3B,IAAI+G,EAAiB,GACrB,GAAe,kBAAX/G,EAA4B,CAC5B,GAAIppC,mBAAQ5B,GACR,IAAK,IAAIypB,KAAQzpB,EACb,GAAIpD,oBAAS6sB,GAAO,CAChB,MAAMuoB,QAAeF,EAAU,CAAE3oD,KAAMsgC,IACvCsoB,EAAejvC,KAAKkvC,QAEpBD,EAAejvC,KAAK2mB,SAI1BgV,SAENsT,EAAiB/xC,EAErBw+B,EAAauT,QA1BA5yC,WACb,IACI,MAAQtD,KAAMgM,SAAuBhL,GAAIsE,KAAK,aAActF,GAC5D,OAAOgM,EACT,MAAOrM,GACLD,GAAWC,KAsBTy2C,CAAS,CAAEt5B,SAAUD,EAAO9qB,GAAIsF,KAAM6+C,KAGhD,OACIxpD,IAAAuX,cAAC6uB,KAAK,CAACriB,MAAO,CAAEuJ,QAAS,KACrBttB,IAAAuX,cAACq8B,KAAY,CACT1R,UAAQ,EACR7a,KAAK,QACLhY,QAAS1E,EACT8M,MAAOu+B,EACPjC,UAAQ,EACRv2B,SAAUA,CAACwO,EAAGmqB,EAAGC,IAAM54B,EAAS24B,EAAGC,GACnCnC,eAAiBR,GAAWA,EAAO7yC,KACnCy1C,WAAYA,CAAC5+B,EAAO6+B,IAChB7+B,EAAM4G,IAAI,CAACo1B,EAAQn1B,IACfte,IAAAuX,cAAC+qB,KAAIjiB,OAAAC,OAAA,CACD3C,QAAQ,WACRoG,MAAO,CACHoU,WAAYsb,EAAOjsC,OAAS,OAC5BA,MAAO,OACP8U,YAAa,EACbwS,WAAY,IACZnS,aAAc,EACdyH,SAAU,QACVyJ,WAAY,UAEhBrhB,MAAOinC,EAAO7yC,KAAKo3B,eACfse,EAAY,CAAEh4B,UAAQ,CAC1B+I,KAAK,YAIjB+sB,YAAct/B,GACV9U,IAAAuX,cAACgG,KAAS8C,OAAAC,OAAA,GAAKxL,EAAM,CAAE6I,QAAQ,WAAW1U,YAAY,UAE1D0gD,eAAgBhiC,IAAA,IAAC,SAAErQ,GAAUqQ,EAAA,OACzB3nB,IAAAuX,cAAC6uB,KAAK,CAACriB,MAAO,CAAE7H,MAAO,IAAK+K,WAAY,KACnC3P,OC5FzB,MAEMoE,GAAYC,YAAYvH,IAAK,CACjCwH,KAAM,CACJC,QAAS,OACTW,OAAQ,OACR2H,SAAU,WACV6I,SAAU,UAGZuJ,YAAa,CACXjI,KAAM,EACN9R,OAAQ,OACRX,QAAS,OACTC,cAAe,SACfkR,SAAU,SACVjE,oBAAqB,EACrBE,uBAAwB,EACxBuN,WAAY,IACZla,aAnBgB,IAoBhBma,WAAYriB,EAAMsiB,YAAYliB,OAAO,SAAU,CAC7CmiB,OAAQviB,EAAMsiB,YAAYC,OAAOC,MACjC1c,SAAU9F,EAAMsiB,YAAYxc,SAAS2c,iBAIzCC,iBAAkB,CAChB9N,qBAAsB,EACtBE,wBAAyB,EACzBuN,WAAYriB,EAAMsiB,YAAYliB,OAAO,SAAU,CAC7CmiB,OAAQviB,EAAMsiB,YAAYC,OAAOI,QACjC7c,SAAU9F,EAAMsiB,YAAYxc,SAAS8c,iBAEvC1a,YAAa,MA4IFstC,OAxIAA,KACb,MAAM,SAAEx5B,GAAayK,sBACfljB,EAAUC,uBACVkF,EAAUpB,MAEV,KAAEpQ,GAAS6V,qBAAWzG,KAErBkuB,EAAY1R,GAAiBxgB,oBAAS,IACtCF,EAASC,GAAcC,oBAAS,IAChCtO,EAAS+uB,GAAczgB,mBAAS,KAChCyZ,EAAQiH,GAAa1gB,mBAAS,IAErCC,oBAAU,KACRF,GAAW,GACX,MAAM2M,EAAkBC,WAAW,KACbzM,WAClB,IACE,MAAM,KAAEtD,SAAegB,GAAIuC,IAAI,cAAgBuZ,IACzC,QAAEiH,GAAY/jB,GACd,OAAE5I,EAAM,QAAEzC,GAAYqD,EAG5B,QAAqB6I,IADAzJ,EAAO6O,KAAM+d,GAAMA,EAAEjyB,KAAOgyB,IACH,UAAZpvB,EAGhC,OAFAyL,IAAMH,MAAM,gCACZoE,EAAQ4C,KAAK,YAIf4c,EAAW7jB,EAAKlL,SAChBgvB,EAAU9jB,GACVmD,GAAW,GACX,MAAOxD,GACPwD,GAAW,GACXzD,GAAWC,KAGfskB,IACC,KACH,MAAO,IAAMhU,aAAaH,IACzB,CAACgN,EAAU9kB,EAAMqM,IAEpBhB,oBAAU,KACR,MAAMI,EAAY/B,aAAaC,QAAQ,aACjC+B,EAASnC,GAAiB,CAAEkC,cA0BlC,OAxBAC,EAAOC,GAAG,UAAW,IAAMD,EAAOma,KAAK,cAAc,GAAD1d,OAAK0c,EAAO9qB,MAEhE2R,EAAOC,GAAG,WAADxD,OAAYsD,EAAS,WAAYzD,IACpB,WAAhBA,EAAKoC,QACP0hB,EAAU9jB,EAAK6c,QAGG,WAAhB7c,EAAKoC,SACPhC,IAAMjT,QAAQ,+BACdkX,EAAQ4C,KAAK,eAIjBvD,EAAOC,GAAG,WAADxD,OAAYsD,EAAS,YAAazD,IACrB,WAAhBA,EAAKoC,QACPyhB,EAAYK,IAAe,IAADC,EACxB,OAAID,EAAUnyB,MAAmB,QAAjBoyB,EAAKnkB,EAAKlL,eAAO,IAAAqvB,OAAA,EAAZA,EAAcpyB,IAC1B,IAAKmyB,KAAclkB,EAAKlL,SAE1BovB,MAKN,KACLxgB,EAAOlU,eAER,CAACstB,EAAUD,EAAQxY,IAEtB,MAAM+f,EAAmBA,KACvBR,GAAc,IAgChB,OACEl3B,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQlB,KAAMvW,GAAG,oBAC/BrF,IAAAuX,cAAC6uB,KAAK,CACJzoB,QAAQ,WACR23B,UAAW,EACXh4B,UAAW+V,YAAKvW,EAAQyZ,YAAa,CACnC,CAACzZ,EAAQga,kBAAmB8R,KAG9B5oC,IAAAuX,cAACse,GAAY,CAACrf,QAASA,GAlCJmhB,MACvB,QAAoBxjB,IAAhBgc,EAAO7kB,KACT,OACEtL,IAAAuX,cAACue,GAAU,CACT1tB,QAASA,EACT+nB,OAAQA,EACRtS,QAAS6Z,KA6BRC,GACD33B,IAAAuX,cAACsyC,GAAmB,CAAC15B,OAAQA,KAE/BnwB,IAAAuX,cAAC6uB,KAAK,KACJpmC,IAAAuX,cAAC+xC,GAAa,CAACn5B,OAAQA,KAEzBnwB,IAAAuX,cAACwT,GAAoB,KA3BvB/qB,IAAAuX,cAAAvX,IAAAikB,SAAA,KACEjkB,IAAAuX,cAAC2Y,GAAY,CACXC,OAAQA,EACRC,SAAUD,EAAO9qB,GACjBgrB,QAASF,EAAOE,UAElBrwB,IAAAuX,cAACuyC,GAAY,CAAC15B,SAAUD,EAAO9qB,GAAI27C,aAAc7wB,EAAO1sB,YAuB1DzD,IAAAuX,cAACylC,GAAa,CACZ3zC,KAAMu/B,EACNsU,kBAjDoBA,KACxBhmB,GAAc,IAiDV9uB,QAASA,EACToO,QAASA,EACT2Z,OAAQA,MCjLhB,MAAMzU,GAAYC,YAAWvH,IAAK,CACjC21C,cAAe,CACdz7B,KAAM,EAENhB,QAASlZ,EAAMqpB,QAAQ,GACvBjhB,OAAO,oBACPwH,UAAW,UAGZgmC,WAAY,CAEXnuC,QAAS,OACTW,OAAQ,QAGTytC,gBAAiB,CAChBpuC,QAAS,OACTW,OAAQ,OACRV,cAAe,SACfkI,UAAW,UAEZkmC,gBAAiB,CAChBruC,QAAS,OACTW,OAAQ,OACRV,cAAe,UAEhBquC,WAAY,CACXztC,gBAAiBtI,EAAMqhB,QAAQ20B,UAC/BvuC,QAAS,OACT+T,eAAgB,eAChB7T,WAAY,SACZS,OAAQ,OACR6H,UAAW,aAqCEgmC,OAjCOA,KACrB,MAAMvtC,EAAUpB,MACV,SAAE0U,GAAayK,sBAErB,OACC76B,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQitC,eACvB/pD,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQktC,YACvBhqD,IAAAuX,cAACypB,KAAI,CAACC,WAAS,EAACxD,QAAS,GACxBz9B,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,EAAG9jB,UAAWR,EAAQmtC,iBACpCjqD,IAAAuX,cAAC+yC,GAAc,OAEhBtqD,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,EAAG9jB,UAAWR,EAAQotC,iBACnC95B,EACApwB,IAAAuX,cAAAvX,IAAAikB,SAAA,KACCjkB,IAAAuX,cAACqyC,GAAM,OAGR5pD,IAAAuX,cAAC6uB,KAAK,CAACrR,QAAM,EAACpX,QAAQ,WAAWL,UAAWR,EAAQqtC,YAEpDnqD,IAAAuX,cAAA,WACAvX,IAAAuX,cAAA,cAAQvX,IAAAuX,cAAA,OAAKwM,MAAO,CAAE/H,OAAQ,SAAUE,MAAO,OAASuQ,IAAKyb,KAAM/d,IAAI,sB,qDC1D/DogC,OANcC,aAAOpkB,KAAPokB,CAAc,CACvChuC,OAAO,oBACPX,QAAS,OACT4uC,iBAAkB,aCYtB,MAAM/uC,GAAYC,YAAWvH,IAAK,CAC9B7E,OAAQ,GAERlM,QAAS,CACL2pB,SAAU,QAEd09B,qBAAsB,CAClB7uC,QAAS,OACTC,cAAe,SACfC,WAAY,SACZ6T,eAAgB,SAChBpT,OAAQ,OACdE,gBAAiBtI,EAAMqhB,QAAQ20B,WAE7BO,gBAAiB,MA6ENC,OAzEShrC,IACvB,MAAM9C,EAAUpB,MACV,SAAE0U,GAAayK,uBACd4Y,EAAQoX,GAAan0C,mBAAS,IAC5B,cAAE+R,EAAa,iBAAEC,GAAqBvH,qBAAWoH,IAEvD5R,oBAAU,KACkB,OAArB8R,EAAcpjB,IACbqjB,EAAiB,CAAErjB,GAAIojB,EAAcpjB,GAAIsjB,KAAM,UAE9CyH,GACDy6B,EAAU,GAEP,KACHniC,EAAiB,CAAErjB,GAAI,KAAMsjB,KAAM,SAGxC,IAEHhS,oBAAU,KACmB,OAArB8R,EAAcpjB,IACdwlD,EAAU,IAEf,CAACpiC,IA4BP,OACOzoB,IAAAuX,cAACgzC,GAAoB,KACjBvqD,IAAAuX,cAACqgB,KAAG,CAACta,UAAWR,EAAQvN,QACpBvP,IAAAuX,cAACuzC,KAAgB,CACbrzC,MAAOg8B,EACPj2B,SAAUA,CAACC,EAAOy2B,KACd2W,EAAU3W,IAEd6W,YAAU,EACVztC,UAAWR,EAAQlB,MAEnB5b,IAAAuX,cAACyzC,KAAsB,CAACx+C,MAAM,SAASqT,KAAM7f,IAAAuX,cAAC+oB,KAAQ,QACtDtgC,IAAAuX,cAACyzC,KAAsB,CAACx+C,MAAM,eAAeqT,KAAM7f,IAAAuX,cAAC0zC,KAAkB,UAG9EjrD,IAAAuX,cAACqgB,KAAG,CAACta,UAAWR,EAAQzZ,SACP,IAAXowC,EA1BZrjB,EACIpwB,IAAAuX,cAACqyC,GAAM,MAhBR5pD,IAAAuX,cAACqgB,KAAG,CAACta,UAAWR,EAAQ4tC,sBACiE,WAE/F1qD,IAAAuX,cAAA,WACAvX,IAAAuX,cAAA,cAAQvX,IAAAuX,cAAA,OAAKwM,MAAO,CAAE/H,OAAQ,SAAUE,MAAO,OAASuQ,IAAKyb,KAAM/d,IAAI,gBACjE,WAENnqB,IAAAuX,cAAA,WACSvX,IAAAuX,cAACqG,KAAM,CAACC,QAASA,IAAMgtC,EAAU,GAAIltC,QAAQ,YAAYnW,MAAM,WAAU,sBAc5ExH,IAAAuX,cAAC6gC,GAAkB,SCvEbyK,uBAPf,SAAoCjjC,GAChC,OAAI2gC,aAAU,KAAM3gC,EAAM1D,OACflc,IAAAuX,cAAC2zC,GAAO,MAEZlrD,IAAAuX,cAACqzC,GAAc,S,qBCsB1B,MAaMlvC,GAAYC,YAAWvH,IAAK,CACjCqsB,MAAO,CACNhkB,UAAWrI,EAAMqpB,QAAQ,GACzB5hB,QAAS,OACTC,cAAe,SACfC,WAAY,UAEbqZ,OAAQ,CACPpZ,OAAQ5H,EAAMqpB,QAAQ,GACtB/gB,gBAAiBtI,EAAMqhB,QAAQ/W,UAAU2oB,MAE1C1mC,KAAM,CACLub,MAAO,OACPO,UAAWrI,EAAMqpB,QAAQ,IAE1Bz8B,OAAQ,CACPgb,OAAQ5H,EAAMqpB,QAAQ,EAAG,EAAG,OAIxBiF,GAAaC,OAAaC,MAAM,CACrChiC,KAAM+hC,OACJpB,IAAI,EAAG,cACPC,IAAI,GAAI,aACRqB,SAAS,YACX/hC,SAAU6hC,OAAapB,IAAI,EAAG,cAAcC,IAAI,GAAI,aACpD3gC,MAAO8hC,OAAa9hC,MAAM,iBAAiBgiC,SAAS,cAiLtCsoB,OA9KAA,KACd,MAAMruC,EAAUpB,KACV/D,EAAUC,uBAChB,IAAIb,EAAY,KAEhB,MAAMjC,EAASs2C,KAAG/yC,MAAMqR,OAAOoU,SAASv0B,aACf4K,IAArBW,EAAOiC,YACVA,EAAYjC,EAAOiC,WAGpB,MAEOzL,GAAQoL,mBAFM,CAAE9V,KAAM,GAAIC,MAAO,GAAIwqD,MAAO,GAAIvqD,SAAU,GAAIwqD,OAAQ,KAGvE3xC,EAAUF,MAAS5W,IAAI,EAAG,OAAOgX,UAgBhC1Y,EAAOoqD,GAAY70C,mBAAS,KAC3BkG,KAAM4uC,GAActsC,KAW5B,OATAvI,oBAAU,MACTC,iBACC,MAAMgG,QAAa4uC,IACnBD,EAAS3uC,GAEVuG,IACE,IAIFnjB,IAAAuX,cAACm4B,KAAS,CAACjvB,UAAU,OAAOkN,SAAS,MACpC3tB,IAAAuX,cAACk0C,IAAW,MACZzrD,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQ2jB,OACvBzgC,IAAAuX,cAAA,WACCvX,IAAAuX,cAAA,OAAKwM,MAAO,CAAE/H,OAAQ,SAAUQ,OAAQ,OAAQN,MAAO,QAAUuQ,IAAKyb,KAAM/d,IAAI,WAMjFnqB,IAAAuX,cAACgsB,KAAM,CACNC,cAAel4B,EACfm4B,oBAAoB,EACpBC,iBAAkBhB,GAClBiB,SAAUA,CAACC,EAAQhgC,KAClByf,WAAW,KA3CKzM,WACpByJ,OAAOC,OAAOsjB,EAAQ,CAAE8nB,WAAY,WACpCrrC,OAAOC,OAAOsjB,EAAQ,CAAEjqB,QAASA,IACjC0G,OAAOC,OAAOsjB,EAAQ,CAAEngC,OAAQ,MAChC4c,OAAOC,OAAOsjB,EAAQ,CAAE+nB,kBAAkB,IAC1C,UACO/2C,GAAQgE,KAAK,sBAAuBgrB,GAC1ClwB,IAAMjT,QAAQ8R,KAAKoB,EAAE,0BACrBgE,EAAQ4C,KAAK,UACZ,MAAOtH,GACR+rB,QAAQC,IAAIhsB,GACZD,GAAWC,KAiCP24C,CAAahoB,GACbhgC,EAAQkgC,eAAc,IACpB,OAGHzsB,IAAA,IAAC,QAAE0sB,EAAO,OAAEC,EAAM,aAAEC,GAAc5sB,EAAA,OAClCrX,IAAAuX,cAAC2sB,KAAI,CAAC5mB,UAAWR,EAAQnc,MACxBX,IAAAuX,cAACypB,KAAI,CAACC,WAAS,EAACxD,QAAS,GACxBz9B,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,IACdphC,IAAAuX,cAAC4sB,KAAK,CACLC,GAAI7mB,KACJsuC,aAAa,OACbjrD,KAAK,OACL2S,MAAOwwB,EAAQnjC,MAAQkwB,QAAQkT,EAAOpjC,MACtC0jC,WAAYP,EAAQnjC,MAAQojC,EAAOpjC,KACnC+c,QAAQ,WACRmP,WAAS,EACTznB,GAAG,OACHmH,MAAM,qBAIRxM,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,IACdphC,IAAAuX,cAAC4sB,KAAK,CACLC,GAAI7mB,KACJI,QAAQ,WACRmP,WAAS,EACTznB,GAAG,QACHmH,MAAO+F,KAAKoB,EAAE,qBACd/S,KAAK,QACL2S,MAAOwwB,EAAQljC,OAASiwB,QAAQkT,EAAOnjC,OACvCyjC,WAAYP,EAAQljC,OAASmjC,EAAOnjC,MACpCgrD,aAAa,QACbhpB,UAAQ,KAIV7iC,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,IACdphC,IAAAuX,cAAC4sB,KAAK,CACLC,GAAI7mB,KACJI,QAAQ,WACRmP,WAAS,EACTznB,GAAG,QACHmH,MAAM,qBACN5L,KAAK,QACL2S,MAAOwwB,EAAQljC,OAASiwB,QAAQkT,EAAOnjC,OACvCyjC,WAAYP,EAAQljC,OAASmjC,EAAOnjC,MACpCgrD,aAAa,QACbhpB,UAAQ,KAIV7iC,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,IACdphC,IAAAuX,cAAC4sB,KAAK,CACLC,GAAI7mB,KACJI,QAAQ,WACRmP,WAAS,EACTlsB,KAAK,WACL2S,MAAOwwB,EAAQjjC,UAAYgwB,QAAQkT,EAAOljC,UAC1CwjC,WAAYP,EAAQjjC,UAAYkjC,EAAOljC,SACvC0L,MAAO+F,KAAKoB,EAAE,wBACdrO,KAAK,WACLD,GAAG,WACHwmD,aAAa,mBACbhpB,UAAQ,KAGV7iC,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,IACdphC,IAAAuX,cAACyqB,KAAU,CAAC2e,QAAQ,kBAAiB,SACrC3gD,IAAAuX,cAAC4sB,KAAK,CACLC,GAAInC,KACJtkB,QAAQ,WACRmP,WAAS,EACTznB,GAAG,iBACHmH,MAAM,QACN5L,KAAK,SACLiiC,UAAQ,GAEP1hC,EAAMkd,IAAI,CAACpc,EAAMuX,IACjBxZ,IAAAuX,cAACwU,IAAQ,CAACvS,IAAKA,EAAK/B,MAAOxV,EAAKoD,IAC9BpD,EAAKrB,KAAK,kBAAgBqB,EAAKb,MAAM,gBAAca,EAAKZ,YAAY,aAAWY,EAAKyI,OAAO,SAAOzI,EAAKwV,WAM7GzX,IAAAuX,cAACqG,KAAM,CACNtY,KAAK,SACLwnB,WAAS,EACTnP,QAAQ,YACRnW,MAAM,UACN8V,UAAWR,EAAQ9b,QAElBuR,KAAKoB,EAAE,0BAET3T,IAAAuX,cAACypB,KAAI,CAACC,WAAS,EAAC6qB,QAAQ,YACvB9rD,IAAAuX,cAACypB,KAAI,CAACE,MAAI,GACTlhC,IAAAuX,cAACqmC,KAAI,CACJ1rB,KAAK,IACLvU,QAAQ,QACR8C,UAAWL,IACXN,GAAG,UAEFvN,KAAKoB,EAAE,+BAQf3T,IAAAuX,cAACqgB,KAAG,CAACm0B,GAAI,M,iCC5NZ,MAAMrwC,GAAYC,YAAYvH,IAAK,CACjCqsB,MAAO,CACLhkB,UAAWrI,EAAMqpB,QAAQ,GACzB5hB,QAAS,OACTC,cAAe,SACfC,WAAY,SACZuR,QAASlZ,EAAMqpB,QAAQ,GACvB9gB,aAAcvI,EAAMqpB,QAAQ,GAE5B/gB,gBAAiBtI,EAAMqhB,QAAQ0C,WAAWsI,MAC1CvS,UAAW,mCAGbkH,OAAQ,CACNpZ,OAAQ5H,EAAMqpB,QAAQ,GACtB/gB,gBAAiBtI,EAAMqhB,QAAQ/W,UAAU2oB,MAE3CliC,SAAU,CACRuX,gBAAiB,WAEnB/b,KAAM,CACJub,MAAO,OACPO,UAAWrI,EAAMqpB,QAAQ,IAE3Bz8B,OAAQ,CACNgb,OAAQ5H,EAAMqpB,QAAQ,EAAG,EAAG,IAE9BuuB,iBAAkB,CAChBnwC,QAAS,OACT+T,eAAgB,gBAChBq8B,IAAK73C,EAAMqpB,QAAQ,IAErBwD,UAAW,CACTplB,QAAS,OACTC,cAAe,SACfU,OAAQ,SAEV0vC,gBAAiB,CACf59B,KAAM,EACNzS,QAAS,OACT+T,eAAgB,SAChB7T,WAAY,SACZkR,UAAW,SAEbk/B,aAAc,CACZtwC,QAAS,OACT+T,eAAgB,SAChB7T,WAAY,SACZkR,UAAW,QACX,CAAC7Y,EAAMuhB,YAAYC,KAAK,OAAQ,CAC9B/Z,QAAS,YAiHAuwC,OA5GDA,KACZ,MAAMtvC,EAAUpB,MAETpQ,EAAMyM,GAAWrB,mBAAS,CAAE7V,MAAO,GAAIC,SAAU,MACjDurD,EAAcC,GAAmB51C,oBAAS,IAE3C,YAAEwC,GAAgBiI,qBAAWzG,IAE7B6xC,EAAqBvgC,IACzBjU,EAAQ,IAAKzM,EAAM,CAAC0gB,EAAEtO,OAAO9c,MAAOorB,EAAEtO,OAAOjG,SAQ/C,OACEzX,IAAAuX,cAAA,OAAKwM,MAAO,CAAElI,QAAS,OACrBC,cAAe,SACfmR,UAAW,QAEXsY,eAAgB,QAChBD,iBAAkB,YAClBE,mBAAoB,WAEpBxlC,IAAAuX,cAACm4B,KAAS,CAACjvB,UAAU,OAAOkN,SAAS,MACnC3tB,IAAAuX,cAACk0C,IAAW,MACZzrD,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQkvC,kBACtBhsD,IAAAuX,cAACm4B,KAAS,CAACjvB,UAAU,MAAMkN,SAAS,KAAKrQ,UAAS,GAAA7J,OAAKqJ,EAAQovC,gBAAe,KAAAz4C,OAAIqJ,EAAQqvC,eACxFnsD,IAAAuX,cAAA,OAAKkV,IAAK+/B,KAAWzoC,MAAO,CAAC7H,MAAM,OAAQiO,IAAKzV,oBAElD1U,IAAAuX,cAACm4B,KAAS,CAACjvB,UAAU,MAAMkN,SAAS,KAAKrQ,UAAWR,EAAQovC,iBAC1DlsD,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQ2jB,OACtBzgC,IAAAuX,cAACge,KAAM,CAACjY,UAAWR,EAAQ3X,UACzBnF,IAAAuX,cAACiN,IAAY,OAEfxkB,IAAAuX,cAACqT,IAAU,CAACnK,UAAU,KAAK9C,QAAQ,MAChCpL,KAAKoB,EAAE,gBAEV3T,IAAAuX,cAAA,QAAM+F,UAAWR,EAAQnc,KAAM8rD,YAAU,EAAC9oB,SA5BhC3X,IACpBA,EAAE+T,iBACF7mB,EAAY5N,KA2BAtL,IAAAuX,cAACgG,KAAS,CACRI,QAAQ,WACR3B,OAAO,SACP6mB,UAAQ,EACR/V,WAAS,EACTznB,GAAG,QACHmH,MAAO+F,KAAKoB,EAAE,oBACd/S,KAAK,QACL6W,MAAOnM,EAAKzK,MACZ2c,SAAU+uC,EACVV,aAAa,QACbxnB,WAAS,IAEXrkC,IAAAuX,cAACgG,KAAS,CACRI,QAAQ,WACR3B,OAAO,SACP6mB,UAAQ,EACR/V,WAAS,EACTlsB,KAAK,WACL4L,MAAO+F,KAAKoB,EAAE,uBACdtO,GAAG,WACHoS,MAAOnM,EAAKxK,SACZ0c,SAAU+uC,EACVV,aAAa,mBACbvmD,KAAM+mD,EAAe,OAAS,WAC9B/X,WAAY,CACVC,aACEv0C,IAAAuX,cAACm1C,KAAc,CAACvoC,SAAS,OACvBnkB,IAAAuX,cAACsH,IAAU,CACTuhB,aAAW,6BACXviB,QAASA,IAAMyuC,EAAiBtgC,IAAOA,IAEtCqgC,EAAersD,IAAAuX,cAACo1C,KAAa,MAAM3sD,IAAAuX,cAACq1C,KAAU,WAMzD5sD,IAAAuX,cAACqG,KAAM,CACLtY,KAAK,SACLwnB,WAAS,EACTnP,QAAQ,YACRnW,MAAM,UACN8V,UAAWR,EAAQ9b,QAElBuR,KAAKoB,EAAE,yBAEV3T,IAAAuX,cAACypB,KAAI,CAACC,WAAS,EAACrR,eAAe,YAC7B5vB,IAAAuX,cAACypB,KAAI,CAACE,MAAI,GACRlhC,IAAAuX,cAACqmC,KAAI,CACHjgC,QAAQ,QACR8C,UAAWL,IACXN,GAAG,WAEFvN,KAAKoB,EAAE,oC,6ECxK9B,MAAM+H,GAAYC,YAAWvH,IAAK,CACjCy4C,cAAe,CACdv+B,KAAM,EACNhB,QAASlZ,EAAMqpB,QAAQ,GACvBjhB,OAAO,qBAGRswC,eAAgB,CACftwC,OAAQ,OACRwH,UAAW,SACXnI,QAAS,OACTC,cAAe,aAcFixC,OAVO11C,IAAmB,IAAlB,SAAEC,GAAUD,EAClC,MAAMyF,EAAUpB,KAEhB,OACC1b,IAAAuX,cAACm4B,KAAS,CAACpyB,UAAWR,EAAQ+vC,eAC7B7sD,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQgwC,gBAAiBx1C,KCrB5C,MAAMoE,GAAYC,YAAWvH,IAAK,CACjC44C,eAAgB,CACfnxC,QAAS,OACTE,WAAY,SACZuR,QAAS,sBAUI2/B,OANI51C,IAAmB,IAAlB,SAAEC,GAAUD,EAC/B,MAAMyF,EAAUpB,KAEhB,OAAO1b,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQkwC,gBAAiB11C,ICXjD,MAAMoE,GAAYC,YAAWvH,IAAK,CACjC84C,yBAA0B,CACzB5+B,KAAM,OACNrH,WAAY,OACZ,QAAS,CACRjL,OAAQ5H,EAAMqpB,QAAQ,QAWVyvB,OANkB71C,IAAmB,IAAlB,SAAEC,GAAUD,EAC7C,MAAMyF,EAAUpB,KAEhB,OAAO1b,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQowC,0BAA2B51C,ICd5C,SAASgzB,GAAM1qB,GAC7B,OACC5f,IAAAuX,cAACqT,IAAU,CAACjN,QAAQ,KAAKnW,MAAM,UAAUmlB,cAAY,GACnD/M,EAAMtI,UCAV,MAAMoE,GAAYC,YAAWvH,IAAK,CACjC+4C,gBAAiB,CAChBtxC,QAAS,OACTE,WAAY,SACZ6T,eAAgB,aAyCHw9B,OArCU/1C,IAA0B,IAAzB,OAAE+d,EAAM,QAAEi4B,GAASh2C,EAC5C,MAAMyF,EAAUpB,KAChB,OACC1b,IAAAuX,cAAAvX,IAAAikB,SAAA,KACCjkB,IAAAuX,cAACy1B,KAAQ,KACP5X,GACAp1B,IAAAuX,cAAAvX,IAAAikB,SAAA,KACCjkB,IAAAuX,cAAC01B,KAAS,CAAClpB,MAAO,CAAEgK,aAAc,IACjC/tB,IAAAuX,cAAC8d,KAAQ,CACRC,UAAU,OACV3X,QAAQ,SACRzB,MAAO,GACPM,OAAQ,MAGVxc,IAAAuX,cAAC01B,KAAS,KACTjtC,IAAAuX,cAAC8d,KAAQ,CAACC,UAAU,OAAO9Y,OAAQ,GAAIN,MAAO,OAIhD06B,MAAM+M,KAAK,CAAElgC,OAAQ4pC,GAAW,CAACC,EAAGhvC,IACpCte,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,SAAS1zB,IAAK8E,GAC9Bte,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQqwC,iBACvBntD,IAAAuX,cAAC8d,KAAQ,CACR6X,MAAM,SACN5X,UAAU,OACV9Y,OAAQ,GACRN,MAAO,WCXf,MAAMR,GAAYC,YAAYvH,IAAK,CACjCwH,KAAM,CACJC,QAAS,OACT6Q,SAAU,QAGZ6V,cAAe,CACb1mB,QAAS,OACT,yBAA0B,CACxBS,YAAalI,EAAMqpB,QAAQ,KAI/B+E,WAAY,CACVre,SAAU,YAGZ0C,eAAgB,CACdrf,MAAOsf,KAAM,KACb3C,SAAU,WACV4C,IAAK,MACLC,KAAM,MACNvK,WAAY,GACZwK,YAAa,OAIXsmC,GAAgB5qB,OAAaC,MAAM,CACvChiC,KAAM+hC,OACHpB,IAAI,EAAG,cACPC,IAAI,GAAI,aACRqB,SAAS,cAkbC7iC,WAAMwtD,KA/aCn2C,IAAoC,IAAnC,KAAEhO,EAAI,QAAEghB,EAAO,WAAEnU,GAAYmB,EAClD,MAAMyF,EAAUpB,KACVqnB,EAAe,CACnBniC,KAAM,GACN6G,gBAAiB,GACjBC,kBAAmB,GACnBC,kBAAmB,GACnBC,cAAe,GACf6lD,WAAW,EACXvrD,MAAO,GACPwrD,SAAU,OACVzpD,cAAe,EACfD,YAAa,EACbQ,uBAAwB,GACxBD,cAAe,EACfD,iBAAkB,EAClBD,gBAAiB,IAEZuR,EAAU+3C,GAAej3C,mBAASqsB,IAClClB,EAAkBoB,GAAuBvsB,mBAAS,KAClDhM,EAAQo3B,GAAaprB,mBAAS,KAC9Bk3C,EAAgBC,GAAqBn3C,mBAAS,OAC9C5P,EAASgnD,GAAcp3C,mBAAS,IAEvCC,oBAAU,KACR,WACE,IACE,MAAM,KAAErD,SAAegB,GAAIuC,IAAI,WAC/Bi3C,EAAWx6C,EAAKxM,SAChB,MAAOmM,GACPD,GAAWC,KALf,IAQC,CAACiD,IAEJS,oBAAU,KACaC,WACnB,GAAKV,EAEL,IAAK,IAADitB,EACF,MAAM,KAAE7vB,SAAegB,GAAIuC,IAAI,YAADpD,OAAayC,EAAU,eACrD8oB,QAAQC,IAAI3rB,GACZq6C,EAAYr6C,GACZA,EAAKupB,SAAWgxB,EAAkBv6C,EAAKupB,UAAYgxB,EAAkB,MAErE,MAAME,EAA2B,QAAd5qB,EAAG7vB,EAAK5I,cAAM,IAAAy4B,OAAA,EAAXA,EAAa9kB,IAAKtX,GAAUA,EAAM1B,IACxD49B,EAAoB8qB,GACpB,MAAO96C,GACPD,GAAWC,KAGf6D,IACC,CAACZ,IAEJS,oBAAU,KACR,WACE,IACE,MAAM,KAAErD,SAAegB,GAAIuC,IAAI,UAC/BirB,EAAUxuB,GACV,MAAOL,GACPD,GAAWC,KALf,IAQC,IAEH,MA0BM+6C,EAAsBhiC,IAC1B6hC,EAAkB7hC,EAAEtO,OAAOjG,OAC3BwrB,EAAoB,KAGhB7X,EAAcA,KAClBf,IACAsjC,EAAY5qB,IAGd,OACE/iC,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQlB,MACtB5b,IAAAuX,cAACgT,KAAM,CACLlhB,KAAMA,EACNghB,QAASe,EACTuC,SAAS,KACTb,WAAS,EACTwW,OAAO,SAEPtjC,IAAAuX,cAACkT,KAAW,KACTvU,EACG3D,KAAKoB,EAAE,4BACPpB,KAAKoB,EAAE,4BAEb3T,IAAAuX,cAACgsB,KAAM,CACLC,cAAe5tB,EACf6tB,oBAAoB,EACpBC,iBAAkB6pB,GAClB5pB,SAAUA,CAACC,EAAQhgC,KACjByf,WAAW,KAvDMzM,WACzB,MAAMq3C,EAAe,IAChBrqB,EAAQ1G,SAAU2E,EACrBhF,SAAU+wB,GAAkC,aAEvCK,EAAqB,cACrBA,EAAsB,QAE7B,IACM/3C,QACI5B,GAAImoB,IAAI,aAADhpB,OAAcyC,GAAc+3C,SAEnC35C,GAAIsE,KAAK,YAAaq1C,GAE9Bv6C,IAAMjT,QAAQ8R,KAAKoB,EAAE,0BACrByX,IACA,MAAOnY,GACPD,GAAWC,KAuCHi7C,CAAmBtqB,GACnBhgC,EAAQkgC,eAAc,IACrB,OAGJnc,IAAA,IAAC,OAAEic,EAAM,QAAEG,EAAO,OAAEC,EAAM,aAAEC,GAActc,EAAA,OACzC3nB,IAAAuX,cAAC2sB,KAAI,KACHlkC,IAAAuX,cAACmT,KAAa,CAACC,UAAQ,GACrB3qB,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQylB,eACtBviC,IAAAuX,cAACypB,KAAI,CAACvD,QAAS,EAAGwD,WAAS,GACzBjhC,IAAAuX,cAACypB,KAAI,CAACE,MAAI,GACRlhC,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,2BACd0wB,WAAS,EACTzjC,KAAK,OACL2S,MAAOwwB,EAAQnjC,MAAQkwB,QAAQkT,EAAOpjC,MACtC0jC,WAAYP,EAAQnjC,MAAQojC,EAAOpjC,KACnC+c,QAAQ,WACR3B,OAAO,QACPsB,UAAWR,EAAQ8zB,aAGvB5wC,IAAAuX,cAACypB,KAAI,CAACjd,MAAO,CAAEiK,WAAY,IAAMkT,MAAI,GACnClhC,IAAAuX,cAAC4iC,KAAgB,CACfE,QACEr6C,IAAAuX,cAAC4sB,KAAK,CACJC,GAAIkW,KACJ9yC,MAAM,UACN5G,KAAK,YACLg1C,QAAShS,EAAO6pB,YAGpBjhD,MAAO+F,KAAKoB,EAAE,mCAKtB3T,IAAAuX,cAAA,WACEvX,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,mCACdrO,KAAK,kBACLs3C,WAAS,EACTD,KAAM,EACN7vB,WAAS,EACTlsB,KAAK,kBACL2S,MACEwwB,EAAQt8B,iBAAmBqpB,QAAQkT,EAAOv8B,iBAE5C68B,WACEP,EAAQt8B,iBAAmBu8B,EAAOv8B,gBAEpCkW,QAAQ,WACR3B,OAAO,WAGXhc,IAAAuX,cAAA,WACEvX,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,qCACdrO,KAAK,oBACLs3C,WAAS,EACTD,KAAM,EACN7vB,WAAS,EACTlsB,KAAK,oBACL2S,MACEwwB,EAAQr8B,mBACRopB,QAAQkT,EAAOt8B,mBAEjB48B,WACEP,EAAQr8B,mBAAqBs8B,EAAOt8B,kBAEtCiW,QAAQ,WACR3B,OAAO,WAGXhc,IAAAuX,cAAA,WACEvX,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,qCACdrO,KAAK,oBACLs3C,WAAS,EACTD,KAAM,EACN7vB,WAAS,EACTlsB,KAAK,oBACL2S,MACEwwB,EAAQp8B,mBACRmpB,QAAQkT,EAAOr8B,mBAEjB28B,WACEP,EAAQp8B,mBAAqBq8B,EAAOr8B,kBAEtCgW,QAAQ,WACR3B,OAAO,WAGXhc,IAAAuX,cAAA,WACEvX,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,iCACdrO,KAAK,gBACLs3C,WAAS,EACTD,KAAM,EACN7vB,WAAS,EACTlsB,KAAK,gBACL2S,MACEwwB,EAAQn8B,eAAiBkpB,QAAQkT,EAAOp8B,eAE1C08B,WAAYP,EAAQn8B,eAAiBo8B,EAAOp8B,cAC5C+V,QAAQ,WACR3B,OAAO,WAGXhc,IAAAuX,cAAA,WACEvX,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,yBACdrO,KAAK,QACLwnB,WAAS,EACTlsB,KAAK,QACL+c,QAAQ,WACR3B,OAAO,WAGXhc,IAAAuX,cAACqqB,GAAW,CACVC,iBAAkBA,EAClBrkB,SAAW2wC,IAjKzBlrB,EAiK2DkrB,QAhK3DN,EAAkB,SAkKN7tD,IAAAuX,cAACwqB,KAAW,CACV/lB,OAAO,QACP2B,QAAQ,WACRmP,WAAS,GAET9sB,IAAAuX,cAACyqB,KAAU,KACRzvB,KAAKoB,EAAE,8BAEV3T,IAAAuX,cAAC0qB,KAAM,CACLsC,QAAQ,6BACRl/B,GAAG,uBACHzE,KAAK,WACL6W,MAAOm2C,GAAkB,GACzBpwC,SAAUwwC,EACVxhD,MAAO+F,KAAKoB,EAAE,6BACdmZ,WAAS,EACTsV,UAAW,CACT1W,aAAc,CACZC,SAAU,SACVC,WAAY,QAEdC,gBAAiB,CACfF,SAAU,MACVC,WAAY,QAEdH,mBAAoB,OAGrB3kB,EAAQuX,IAAKja,GACZpE,IAAAuX,cAACwU,IAAQ,CACPvS,IAAKpV,EAAOiB,GACZoS,MAAOrT,EAAOiB,IAEbjB,EAAOxD,SAKhBZ,IAAAuX,cAAA,WACEvX,IAAAuX,cAAA,UAAKhF,KAAKoB,EAAE,wCACZ3T,IAAAuX,cAAA,SAAIhF,KAAKoB,EAAE,4CACX3T,IAAAuX,cAACypB,KAAI,CAACvD,QAAS,EAAGwD,WAAS,GAEzBjhC,IAAAuX,cAACypB,KAAI,CAACI,GAAI,EAAGwO,GAAI,EAAG1O,MAAI,GACtBlhC,IAAAuX,cAACwqB,KAAW,CACVpkB,QAAQ,WACR3B,OAAO,QACPsB,UAAWR,EAAQilB,YACnBjV,WAAS,GAET9sB,IAAAuX,cAACyqB,KAAU,CAAC38B,GAAG,+BACZkN,KAAKoB,EAAE,mCAEV3T,IAAAuX,cAAC4sB,KAAK,CACJC,GAAInC,KACJrhC,KAAK,cACLyE,GAAG,cACHmH,MAAO+F,KAAKoB,EAAE,kCACd1K,YAAasJ,KAAKoB,EAAE,kCACpB4wB,QAAQ,+BAERvkC,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,GAAG,QACnB/M,EAAO2T,IAAItX,GACV/G,IAAAuX,cAACwU,IAAQ,CAACvS,IAAKzS,EAAM1B,GAAIoS,MAAO1Q,EAAM1B,IACnC0B,EAAMnG,UAQjBZ,IAAAuX,cAACypB,KAAI,CAACI,GAAI,EAAGwO,GAAI,EAAG1O,MAAI,GACtBlhC,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,oCACdmZ,WAAS,EACTlsB,KAAK,gBACL+c,QAAQ,WACR3B,OAAO,QACPzI,MAAOwwB,EAAQ9/B,eAAiB6sB,QAAQkT,EAAO//B,eAC/CqgC,WAAYP,EAAQ9/B,eAAiB+/B,EAAO//B,kBAKlDjE,IAAAuX,cAACypB,KAAI,CAACvD,QAAS,EAAGwD,WAAS,GAEzBjhC,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIwO,GAAI,EAAG1O,MAAI,GACvBlhC,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,sCACdmZ,WAAS,EACTlsB,KAAK,kBACL+c,QAAQ,WACR3B,OAAO,QACPzI,MAAOwwB,EAAQ1/B,iBAAmBysB,QAAQkT,EAAO3/B,iBACjDigC,WAAYP,EAAQ1/B,iBAAmB2/B,EAAO3/B,mBAIlDrE,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIwO,GAAI,EAAG1O,MAAI,GACvBlhC,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,uCACdmZ,WAAS,EACTlsB,KAAK,mBACL+c,QAAQ,WACR3B,OAAO,QACPzI,MAAOwwB,EAAQz/B,kBAAoBwsB,QAAQkT,EAAO1/B,kBAClDggC,WAAYP,EAAQz/B,kBAAoB0/B,EAAO1/B,qBAIrDtE,IAAAuX,cAACypB,KAAI,CAACvD,QAAS,EAAGwD,WAAS,GAEzBjhC,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIwO,GAAI,GAAI1O,MAAI,GACxBlhC,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,oCACdmZ,WAAS,EACTlsB,KAAK,gBACL+c,QAAQ,WACR3B,OAAO,QACPzI,MAAOwwB,EAAQx/B,eAAiBusB,QAAQkT,EAAOz/B,eAC/C+/B,WAAYP,EAAQx/B,eAAiBy/B,EAAOz/B,kBAKlDvE,IAAAuX,cAAA,WACEvX,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,6CACdipC,WAAS,EACTD,KAAM,EACN7vB,WAAS,EACTlsB,KAAK,yBACL2S,MAAOwwB,EAAQv/B,wBAA0BssB,QAAQkT,EAAOx/B,wBACxD8/B,WAAYP,EAAQv/B,wBAA0Bw/B,EAAOx/B,uBACrDmZ,QAAQ,WACR3B,OAAO,aAKfhc,IAAAuX,cAACsT,KAAa,KACZ7qB,IAAAuX,cAACqG,KAAM,CACLC,QAASuN,EACT5jB,MAAM,YACN/F,SAAUwiC,EACVtmB,QAAQ,YAEPpL,KAAKoB,EAAE,iCAEV3T,IAAAuX,cAACqG,KAAM,CACLtY,KAAK,SACLkC,MAAM,UACN/F,SAAUwiC,EACVtmB,QAAQ,YACRL,UAAWR,EAAQ0lB,YAElBtsB,EACG3D,KAAKoB,EAAE,gCACPpB,KAAKoB,EAAE,+BACVswB,GACCjkC,IAAAuX,cAAC6P,KAAgB,CACfC,KAAM,GACN/J,UAAWR,EAAQ+J,0B,qBCla1B7mB,WAAMwtD,KAvDDn2C,IAAoC,IAAnC,KAAEhO,EAAI,QAAEghB,EAAO,WAAEnU,GAAYmB,EAChD,MAAOzS,EAAQwpD,GAAa13C,mBAAS,IAoCrC,OAlCAC,oBAAU,KACaC,WACnB,GAAKV,EAEL,IACE,MAAM,KAAE5C,SAAegB,GAAIuC,IAAI,aAADpD,OAAcyC,IAC5Ck4C,EAAU96C,EAAKtQ,QACf,MAAOiQ,GACPD,GAAWC,KAGf6D,IACC,CAACZ,IAEJS,oBAAU,KACR,IAAKT,EAAY,OACjB,MAAMa,EAAY/B,aAAaC,QAAQ,aACjC+B,EAASnC,GAAiB,CAAEkC,cAYlC,OAVAC,EAAOC,GAAG,WAADxD,OAAYsD,EAAS,oBAAqBzD,IAC7B,WAAhBA,EAAKoC,QAAuBpC,EAAKzP,QAAQwB,KAAO6Q,GAClDk4C,EAAU96C,EAAKzP,QAAQb,QAGL,WAAhBsQ,EAAKoC,QAA+C,KAAxBpC,EAAKzP,QAAQb,QAC3CqnB,MAIG,KACLrT,EAAOlU,eAER,CAACoT,EAAYmU,IAGdrqB,IAAAuX,cAACgT,KAAM,CAAClhB,KAAMA,EAAMghB,QAASA,EAASsD,SAAS,KAAK2V,OAAO,SACzDtjC,IAAAuX,cAACmT,KAAa,KACZ1qB,IAAAuX,cAAC6uB,KAAK,CAACkP,UAAW,GAChBt1C,IAAAuX,cAACqT,IAAU,CAACpjB,MAAM,UAAUmlB,cAAY,GACrCpa,KAAKoB,EAAE,mBAET/O,EACC5E,IAAAuX,cAAC82C,KAAM,CAAC52C,MAAO7S,EAAQyiB,KAAM,MAE7BrnB,IAAAuX,cAAA,YAAM,4BCVlB,MAAMmE,GAAYC,YAAWvH,IAAK,CACjC4wB,UAAW,CACV1W,KAAM,EACNhB,QAASlZ,EAAMqpB,QAAQ,GACvBzZ,UAAW,YACR5P,EAAMmZ,iBAEV4/B,gBAAiB,CAChBtxC,QAAS,OACTE,WAAY,SACZ6T,eAAgB,UAEjB0+B,QAAS,CACR5xC,gBAAiB,UACjBlV,MAAO,sBACP4c,SAAUhQ,EAAMm6C,WAAWC,QAAQ,IACnCppB,OAAQ,oBACRzX,SAAU,KAEX8gC,cAAe,CACdpqC,UAAW,UAEZwC,eAAgB,CACfrf,MAAOsf,KAAM,SAIT4nC,GAAgBr3C,IAAmC,IAAlC,MAAE9W,EAAK,QAAE8C,EAAO,SAAEiU,GAAUD,EAClD,MAAMyF,EAAUpB,KAEhB,OACC1b,IAAAuX,cAACokB,KAAO,CACPC,OAAK,EACL9e,QAAS,CACRwxC,QAASxxC,EAAQwxC,QACjBK,OAAQ7xC,EAAQ2xC,eAEjBluD,MACCP,IAAAuX,cAACvX,IAAMikB,SAAQ,KACdjkB,IAAAuX,cAACqT,IAAU,CAAC+B,cAAY,EAACnlB,MAAM,WAC7BjH,GAED8C,GAAWrD,IAAAuX,cAACqT,IAAU,KAAEvnB,KAI1BiU,IAsVWs3C,OAjVKA,KACnB,MAAM9xC,EAAUpB,MAEV,KAAEpQ,GAAS6V,qBAAWzG,KACtB,UAAErE,EAAS,QAAEG,GAAY2K,qBAAWhK,KACnC03C,EAAmBC,GAAwBp4C,oBAAS,IACpDq4C,EAAaC,GAAkBt4C,oBAAS,IACxCu4C,EAAkBC,GAAuBx4C,mBAAS,OAClDy4C,EAAkBC,GAAuB14C,oBAAS,GACnD24C,EAAgC,CACrC35C,OAAQ,GACRnV,MAAO,GACPsE,QAAS,GACTqR,WAAY,GACZ7M,MAAM,IAEAimD,EAAkBC,GAAuB74C,mBAC/C24C,GAmBKG,EAA0BA,KAC/BN,EAAoB,MACpBJ,GAAqB,IAGhBW,EAA2BC,sBAAY,KAC5CZ,GAAqB,GACrBI,EAAoB,OAClB,CAACA,EAAqBJ,IAOnBa,EAAqBD,sBAAY,KACtCR,EAAoB,MACpBF,GAAe,IACb,CAACA,EAAgBE,IAOd3G,EAA8BA,CAAC7yC,EAAQQ,KAC7B,eAAXR,GACH65C,EAAoB,CACnB75C,OAAQA,EACRnV,MAAOgS,KAAKoB,EAAE,iDACd9O,QAAS0N,KAAKoB,EAAE,mDAChBuC,WAAYA,IAIC,WAAXR,GACH65C,EAAoB,CACnB75C,OAAQA,EACRnV,MAAOgS,KAAKoB,EAAE,6CACd9O,QAAS0N,KAAKoB,EAAE,+CAChBuC,WAAYA,IAGdk5C,GAAoB,IAwBfQ,EAAsBh6C,GAE1B5V,IAAAuX,cAAAvX,IAAAikB,SAAA,KACsB,WAApBrO,EAASnS,QACTzD,IAAAuX,cAACqG,KAAM,CACNyJ,KAAK,QACL1J,QAAQ,YACRnW,MAAM,UACNqW,QAASA,IAjEYjI,KACzBs5C,EAAoBt5C,GACpBo5C,GAAe,IA+DIa,CAAkBj6C,IAEhCrD,KAAKoB,EAAE,+BAGW,iBAApBiC,EAASnS,QACTzD,IAAAuX,cAAAvX,IAAAikB,SAAA,KACCjkB,IAAAuX,cAACqG,KAAM,CACNyJ,KAAK,QACL1J,QAAQ,WACRnW,MAAM,UACNqW,QAASA,IAtGoBjH,WAClC,UACOtC,GAAIsE,KAAK,oBAADnF,OAAqByC,IAClC,MAAOjD,GACRD,GAAWC,KAkGQ68C,CAA2Bl6C,EAASvQ,KAElDkN,KAAKoB,EAAE,iCACC,IACV3T,IAAAuX,cAACqG,KAAM,CACNyJ,KAAK,QACL1J,QAAQ,WACRnW,MAAM,YACNqW,QAASA,IAtGgBjH,WAC9B,UACOtC,GAAImoB,IAAI,oBAADhpB,OAAqByC,IACjC,MAAOjD,GACRD,GAAWC,KAkGQ88C,CAAuBn6C,EAASvQ,KAE9CkN,KAAKoB,EAAE,gCAIW,cAApBiC,EAASnS,QACU,YAApBmS,EAASnS,QACW,YAApBmS,EAASnS,SACTzD,IAAAuX,cAACqG,KAAM,CACNyJ,KAAK,QACL1J,QAAQ,WACRnW,MAAM,YACNqW,QAASA,KACR0qC,EAA4B,aAAc3yC,EAASvQ,MAGnDkN,KAAKoB,EAAE,mCAGW,YAApBiC,EAASnS,QACTzD,IAAAuX,cAACqG,KAAM,CAACyJ,KAAK,QAAQ1J,QAAQ,WAAWlc,UAAQ,EAAC+F,MAAM,WACrD+K,KAAKoB,EAAE,oCA8Cb,OACC3T,IAAAuX,cAACw1C,GAAa,KACb/sD,IAAAuX,cAAC6S,GAAiB,CACjB7pB,MAAO+uD,EAAiB/uD,MACxB8I,KAAM8lD,EACN9kC,QAAS+kC,EACT9kC,UA1HmC1T,UACrC,GAAgC,eAA5B04C,EAAiB55C,OACpB,UACOpB,GAAI3S,OAAO,oBAAD8R,OAAqB67C,EAAiBp5C,aACrD,MAAOjD,GACRD,GAAWC,GAIb,GAAgC,WAA5Bq8C,EAAiB55C,OACpB,UACOpB,GAAI3S,OAAO,aAAD8R,OAAc67C,EAAiBp5C,aAC/CxC,IAAMjT,QAAQ8R,KAAKoB,EAAE,+BACpB,MAAOV,GACRD,GAAWC,GAIbs8C,EAAoBF,KA0GjBC,EAAiBzqD,SAEnB7E,IAAAuX,cAACy4C,GAAW,CACX3mD,KAAM0lD,EACN1kC,QAASslC,EACTz5C,YAAa24C,IAAqC,OAAhBI,QAAgB,IAAhBA,OAAgB,EAAhBA,EAAkB5pD,MAErDrF,IAAAuX,cAAC04C,GAAa,CACb5mD,KAAMwlD,EACNxkC,QAASolC,EACTv5C,YAAa64C,IAA+B,OAAhBE,QAAgB,IAAhBA,OAAgB,EAAhBA,EAAkB5pD,MAE/CrF,IAAAuX,cAAC01C,GAAU,KACVjtD,IAAAuX,cAAC+yB,GAAK,KAAE/3B,KAAKoB,EAAE,sBACf3T,IAAAuX,cAAC21C,GAAwB,KACxBltD,IAAAuX,cAACwD,GAAG,CACHC,KAAM1P,EAAKrD,QACXgT,QAAQ,iCACRpZ,IAAKA,IACJ7B,IAAAuX,cAACqG,KAAM,CACND,QAAQ,YACRnW,MAAM,UACNqW,QAAS2xC,GAERj9C,KAAKoB,EAAE,gCAMb3T,IAAAuX,cAAC6uB,KAAK,CAAC9oB,UAAWR,EAAQkoB,UAAWrnB,QAAQ,YAC5C3d,IAAAuX,cAACu1B,KAAK,CAACzlB,KAAK,SACXrnB,IAAAuX,cAACw1B,KAAS,KACT/sC,IAAAuX,cAACy1B,KAAQ,KACRhtC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACf36B,KAAKoB,EAAE,2BAET3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACf36B,KAAKoB,EAAE,6BAET3T,IAAAuX,cAACwD,GAAG,CACHC,KAAM1P,EAAKrD,QACXgT,QAAQ,iCACRpZ,IAAKA,IACJ7B,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACf36B,KAAKoB,EAAE,gCAIX3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACf36B,KAAKoB,EAAE,iCAET3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACf36B,KAAKoB,EAAE,8BAET3T,IAAAuX,cAACwD,GAAG,CACHC,KAAM1P,EAAKrD,QACXgT,QAAQ,0CACRpZ,IAAKA,IACJ7B,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACf36B,KAAKoB,EAAE,kCAMb3T,IAAAuX,cAAC41B,KAAS,KACR32B,EACAxW,IAAAuX,cAAC61C,GAAgB,MAEjBptD,IAAAuX,cAAAvX,IAAAikB,SAAA,MACW,OAAT5N,QAAS,IAATA,OAAS,EAATA,EAAWoN,QAAS,GACpBpN,EAAUgI,IAAIzI,GACb5V,IAAAuX,cAACy1B,KAAQ,CAACxzB,IAAK5D,EAASvQ,IACvBrF,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAUt3B,EAAShV,MACpCZ,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UA1HEt3B,IAE3B5V,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQqwC,iBACF,iBAApBv3C,EAASnS,QACTzD,IAAAuX,cAACm3C,GAAa,CACbnuD,MAAOgS,KAAKoB,EAAE,2CACdtQ,QAASkP,KAAKoB,EAAE,8CAEhB3T,IAAAuX,cAAC24C,KAAqC,CAAC1oD,MAAM,eAG1B,YAApBoO,EAASnS,QACTzD,IAAAuX,cAAC6P,KAAgB,CAACC,KAAM,GAAI/J,UAAWR,EAAQ+J,iBAE3B,WAApBjR,EAASnS,QACTzD,IAAAuX,cAACm3C,GAAa,CACbnuD,MAAOgS,KAAKoB,EAAE,qCACdtQ,QAASkP,KAAKoB,EAAE,wCAEhB3T,IAAAuX,cAAC44C,KAAQ,OAGU,cAApBv6C,EAASnS,QACTzD,IAAAuX,cAACm3C,GAAa,CAACnuD,MAAOgS,KAAKoB,EAAE,yCAC5B3T,IAAAuX,cAAC64C,KAAkB,CAACrsC,MAAO,CAAEvc,MAAOsf,KAAM,UAGtB,YAApBlR,EAASnS,QAA4C,YAApBmS,EAASnS,SAC3CzD,IAAAuX,cAACm3C,GAAa,CACbnuD,MAAOgS,KAAKoB,EAAE,sCACdtQ,QAASkP,KAAKoB,EAAE,yCAEhB3T,IAAAuX,cAAC84C,KAAqC,CAAC7oD,MAAM,gBA2FtC8oD,CAAqB16C,IAEvB5V,IAAAuX,cAACwD,GAAG,CACHC,KAAM1P,EAAKrD,QACXgT,QAAQ,iCACRpZ,IAAKA,IACJ7B,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACf0iB,EAAoBh6C,MAIxB5V,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACfrzB,aAAOuY,aAASxc,EAASI,WAAY,mBAEvChW,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACft3B,EAAS63C,WACTztD,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQqwC,iBACvBntD,IAAAuX,cAACg5C,KAAW,CAACxsC,MAAO,CAAEvc,MAAOsf,KAAM,UAItC9mB,IAAAuX,cAACwD,GAAG,CACHC,KAAM1P,EAAKrD,QACXgT,QAAQ,0CACRpZ,IAAKA,IACJ7B,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAChBltC,IAAAuX,cAACsH,IAAU,CACVwI,KAAK,QACLxJ,QAASA,IA9PIjI,KAC1Bs5C,EAAoBt5C,GACpBk5C,GAAqB,IA4PO0B,CAAmB56C,IAElC5V,IAAAuX,cAACk5C,KAAI,OAGNzwD,IAAAuX,cAACsH,IAAU,CACVwI,KAAK,QACLxJ,QAASmO,IACRu8B,EAA4B,SAAU3yC,EAASvQ,MAGhDrF,IAAAuX,cAACwwC,KAAa,kB,UC3Z7B,MAAMrsC,GAAYC,YAAYvH,IAAK,CACjCwH,KAAM,CACJM,MAAO,QAET4Q,UAAW,CACT5Q,MAAO,QAETw0C,UAAW,CACTx0C,MAAO,QAETy0C,IAAK,CACH3iC,WAAY5Z,EAAMqpB,QAAQ,GAC1BxP,cAAe7Z,EAAMqpB,QAAQ,IAE/B4c,QAAS,CACPtsB,aAAc3Z,EAAMqpB,QAAQ,GAC5BnZ,YAAalQ,EAAMqpB,QAAQ,IAE7BmzB,gBAAiB,CACfvsC,UAAW,QACXiJ,QAASlZ,EAAMqpB,QAAQ,OAgHZozB,OA5Gf,SAAuBjxC,GACrB,MAAM,cAAE4jB,EAAa,SAAEG,EAAQ,QAAEntB,EAAO,gBAAEs6C,GAAoBlxC,EACxD9C,EAAUpB,MAETna,EAAWwvD,GAAgBr6C,mBAAS,CACzC,CAAEs6C,QAAS,gBAAiBC,UAAW,SAAUC,UAAW,GAAIC,QAAS,IACzE,CAAEH,QAAS,iBAAeC,UAAW,UAAWC,UAAW,GAAIC,QAAS,IACxE,CAAEH,QAAS,eAAgBC,UAAW,YAAaC,UAAW,GAAIC,QAAS,IAC3E,CAAEH,QAAS,eAAgBC,UAAW,WAAYC,UAAW,GAAIC,QAAS,IAC1E,CAAEH,QAAS,cAAeC,UAAW,SAAUC,UAAW,GAAIC,QAAS,IACvE,CAAEH,QAAS,YAAUC,UAAW,WAAYC,UAAW,GAAIC,QAAS,IACpE,CAAEH,QAAS,UAAWC,UAAW,SAAUC,UAAW,GAAIC,QAAS,MAcrE,OAXAx6C,oBAAU,KACJ0C,mBAAQmqB,IAAkBA,EAAc/f,OAAS,GACnDstC,EAAavtB,IAGd,CAACA,IAOFxjC,IAAAuX,cAACgsB,KAAM,CACLE,oBAAkB,EAClBnmB,UAAWR,EAAQgQ,UACnB0W,cAAe,CAAEjiC,aACjBoiC,SAAUtsB,IAAA,IAAC,UAAE9V,GAAW8V,EAAA,OACtBgM,WAAW,KATfsgB,EAUmBpiC,IACZ,OAGJomB,IAAA,IAAC,OAAEic,GAAQjc,EAAA,OACV3nB,IAAAuX,cAAC2sB,KAAI,CAAC5mB,UAAWR,EAAQgQ,WACvB9sB,IAAAuX,cAAC65B,KAAU,CACTxwC,KAAK,YACLwwD,OAASC,GACPrxD,IAAAuX,cAACypB,KAAI,CAACvD,QAAS,EAAGwD,WAAS,GACxB2C,EAAOriC,UAAU8c,IAAI,CAAC6iB,EAAM5iB,IAEvBte,IAAAuX,cAACm4B,KAAS,KACN1vC,IAAAuX,cAAC+5C,KAAS,CACRltB,GAAI7mB,KACJ/Q,MAAM,gBACN5L,KAAI,aAAA6S,OAAe6K,EAAK,aACxB7c,UAAQ,EACRkc,QAAQ,WACRoG,MAAO,CAAEzH,YAAa,OAAQJ,MAAO,OACrCF,OAAO,UAEThc,IAAAuX,cAAC+5C,KAAS,CACR1wD,KAAI,aAAA6S,OAAe6K,EAAK,gBAEvB+yB,IAAA,IAAC,MAAEkgB,GAAOlgB,EAAA,OACTrxC,IAAAuX,cAACi6C,KAAYnxC,OAAAC,OAAA,CACX9T,MAAM,mBACF+kD,EAAK,CACT5zC,QAAQ,WACR3B,OAAO,QACPy1C,YAAal0C,KACb1D,OAAO,QACPkK,MAAO,CAAEzH,YAAa,OAAQJ,MAAO,YAI3Clc,IAAAuX,cAAC+5C,KAAS,CACR1wD,KAAI,aAAA6S,OAAe6K,EAAK,cAEvBozC,IAAA,IAAC,MAAEH,GAAOG,EAAA,OACT1xD,IAAAuX,cAACi6C,KAAYnxC,OAAAC,OAAA,CACX9T,MAAM,iBACF+kD,EAAK,CACT5zC,QAAQ,WACR3B,OAAO,QACPy1C,YAAal0C,KACb1D,OAAO,QACPkK,MAAO,CAAEzH,YAAa,OAAQJ,MAAO,iBAY3Dlc,IAAAuX,cAAA,OAAKwM,MAAO,CAAEM,UAAW,SAAU5H,UAAW,MAAQa,UAAWR,EAAQ8zC,iBACvE5wD,IAAAuX,cAAC2P,GAAiB,CAChB1Q,QAASA,EACTlR,KAAK,SACLkC,MAAM,UACNmW,QAAQ,aAEQ,OAAfmzC,QAAe,IAAfA,IAAmB,eCvHlC,MAAMp1C,GAAYC,YAAWvH,IAAK,CACjCstB,MAAO,CACN7lB,QAAS,OACT6Q,SAAU,QAEXiV,KAAM,CACL3lB,OAAQ,MA0EK21C,OAtEWt6C,IAAgD,IAA/C,iBAAEwqB,EAAgB,UAAE9qB,EAAS,SAAEyG,GAAUnG,EACnE,MAAMyF,EAAUpB,MACThR,EAAQo3B,GAAaprB,mBAAS,IAErCC,oBAAU,KACT,WACC,IACC,MAAM,KAAErD,SAAegB,GAAIuC,IAAI,SAAU,CACxC/B,OAAQ,CAAEiC,eAEX+qB,EAAUxuB,GACT,MAAOL,GACRD,GAAWC,KAPb,IAUE,CAAC8D,IAMJ,OACC/W,IAAAuX,cAAA,OAAKwM,MAAO,CAAEtH,UAAW,IACxBzc,IAAAuX,cAACwqB,KAAW,CAACjV,WAAS,EAAC9Q,OAAO,QAAQ2B,QAAQ,YAC7C3d,IAAAuX,cAACyqB,KAAU,KAAEzvB,KAAKoB,EAAE,2BACpB3T,IAAAuX,cAAC0qB,KAAM,CACNC,UAAQ,EACRC,WAAY,GACZ1qB,MAAOoqB,EACPrkB,SAZiBwO,IACpBxO,EAASwO,EAAEtO,OAAOjG,QAYf2qB,UAAW,CACV1W,aAAc,CACbC,SAAU,SACVC,WAAY,QAEbC,gBAAiB,CAChBF,SAAU,MACVC,WAAY,QAEbH,mBAAoB,MAErB4W,YAAa3G,GACZ17B,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQ4kB,QACd,OAARhG,QAAQ,IAARA,OAAQ,EAARA,EAAUjY,QAAS,GACnBiY,EAASrd,IAAIhZ,IACZ,MAAM0B,EAAQ2D,EAAO6O,KAAK+d,GAAKA,EAAEjyB,KAAOA,GACxC,OAAO0B,EACN/G,IAAAuX,cAAC+qB,KAAI,CACJ9oB,IAAKnU,EACL0e,MAAO,CAAErH,gBAAiB3V,EAAMS,OAChCmW,QAAQ,WACRnR,MAAOzF,EAAMnG,KACb0c,UAAWR,EAAQ6kB,OAEjB,SAKPj3B,EAAO2T,IAAItX,GACX/G,IAAAuX,cAACwU,IAAQ,CAACvS,IAAKzS,EAAM1B,GAAIoS,MAAO1Q,EAAM1B,IACpC0B,EAAMnG,WCtDd,MAAM8a,GAAYC,YAAYvH,IAAK,CACjCwH,KAAM,CACJC,QAAS,OACT6Q,SAAU,QAEZ6V,cAAe,CACb1mB,QAAS,OACT,yBAA0B,CACxBS,YAAalI,EAAMqpB,QAAQ,KAI/B+E,WAAY,CACVre,SAAU,YAGZ0C,eAAgB,CACdrf,MAAOsf,KAAM,KACb3C,SAAU,WACV4C,IAAK,MACLC,KAAM,MACNvK,WAAY,GACZwK,YAAa,IAEfwb,YAAa,CACXzmB,OAAQ5H,EAAMqpB,QAAQ,GACtBlR,SAAU,QAIRmW,GAAaC,OAAaC,MAAM,CACpChiC,KAAM+hC,OACHpB,IAAI,EAAG,cACPC,IAAI,GAAI,aACRqB,SAAS,YACZ/hC,SAAU6hC,OAAapB,IAAI,EAAG,cAAcC,IAAI,GAAI,aACpD3gC,MAAO8hC,OAAa9hC,MAAM,iBAAiBgiC,SAAS,cAsMvC+uB,OAnMIv6C,IAA2C,IAA1C,KAAEhO,EAAI,QAAEghB,EAAO,OAAEtV,EAAM,UAAEgC,GAAWM,EACtD,MAAMyF,EAAUpB,KAEVqnB,EAAe,CACnBniC,KAAM,GACNC,MAAO,GACPC,SAAU,GACVmH,QAAS,SAGHqD,KAAM03B,GAAiB7hB,qBAAWzG,KAEnCpP,EAAMyM,GAAWrB,mBAASqsB,IAC1BlB,EAAkBoB,GAAuBvsB,mBAAS,IAEzDC,oBAAU,KACUC,WAChB,GAAK7B,GACD1L,EACF,IAAK,IAAD85B,EACF,MAAM,KAAE7vB,SAAegB,GAAIuC,IAAI,UAADpD,OAAWsB,IACzCgD,EAASyf,IACA,IAAKA,KAAclkB,KAE5B,MAAM8vB,EAA0B,QAAdD,EAAG7vB,EAAK5I,cAAM,IAAAy4B,OAAA,EAAXA,EAAa9kB,IAAKtX,GAAUA,EAAM1B,IACvD49B,EAAoBG,GACpB,MAAOnwB,GACPD,GAAWC,KAKjBowB,IACC,CAACtuB,EAAQ1L,IAEZ,MAAM+hB,EAAcA,KAClBf,IACAtS,EAAQgrB,IAkBV,OACE/iC,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQlB,MACtB5b,IAAAuX,cAACgT,KAAM,CACLlhB,KAAMA,EACNghB,QAASe,EACTuC,SAAS,KACTb,WAAS,EACTwW,OAAO,SAEPtjC,IAAAuX,cAACkT,KAAW,CAACplB,GAAG,qBACP,GAAAoO,OAANsB,EACMxC,KAAKoB,EAAE,wBACPpB,KAAKoB,EAAE,yBAEhB3T,IAAAuX,cAACgsB,KAAM,CACLC,cAAel4B,EACfm4B,oBAAoB,EACpBC,iBAAkBhB,GAClBiB,SAAUA,CAACC,EAAQhgC,KACjByf,WAAW,KAlCEzM,WACrB,MAAMuC,EAAW,IAAKyqB,EAAQ7sB,YAAWmmB,SAAU2E,GACnD,IACM9sB,QACIT,GAAImoB,IAAI,UAADhpB,OAAWsB,GAAUoE,SAE5B7E,GAAIsE,KAAK,SAAUO,GAE3BzF,IAAMjT,QAAQ8R,KAAKoB,EAAE,sBACrB,MAAOV,GACPD,GAAWC,GAEbmY,KAuBUyY,CAAeD,GACfhgC,EAAQkgC,eAAc,IACrB,OAGJnc,IAAA,IAAC,QAAEoc,EAAO,OAAEC,EAAM,aAAEC,GAActc,EAAA,OACjC3nB,IAAAuX,cAAC2sB,KAAI,KACHlkC,IAAAuX,cAACmT,KAAa,CAACC,UAAQ,GACrB3qB,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQylB,eACtBviC,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,uBACd0wB,WAAS,EACTzjC,KAAK,OACL2S,MAAOwwB,EAAQnjC,MAAQkwB,QAAQkT,EAAOpjC,MACtC0jC,WAAYP,EAAQnjC,MAAQojC,EAAOpjC,KACnC+c,QAAQ,WACR3B,OAAO,QACP8Q,WAAS,IAEX9sB,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,2BACdrO,KAAK,WACL1E,KAAK,WACL2S,MAAOwwB,EAAQjjC,UAAYgwB,QAAQkT,EAAOljC,UAC1CwjC,WAAYP,EAAQjjC,UAAYkjC,EAAOljC,SACvC6c,QAAQ,WACR3B,OAAO,QACP8Q,WAAS,KAGb9sB,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQylB,eACtBviC,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,wBACd/S,KAAK,QACL2S,MAAOwwB,EAAQljC,OAASiwB,QAAQkT,EAAOnjC,OACvCyjC,WAAYP,EAAQljC,OAASmjC,EAAOnjC,MACpC8c,QAAQ,WACR3B,OAAO,QACP8Q,WAAS,IAEX9sB,IAAAuX,cAACwqB,KAAW,CACVpkB,QAAQ,WACRL,UAAWR,EAAQ2lB,YACnBzmB,OAAO,SAEPhc,IAAAuX,cAACwD,GAAG,CACFC,KAAMgoB,EAAa/6B,QACnBgT,QAAQ,yBACRpZ,IAAKA,IACH7B,IAAAuX,cAAAvX,IAAAikB,SAAA,KACEjkB,IAAAuX,cAACyqB,KAAU,CAAC38B,GAAG,iCACZkN,KAAKoB,EAAE,2BAGV3T,IAAAuX,cAAC4sB,KAAK,CACJC,GAAInC,KACJz1B,MAAO+F,KAAKoB,EAAE,0BACd/S,KAAK,UACL2jC,QAAQ,0BACRl/B,GAAG,oBACHw9B,UAAQ,GAER7iC,IAAAuX,cAACwU,IAAQ,CAACtU,MAAM,SAAQ,SACxBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAM,QAAO,cAOnCzX,IAAAuX,cAACwD,GAAG,CACFC,KAAMgoB,EAAa/6B,QACnBgT,QAAQ,wBACRpZ,IAAKA,IACH7B,IAAAuX,cAACo6C,GAAiB,CAChB56C,UAAWA,EACX8qB,iBAAkBA,EAClBrkB,SAAWomB,GAAWX,EAAoBW,QAKlD5jC,IAAAuX,cAACsT,KAAa,KACZ7qB,IAAAuX,cAACqG,KAAM,CACLC,QAASuN,EACT5jB,MAAM,YACN/F,SAAUwiC,EACVtmB,QAAQ,YAEPpL,KAAKoB,EAAE,6BAEV3T,IAAAuX,cAACqG,KAAM,CACLtY,KAAK,SACLkC,MAAM,UACN/F,SAAUwiC,EACVtmB,QAAQ,YACRL,UAAWR,EAAQ0lB,YAEZ,GAAA/uB,OAANsB,EACMxC,KAAKoB,EAAE,4BACPpB,KAAKoB,EAAE,4BACbswB,GACCjkC,IAAAuX,cAAC6P,KAAgB,CACfC,KAAM,GACN/J,UAAWR,EAAQ+J,yBCxNzC,MAAMnL,GAAYC,YAAYvH,IAAK,CACjCwH,KAAM,CACJM,MAAO,QAET8oB,UAAW,CACT9oB,MAAO,OACPoS,KAAM,EACNhB,QAASlZ,EAAMqpB,QAAQ,IAEzB3Q,UAAW,CACT5Q,MAAO,QAET21C,eAAgB,CACd31C,MAAO,OACP4rB,UAAW,YACR1zB,EAAMmZ,iBAEXmjC,UAAW,CACTx0C,MAAO,QAET41C,UAAW,CACTztC,UAAW,SAEbssC,IAAK,CACH3iC,WAAY5Z,EAAMqpB,QAAQ,GAC1BxP,cAAe7Z,EAAMqpB,QAAQ,IAE/B4c,QAAS,CACPtsB,aAAc3Z,EAAMqpB,QAAQ,GAC5BnZ,YAAalQ,EAAMqpB,QAAQ,IAE7BmzB,gBAAiB,CACfvsC,UAAW,QACXiJ,QAASlZ,EAAMqpB,QAAQ,OAIpB,SAASs0B,GAAYnyC,GAC1B,MAAM,SAAE+jB,EAAQ,SAAEquB,EAAQ,SAAE/W,EAAQ,aAAEiI,EAAY,QAAE1sC,GAAYoJ,EAC1D9C,EAAUpB,MACTva,EAAOoqD,GAAY70C,mBAAS,KAC5Bu7C,EAAWC,GAAgBx7C,oBAAS,IACpCy7C,EAAWC,GAAgB17C,mBAAS,KAEpCwvB,EAAQmsB,GAAa37C,mBAAS,CACnC9V,KAAM,GACNC,MAAO,GACPwqD,MAAO,GACPC,OAAQ,GACR7nD,QAAQ,EACRkoD,kBAAkB,EAClBhyC,QAAS,GACT+xC,WAAY,MACTxI,KAGGtmC,KAAM4uC,GAActsC,KAE5BvI,oBAAU,MACRC,iBACE,MAAMgG,QAAa4uC,IACnBD,EAAS3uC,GAEXuG,IAEC,IAEHxM,oBAAU,KACR07C,EAAWhtC,IACL5L,IAAOypC,GAAcxc,YACvBwc,EAAavpC,QAAUF,IAAOypC,EAAavpC,SAASE,OAClD,eAGG,IACFwL,KACA69B,MAGN,CAACA,IAmEJ,OACEljD,IAAAuX,cAAAvX,IAAAikB,SAAA,KACEjkB,IAAAuX,cAACq6C,GAAU,CACT78C,OAAQo9C,EAAU9sD,GAClB0R,UAAWmsC,EAAa79C,GACxBgE,KAAM4oD,EACN5nC,QA/CwBioC,KAC5BF,EAAa,IACbF,GAAa,MA+CXlyD,IAAAuX,cAACgsB,KAAM,CACLE,oBAAkB,EAClBnmB,UAAWR,EAAQgQ,UACnB0W,cAAe0C,EACfvC,SAAUA,CAACC,EAAMvsB,KAAA,IAAE,UAAEk7C,GAAWl7C,EAAA,OAC9BgM,WAAW,KA9EEzM,WACE,KAAjBtD,EAAKqG,UAAqD,IAAnCF,IAAOnG,EAAKqG,SAAS+sB,YAC9CpzB,EAAKqG,QAAU,MAEjBgqB,EAASrwB,GACT++C,EAAU,IAAKnP,EAAcvpC,QAAS,MA0E9B64C,CAAa5uB,GACb2uB,KACC,OAGJ,CAAC3uB,EAAQ6uB,IACRzyD,IAAAuX,cAAC2sB,KAAI,CAAC5mB,UAAWR,EAAQgQ,WACvB9sB,IAAAuX,cAACypB,KAAI,CAACvD,QAAS,EAAG7N,eAAe,WAAWqR,WAAS,GACnDjhC,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGC,GAAI,EAAG1O,MAAI,GAC9BlhC,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAM,OACN5L,KAAK,OACL+c,QAAQ,WACRL,UAAWR,EAAQgQ,UACnB9Q,OAAO,WAGXhc,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGC,GAAI,EAAG1O,MAAI,GAC9BlhC,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAM,SACN5L,KAAK,QACL+c,QAAQ,WACRL,UAAWR,EAAQgQ,UACnB9Q,OAAO,QACP6mB,UAAQ,KAGZ7iC,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGC,GAAI,EAAG1O,MAAI,GAC9BlhC,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAM,WACN5L,KAAK,QACL+c,QAAQ,WACRL,UAAWR,EAAQgQ,UACnB9Q,OAAO,WAGXhc,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGC,GAAI,EAAG1O,MAAI,GAC9BlhC,IAAAuX,cAACwqB,KAAW,CAAC/lB,OAAO,QAAQ2B,QAAQ,WAAWmP,WAAS,GACtD9sB,IAAAuX,cAACyqB,KAAU,CAAC2e,QAAQ,kBAAiB,SACrC3gD,IAAAuX,cAAC4sB,KAAK,CACJC,GAAInC,KACJ58B,GAAG,iBACHmH,MAAM,QACN+3B,QAAQ,uBACR3jC,KAAK,SACLob,OAAO,QACP6mB,UAAQ,GAEP1hC,EAAMkd,IAAI,CAACpc,EAAMuX,IAChBxZ,IAAAuX,cAACwU,IAAQ,CAACvS,IAAKA,EAAK/B,MAAOxV,EAAKoD,IAC7BpD,EAAKrB,UAMhBZ,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGC,GAAI,EAAG1O,MAAI,GAC9BlhC,IAAAuX,cAACwqB,KAAW,CAAC/lB,OAAO,QAAQ2B,QAAQ,WAAWmP,WAAS,GACtD9sB,IAAAuX,cAACyqB,KAAU,CAAC2e,QAAQ,oBAAmB,UACvC3gD,IAAAuX,cAAC4sB,KAAK,CACJC,GAAInC,KACJ58B,GAAG,mBACHmH,MAAM,SACN+3B,QAAQ,yBACR3jC,KAAK,SACLob,OAAO,SAEPhc,IAAAuX,cAACwU,IAAQ,CAACtU,OAAO,GAAM,OACvBzX,IAAAuX,cAACwU,IAAQ,CAACtU,OAAO,GAAO,aAI9BzX,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGC,GAAI,EAAG1O,MAAI,GAC9BlhC,IAAAuX,cAACwqB,KAAW,CAAC/lB,OAAO,QAAQ2B,QAAQ,WAAWmP,WAAS,GACtD9sB,IAAAuX,cAACyqB,KAAU,CAAC2e,QAAQ,oBAAmB,aACvC3gD,IAAAuX,cAAC4sB,KAAK,CACJC,GAAInC,KACJ58B,GAAG,sBACHmH,MAAM,YACN+3B,QAAQ,4BACR3jC,KAAK,mBACLob,OAAO,SAEPhc,IAAAuX,cAACwU,IAAQ,CAACtU,OAAO,GAAM,eACvBzX,IAAAuX,cAACwU,IAAQ,CAACtU,OAAO,GAAO,oBAI9BzX,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGC,GAAI,EAAG1O,MAAI,GAC9BlhC,IAAAuX,cAACwqB,KAAW,CAACpkB,QAAQ,WAAWmP,WAAS,GACvC9sB,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAM,qBACNlH,KAAK,OACL1E,KAAK,UACLovC,gBAAiB,CACfC,QAAQ,GAEVtyB,QAAQ,WACRmP,WAAS,EACT9Q,OAAO,YAIbhc,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGC,GAAI,EAAG1O,MAAI,GAC9BlhC,IAAAuX,cAACwqB,KAAW,CAAC/lB,OAAO,QAAQ2B,QAAQ,WAAWmP,WAAS,GACtD9sB,IAAAuX,cAACyqB,KAAU,CAAC2e,QAAQ,yBAAwB,kBAG5C3gD,IAAAuX,cAAC4sB,KAAK,CACJC,GAAInC,KACJz1B,MAAM,iBACN+3B,QAAQ,8BACRl/B,GAAG,aACHzE,KAAK,aACLob,OAAO,SAEPhc,IAAAuX,cAACwU,IAAQ,CAACtU,MAAM,UAAS,aAQ/BzX,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIF,MAAI,GAChBlhC,IAAAuX,cAACypB,KAAI,CAACpR,eAAe,WAAW6N,QAAS,EAAGwD,WAAS,GACnDjhC,IAAAuX,cAACypB,KAAI,CAACI,GAAI,EAAGwO,GAAI,EAAG1O,MAAI,GACtBlhC,IAAAuX,cAAC2P,GAAiB,CAChB5J,UAAWR,EAAQgQ,UACnB/I,MAAO,CAAEtH,UAAW,GACpBjG,QAASA,EACTqH,QAASA,IAAMo9B,IACft9B,QAAQ,aACT,gBAIYxJ,IAAd+xB,EAAO7gC,GACNrF,IAAAuX,cAAAvX,IAAAikB,SAAA,KACEjkB,IAAAuX,cAACypB,KAAI,CAACI,GAAI,EAAGwO,GAAI,EAAG1O,MAAI,GACtBlhC,IAAAuX,cAAC2P,GAAiB,CAChBnD,MAAO,CAAEtH,UAAW,GACpBa,UAAWR,EAAQgQ,UACnBtW,QAASA,EACTqH,QAASA,IAAMm0C,EAAS9rB,GACxBvoB,QAAQ,YACRnW,MAAM,aACP,YAIHxH,IAAAuX,cAACypB,KAAI,CAACI,GAAI,EAAGwO,GAAI,EAAG1O,MAAI,GACtBlhC,IAAAuX,cAAC2P,GAAiB,CAChBnD,MAAO,CAAEtH,UAAW,GACpBa,UAAWR,EAAQgQ,UACnBtW,QAASA,EACTqH,QAASA,IAlNR60C,MACvB,MAAMp/C,EAAO,IAAK4yB,GAClB,GAAqB,KAAjB5yB,EAAKqG,SAAmC,OAAjBrG,EAAKqG,QAC9B,OAAQrG,EAAKo4C,YACX,IAAK,SACHp4C,EAAKqG,QAAUF,IAAOnG,EAAKqG,SACxB9W,IAAI,EAAG,SACPgX,OAAO,cACV,MACF,IAAK,YACHvG,EAAKqG,QAAUF,IAAOnG,EAAKqG,SACxB9W,IAAI,EAAG,SACPgX,OAAO,cACV,MACF,IAAK,aACHvG,EAAKqG,QAAUF,IAAOnG,EAAKqG,SACxB9W,IAAI,EAAG,SACPgX,OAAO,cACV,MACF,IAAK,YACHvG,EAAKqG,QAAUF,IAAOnG,EAAKqG,SACxB9W,IAAI,EAAG,SACPgX,OAAO,cACV,MACF,IAAK,QACHvG,EAAKqG,QAAUF,IAAOnG,EAAKqG,SACxB9W,IAAI,GAAI,SACRgX,OAAO,cAMhBw4C,EAAU/+C,IAiL2Bo/C,GACf/0C,QAAQ,YACRnW,MAAM,WACP,iBAIHxH,IAAAuX,cAACypB,KAAI,CAACI,GAAI,EAAGwO,GAAI,EAAG1O,MAAI,GACtBlhC,IAAAuX,cAAC2P,GAAiB,CAChBnD,MAAO,CAAEtH,UAAW,GACpBa,UAAWR,EAAQgQ,UACnBtW,QAASA,EACTqH,QAASA,IAnPJjH,WAC3B,IACE,MAAM,KAAEtD,SAAegB,GAAIuC,IAAI,cAAe,CAC5C/B,OAAQ,CACNiC,UAAWmsC,EAAa79C,MAGxBgU,mBAAQ/F,IAASA,EAAKmQ,QACxB2uC,EAAalL,gBAAK5zC,IAEpB4+C,GAAa,GACb,MAAOlmC,GACPtY,IAAMH,MAAMyY,KAuOuB2mC,GACfh1C,QAAQ,YACRnW,MAAM,WACP,gBAKH,KACJxH,IAAAuX,cAACypB,KAAI,CAACI,GAAI,EAAGwO,GAAI,EAAG1O,MAAI,GACtBlhC,IAAAuX,cAAC2P,GAAiB,CAChB5J,UAAWR,EAAQgQ,UACnB/I,MAAO,CAAEtH,UAAW,GACpBjG,QAASA,EACTlR,KAAK,SACLqY,QAAQ,YACRnW,MAAM,WACP,iBAcd,SAASorD,GAAqBhzC,GACnC,MAAM,QAAEkE,EAAO,SAAEs8B,GAAaxgC,EACxB9C,EAAUpB,MACV,aAAE8qB,GAAiBD,KAwBnBssB,EAAY3sB,IAChB,GAAIzsB,IAAOysB,EAAOvsB,SAAS+sB,UAAW,CACpC,MAAM1oB,EAAMvE,MAENK,EADUL,IAAOysB,EAAOvsB,SACTG,KAAKkE,EAAK,QAC/B,GAAa,IAATlE,EACF,MAAO,CAAE4C,gBAAiB,WAE5B,GAAI5C,IAAS,GAAKA,GAAQ,EACxB,MAAO,CAAE4C,gBAAiB,WAE5B,IAAc,IAAV5C,EACF,MAAO,CAAE4C,gBAAiB,WAG9B,MAAO,IAGT,OACE1c,IAAAuX,cAAC6uB,KAAK,CAAC9oB,UAAWR,EAAQ+0C,gBACxB7xD,IAAAuX,cAACu1B,KAAK,CACJxvB,UAAWR,EAAQgQ,UACnBzF,KAAK,QACL+Y,aAAW,iBAEXpgC,IAAAuX,cAACw1B,KAAS,KACR/sC,IAAAuX,cAACy1B,KAAQ,KACPhtC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,SAASnpB,MAAO,CAAE7H,MAAO,OAAQ,KAGlDlc,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,QAAO,QACxBltC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,QAAO,UACxBltC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,QAAO,YACxBltC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,QAAO,SACxBltC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,QAAO,aACxBltC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,QAAO,UACxBltC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,QAAO,aACxBltC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,QAAO,gBAG5BltC,IAAAuX,cAAC41B,KAAS,KACPrpB,EAAQzF,IAAI,CAACsyC,EAAKn3C,IACjBxZ,IAAAuX,cAACy1B,KAAQ,CAACjpB,MAAO8uC,EAASlC,GAAMn3C,IAAKA,GACnCxZ,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,SAASnpB,MAAO,CAAE7H,MAAO,OACxClc,IAAAuX,cAACsH,IAAU,CAAChB,QAASA,IAAMuiC,EAASuQ,GAAMvwB,aAAW,UACnDpgC,IAAAuX,cAACwH,KAAQ,QAGb/e,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,QAAQyjB,EAAI/vD,MAAQ,KACrCZ,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,QAAQyjB,EAAI9vD,OAAS,KACtCb,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,QAAQyjB,EAAItF,OAAS,KACtCrrD,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,QArETyjB,IACI,OAAfA,EAAIrF,OAAkBqF,EAAI1uD,KAAKrB,KAAO,IAoEVkyD,CAAWnC,IACpC3wD,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,QAlEEyjB,KAC7B,GACEv3C,eAAIu3C,EAAK,aACTt3C,mBAAQs3C,EAAI9lD,WACZ8lD,EAAI9lD,SAAS4Y,OAAS,EACtB,CACA,MAAMnK,EAAUq3C,EAAI9lD,SAAS0O,KAAMxD,GAAgB,qBAAVA,EAAEyD,KAC3C,GAAIF,EACF,MAAyB,SAAlBA,EAAQ7B,MAAmB,cAAgB,gBAGtD,MAAO,iBAuD4Bs7C,CAAsBpC,IAC/C3wD,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,QA3EPyjB,KACE,IAAfA,EAAIltD,OAAmB,SAAQ,MA0EHuvD,CAAarC,IACtC3wD,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,QAAQ1G,EAAamqB,EAAIxyC,YAC1Cne,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,QACd1G,EAAamqB,EAAIh3C,SAClB3Z,IAAAuX,cAAA,WACAvX,IAAAuX,cAAA,YAAOo5C,EAAIjF,kBAUZ,SAASuH,KACtB,MAAMn2C,EAAUpB,MACV,KAAEkB,EAAI,KAAEhb,EAAI,OAAE6L,EAAM,OAAE+R,GAAWouB,MAEhCslB,EAAmBC,GAAwBz8C,oBAAS,IACpDF,EAASC,GAAcC,oBAAS,IAChCoN,EAASsvC,GAAc18C,mBAAS,KAChCwvB,EAAQmsB,GAAa37C,mBAAS,CACnC9V,KAAM,GACNC,MAAO,GACPwqD,MAAO,GACPC,OAAQ,GACR7nD,QAAQ,EACRkoD,kBAAkB,EAClBhyC,QAAS,GACT+xC,WAAY,KAGd/0C,oBAAU,KACR08C,KAEC,IAEH,MAAMA,EAAYz8C,UAChBH,GAAW,GACX,IACE,MAAM68C,QAAoB12C,IAC1Bw2C,EAAWE,GACX,MAAOtnC,GACPtY,IAAMH,MAAM,wDAEdkD,GAAW,IAuCP88C,EAAeA,KACnBlB,EAAWhtC,IAAI,IACVA,EACHzkB,KAAM,GACNC,MAAO,GACPwqD,MAAO,GACPC,OAAQ,GACR7nD,QAAQ,EACRkoD,kBAAkB,EAClBhyC,QAAS,GACT+xC,WAAY,OA6BhB,OACE1rD,IAAAuX,cAAC6uB,KAAK,CAAC9oB,UAAWR,EAAQkoB,UAAWsQ,UAAW,GAC9Ct1C,IAAAuX,cAACypB,KAAI,CAACvD,QAAS,EAAGwD,WAAS,GACzBjhC,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIF,MAAI,GAChBlhC,IAAAuX,cAACw6C,GAAW,CACV7O,aAAchd,EACd8rB,SAjDqBwB,KAC7BL,GAAqB,IAiDbxvB,SAlFW/sB,UACnBH,GAAW,GACX,SACkBtC,IAAZb,EAAKjO,SACDoI,EAAO6F,SAEP1R,EAAK0R,SAEP+/C,IACNE,IACA7/C,IAAMjT,QAAQ,yCACd,MAAOurB,GACPtY,IAAMH,MACJ,2JAGJkD,GAAW,IAmEHwkC,SAAUsY,EACV/8C,QAASA,KAGbxW,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIF,MAAI,GAChBlhC,IAAAuX,cAACq7C,GAAoB,CAAC9uC,QAASA,EAASs8B,SAtC1B9sC,IACpB,IAAIq4C,GAAmB,EAEvB,MAAMryC,EAAUhG,EAAKzI,SAAS0O,KAC3BxD,GAAMA,EAAEyD,IAAI27B,QAAQ,qBAAuB,GAE1C77B,IACFqyC,EACoB,SAAlBryC,EAAQ7B,OAAsC,YAAlB6B,EAAQ7B,OAGxC46C,EAAWhtC,IAAI,IACVA,EACHhgB,GAAIiO,EAAKjO,GACTzE,KAAM0S,EAAK1S,MAAQ,GACnByqD,MAAO/3C,EAAK+3C,OAAS,GACrBxqD,MAAOyS,EAAKzS,OAAS,GACrByqD,OAAQh4C,EAAKg4C,QAAU,GACvB7nD,QAAwB,IAAhB6P,EAAK7P,OACbkoD,mBACAhyC,QAASrG,EAAKqG,SAAW,GACzB+xC,WAAYp4C,EAAKo4C,YAAc,WAoB/B1rD,IAAAuX,cAAC6S,GAAiB,CAChB7pB,MAAM,0BACN8I,KAAM6pD,EACN7oC,QAASA,IAAM8oC,GAAqB,GACpC7oC,UAAWA,IA5EI1T,WACnBH,GAAW,GACX,UACQ+I,EAAO0mB,EAAO7gC,UACdguD,IACNE,IACA7/C,IAAMjT,QAAQ,yCACd,MAAOurB,GACPtY,IAAMH,MAAM,oDAEdkD,GAAW,IAkEUg9C,IAClB,4CCjlBP,MAAM/3C,GAAYC,YAAWvH,IAAK,CAC9BwH,KAAM,CACFM,MAAO,QAEX8oB,UAAW,CACP9oB,MAAO,OACPoS,KAAM,EACNhB,QAASlZ,EAAMqpB,QAAQ,IAE3B3Q,UAAW,CACP5Q,MAAO,QAEX21C,eAAgB,CACZ31C,MAAO,OACP4rB,UAAW,YACR1zB,EAAMmZ,iBAEbmjC,UAAW,CACPx0C,MAAO,QAEX41C,UAAW,CACPztC,UAAW,SAEfssC,IAAK,CACD3iC,WAAY5Z,EAAMqpB,QAAQ,GAC1BxP,cAAe7Z,EAAMqpB,QAAQ,IAEjC4c,QAAS,CACLtsB,aAAc3Z,EAAMqpB,QAAQ,GAC5BnZ,YAAalQ,EAAMqpB,QAAQ,IAE/BmzB,gBAAiB,CACbvsC,UAAW,QACXiJ,QAASlZ,EAAMqpB,QAAQ,OAIxB,SAASi2B,GAAgB9zC,GAC5B,MAAM,SAAE+jB,EAAQ,SAAEquB,EAAQ,SAAE/W,EAAQ,aAAEiI,EAAY,QAAE1sC,GAAYoJ,EAC1D9C,EAAUpB,MAETwqB,EAAQmsB,GAAa37C,mBAAS,CACjC9V,KAAM,GACNQ,MAAO,EACPC,YAAa,EACbqJ,OAAQ,EACR+M,MAAO,EACPmL,cAAc,EACdI,cAAc,EACdC,iBAAiB,EACjBC,gBAAgB,EAChBL,WAAW,EACXC,WAAW,EACXC,iBAAiB,IAGrBpM,oBAAU,KACN07C,EAAUnP,IACX,CAACA,IAMJ,OACIljD,IAAAuX,cAACgsB,KAAM,CACHE,oBAAkB,EAClBnmB,UAAWR,EAAQgQ,UACnB0W,cAAe0C,EACfvC,SAAUA,CAACC,EAAMvsB,KAAA,IAAE,UAAEk7C,GAAWl7C,EAAA,OAC5BgM,WAAW,KAVFzM,WACjB+sB,EAASrwB,IAUGk/C,CAAa5uB,GACb2uB,KACD,OAGL3uB,GACE5jC,IAAAuX,cAAC2sB,KAAI,CAAC5mB,UAAWR,EAAQgQ,WACrB9sB,IAAAuX,cAACypB,KAAI,CAACvD,QAAS,EAAG7N,eAAe,aAAaqR,WAAS,GAEnDjhC,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGC,GAAI,EAAG1O,MAAI,GAC5BlhC,IAAAuX,cAAC4sB,KAAK,CACFC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,mBACd/S,KAAK,OACL+c,QAAQ,WACRL,UAAWR,EAAQgQ,UACnB9Q,OAAO,WAKfhc,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGC,GAAI,EAAG1O,MAAI,GAC5BlhC,IAAAuX,cAAC4sB,KAAK,CACFC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,oBACd/S,KAAK,QACL+c,QAAQ,WACRL,UAAWR,EAAQgQ,UACnB9Q,OAAO,QACP1W,KAAK,YAKbtF,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGC,GAAI,EAAG1O,MAAI,GAC5BlhC,IAAAuX,cAAC4sB,KAAK,CACFC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,0BACd/S,KAAK,cACL+c,QAAQ,WACRL,UAAWR,EAAQgQ,UACnB9Q,OAAO,QACP1W,KAAK,YAKbtF,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGC,GAAI,EAAG1O,MAAI,GAC5BlhC,IAAAuX,cAAC4sB,KAAK,CACFC,GAAI7mB,KACJ/Q,MAAM,QACN5L,KAAK,SACL+c,QAAQ,WACRL,UAAWR,EAAQgQ,UACnB9Q,OAAO,QACP1W,KAAK,YAKbtF,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGC,GAAI,EAAG1O,MAAI,GAC5BlhC,IAAAuX,cAAC4sB,KAAK,CACFC,GAAI7mB,KACJ/Q,MAAM,QACN5L,KAAK,QACL+c,QAAQ,WACRL,UAAWR,EAAQgQ,UACnB9Q,OAAO,QACP1W,KAAK,UAKbtF,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGC,GAAI,EAAG1O,MAAI,GAC5BlhC,IAAAuX,cAACwqB,KAAW,CAAC/lB,OAAO,QAAQ2B,QAAQ,WAAWmP,WAAS,GACpD9sB,IAAAuX,cAACyqB,KAAU,CAAC2e,QAAQ,0BAA0BpuC,KAAKoB,EAAE,yBACrD3T,IAAAuX,cAAC4sB,KAAK,CACFC,GAAInC,KACJ58B,GAAG,yBACHmH,MAAO+F,KAAKoB,EAAE,wBACd4wB,QAAQ,+BACR3jC,KAAK,eACLob,OAAO,SAEPhc,IAAAuX,cAACwU,IAAQ,CAACtU,OAAO,GAAOlF,KAAKoB,EAAE,uBAC/B3T,IAAAuX,cAACwU,IAAQ,CAACtU,OAAO,GAAQlF,KAAKoB,EAAE,2BAM5C3T,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGC,GAAI,EAAG1O,MAAI,GAC5BlhC,IAAAuX,cAACwqB,KAAW,CAAC/lB,OAAO,QAAQ2B,QAAQ,WAAWmP,WAAS,GACpD9sB,IAAAuX,cAACyqB,KAAU,CAAC2e,QAAQ,0BAA0BpuC,KAAKoB,EAAE,yBACrD3T,IAAAuX,cAAC4sB,KAAK,CACFC,GAAInC,KACJ58B,GAAG,yBACHmH,MAAO+F,KAAKoB,EAAE,wBACd4wB,QAAQ,+BACR3jC,KAAK,eACLob,OAAO,SAEPhc,IAAAuX,cAACwU,IAAQ,CAACtU,OAAO,GAAOlF,KAAKoB,EAAE,uBAC/B3T,IAAAuX,cAACwU,IAAQ,CAACtU,OAAO,GAAQlF,KAAKoB,EAAE,2BAM5C3T,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGC,GAAI,EAAG1O,MAAI,GAC5BlhC,IAAAuX,cAACwqB,KAAW,CAAC/lB,OAAO,QAAQ2B,QAAQ,WAAWmP,WAAS,GACpD9sB,IAAAuX,cAACyqB,KAAU,CAAC2e,QAAQ,6BAA4B,gBAChD3gD,IAAAuX,cAAC4sB,KAAK,CACFC,GAAInC,KACJ58B,GAAG,4BACHmH,MAAM,eACN+3B,QAAQ,kCACR3jC,KAAK,kBACLob,OAAO,SAEPhc,IAAAuX,cAACwU,IAAQ,CAACtU,OAAO,GAAOlF,KAAKoB,EAAE,uBAC/B3T,IAAAuX,cAACwU,IAAQ,CAACtU,OAAO,GAAQlF,KAAKoB,EAAE,2BAM5C3T,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGC,GAAI,EAAG1O,MAAI,GAC5BlhC,IAAAuX,cAACwqB,KAAW,CAAC/lB,OAAO,QAAQ2B,QAAQ,WAAWmP,WAAS,GACpD9sB,IAAAuX,cAACyqB,KAAU,CAAC2e,QAAQ,4BAA2B,eAC/C3gD,IAAAuX,cAAC4sB,KAAK,CACFC,GAAInC,KACJ58B,GAAG,2BACHmH,MAAM,cACN+3B,QAAQ,iCACR3jC,KAAK,iBACLob,OAAO,SAEPhc,IAAAuX,cAACwU,IAAQ,CAACtU,OAAO,GAAOlF,KAAKoB,EAAE,uBAC/B3T,IAAAuX,cAACwU,IAAQ,CAACtU,OAAO,GAAQlF,KAAKoB,EAAE,2BAM5C3T,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGC,GAAI,EAAG1O,MAAI,GAC5BlhC,IAAAuX,cAACwqB,KAAW,CAAC/lB,OAAO,QAAQ2B,QAAQ,WAAWmP,WAAS,GACpD9sB,IAAAuX,cAACyqB,KAAU,CAAC2e,QAAQ,uBAAsB,UAC1C3gD,IAAAuX,cAAC4sB,KAAK,CACFC,GAAInC,KACJ58B,GAAG,sBACHmH,MAAM,SACN+3B,QAAQ,4BACR3jC,KAAK,YACLob,OAAO,SAEPhc,IAAAuX,cAACwU,IAAQ,CAACtU,OAAO,GAAOlF,KAAKoB,EAAE,uBAC/B3T,IAAAuX,cAACwU,IAAQ,CAACtU,OAAO,GAAQlF,KAAKoB,EAAE,2BAM5C3T,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGC,GAAI,EAAG1O,MAAI,GAC5BlhC,IAAAuX,cAACwqB,KAAW,CAAC/lB,OAAO,QAAQ2B,QAAQ,WAAWmP,WAAS,GACpD9sB,IAAAuX,cAACyqB,KAAU,CAAC2e,QAAQ,uBAAsB,WAC1C3gD,IAAAuX,cAAC4sB,KAAK,CACFC,GAAInC,KACJ58B,GAAG,sBACHmH,MAAM,UACN+3B,QAAQ,4BACR3jC,KAAK,YACLob,OAAO,SAEPhc,IAAAuX,cAACwU,IAAQ,CAACtU,OAAO,GAAOlF,KAAKoB,EAAE,uBAC/B3T,IAAAuX,cAACwU,IAAQ,CAACtU,OAAO,GAAQlF,KAAKoB,EAAE,2BAM5C3T,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGC,GAAI,EAAG1O,MAAI,GAC5BlhC,IAAAuX,cAACwqB,KAAW,CAAC/lB,OAAO,QAAQ2B,QAAQ,WAAWmP,WAAS,GACpD9sB,IAAAuX,cAACyqB,KAAU,CAAC2e,QAAQ,6BAA4B,qBAChD3gD,IAAAuX,cAAC4sB,KAAK,CACFC,GAAInC,KACJ58B,GAAG,4BACHmH,MAAM,oBACN+3B,QAAQ,kCACR3jC,KAAK,kBACLob,OAAO,SAEPhc,IAAAuX,cAACwU,IAAQ,CAACtU,OAAO,GAAOlF,KAAKoB,EAAE,uBAC/B3T,IAAAuX,cAACwU,IAAQ,CAACtU,OAAO,GAAQlF,KAAKoB,EAAE,4BAKhD3T,IAAAuX,cAACypB,KAAI,CAACvD,QAAS,EAAG7N,eAAe,WAAWqR,WAAS,GAEjDjhC,IAAAuX,cAACypB,KAAI,CAAC2O,GAAI,EAAGC,GAAI,EAAG1O,MAAI,GACpBlhC,IAAAuX,cAAC2P,GAAiB,CAAC5J,UAAWR,EAAQgQ,UAAWtW,QAASA,EAASqH,QAASA,IAAMo9B,IAAYt9B,QAAQ,aACjGpL,KAAKoB,EAAE,2BAGDQ,IAAd+xB,EAAO7gC,GACJrF,IAAAuX,cAACypB,KAAI,CAAC2O,GAAI,EAAGC,GAAI,EAAG1O,MAAI,GACpBlhC,IAAAuX,cAAC2P,GAAiB,CAAC5J,UAAWR,EAAQgQ,UAAWtW,QAASA,EAASqH,QAASA,IAAMm0C,EAAS9rB,GAASvoB,QAAQ,YAAYnW,MAAM,aACzH+K,KAAKoB,EAAE,uBAGhB,KACJ3T,IAAAuX,cAACypB,KAAI,CAAC2O,GAAI,EAAGC,GAAI,EAAG1O,MAAI,GACpBlhC,IAAAuX,cAAC2P,GAAiB,CAAC5J,UAAWR,EAAQgQ,UAAWtW,QAASA,EAASlR,KAAK,SAASqY,QAAQ,YAAYnW,MAAM,WACtG+K,KAAKoB,EAAE,wBAUjC,SAASggD,GAAiB/zC,GAC7B,MAAM,QAAEkE,EAAO,SAAEs8B,GAAaxgC,EACxB9C,EAAUpB,KA8BhB,OACI1b,IAAAuX,cAAC6uB,KAAK,CAAC9oB,UAAWR,EAAQ+0C,gBACtB7xD,IAAAuX,cAACu1B,KAAK,CACFxvB,UAAWR,EAAQgQ,UAEnBQ,QAAQ,OACR8S,aAAW,iBAEXpgC,IAAAuX,cAACw1B,KAAS,KACN/sC,IAAAuX,cAACy1B,KAAQ,KACLhtC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,SAASnpB,MAAO,CAAE7H,MAAO,OAAQ,KAClDlc,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,QAAQ36B,KAAKoB,EAAE,oBAChC3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAU36B,KAAKoB,EAAE,qBAClC3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAU36B,KAAKoB,EAAE,2BAClC3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAS,SAC1BltC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAS,SAC1BltC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAU36B,KAAKoB,EAAE,yBAClC3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAU36B,KAAKoB,EAAE,yBAClC3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAS,gBAC1BltC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAS,eAC1BltC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAS,UAC1BltC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAS,WAC1BltC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAS,uBAGlCltC,IAAAuX,cAAC41B,KAAS,KACLrpB,EAAQzF,IAAKsyC,GACV3wD,IAAAuX,cAACy1B,KAAQ,CAACxzB,IAAKm3C,EAAItrD,IACfrF,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,SAASnpB,MAAO,CAAE7H,MAAO,OACtClc,IAAAuX,cAACsH,IAAU,CAAChB,QAASA,IAAMuiC,EAASuQ,GAAMvwB,aAAW,UACjDpgC,IAAAuX,cAACwH,KAAQ,QAGjB/e,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,QAAQyjB,EAAI/vD,MAAQ,KACrCZ,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAUyjB,EAAIvvD,OAAS,KACxCpB,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAUyjB,EAAItvD,aAAe,KAC9CrB,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAUyjB,EAAIjmD,QAAU,KACzC1K,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAU36B,KAAKoB,EAAE,oBAAoB,IAAEg9C,EAAIl5C,MAAQk5C,EAAIl5C,MAAMkH,eAAe,QAAS,CAAEi1C,sBAAuB,IAAO,SACtI5zD,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAlEhByjB,KACO,IAArBA,EAAI/tC,aAAsB,GAAAnP,OAAMlB,KAAKoB,EAAE,kBAAgB,GAAAF,OAAQlB,KAAKoB,EAAE,mBAiE9BkgD,CAAgBlD,IAC3C3wD,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UA/DhByjB,KACO,IAArBA,EAAI3tC,aAAsB,GAAAvP,OAAMlB,KAAKoB,EAAE,kBAAgB,GAAAF,OAAQlB,KAAKoB,EAAE,mBA8D9BmgD,CAAgBnD,IAC3C3wD,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UA5DbyjB,KACO,IAAxBA,EAAI1tC,gBAAyB,GAAAxP,OAAMlB,KAAKoB,EAAE,kBAAgB,GAAAF,OAAQlB,KAAKoB,EAAE,mBA2DjCogD,CAAmBpD,IAC9C3wD,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAzDdyjB,KACO,IAAvBA,EAAIztC,eAAwB,GAAAzP,OAAMlB,KAAKoB,EAAE,kBAAgB,GAAAF,OAAQlB,KAAKoB,EAAE,mBAwDhCqgD,CAAkBrD,IAC7C3wD,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAtDnByjB,KACO,IAAlBA,EAAI9tC,UAAmB,GAAApP,OAAMlB,KAAKoB,EAAE,kBAAgB,GAAAF,OAAQlB,KAAKoB,EAAE,mBAqD3BsgD,CAAatD,IACxC3wD,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAnDnByjB,KACO,IAAlBA,EAAI7tC,UAAmB,GAAArP,OAAMlB,KAAKoB,EAAE,kBAAgB,GAAAF,OAAQlB,KAAKoB,EAAE,mBAkD3BugD,CAAavD,IACxC3wD,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAhDbyjB,KACO,IAAxBA,EAAI5tC,gBAAyB,GAAAtP,OAAMlB,KAAKoB,EAAE,kBAAgB,GAAAF,OAAQlB,KAAKoB,EAAE,mBA+CjCwgD,CAAmBxD,SAS3D,SAASyD,KACpB,MAAMt3C,EAAUpB,MACV,KAAEkB,EAAI,KAAEhb,EAAI,OAAE6L,EAAM,OAAE+R,GAAWN,MAEhCg0C,EAAmBC,GAAwBz8C,oBAAS,IACpDF,EAASC,GAAcC,oBAAS,IAChCoN,EAASsvC,GAAc18C,mBAAS,KAChCwvB,EAAQmsB,GAAa37C,mBAAS,CACjC9V,KAAM,GACNQ,MAAO,EACPC,YAAa,EACbqJ,OAAQ,EACR+M,MAAO,EACPmL,cAAc,EACdI,cAAc,EACdC,iBAAiB,EACjBC,gBAAgB,EAChBL,WAAW,EACXC,WAAW,EACXC,iBAAiB,IAGrBpM,oBAAU,MACNC,uBACUy8C,IAEVlwC,IAED,CAAC+iB,IAEJ,MAAMmtB,EAAYz8C,UACdH,GAAW,GACX,IACI,MAAM49C,QAAiBz3C,IACvBw2C,EAAWiB,GACb,MAAOroC,GACLtY,IAAMH,MAAM,wDAEhBkD,GAAW,IAsCT88C,EAAeA,KACjBlB,EAAU,CACNhtD,QAAI8O,EACJvT,KAAM,GACNQ,MAAO,EACPC,YAAa,EACbqJ,OAAQ,EACR+M,MAAO,EACPmL,cAAc,EACdI,cAAc,EACdC,iBAAiB,EACjBC,gBAAgB,EAChBL,WAAW,EACXC,WAAW,EACXC,iBAAiB,KA+BzB,OACI/iB,IAAAuX,cAAC6uB,KAAK,CAAC9oB,UAAWR,EAAQkoB,UAAWsQ,UAAW,GAC5Ct1C,IAAAuX,cAACypB,KAAI,CAACvD,QAAS,EAAGwD,WAAS,GACvBjhC,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIF,MAAI,GACdlhC,IAAAuX,cAACm8C,GAAe,CACZxQ,aAAchd,EACd8rB,SAvDWwB,KAC3BL,GAAqB,IAuDLxvB,SAvFC/sB,UACjBH,GAAW,GACXuoB,QAAQC,IAAI3rB,GACZ,SACoBa,IAAZb,EAAKjO,SACCoI,EAAO6F,SAEP1R,EAAK0R,SAET+/C,IACNE,IACA7/C,IAAMjT,QAAQ,yCAChB,MAAOurB,GACLtY,IAAMH,MAAM,yJAEhBkD,GAAW,IAyEKwkC,SAAUsY,EACV/8C,QAASA,KAGjBxW,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIF,MAAI,GACdlhC,IAAAuX,cAACo8C,GAAgB,CACb7vC,QAASA,EACTs8B,SA1CE9sC,IAAU,IAADghD,EAE3B,IAAI1xC,GAAqC,IAAtBtP,EAAKsP,aACpBI,GAAqC,IAAtB1P,EAAK0P,aACpBC,GAA2C,IAAzB3P,EAAK2P,gBACvBC,GAAyC,IAAxB5P,EAAK4P,eACtBL,GAA+B,IAAnBvP,EAAKuP,UACjBC,GAA+B,IAAnBxP,EAAKwP,UACjBC,GAA2C,IAAzBzP,EAAKyP,gBAE3BsvC,EAAU,CACNhtD,GAAIiO,EAAKjO,GACTzE,KAAM0S,EAAK1S,MAAQ,GACnBQ,MAAOkS,EAAKlS,OAAS,EACrBC,YAAaiS,EAAKjS,aAAe,EACjCqJ,OAAQ4I,EAAK5I,QAAU,EACvB+M,OAAiB,QAAV68C,EAAAhhD,EAAKmE,aAAK,IAAA68C,OAAA,EAAVA,EAAY31C,eAAe,QAAS,CAAEi1C,sBAAuB,MAAQ,EAC5EhxC,eACAI,eACAC,kBACAC,iBACAL,YACAC,YACAC,yBAuBA/iB,IAAAuX,cAAC6S,GAAiB,CACd7pB,MAAM,0BACN8I,KAAM6pD,EACN7oC,QAASA,IAAM8oC,GAAqB,GACpC7oC,UAAWA,IArFF1T,WACjBH,GAAW,GACX,UACU+I,EAAO0mB,EAAO7gC,UACdguD,IACNE,IACA7/C,IAAMjT,QAAQ,yCAChB,MAAOurB,GACLtY,IAAMH,MAAM,oDAEhBkD,GAAW,IA2Ecg9C,IACpB,4CChfEv0C,OAvDEA,KA8CN,CACH4uB,QA7CYl3B,UACZ,MAAM,KAAEtD,SAAegB,GAAI2D,QAAQ,CAC/BmH,IAAI,SACJC,OAAQ,MACRvK,WAEJ,OAAOxB,GAwCPsJ,KArCShG,UACT,MAAM,KAAEtD,SAAegB,GAAI2D,QAAQ,CAC/BmH,IAAK,cACLC,OAAQ,MACRvK,WAEJ,OAAOxB,GAgCP1R,KA7BSgV,UACT,MAAQtD,KAAMgM,SAAuBhL,GAAI2D,QAAQ,CAC7CmH,IAAK,SACLC,OAAQ,OACR/L,SAEJ,OAAOgM,GAwBP7R,OArBWmJ,UACX,MAAQtD,KAAMgM,SAAuBhL,GAAI2D,QAAQ,CAC7CmH,IAAI,UAAD3L,OAAYH,EAAKjO,IACpBga,OAAQ,MACR/L,SAEJ,OAAOgM,GAgBPE,OAbW5I,UACX,MAAM,KAAEtD,SAAegB,GAAI2D,QAAQ,CAC/BmH,IAAI,UAAD3L,OAAYpO,GACfga,OAAQ,WAEZ,OAAO/L,KCtBf,MAAMoI,GAAYC,YAAWvH,IAAK,CACjCwH,KAAM,CACLM,MAAO,QAEL8oB,UAAW,CACb9oB,MAAO,OACPoS,KAAM,EACNhB,QAASlZ,EAAMqpB,QAAQ,IAExB3Q,UAAW,CACV5Q,MAAO,QAEL21C,eAAgB,CAClB31C,MAAO,OACP4rB,UAAW,YACR1zB,EAAMmZ,iBAEVmjC,UAAW,CACVx0C,MAAO,QAEL41C,UAAW,CACPztC,UAAW,SAEfssC,IAAK,CACP3iC,WAAY5Z,EAAMqpB,QAAQ,GAC1BxP,cAAe7Z,EAAMqpB,QAAQ,IAE3B4c,QAAS,CACXtsB,aAAc3Z,EAAMqpB,QAAQ,GAC5BnZ,YAAalQ,EAAMqpB,QAAQ,IAEzBmzB,gBAAiB,CACbvsC,UAAW,QACjBiJ,QAASlZ,EAAMqpB,QAAQ,OAIlB,SAAS82B,GAAiB30C,GAC7B,MAAM,SAAE+jB,EAAQ,SAAEquB,EAAQ,SAAE/W,EAAQ,aAAEiI,EAAY,QAAE1sC,GAAYoJ,EAC1D9C,EAAUpB,MAETwqB,EAAQmsB,GAAa37C,mBAASwsC,GAErCvsC,oBAAU,KACN07C,EAAUnP,IACX,CAACA,IAMJ,OACIljD,IAAAuX,cAACgsB,KAAM,CACHE,oBAAkB,EAClBnmB,UAAWR,EAAQgQ,UACnB0W,cAAe0C,EACfvC,SAAUA,CAACC,EAAMvsB,KAAA,IAAE,UAAEk7C,GAAWl7C,EAAA,OAC5BgM,WAAW,KAVFzM,WACjB+sB,EAASrwB,IAUGk/C,CAAa5uB,GACb2uB,KACD,OAGL3uB,GACE5jC,IAAAuX,cAAC2sB,KAAI,CAAC5mB,UAAWR,EAAQgQ,WACrB9sB,IAAAuX,cAACypB,KAAI,CAACvD,QAAS,EAAG7N,eAAe,WAAWqR,WAAS,GACjDjhC,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGC,GAAI,EAAG1O,MAAI,GAC5BlhC,IAAAuX,cAAC4sB,KAAK,CACFC,GAAI7mB,KACJ/Q,MAAM,YACN5L,KAAK,QACL+c,QAAQ,WACRL,UAAWR,EAAQgQ,UACnB9Q,OAAO,WAGfhc,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGC,GAAI,EAAG1O,MAAI,GAC5BlhC,IAAAuX,cAAC4sB,KAAK,CACFC,GAAI7mB,KACJ/Q,MAAM,wBACN5L,KAAK,QACL+c,QAAQ,WACRL,UAAWR,EAAQgQ,UACnB9Q,OAAO,WAGfhc,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,GAAIC,GAAI,EAAG1O,MAAI,GAC7BlhC,IAAAuX,cAAC4sB,KAAK,CACFC,GAAI7mB,KACJ/Q,MAAM,kBACN5L,KAAK,cACL+c,QAAQ,WACRL,UAAWR,EAAQgQ,UACnB9Q,OAAO,WAGfhc,IAAAuX,cAACypB,KAAI,CAAC2O,GAAI,EAAGC,GAAI,EAAG1O,MAAI,GACpBlhC,IAAAuX,cAAC2P,GAAiB,CAAC5J,UAAWR,EAAQgQ,UAAWtW,QAASA,EAASqH,QAASA,IAAMo9B,IAAYt9B,QAAQ,aAAY,gBAItGxJ,IAAd+xB,EAAO7gC,GACLrF,IAAAuX,cAACypB,KAAI,CAAC2O,GAAI,EAAGC,GAAI,EAAG1O,MAAI,GACpBlhC,IAAAuX,cAAC2P,GAAiB,CAAC5J,UAAWR,EAAQgQ,UAAWtW,QAASA,EAASqH,QAASA,IAAMm0C,EAAS9rB,GAASvoB,QAAQ,YAAYnW,MAAM,aAAY,YAI9I,KACJxH,IAAAuX,cAACypB,KAAI,CAAC2O,GAAI,EAAGC,GAAI,EAAG1O,MAAI,GACpBlhC,IAAAuX,cAAC2P,GAAiB,CAAC5J,UAAWR,EAAQgQ,UAAWtW,QAASA,EAASlR,KAAK,SAASqY,QAAQ,YAAYnW,MAAM,WAAU,cAW1I,SAASgtD,GAAkB50C,GAC9B,MAAM,QAAEkE,EAAO,SAAEs8B,GAAaxgC,EACxB9C,EAAUpB,KAEhB,OACI1b,IAAAuX,cAAC6uB,KAAK,CAAC9oB,UAAWR,EAAQ+0C,gBACtB7xD,IAAAuX,cAACu1B,KAAK,CAACxvB,UAAWR,EAAQgQ,UAAWzF,KAAK,QAAQ+Y,aAAW,iBACzDpgC,IAAAuX,cAACw1B,KAAS,KACV/sC,IAAAuX,cAACy1B,KAAQ,KACLhtC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,SAASnpB,MAAO,CAAC7H,MAAO,OAAO,KAChDlc,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,QAAO,aACxBltC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,QAAO,mBACxBltC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,QAAO,cAG5BltC,IAAAuX,cAAC41B,KAAS,KACTrpB,EAAQzF,IAAKsyC,GACV3wD,IAAAuX,cAACy1B,KAAQ,CAACxzB,IAAKm3C,EAAItrD,IACfrF,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,SAASnpB,MAAO,CAAC7H,MAAO,OACrClc,IAAAuX,cAACsH,IAAU,CAAChB,QAASA,IAAMuiC,EAASuQ,GAAMvwB,aAAW,UACjDpgC,IAAAuX,cAACwH,KAAQ,QAGjB/e,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,QAAQyjB,EAAIpwD,OAAS,KACtCP,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,QAAQyjB,EAAItkC,aAAe,KAC5CrsB,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,QAAQyjB,EAAI8D,OAAS,UAS/C,SAASC,KACpB,MAAM53C,EAAUpB,MACV,KAAEkB,EAAI,KAAEhb,EAAI,OAAE6L,EAAM,OAAE+R,GAAWm1C,MAEhCzB,EAAmBC,GAAwBz8C,oBAAS,IACpDF,EAASC,GAAcC,oBAAS,IAChCoN,EAASsvC,GAAc18C,mBAAS,KAChCwvB,EAAQmsB,GAAa37C,mBAAS,CACjCnW,MAAO,GACP8rB,YAAa,GACbooC,MAAO,KAGX99C,oBAAU,MACNC,uBACUg+C,IAEVzxC,IAED,IAEH,MAAMyxC,EAAYh+C,UACdH,GAAW,GACX,IACI,MAAMo+C,QAAiBj4C,IACvBw2C,EAAWyB,GACb,MAAO7oC,GACLtY,IAAMH,MAAM,wDAEhBkD,GAAW,IAqCT88C,EAAeA,KACjBlB,EAAU,CACN9xD,MAAO,GACP8rB,YAAa,GACbooC,MAAO,MAaf,OACIz0D,IAAAuX,cAAC6uB,KAAK,CAAC9oB,UAAWR,EAAQkoB,UAAWsQ,UAAW,GAC5Ct1C,IAAAuX,cAACypB,KAAI,CAACvD,QAAS,EAAGwD,WAAS,GACvBjhC,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIF,MAAI,GACdlhC,IAAAuX,cAACg9C,GAAe,CACZrR,aAAchd,EACd8rB,SA3BWwB,KAC3BL,GAAqB,IA2BLxvB,SA1DC/sB,UACjBH,GAAW,GACX,SACoBtC,IAAZb,EAAKjO,SACCoI,EAAO6F,SAEP1R,EAAK0R,SAETshD,IACNrB,IACA7/C,IAAMjT,QAAQ,yCAChB,MAAOurB,GACLtY,IAAMH,MAAM,yJAEhBkD,GAAW,IA6CKwkC,SAAUsY,EACV/8C,QAASA,KAGjBxW,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIF,MAAI,GACdlhC,IAAAuX,cAACi9C,GAAgB,CACb1wC,QAASA,EACTs8B,SAxBE9sC,IAClB++C,EAAU,CACNhtD,GAAIiO,EAAKjO,GACT9E,MAAO+S,EAAK/S,OAAS,GACrB8rB,YAAa/Y,EAAK+Y,aAAe,GACjCooC,MAAOnhD,EAAKmhD,OAAS,UAuBrBz0D,IAAAuX,cAAC6S,GAAiB,CACd7pB,MAAM,0BACN8I,KAAM6pD,EACN7oC,QAASA,IAAM8oC,GAAqB,GACpC7oC,UAAWA,IAzDF1T,WACjBH,GAAW,GACX,UACU+I,EAAO0mB,EAAO7gC,UACduvD,IACNrB,IACA7/C,IAAMjT,QAAQ,yCAChB,MAAOurB,GACLtY,IAAMH,MAAM,oDAEhBkD,GAAW,IA+Ccg9C,IACpB,4CChQEqB,OA1BKA,KAoBT,CACTC,OAnBiBn+C,UACX,MAAM,KAAEtD,SAAegB,GAAI2D,QAAQ,CAC/BmH,IAAK,YACLC,OAAQ,MACRvK,WAEJ,OAAOxB,GAcP7F,OAXWmJ,UACX,MAAQtD,KAAMgM,SAAuBhL,GAAI2D,QAAQ,CAC7CmH,IAAI,aAAD3L,OAAeH,EAAKkG,KACvB6F,OAAQ,MACR/L,SAEJ,OAAOgM,KCCf,MAAM5D,GAAYC,YAAYvH,IAAK,CACjC6sB,UAAW,CACTjT,WAAY5Z,EAAMqpB,QAAQ,GAC1BxP,cAAe7Z,EAAMqpB,QAAQ,IAE/BuQ,iBAAkB,CAChB1gB,QAASlZ,EAAMqpB,QAAQ,GACvB5hB,QAAS,OACTmR,SAAU,OACVlR,cAAe,SACfU,OAAQ,KAEV66B,IAAK,CACH36B,gBAAiBtI,EAAMqhB,QAAQpmB,QAC/BsN,aAAc,EACdT,MAAO,OACP,oBAAqB,CACnB1U,MAAO4M,EAAMqhB,QAAQu/B,UAEvB,2BAA4B,CAC1BplC,eAAgB,WAKpB6Q,MAAO,CACLnT,QAASlZ,EAAMqpB,QAAQ,GACvB5hB,QAAS,OACTE,WAAY,SACZI,aAAc,GACdD,MAAO,QAET2vB,WAAY,CACVznB,SAAU,OACV5c,MAAO40B,KAAK,KACZ1f,gBAAiB,UACjBR,MAAO9H,EAAMqpB,QAAQ,GACrBjhB,OAAQpI,EAAMqpB,QAAQ,IAExBqO,UAAW,CACT1nB,SAAU,OACV5c,MAAOy0B,KAAK,MAEd8P,aAAc,CACZvkC,MAAO40B,KAAK,KACZhY,SAAU,QAEZ6pB,WAAY,CACV5pB,UAAW,SAEbyI,UAAW,CACT5Q,MAAO,QAETgyB,gBAAiB,CACfhyB,MAAO,OACPmI,UAAW,WAIA,SAAS4wC,GAAQr1C,GAC9B,MAAM,SAAE/U,EAAQ,oBAAEqqD,GAAwBt1C,EACpC9C,EAAUpB,MACTy5C,EAAYC,GAAiB1+C,mBAAS,aACtC2+C,EAAcC,GAAmB5+C,mBAAS,aAC1C6+C,EAAUC,GAAe9+C,mBAAS,YAClC++C,EAAaC,GAAkBh/C,mBAAS,KACxCi/C,EAAiBC,GAA0Bl/C,mBAAS,YAEpDm/C,EAAmBC,GAAwBp/C,oBAAS,IACpDq/C,EAAqBC,GAA0Bt/C,oBAAS,IACxDu/C,EAAiBC,GAAsBx/C,oBAAS,IAChDy/C,EAAoBC,GAAyB1/C,oBAAS,IACtD2/C,EAAwBC,GAAsB5/C,oBAAS,IAGvD6/C,EAAWC,GAAgB9/C,mBAAS,KACpC+/C,EAAkBC,GAAuBhgD,oBAAS,IAClDigD,EAAcC,GAAmBlgD,mBAAS,KAC1CmgD,EAAqBC,GAA0BpgD,oBAAS,IAExDqgD,EAAcC,GAAmBtgD,mBAAS,KAC1CugD,EAAqBC,GAA0BxgD,oBAAS,IACxDygD,EAAoBC,GAAyB1gD,mBAAS,KACtD2gD,EAA2BC,GAAgC5gD,oBAAS,IACpE6gD,EAAwBC,GAA8B9gD,mBAAS,KAC/D+gD,EAAgCC,GAAqChhD,oBAAS,IAE9EihD,EAAWC,GAAgBlhD,mBAAS,KACpCmhD,EAAkBC,GAAuBphD,oBAAS,IAIlDqhD,EAAsBC,GAA2BthD,mBAAS,aAC1DuhD,GAA6BC,IAAkCxhD,oBAAS,IAExEyhD,GAAsBC,IAA2B1hD,mBAAS,aAC1D2hD,GAA6BC,IAAkC5hD,oBAAS,IAEzE,OAAEjJ,IAAWqnD,KA2OnB,OAzOAn+C,oBAAU,KACR,GAAIigC,MAAMv9B,QAAQxO,IAAaA,EAAS4Y,OAAQ,CAC9C,MAAM0xC,EAAatqD,EAAS0O,KAAMxD,GAAgB,eAAVA,EAAEyD,KACtC27C,GACFC,EAAcD,EAAW19C,OAE3B,MAAM49C,EAAexqD,EAAS0O,KAAMxD,GAAgB,iBAAVA,EAAEyD,KACxC67C,GACFC,EAAgBD,EAAa59C,OAE/B,MAAM89C,EAAW1qD,EAAS0O,KAAMxD,GAAgB,SAAVA,EAAEyD,KACpC+7C,GACFC,EAAYD,EAAS99C,OAEvB,MAAMk+C,EAAkB9qD,EAAS0O,KAAMxD,GAAgB,oBAAVA,EAAEyD,KAC3Cm8C,GACFC,EAAuBD,EAAgBl+C,OAIzC,MAAMsgD,EAAuBltD,EAAS0O,KAAMxD,GAAgB,yBAAVA,EAAEyD,KAChDu+C,GACFC,EAAwBD,EAAqBtgD,OAKlD,MAAM0gD,EAAuBttD,EAAS0O,KAAMxD,GAAgB,wBAAVA,EAAEyD,KAC7C2+C,GACFC,GAAwBD,EAAqB1gD,OAI/C,MAAMg+C,EAAc5qD,EAAS0O,KAAMxD,GAAgB,gBAAVA,EAAEyD,KACvCi8C,GACFC,EAAeD,EAAYh+C,OAG7B,MAAM8+C,EAAY1rD,EAAS0O,KAAMxD,GAAgB,UAAVA,EAAEyD,KACrC+8C,GACFC,EAAaD,EAAU9+C,OAGzB,MAAMk/C,EAAe9rD,EAAS0O,KAAMxD,GAAgB,aAAVA,EAAEyD,KACxCm9C,GACFC,EAAgBD,EAAal/C,OAG/B,MAAMs/C,EAAelsD,EAAS0O,KAAMxD,GAAgB,aAAVA,EAAEyD,KACxCu9C,GACFC,EAAgBD,EAAat/C,OAG/B,MAAM0/C,EAAqBtsD,EAAS0O,KAAMxD,GAAgB,mBAAVA,EAAEyD,KAC9C29C,GACFC,EAAsBD,EAAmB1/C,OAG3C,MAAM8/C,EAAyB1sD,EAAS0O,KAAMxD,GAAgB,uBAAVA,EAAEyD,KAClD+9C,GACFC,EAA2BD,EAAuB9/C,OAGpD,MAAMkgD,EAAY9sD,EAAS0O,KAAMxD,GAAgB,UAAVA,EAAEyD,KACrCm+C,GACFC,EAAaD,EAAUlgD,SAI1B,CAAC5M,IAqKF7K,IAAAuX,cAAAvX,IAAAikB,SAAA,KACEjkB,IAAAuX,cAACypB,KAAI,CAACvD,QAAS,EAAGwD,WAAS,GAIzBjhC,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGC,GAAI,EAAG1O,MAAI,GAC9BlhC,IAAAuX,cAACwqB,KAAW,CAACzkB,UAAWR,EAAQoxB,iBAC9BluC,IAAAuX,cAACyqB,KAAU,CAAC38B,GAAG,iBAAgB,oBAC/BrF,IAAAuX,cAAC0qB,KAAM,CACLsC,QAAQ,gBACR9sB,MAAO09C,EACP33C,SAAU5G,WA9KtBA,eAAsCa,GACpC29C,EAAc39C,GACdq+C,GAAqB,SACfroD,GAAO,CACX+L,IAAK,aACL/B,UAEF/D,IAAMjT,QAAQ,0CACdq1D,GAAqB,GAuKTyC,CAAuBvsC,EAAEtO,OAAOjG,SAGlCzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,YAAY,iBAC7BzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,WAAW,gBAE9BzX,IAAAuX,cAACw4B,KAAc,KACZ8lB,GAAqB,oBAI5B71D,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGC,GAAI,EAAG1O,MAAI,GAC9BlhC,IAAAuX,cAACwqB,KAAW,CAACzkB,UAAWR,EAAQoxB,iBAC9BluC,IAAAuX,cAACyqB,KAAU,CAAC38B,GAAG,uBAAsB,+BAGrCrF,IAAAuX,cAAC0qB,KAAM,CACLsC,QAAQ,sBACR9sB,MAAO49C,EACP73C,SAAU5G,WAvLtBA,eAAkCa,GAChC69C,EAAgB79C,GAChBu+C,GAAuB,SACjBvoD,GAAO,CACX+L,IAAK,eACL/B,UAGF/D,IAAMjT,QAAQ,yCAAoC,CAChD0jB,SAAU,YACVtQ,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXG,MAAO,UAET4hD,GAAuB,GACY,oBAAxBd,GACTA,EAAoBz9C,GAqKV+gD,CAAmBxsC,EAAEtO,OAAOjG,SAG9BzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,YAAY,gBAC7BzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,SAAS,QAC1BzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,WAAW,YAE9BzX,IAAAuX,cAACw4B,KAAc,KACZgmB,GAAuB,oBAI9B/1D,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGC,GAAI,EAAG1O,MAAI,GAC9BlhC,IAAAuX,cAACwqB,KAAW,CAACzkB,UAAWR,EAAQoxB,iBAC9BluC,IAAAuX,cAACyqB,KAAU,CAAC38B,GAAG,oBAAmB,+BAGlCrF,IAAAuX,cAAC0qB,KAAM,CACLsC,QAAQ,mBACR9sB,MAAOk+C,EACPn4C,SAAU5G,WA/JtBA,eAA+Ba,GAC7Bm+C,EAAuBn+C,GACvB6+C,GAAmB,SACb7oD,GAAO,CACX+L,IAAK,kBACL/B,UAEF/D,IAAMjT,QAAQ,0CACdm1D,GAAuB,GAwJX6C,CAAgBzsC,EAAEtO,OAAOjG,SAG3BzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,YAAY,cAC7BzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,WAAW,YAE9BzX,IAAAuX,cAACw4B,KAAc,KACZgmB,GAAuB,oBAI9B/1D,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGC,GAAI,EAAG1O,MAAI,GAC9BlhC,IAAAuX,cAACwqB,KAAW,CAACzkB,UAAWR,EAAQoxB,iBAC9BluC,IAAAuX,cAACyqB,KAAU,CAAC38B,GAAG,mBAAkB,mBAGjCrF,IAAAuX,cAAC0qB,KAAM,CACLsC,QAAQ,kBACR9sB,MAAO89C,EACP/3C,SAAU5G,WAzMtBA,eAA8Ba,GAC5B+9C,EAAY/9C,GACZy+C,GAAmB,SACbzoD,GAAO,CACX+L,IAAK,OACL/B,UAEF/D,IAAMjT,QAAQ,0CACdy1D,GAAmB,GAkMPwC,CAAe1sC,EAAEtO,OAAOjG,SAG1BzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,YAAY,kBAC7BzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,WAAW,YAE9BzX,IAAAuX,cAACw4B,KAAc,KACZkmB,GAAmB,oBAI1Bj2D,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGC,GAAI,EAAG1O,MAAI,GAC9BlhC,IAAAuX,cAACwqB,KAAW,CAACzkB,UAAWR,EAAQoxB,iBAC9BluC,IAAAuX,cAACyqB,KAAU,CAAC38B,GAAG,sBAAqB,gBAGpCrF,IAAAuX,cAAC0qB,KAAM,CACLsC,QAAQ,qBACR9sB,MAAOg+C,EACPj4C,SAAU5G,WAlNtBA,eAAiCa,GAC/Bi+C,EAAej+C,GACf2+C,GAAsB,SAChB3oD,GAAO,CACX+L,IAAK,cACL/B,UAEF/D,IAAMjT,QAAQ,0CACd21D,GAAsB,GA2MVuC,CAAkB3sC,EAAEtO,OAAOjG,SAG7BzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,QAAQ,UAI3BzX,IAAAuX,cAACw4B,KAAc,KACZomB,GAAsB,oBAK7Bn2D,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGC,GAAI,EAAG1O,MAAI,GAC9BlhC,IAAAuX,cAACwqB,KAAW,CAACzkB,UAAWR,EAAQoxB,iBAC9BluC,IAAAuX,cAACyqB,KAAU,CAAC38B,GAAG,8BAA6B,6CAC5CrF,IAAAuX,cAAC0qB,KAAM,CACLsC,QAAQ,6BACR9sB,MAAOsgD,EACPv6C,SAAU5G,WA5MtBA,eAA0Ca,GACxCugD,EAAwBvgD,GACxBygD,IAA+B,SACzBzqD,GAAO,CACX+L,IAAK,uBACL/B,UAEL/D,IAAMjT,QAAQ,0CACXy3D,IAA+B,GAqMnBU,CAA2B5sC,EAAEtO,OAAOjG,SAGtCzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,YAAY,gBAC7BzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,WAAW,eAE9BzX,IAAAuX,cAACw4B,KAAc,KACZkoB,IAA+B,oBAOtCj4D,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGC,GAAI,EAAG1O,MAAI,GAC9BlhC,IAAAuX,cAACwqB,KAAW,CAACzkB,UAAWR,EAAQoxB,iBAC9BluC,IAAAuX,cAACyqB,KAAU,CAAC38B,GAAG,6BAA4B,mDAC3CrF,IAAAuX,cAAC0qB,KAAM,CACLsC,QAAQ,4BACR9sB,MAAO0gD,GACP36C,SAAU5G,WAnNtBA,eAA0Ca,GACxC2gD,GAAwB3gD,GACxB6gD,IAA+B,SACzB7qD,GAAO,CACX+L,IAAK,sBACL/B,UAGF/D,IAAMjT,QAAQ,0CACd63D,IAA+B,GA2MnBO,CAA2B7sC,EAAEtO,OAAOjG,SAGtCzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,YAAY,gBAC7BzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,WAAW,eAE9BzX,IAAAuX,cAACw4B,KAAc,KACZsoB,IAA+B,qBAMxCr4D,IAAAuX,cAACypB,KAAI,CAACvD,QAAS,EAAGwD,WAAS,GACzBjhC,IAAAuX,cAACiiC,KAAI,CACHE,eAAe,UACfC,UAAU,UACVmf,cAAc,KACdn7C,QAAQ,aACRL,UAAWR,EAAQu6B,IACnBtzB,MAAO,CACL5H,aAAc,GACdM,UAAW,KAGbzc,IAAAuX,cAACqiC,KAAG,CAEFptC,MAAM,wBAMZxM,IAAAuX,cAACypB,KAAI,CAACvD,QAAS,EAAGwD,WAAS,EACzBld,MAAO,CAAE5H,aAAc,KACvBnc,IAAAuX,cAACiiC,KAAI,CACHE,eAAe,UACfC,UAAU,UACVmf,cAAc,KACdn7C,QAAQ,aACRL,UAAWR,EAAQu6B,KAEnBr3C,IAAAuX,cAACqiC,KAAG,CAEFptC,MAAM,SAGVxM,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGC,GAAI,EAAG1O,MAAI,GAC9BlhC,IAAAuX,cAACwqB,KAAW,CAACzkB,UAAWR,EAAQoxB,iBAC9BluC,IAAAuX,cAACgG,KAAS,CACRlY,GAAG,QACHzE,KAAK,QACLob,OAAO,QACPxP,MAAM,YACNmR,QAAQ,WACRlG,MAAO8+C,EACP/4C,SAAU5G,WAhQtBA,eAAiCa,GAC/B++C,EAAa/+C,GACbi/C,GAAoB,SACdjpD,GAAO,CACX+L,IAAK,QACL/B,UAEF/D,IAAMjT,QAAQ,0CACdi2D,GAAoB,GAyPRqC,CAAkB/sC,EAAEtO,OAAOjG,UAI/BzX,IAAAuX,cAACw4B,KAAc,KACZ0mB,GAAoB,oBAI3Bz2D,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGC,GAAI,EAAG1O,MAAI,GAC9BlhC,IAAAuX,cAACwqB,KAAW,CAACzkB,UAAWR,EAAQoxB,iBAC9BluC,IAAAuX,cAACgG,KAAS,CACRlY,GAAG,WACHzE,KAAK,WACLob,OAAO,QACPxP,MAAM,eACNmR,QAAQ,WACRlG,MAAOk/C,EACPn5C,SAAU5G,WAxQtBA,eAAoCa,GAClCm/C,EAAgBn/C,GAChBq/C,GAAuB,SACjBrpD,GAAO,CACX+L,IAAK,WACL/B,UAEF/D,IAAMjT,QAAQ,0CACdq2D,GAAuB,GAiQXkC,CAAqBhtC,EAAEtO,OAAOjG,UAIlCzX,IAAAuX,cAACw4B,KAAc,KACZ8mB,GAAuB,qBAMhC72D,IAAAuX,cAACypB,KAAI,CAACvD,QAAS,EAAGwD,WAAS,EACzBld,MAAO,CAAE5H,aAAc,KACvBnc,IAAAuX,cAACiiC,KAAI,CACHE,eAAe,UACfC,UAAU,UACVmf,cAAc,KACdn7C,QAAQ,aACRL,UAAWR,EAAQu6B,KAEnBr3C,IAAAuX,cAACqiC,KAAG,CAACptC,MAAM,aAGbxM,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,GAAIC,GAAI,EAAG1O,MAAI,GAC/BlhC,IAAAuX,cAACwqB,KAAW,CAACzkB,UAAWR,EAAQoxB,iBAC9BluC,IAAAuX,cAACgG,KAAS,CACRlY,GAAG,WACHzE,KAAK,WACLob,OAAO,QACPxP,MAAM,aACNmR,QAAQ,WACRlG,MAAOs/C,EACPv5C,SAAU5G,WA9RtBA,eAAoCa,GAClCu/C,EAAgBv/C,GAChBy/C,GAAuB,SACjBzpD,GAAO,CACX+L,IAAK,WACL/B,UAEF/D,IAAMjT,QAAQ,0CACdy2D,GAAuB,GAuRX+B,CAAqBjtC,EAAEtO,OAAOjG,UAIlCzX,IAAAuX,cAACw4B,KAAc,KACZknB,GAAuB,oBAI9Bj3D,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,GAAIC,GAAI,EAAG1O,MAAI,GAC/BlhC,IAAAuX,cAACwqB,KAAW,CAACzkB,UAAWR,EAAQoxB,iBAC9BluC,IAAAuX,cAACgG,KAAS,CACRlY,GAAG,iBACHzE,KAAK,iBACLob,OAAO,QACPxP,MAAM,YACNmR,QAAQ,WACRlG,MAAO0/C,EACP35C,SAAU5G,WAtStBA,eAA0Ca,GACxC2/C,EAAsB3/C,GACtB6/C,GAA6B,SACvB7pD,GAAO,CACX+L,IAAK,iBACL/B,UAEF/D,IAAMjT,QAAQ,0CACd62D,GAA6B,GA+RjB4B,CAA2BltC,EAAEtO,OAAOjG,UAIxCzX,IAAAuX,cAACw4B,KAAc,KACZsnB,GAA6B,oBAIpCr3D,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,GAAIC,GAAI,EAAG1O,MAAI,GAC/BlhC,IAAAuX,cAACwqB,KAAW,CAACzkB,UAAWR,EAAQoxB,iBAC9BluC,IAAAuX,cAACgG,KAAS,CACRlY,GAAG,qBACHzE,KAAK,qBACLob,OAAO,QACPxP,MAAM,gBACNmR,QAAQ,WACRlG,MAAO8/C,EACP/5C,SAAU5G,WA9StBA,eAA+Ca,GAC7C+/C,EAA2B//C,GAC3BigD,GAAkC,SAC5BjqD,GAAO,CACX+L,IAAK,qBACL/B,UAEF/D,IAAMjT,QAAQ,0CACdi3D,GAAkC,GAuStByB,CAAgCntC,EAAEtO,OAAOjG,UAI7CzX,IAAAuX,cAACw4B,KAAc,KACZ0nB,GAAkC,qBAM3Cz3D,IAAAuX,cAACypB,KAAI,CAACvD,QAAS,EAAGwD,WAAS,EACzBld,MAAO,CAAE5H,aAAc,KACvBnc,IAAAuX,cAACiiC,KAAI,CACHE,eAAe,UACfC,UAAU,UACVmf,cAAc,KACdn7C,QAAQ,aACRL,UAAWR,EAAQu6B,KAEnBr3C,IAAAuX,cAACqiC,KAAG,CAACptC,MAAM,WAGbxM,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,GAAIC,GAAI,GAAI1O,MAAI,GAChClhC,IAAAuX,cAACwqB,KAAW,CAACzkB,UAAWR,EAAQoxB,iBAC9BluC,IAAAuX,cAACgG,KAAS,CACRlY,GAAG,QACHzE,KAAK,QACLob,OAAO,QACPxP,MAAM,cACNmR,QAAQ,WACRlG,MAAOkgD,EACPn6C,SAAU5G,WApUtBA,eAAiCa,GAC/BmgD,EAAangD,GACbqgD,GAAoB,SACdrqD,GAAO,CACX+L,IAAK,QACL/B,UAEF/D,IAAMjT,QAAQ,0CACdq3D,GAAoB,GA6TRsB,CAAkBptC,EAAEtO,OAAOjG,UAI/BzX,IAAAuX,cAACw4B,KAAc,KACZ8nB,GAAoB,sBCjqBnC,MAAMwB,GAAmBhiD,IAAA,IAAC,KAAE/L,EAAI,IAAEzJ,EAAG,GAAEC,GAAIuV,EAAA,OAAK/L,EAAK0a,MAAQnkB,IAAQC,KAErEu3D,GAAiB59C,aAAe,CAC5BnQ,KAAM,GACTzJ,IAAKA,IAAM,KACXC,GAAIA,IAAM,MAGIu3D,UCef,MAAM39C,GAAYC,YAAYvH,IAAK,CACjCwH,KAAM,CACJ0S,KAAM,EACN5R,gBAAiBtI,EAAMqhB,QAAQ0C,WAAWsI,OAE5CuE,UAAW,IACN5wB,EAAMmZ,gBACTvJ,UAAW,SACXsK,KAAM,GAER+oB,IAAK,CACH36B,gBAAiBtI,EAAMqhB,QAAQpmB,QAC/BsN,aAAc,GAEhB8jB,MAAO,IACFrsB,EAAMmZ,gBACTvJ,UAAW,SACXsJ,QAASlZ,EAAMqpB,QAAQ,GACvB5hB,QAAS,OACTE,WAAY,SACZG,MAAO,QAET+kB,UAAW,CACT/kB,MAAO,OACPqhB,UAAW,QAEb8c,QAAS,CACP/sB,QAASlZ,EAAMqpB,QAAQ,IAEzBizB,UAAW,CACTx0C,MAAO,WAqLIo9C,OAjLQA,KACrB,MAAMx8C,EAAUpB,MACT27B,EAAKgB,GAAU3hC,mBAAS,YACxBnV,EAAWwvD,GAAgBr6C,mBAAS,KACpCzJ,EAASssD,GAAc7iD,mBAAS,KAChCF,EAASC,GAAcC,oBAAS,IAChC8iD,EAAaC,GAAkB/iD,mBAAS,KACxC7L,EAAU6uD,GAAehjD,mBAAS,KAClCijD,EAAkBC,GAAuBljD,oBAAS,IAEnD,mBAAE+D,GAAuB/C,MACzB,KAAE6B,EAAI,gBAAEw0B,GAAoBH,MAC1BmnB,OAAQ8E,GAAmB/E,KAEnCn+C,oBAAU,MACRC,iBACEH,GAAW,GACX,IACE,MAAMM,EAAY/B,aAAaC,QAAQ,aACjChI,QAAgBsM,EAAKxC,GACrB+iD,QAAoBD,IAK1B,GAJAN,EAAWtsD,GACX8jD,EAAa9jD,EAAQ1L,WACrBm4D,EAAYI,GAERljB,MAAMv9B,QAAQygD,GAAc,CAC9B,MAAMzE,EAAeyE,EAAYvgD,KAC9B6a,GAAgB,iBAAVA,EAAE5a,KAEP67C,GACFuE,EAA2C,YAAvBvE,EAAa59C,OAIrC,MAAMnM,QAAamP,IACnBg/C,EAAenuD,GACf,MAAO0gB,GACPtY,IAAMH,MAAMyY,GAEdvV,GAAW,GAEbsjD,IAEC,IAEH,MA6CMC,EAAUA,IACPR,EAAYxzC,MAGrB,OACEhmB,IAAAuX,cAACw1C,GAAa,CAACzvC,UAAWR,EAAQlB,MAChC5b,IAAAuX,cAAC01C,GAAU,KACTjtD,IAAAuX,cAAC+yB,GAAK,KAAE/3B,KAAKoB,EAAE,oBAEjB3T,IAAAuX,cAAC6uB,KAAK,CAAC9oB,UAAWR,EAAQkoB,UAAWsQ,UAAW,GAC9Ct1C,IAAAuX,cAACiiC,KAAI,CACH/hC,MAAO4/B,EACPqC,eAAe,UACfC,UAAU,UACVmf,cAAc,KACdn7C,QAAQ,aACRH,SA7DgBy8C,CAACx8C,EAAOy2B,MAC5Bt9B,iBACEH,GAAW,GACX,IACE,MAAMM,EAAY/B,aAAaC,QAAQ,aACjChI,QAAgBsM,EAAKxC,GACrB+iD,QAAoBD,IAK1B,GAJAN,EAAWtsD,GACX8jD,EAAa9jD,EAAQ1L,WACrBm4D,EAAYI,GAERljB,MAAMv9B,QAAQygD,GAAc,CAC9B,MAAMzE,EAAeyE,EAAYvgD,KAC9B6a,GAAgB,iBAAVA,EAAE5a,KAEP67C,GACFuE,EAA2C,YAAvBvE,EAAa59C,OAIrC,MAAMnM,QAAamP,IACnBg/C,EAAenuD,GACf,MAAO0gB,GACPtY,IAAMH,MAAMyY,GAEdvV,GAAW,GAEbsjD,GAGF1hB,EAAOnE,IAgCD52B,UAAWR,EAAQu6B,KAEnBr3C,IAAAuX,cAACqiC,KAAG,CAACptC,MAAM,eAASiL,MAAO,YAC1BkiD,GAAoB35D,IAAAuX,cAACqiC,KAAG,CAACptC,MAAM,cAAWiL,MAAO,cACjDuiD,IAAYh6D,IAAAuX,cAACqiC,KAAG,CAACptC,MAAM,WAAWiL,MAAO,cAAkB,KAC3DuiD,IAAYh6D,IAAAuX,cAACqiC,KAAG,CAACptC,MAAM,SAASiL,MAAO,UAAc,KACrDuiD,IAAYh6D,IAAAuX,cAACqiC,KAAG,CAACptC,MAAM,QAAQiL,MAAO,UAAc,MAEvDzX,IAAAuX,cAAC6uB,KAAK,CAAC9oB,UAAWR,EAAQ2jB,MAAO6U,UAAW,GAC1Ct1C,IAAAuX,cAACi+B,GAAQ,CACPl4B,UAAWR,EAAQmkB,UACnBxpB,MAAO4/B,EACPz2C,KAAM,aAENZ,IAAAuX,cAACs5C,GAAa,CACZr6C,QAASA,EACTmtB,SA7CkB/sB,UAC5BH,GAAW,GACX,IACEs6C,EAAaz9C,SACPy6B,EAAgB,CAAE1oC,GAAI4H,EAAQ5H,GAAI9D,UAAW+R,IACnDI,IAAMjT,QAAQ,wCACd,MAAOurB,GACPtY,IAAMH,MAAMyY,GAEdvV,GAAW,IAqCD+sB,cAAejiC,KAGnBvB,IAAAuX,cAAC8hD,GAAgB,CACf/tD,KAAMkuD,EACN33D,IAAKA,IACH7B,IAAAuX,cAACi+B,GAAQ,CACPl4B,UAAWR,EAAQmkB,UACnBxpB,MAAO4/B,EACPz2C,KAAM,aAENZ,IAAAuX,cAAC07C,GAAgB,SAIvBjzD,IAAAuX,cAAC8hD,GAAgB,CACf/tD,KAAMkuD,EACN33D,IAAKA,IACH7B,IAAAuX,cAACi+B,GAAQ,CACPl4B,UAAWR,EAAQmkB,UACnBxpB,MAAO4/B,EACPz2C,KAAM,SAENZ,IAAAuX,cAAC68C,GAAY,SAInBp0D,IAAAuX,cAAC8hD,GAAgB,CACf/tD,KAAMkuD,EACN33D,IAAKA,IACH7B,IAAAuX,cAACi+B,GAAQ,CACPl4B,UAAWR,EAAQmkB,UACnBxpB,MAAO4/B,EACPz2C,KAAM,SAENZ,IAAAuX,cAACm9C,GAAY,SAInB10D,IAAAuX,cAACi+B,GAAQ,CAACl4B,UAAWR,EAAQmkB,UAAWxpB,MAAO4/B,EAAKz2C,KAAM,WACxDZ,IAAAuX,cAAC09C,GAAO,CACNpqD,SAAUA,EACVqqD,oBAAsBz9C,GACpBmiD,EAA8B,YAAVniD,U,iCC3NrB,SAASyiD,GAAWt6C,GACjC,MAAM,UAAEu6C,KAAchzC,GAASvH,GACxB2xC,EAAO6I,GAAQC,aAASz6C,GAS/B,OACE5f,IAAAuX,cAACgG,KAAS8C,OAAAC,OAAA,CACRhb,KAAK,OACLiO,MAAO6mD,EAAKr2B,SAAWq2B,EAAK7mD,QAAS,EACrC+wB,WAXJ,WACE,MAAOP,EAASxwB,GAAS+mD,cAAGF,EAAM,UAAW,SAC7C,GAAIr2B,GAAWxwB,EACb,OAAOA,EAQKgnD,IACRhJ,EACApqC,ICVV,SAASqzC,GAAY56C,GACnB,MAAM,MAAEpT,EAAK,KAAE8G,KAAS6T,GAASvH,GAC1B2xC,EAAO6I,GAAQC,aAASz6C,IACvBnI,MAAOgjD,GAAkBlJ,GAC1BxtB,EAASxwB,GAAS+mD,cAAGF,EAAM,UAAW,SACvCM,EAAU32B,GAAWxwB,IAAS,EAOpC,OACEvT,IAAAuX,cAACwqB,KAAW1hB,OAAAC,OAAA,GAAK6G,EAAI,CAAE5T,MAAOmnD,IAC5B16D,IAAAuX,cAACyqB,KAAU,KAAEx1B,GACbxM,IAAAuX,cAAC0qB,KAAM5hB,OAAAC,OAAA,GAAKixC,EAAK,CAAE95C,MAAOgjD,GAAgC,KACvDnnD,EAAK+K,IAAI,CAAC6iB,EAAM5iB,IACfte,IAAAuX,cAACwU,IAAQ,CAACvS,IAAK8E,EAAO7G,MAAOypB,EAAKzpB,OAC/BypB,EAAK10B,SAZhB,WACE,GAAIkuD,EACF,OAAO16D,IAAAuX,cAACw4B,KAAc,KAAEx8B,GAcvBgnD,IAKPC,GAAY/+C,aAAe,CACzBnI,KAAM,IAOOknD,U,qBC1Cf,MAAMG,GAAY,CAChB,CACEljD,MAAO,KACPjL,MAAO,UAET,CACEiL,MAAO,MACPjL,MAAO,kBAII,SAASouD,GAAYh7C,GAElC,MAAM,KAAEtU,GAAS6V,qBAAWzG,KACrBmgD,EAAaC,GAAkBpkD,mBAASpL,EAAK2B,QAAQ4tD,cACrDE,EAAgBC,GAAqBtkD,mBAASpL,EAAK2B,QAAQ8tD,iBAC3DE,EAAeC,GAAoBxkD,mBAASpL,EAAK2B,QAAQguD,gBACzDE,EAAcC,GAAmB1kD,mBAASpL,EAAK2B,QAAQkuD,eACvDE,EAAaC,GAAkB5kD,mBAASpL,EAAK2B,QAAQouD,cACrDE,EAAiBC,GAAsB9kD,mBAASpL,EAAK2B,QAAQsuD,kBAGlEE,WAAW,UACTC,EAAS,SACTC,EAAQ,KACRC,EAAI,MACJnmD,EAAK,QACLomD,EAAO,QACPC,GACD,cACDxU,GACE1nC,EAWJ,OAVAjJ,oBAAU,KACR2wC,EAAc,YAAauT,GAC3BvT,EAAc,UAAWyT,GACzBzT,EAAc,WAAY2T,GAC1B3T,EAAc,QAAS6T,GACvB7T,EAAc,OAAQ+T,GACtB/T,EAAc,UAAWiU,IAExB,IAGDv7D,IAAAuX,cAACvX,IAAMikB,SAAQ,KACbjkB,IAAAuX,cAACqT,IAAU,CAACjN,QAAQ,KAAKgP,cAAY,GAAC,+CAGtC3sB,IAAAuX,cAACypB,KAAI,CAACC,WAAS,EAACxD,QAAS,GAEvBz9B,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,EAAGuO,GAAI,GACpB3vC,IAAAuX,cAAC2iD,GAAU,CAACt5D,KAAM86D,EAAU96D,KAAM4L,MAAOkvD,EAAUlvD,MAAOsgB,WAAS,EACjErV,MAAOojD,EACPr9C,SAAWwO,IACT8uC,EAAe9uC,EAAEtO,OAAOjG,OACxB6vC,EAAc,YAAat7B,EAAEtO,OAAOjG,WAI1CzX,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,EAAGuO,GAAI,GACpB3vC,IAAAuX,cAACijD,GAAW,CACV55D,KAAMk7D,EAAQl7D,KACd4L,MAAOsvD,EAAQtvD,MACf8G,KAAMqnD,GACN7tC,WAAS,EACTrV,MAAO8jD,EACP/9C,SAAWwO,IACTwvC,EAAmBxvC,EAAEtO,OAAOjG,OAC5B6vC,EAAc,UAAWt7B,EAAEtO,OAAOjG,WAMxCzX,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GACbphC,IAAAuX,cAAC2iD,GAAU,CACTt5D,KAAMi7D,EAAQj7D,KACd4L,MAAOqvD,EAAQrvD,MACfsgB,WAAS,EACTrV,MAAOsjD,EACPv9C,SAAWwO,IACTgvC,EAAkBhvC,EAAEtO,OAAOjG,OAC3B6vC,EAAc,UAAWt7B,EAAEtO,OAAOjG,WAIxCzX,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GACbphC,IAAAuX,cAAC2iD,GAAU,CACTt5D,KAAM+6D,EAAS/6D,KACf4L,MAAOmvD,EAASnvD,MAChBsgB,WAAS,EACTrV,MAAOwjD,EACPz9C,SAAWwO,IACTkvC,EAAiBlvC,EAAEtO,OAAOjG,OAC1B6vC,EAAc,WAAYt7B,EAAEtO,OAAOjG,WAMzCzX,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GACbphC,IAAAuX,cAAC2iD,GAAU,CACTt5D,KAAM6U,EAAM7U,KACZ4L,MAAOiJ,EAAMjJ,MACbsgB,WAAS,EACTrV,MAAO0jD,EACP39C,SAAWwO,IACTovC,EAAgBpvC,EAAEtO,OAAOjG,OACzB6vC,EAAc,QAASt7B,EAAEtO,OAAOjG,WAKtCzX,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GACbphC,IAAAuX,cAAC2iD,GAAU,CACTt5D,KAAMg7D,EAAKh7D,KACX4L,MAAOovD,EAAKpvD,MACZsgB,WAAS,EACTrV,MAAO4jD,EACP79C,SAAWwO,IACTsvC,EAAetvC,EAAEtO,OAAOjG,OACxB6vC,EAAc,OAAQt7B,EAAEtO,OAAOjG,a,+CC3G7C,MAAMiE,GAAYC,YAAYvH,IAAK,CACjC,UAAW,CACT2nD,GAAI,CACF//C,OAAQ,EACRsR,QAAS,EACT0uC,UAAW,SAGfhgD,OAAQ,CACNA,OAAQ5H,EAAMqpB,QAAQ,IAIxBw+B,WAAY,CACVv/C,gBACyB,UAAvBtI,EAAMqhB,QAAQnwB,KAAmB8O,EAAMqhB,QAAQ2G,KAAK,KAAOhoB,EAAMqhB,QAAQ2G,KAAK,MAElF8/B,YAAa,CACXrgD,QAAS,OACT+T,eAAgB,SAChB7T,WAAY,WACZI,aAAc/H,EAAMqpB,QAAQ,IAE9B0+B,OAAQ,CACNvnB,UAAU,aAADnhC,OAAeW,EAAMqhB,QAAQ2mC,SACtC3/C,UAAWrI,EAAMqpB,QAAQ,GACzBzP,WAAY5Z,EAAMqpB,QAAQ,GAC1BxP,cAAe7Z,EAAMqpB,QAAQ,GAC7B,CAACrpB,EAAMuhB,YAAYoS,GAAG,OAAQ,CAC5B/Z,WAAY5Z,EAAMqpB,QAAQ,GAC1BxP,cAAe7Z,EAAMqpB,QAAQ,KAIjC4+B,WAAY,CACVxgD,QAAS,OACTY,UAAW,OACXV,WAAY,SACZD,cAAe,UAEjBwgD,OAAQ,CACNzgD,QAAS,OACTE,WAAY,SACZ6T,eAAgB,oBAKL,SAAS2sC,GAAQ38C,GAC9B,MAAM,cACJ0nC,EAAa,cACbkV,EAAa,WACbC,GACE78C,GAkCE,KAAEhD,EAAI,OAAE2C,GAAWL,MACnB,KAAE3F,GAASq0B,KAEX9wB,EAAUpB,MACTghD,EAAYC,GAAiB38D,IAAM0W,SAAS,IAC5CkmD,EAAgBC,GAAqBnmD,mBAAS,IAC9ComD,EAAkBC,GAAuB/8D,IAAM0W,SAAS,IACxDsmD,EAAcC,GAAmBj9D,IAAM0W,SAAS,KAChDwmD,EAAkBC,GAAuBn9D,IAAM0W,SAAS,KACxDF,EAASC,GAAczW,IAAM0W,UAAS,GACvCK,EAAY/B,aAAaC,QAAQ,aAEvC0B,oBAAU,MACRC,uBACQ24B,IAERpsB,IACC,IAEH,MAAMosB,EAAgB34B,UACpBH,GAAW,GACX,IACE,MAAM+4B,QAAsBj2B,EAAKxC,GACjC8lD,EAAkBrtB,EAAc8b,cAC1B+H,EAAU7jB,EAAc8b,QAC9B,MAAOt/B,GACPgT,QAAQC,IAAIjT,GAGdvV,GAAW,IAEP48C,EAAYz8C,UAChBH,GAAW,GACX,IACE,MAAM2mD,QAAuB79C,EAAOq9C,GAC9Bz7D,EAAQ,GAGdA,EAAMoZ,KAAK,CACTha,MAAO68D,EAAex8D,KACtB0qD,OAAQ8R,EAAe/3D,GACvBg4D,MAAOD,EAAe3lD,MACtB4U,YAAa,CAAC,GAAD5Y,OACR2pD,EAAeh8D,MAAK,mBAAAqS,OACpB2pD,EAAe/7D,YAAW,kBAAAoS,OAC1B2pD,EAAe1yD,OAAM,WAE1BtJ,MAAOg8D,EAAeh8D,MACtBC,YAAa+7D,EAAe/7D,YAC5BqJ,OAAQ0yD,EAAe1yD,OACvB4yD,WAAY,aACZC,cAAe,aAKjBN,EAAgB97D,GAChB,MAAO6qB,GACPgT,QAAQC,IAAIjT,GAGdvV,GAAW,IAIP+mD,EAAQR,EACd,OACEh9D,IAAAuX,cAACvX,IAAMikB,SAAQ,KACbjkB,IAAAuX,cAACypB,KAAI,CAACC,WAAS,EAACxD,QAAS,GACtB+/B,EAAMn/C,IAAKo/C,GAEVz9D,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAAC1nB,IAAKikD,EAAKl9D,MAAO6gC,GAAI,GAAIuO,IAAI8tB,EAAKl9D,MAAyB,IAASqvC,GAAI,IACjF5vC,IAAAuX,cAACud,KAAI,KACH90B,IAAAuX,cAACyd,KAAU,CACTz0B,MAAOk9D,EAAKl9D,MACZi1B,UAAWioC,EAAKjoC,UAChBP,qBAAsB,CAAEiY,MAAO,UAC/B/X,yBAA0B,CAAE+X,MAAO,UACnCx3B,OAAuB,QAAf+nD,EAAKl9D,MAAkBP,IAAAuX,cAACmmD,KAAQ,MAAM,KAC9CpgD,UAAWR,EAAQm/C,aAErBj8D,IAAAuX,cAAComD,KAAW,KACV39D,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQo/C,aACtBl8D,IAAAuX,cAACqT,IAAU,CAACnK,UAAU,KAAK9C,QAAQ,KAAKnW,MAAM,eAG1CxH,IAAAuX,cAACvX,IAAMikB,SAAQ,KAAC,KACXw5C,EAAKJ,MAAM1+C,eAAe,QAAS,CAAEi1C,sBAAuB,MAIrE5zD,IAAAuX,cAACqT,IAAU,CAACjN,QAAQ,KAAKnW,MAAM,iBAAgB,YAIjDxH,IAAAuX,cAAA,UACGkmD,EAAKpxC,YAAYhO,IAAKu/C,GACrB59D,IAAAuX,cAACqT,IAAU,CAACnK,UAAU,KAAK9C,QAAQ,YAAYuvB,MAAM,SAAS1zB,IAAKokD,GAChEA,MAKT59D,IAAAuX,cAACsmD,KAAW,KACV79D,IAAAuX,cAACqG,KAAM,CACLkP,WAAS,EACTnP,QAAS8/C,EAAKF,cACd/1D,MAAM,UACNqW,QAASA,KACH4/C,EAAKnB,OACPhV,EAAc,OAAQlvC,KAAKU,UAAU,CACnC1X,MAAOs7D,EACPr7D,YAAay7D,EACbO,MAAOH,KAGT5V,EAAc,OAAQlvC,KAAKU,UAAU2kD,IAEvCjB,EAAcC,EAAa,KAI5BgB,EAAKH,kBClOT3hD,mBAAWvH,IAAK,CAC7B0pD,SAAU,CACRxwC,QAASlZ,EAAMqpB,QAAQ,EAAG,IAE5Bka,MAAO,CACL7oB,WAAY,OAEdvuB,MAAO,CACLkc,UAAWrI,EAAMqpB,QAAQ,OCedsgC,OApBf,SAAwBn+C,GACtB,MAAM,WAAEo+C,GAAep+C,EACjB9C,EAAUpB,MACV,KAAEzZ,GAAS+7D,EAEXC,EAAU7lD,KAAKC,MAAMpW,IACrB,MAAEb,EAAK,YAAEC,EAAW,MAAEg8D,GAAUY,EACtC,OACEj+D,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAIuO,GAAI,IACrB3vC,IAAAuX,cAACqT,IAAU,CAACjN,QAAQ,KAAKgP,cAAY,EAACrP,UAAWR,EAAQvc,OAAO,qBAGhEP,IAAAuX,cAACqT,IAAU,CAAC+B,cAAY,GAAC,gBAAWvrB,GACpCpB,IAAAuX,cAACqT,IAAU,CAAC+B,cAAY,GAAC,cAAYtrB,GACrCrB,IAAAuX,cAACqT,IAAU,CAAC+B,cAAY,GAAC,uBACzB3sB,IAAAuX,cAACqT,IAAU,CAAC+B,cAAY,GAAC,YAAU0wC,EAAM1+C,eAAe,QAAS,CAACi1C,sBAAuB,OClBhFsK,I,YAAAA,GCKA,WACb,MAAQt6B,OAAQo6B,GAAeG,eAC/B,OACEn+D,IAAAuX,cAACvX,IAAMikB,SAAQ,KACbjkB,IAAAuX,cAACqT,IAAU,CAACjN,QAAQ,KAAKgP,cAAY,GAAC,wBAGtC3sB,IAAAuX,cAACypB,KAAI,CAACC,WAAS,EAACxD,QAAS,GACvBz9B,IAAAuX,cAAC6mD,GAAe,CAACJ,WAAYA,O,yCCZZxT,WAAO6T,IAAGC,QAAAC,aAAA,2fAA5B,MA4BMC,GAAQhU,WAAO6T,IAAGI,QAAAF,aAAA,oSAqBlBG,GAAiBlU,WAAO6T,IAAGM,QAAAJ,aAAA,64BAqDT/T,WAAO6T,IAAGO,QAAAL,aAAA,4Q,wBChC1BM,ICvEAA,GDSf,SAAyBj/C,GAEvB,MAAM,IAAEk/C,GAAQl/C,GACTm/C,GAAcroD,mBAASooD,EAAI97D,OAAOA,SAClCg8D,EAAQC,GAAavoD,oBAAS,GAC/BiB,EAAUC,wBAEV,aAAE4uB,GAAiBD,KAuBzB,OArBA5vB,oBAAU,KACR,MAAMI,EAAY/B,aAAaC,QAAQ,aACxBJ,GAAiB,CAAEkC,cAC3BE,GAAG,WAADxD,OAAYsD,EAAS,YAAazD,IAErB,cAAhBA,EAAKoC,SACPhC,IAAMjT,QAAQ,sCAADgT,OAAiC+yB,EAAalzB,EAAKrG,QAAQ0M,SAAQ,MAChF0J,WAAW,KACT1L,EAAQ4C,KAAK,MACZ,SAGN,CAAC5C,IAUF3X,IAAAuX,cAACvX,IAAMikB,SAAQ,KACbjkB,IAAAuX,cAACinD,GAAK,KACJx+D,IAAAuX,cAAA,YAAM,SACNvX,IAAAuX,cAAA,cAAQ,KAAGunD,EAAII,MAAMC,SAASxgD,eAAe,QAAS,CAAEi1C,sBAAuB,MAEjF5zD,IAAAuX,cAACmnD,GAAc,KACb1+D,IAAAuX,cAAC82C,KAAM,CAAC52C,MAAOsnD,IACf/+D,IAAAuX,cAAC6nD,mBAAe,CAACrwD,KAAMgwD,EAAWM,OAfnBC,KACnBj8C,WAAW,KACT47C,GAAU,IACT,KACHA,GAAU,KAYJj/D,IAAAuX,cAAA,UAAQ+F,UAAU,cAAchY,KAAK,UAClC05D,EACCh/D,IAAAuX,cAAAvX,IAAAikB,SAAA,KACEjkB,IAAAuX,cAAA,YAAM,WACNvX,IAAAuX,cAACgoD,KAAa,CAACl4C,KAAM,MAGvBrnB,IAAAuX,cAAAvX,IAAAikB,SAAA,KACEjkB,IAAAuX,cAAA,YAAM,uBACNvX,IAAAuX,cAACioD,KAAM,CAACn4C,KAAM,QAKtBrnB,IAAAuX,cAAA,YAAM,gGE/DC,IACbkoD,OAAQ,eACRhE,UAAW,CACTC,UAAW,CACT96D,KAAM,YACN4L,MAAO,iBACPkzD,iBAAkB,uCAEpBC,SAAU,CACR/+D,KAAM,WACN4L,MAAO,aACPkzD,iBAAkB,yBAEpB/D,SAAU,CACR/6D,KAAM,WACN4L,MAAO,eACPkzD,iBAAkB,qCAGpB9D,KAAM,CACJh7D,KAAM,OACN4L,MAAO,UACPkzD,iBAAkB,8BAEpBjqD,MAAO,CACL7U,KAAM,QACN4L,MAAO,UACPkzD,iBAAkB,8BAEpB7D,QAAS,CACPj7D,KAAM,UACN4L,MAAO,OACPkzD,iBAAkB,0BAClBE,gBAAiB,8BAEnB9D,QAAS,CACPl7D,KAAM,UACN4L,MAAO,WACPkzD,iBAAkB,+BAEpBG,4BAA6B,CAC3Bj/D,KAAM,8BACN4L,MAAO,wCAETszD,UAAW,CACTl/D,KAAM,YACN4L,MAAO,sBAETuzD,WAAY,CACVn/D,KAAM,aACN4L,MAAO,gBACPkzD,iBAAkB,4BAEpBM,WAAY,CACVp/D,KAAM,aACN4L,MAAO,eACPkzD,iBAAkB,0BAClBE,gBAAiB,iDAEnBK,WAAY,CACVr/D,KAAM,aACN4L,MAAO,eACPkzD,iBAAkB,0BAClBE,gBAAiB,4BAEnBM,IAAK,CACHt/D,KAAM,MACN4L,MAAO,OACPkzD,iBAAkB,kBAClBE,gBAAiB,+BCnEvB,MACEnE,WACEC,UAAS,GACTC,SAAQ,GACRC,KAAI,GACJC,QAAO,GACPC,QACF,KACEqE,GAGW,QACbx9B,OAAaC,MAAM,CACjB,CAAC84B,GAAU96D,MAAO+hC,OAAaE,SAAS,GAADpvB,OAAIioD,GAAUgE,mBACrD,CAAC/D,GAAS/6D,MAAO+hC,OAAaE,SAAS,GAADpvB,OAAIkoD,GAAS+D,mBACnD,CAAC9D,GAAKh7D,MAAO+hC,OACVy9B,WACAv9B,SAAS,GAADpvB,OAAImoD,GAAK8D,mBACpB,CAAC7D,GAAQj7D,MAAO+hC,OACbE,SAAS,GAADpvB,OAAIooD,GAAQ6D,mBAEvB,CAAC5D,GAAQl7D,MAAO+hC,OACby9B,WACAv9B,SAAS,GAADpvB,OAAIqoD,GAAQ4D,sBCxB3B,MACEjE,WACEC,UAAS,YACTiE,GACAhE,SAAQ,GACRC,KAAI,GACJnmD,MAAK,GACLomD,QAAO,GACPC,QAAO,+BACP+D,GAA2B,WAC3BE,GAAU,WACVC,GACAF,UAAS,OACTI,KAEAC,GAEW,QACb,CAACzE,GAAU96D,MAAO,GAClB,CAAC++D,GAAS/+D,MAAO,GACjB,CAAC+6D,GAAS/6D,MAAO,GACjB,CAACg7D,GAAKh7D,MAAO,GACb,CAAC6U,GAAM7U,MAAO,GACd,CAACi7D,GAAQj7D,MAAO,GAChB,CAACk7D,GAAQl7D,MAAO,GAChB,CAACi/D,GAA4Bj/D,OAAO,EACpC,CAACm/D,GAAWn/D,MAAO,GACnB,CAACo/D,GAAWp/D,MAAO,GACnB,CAACk/D,GAAUl/D,MAAO,GAClB,CAACs/D,GAAIt/D,MAAO,IC7BC+a,eAAWvH,IAAK,CAC7BisD,QAAS,CACP/yC,QAASlZ,EAAMqpB,QAAQ,EAAG,EAAG,IAE/B18B,QAAS,CACP8a,QAAS,OACT+T,eAAgB,YAElBrP,OAAQ,CACN9D,UAAWrI,EAAMqpB,QAAQ,GACzBxW,WAAY7S,EAAMqpB,QAAQ,IAE5B6iC,QAAS,CACPtkD,OAAQ5H,EAAMqpB,QAAQ,GACtBtZ,SAAU,YAEZ0C,eAAgB,CACd1C,SAAU,WACV4C,IAAK,MACLC,KAAM,UCnBKu5C,OC6BA,SAAsB3gD,GACnC,MAAM4gD,EAAQ,CAAC,QAAS,eAAgB,YAClC,OAAEf,EAAM,UAAEhE,GAAc0E,GAIxBrjD,EAAUpB,MACT+gD,EAAYD,GAAiB9lD,mBAAS,IACtC+pD,EAAaC,GAAkBhqD,mBAAS,OACxCopD,EAAWa,GAAgBjqD,mBAASkJ,EAAMghD,QAAQv7D,IACnDw7D,EAA0Bn9B,GAAiB+4B,GAC3CqE,EAAarE,IAAe+D,EAAM/8C,OAAS,GAC3C,KAAEnY,GAAS6V,qBAAWzG,IAkE5B,SAASqmD,IACPvE,EAAcC,EAAa,GAG7B,OACEz8D,IAAAuX,cAACvX,IAAMikB,SAAQ,KACbjkB,IAAAuX,cAACqT,IAAU,CAACnK,UAAU,KAAK9C,QAAQ,KAAKuvB,MAAM,UAAS,gBAGvDltC,IAAAuX,cAACypD,KAAO,CAACvE,WAAYA,EAAYn/C,UAAWR,EAAQujD,SACjDG,EAAMniD,IAAK7R,GACVxM,IAAAuX,cAAC0pD,KAAI,CAACznD,IAAKhN,GACTxM,IAAAuX,cAAC2pD,KAAS,KAAE10D,MAIlBxM,IAAAuX,cAACvX,IAAMikB,SAAQ,KACZw4C,IAAe+D,EAAM/8C,OACpBzjB,IAAAuX,cAACsnD,GAAe,CAACC,IAAK2B,IAEtBzgE,IAAAuX,cAACgsB,KAAM,CACLC,cAAe,IACVl4B,KACA61D,IAELz9B,iBAAkBm9B,EAClBl9B,SApCV,SAAuBC,EAAQhgC,GACzBk9D,EAjCNlqD,eAA2BgtB,EAAQhgC,GACjC,IACE,MAAM3B,EAAOmW,KAAKC,MAAMurB,EAAO3hC,MACzBm/D,EAAY,CAChB1F,UAAW93B,EAAO83B,UAClBiE,SAAU/7B,EAAO+7B,SACjB0B,SAAUz9B,EAAOy9B,SACjBzF,KAAMh4B,EAAOg4B,KACbnmD,MAAOmuB,EAAOnuB,MACdomD,QAASj4B,EAAOi4B,QAChBC,QAASl4B,EAAOk4B,QAChB+D,4BAA6Bj8B,EAAOi8B,4BACpCE,WAAYn8B,EAAOm8B,WACnBC,WAAYp8B,EAAOo8B,WACnBE,IAAKt8B,EAAOs8B,IACZj+D,KAAM2hC,EAAO3hC,KACbo7D,MAAOp7D,EAAKo7D,MACZj8D,MAAOa,EAAKb,MACZC,YAAaY,EAAKZ,YAClBy+D,UAAWA,IAGP,KAAExsD,SAAegB,GAAIsE,KAAK,gBAAiBwoD,GACjDV,EAAeptD,GACf1P,EAAQkgC,eAAc,GACtB04B,EAAcC,EAAa,GAC3B/oD,IAAMjT,QAAQ,iFACd,MAAOwS,GACPD,GAAWC,IAMXquD,CAAY19B,EAAQhgC,IAEpB44D,EAAcC,EAAa,GAC3B74D,EAAQ29D,WAAW,IACnB39D,EAAQkgC,eAAc,MAgCfzsB,IAAA,IAAC,aAAE4sB,EAAY,cAAEqjB,EAAa,OAAE1jB,GAAQvsB,EAAA,OACvCrX,IAAAuX,cAAC2sB,KAAI,CAAC7+B,GAAIo6D,GA7FxB,SAA4Bn+B,EAAMgmB,EAAekV,EAAe54B,GAE9D,OAAQtC,GACN,KAAK,EACH,OAAOthC,IAAAuX,cAACqjD,GAAW,CAACa,UAAWA,EAAW73B,OAAQA,EAAQ0jB,cAAeA,IAC3E,KAAK,EACH,OAAOtnD,IAAAuX,cAACiqD,GAAW,CACnB/F,UAAWA,EACXnU,cAAeA,EACfkV,cAAeA,EACfC,WAAYn7B,EACZw+B,UAAWA,EACXl8B,OAAQA,IAEV,KAAK,EACH,OAAO5jC,IAAAuX,cAAC2mD,GAAW,MACrB,QACE,OAAOl+D,IAAAuX,cAAA,WAAK,cA6EDkqD,CAAmBhF,EAAYnV,EAAekV,EAAe54B,GAE9D5jC,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQ/b,SACN,IAAf07D,GACCz8D,IAAAuX,cAACqG,KAAM,CAACC,QAASkjD,EAAazjD,UAAWR,EAAQyD,QAAQ,UAI3DvgB,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQwjD,SACN,IAAf7D,GACCz8D,IAAAuX,cAACqG,KAAM,CACLnc,SAAUwiC,EACV3+B,KAAK,SACLqY,QAAQ,YACRnW,MAAM,UACN8V,UAAWR,EAAQyD,QAElBugD,EAAa,QAAU,cAG3B78B,GACCjkC,IAAAuX,cAAC6P,KAAgB,CACfC,KAAM,GACN/J,UAAWR,EAAQ+J,yBCxJ3C,MAAMnL,GAAYC,YAAYvH,IAAK,CACjCwH,KAAM,CACJC,QAAS,OACT6Q,SAAU,QAEZkkB,UAAW,CACTt0B,YAAalI,EAAMqpB,QAAQ,GAC3BnP,KAAM,GAGRuiB,UAAW,CACTh1B,QAAS,OACT+T,eAAgB,SAChB7T,WAAY,UAGdymB,WAAY,CACVre,SAAU,YAGZ0C,eAAgB,CACdrf,MAAOsf,KAAM,KACb3C,SAAU,WACV4C,IAAK,MACLC,KAAM,MACNvK,WAAY,GACZwK,YAAa,OAkCF8pB,OA7BM15B,IAAmE,IAAlE,KAAEhO,EAAI,QAAEghB,EAAO,QAAEu2C,EAAO,UAAE5vB,EAAS,cAAExN,EAAa,OAAEyN,GAAQ55B,EAChF,MAAMyF,EAAUpB,KACVof,EAAYrK,kBAAO,GAGzB9Z,oBAAU,IACD,KACLmkB,EAAU9J,SAAU,GAErB,IAOH,OACEhxB,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQlB,MACtB5b,IAAAuX,cAACgT,KAAM,CAAClhB,KAAMA,EAAMghB,QANJe,KAClBf,KAK4CsD,SAAS,KAAK2V,OAAO,SAC7DtjC,IAAAuX,cAACmT,KAAa,CAACC,UAAQ,GACrB3qB,IAAAuX,cAACgpD,GAAY,CACXK,QAASA,QC3BrB,MAAMprD,GAAUA,CAACC,EAAOC,KACtB,GAAoB,kBAAhBA,EAAOpQ,KAA0B,CACnC,MAAMo8D,EAAWhsD,EAAOC,QAClBgsD,EAAW,GAWjB,OATAD,EAAS9gD,QAAStV,IAChB,MAAMs2D,EAAYnsD,EAAMK,UAAWgL,GAAMA,EAAEzb,KAAOiG,EAAKjG,KACpC,IAAfu8D,EACFnsD,EAAMmsD,GAAat2D,EAEnBq2D,EAASpnD,KAAKjP,KAIX,IAAImK,KAAUksD,GAGvB,GAAoB,iBAAhBjsD,EAAOpQ,KAAyB,CAClC,MAAMgG,EAAOoK,EAAOC,QACdisD,EAAYnsD,EAAMK,UAAWgL,GAAMA,EAAEzb,KAAOiG,EAAKjG,IAEvD,OAAmB,IAAfu8D,GACFnsD,EAAMmsD,GAAat2D,EACZ,IAAImK,IAEJ,CAACnK,KAASmK,GAIrB,GAAoB,gBAAhBC,EAAOpQ,KAAwB,CACjC,MAAMyP,EAASW,EAAOC,QAEhBisD,EAAYnsD,EAAMK,UAAWgL,GAAMA,EAAEzb,KAAO0P,GAIlD,OAHmB,IAAf6sD,GACFnsD,EAAMU,OAAOyrD,EAAW,GAEnB,IAAInsD,GAGb,GAAoB,UAAhBC,EAAOpQ,KACT,MAAO,IAILoW,GAAYC,YAAYvH,IAAK,CACjC4wB,UAAW,CACT1W,KAAM,EACNhB,QAASlZ,EAAMqpB,QAAQ,GACvBzZ,UAAW,YACR5P,EAAMmZ,oBAiKEs0C,OA7JEA,KACf,MAAM/kD,EAAUpB,MAETlF,EAASC,GAAcC,oBAAS,IAChC8L,EAAYC,GAAiB/L,mBAAS,IACtC4Z,EAASC,GAAc7Z,oBAAS,IAChCgM,EAAaovB,GAAkBp7B,mBAAS,KACxCgrD,EAAUprD,GAAYC,qBAAWf,GAAS,KAC1CwnD,EAAcC,GAAmBj9D,IAAM0W,SAAS,KAChDorD,EAAmBC,GAAwBrrD,mBAAS,OACpD+7B,EAAkBC,GAAuBh8B,oBAAS,GAczDC,oBAAU,KACRL,EAAS,CAAEhR,KAAM,UACjBmd,EAAc,IACb,CAACC,IAEJ/L,oBAAU,KACRF,GAAW,GACX,MAAM2M,EAAkBC,WAAW,KACXzM,WACpB,IACE,MAAM,KAAEtD,SAAegB,GAAIuC,IAAI,gBAAiB,CAC9C/B,OAAQ,CAAE4N,cAAaF,gBAEzBlM,EAAS,CAAEhR,KAAM,gBAAiBqQ,QAASrC,IAC3Cid,EAAWjd,EAAKgd,SAChB7Z,GAAW,GACX,MAAOxD,GACPD,GAAWC,KAGf+uD,IACC,KACH,MAAO,IAAMz+C,aAAaH,IACzB,CAACV,EAAaF,IAGjB,MAWMqwC,EAAY3sB,IAChB,MAAM+7B,EAAOxoD,IAAOA,OAAUI,OAAO,cAC/BD,EAAaH,IAAOysB,EAAOvsB,SAASE,OAAO,cACjD,IAAIC,EAAOL,IAAOG,EAAY,cAAcE,KAAKL,IAAOwoD,EAAM,eAE9D,GADWxoD,IAAOS,SAASJ,GAAMK,SACtB,GAAuB,SAAlB+rB,EAAOziC,OACrB,MAAO,CAAEiZ,gBAAiB,cAIxBwlD,EAAah8B,IACjB,MAAM+7B,EAAOxoD,IAAOA,OAAUI,OAAO,cAC/BD,EAAaH,IAAOysB,EAAOvsB,SAASE,OAAO,cACjD,IAAIC,EAAOL,IAAOG,EAAY,cAAcE,KAAKL,IAAOwoD,EAAM,eAC1DhoD,EAAOR,IAAOS,SAASJ,GAAMK,SAEjC,MAAe,SADA+rB,EAAOziC,OAEb,OAELwW,EAAO,EACF,UAEA,aAKX,OACEja,IAAAuX,cAACw1C,GAAa,KACZ/sD,IAAAuX,cAAC4qD,GAAiB,CAChB94D,KAAMopC,EACNpoB,QAxE0BspB,KAC9BouB,EAAqB,MACrBrvB,GAAoB,IAuEhBloB,kBAAgB,oBAChBo2C,QAAS5D,EACThsB,UAAW8wB,IAGb9hE,IAAAuX,cAAC01C,GAAU,KACTjtD,IAAAuX,cAAC+yB,GAAK,KAAC,YAETtqC,IAAAuX,cAAC6uB,KAAK,CACJ9oB,UAAWR,EAAQkoB,UACnBrnB,QAAQ,WACR2V,SAlDgBtH,IACpB,IAAKsE,GAAW9Z,EAAS,OACzB,MAAM,UAAE+c,EAAS,aAAE8S,EAAY,aAAEC,GAAiBta,EAAEsF,cAChD+U,GAAgB9S,EAAY,KAAO+S,GANvC7jB,EAAe+U,GAAcA,EAAY,KAuDrCx3B,IAAAuX,cAACu1B,KAAK,CAACzlB,KAAK,SACVrnB,IAAAuX,cAACw1B,KAAS,KACR/sC,IAAAuX,cAACy1B,KAAQ,KACPhtC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAS,MAC1BltC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAS,YAC1BltC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAS,SAC1BltC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAS,cAC1BltC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAS,UAC1BltC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAS,gBAG9BltC,IAAAuX,cAAC41B,KAAS,KACRntC,IAAAuX,cAAAvX,IAAAikB,SAAA,KACGy9C,EAASrjD,IAAKqjD,GACb1hE,IAAAuX,cAACy1B,KAAQ,CAACjpB,MAAO8uC,EAAS6O,GAAWloD,IAAKkoD,EAASr8D,IACjDrF,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAUw0B,EAASr8D,IACpCrF,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAUw0B,EAASU,QACpCpiE,IAAAuX,cAAC01B,KAAS,CAAClpB,MAAO,CAAE+K,WAAY,QAAUoe,MAAM,UAAUw0B,EAASjqD,MAAMkH,eAAe,QAAS,CAAEoF,MAAO,WAAYs+C,SAAU,SAChIriE,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAUzzB,IAAOioD,EAAS/nD,SAASE,OAAO,eAC3D7Z,IAAAuX,cAAC01B,KAAS,CAAClpB,MAAO,CAAE+K,WAAY,QAAUoe,MAAM,UAAUg1B,EAAUR,IACpE1hE,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACU,SAAxBg1B,EAAUR,GACT1hE,IAAAuX,cAACqG,KAAM,CACLyJ,KAAK,QACL1J,QAAQ,WACRnW,MAAM,YACNqW,QAASA,IAvHC6jD,KAC9BzE,EAAgByE,GAChBK,EAAqB,MACrBrvB,GAAoB,IAoHe4vB,CAAuBZ,IACvC,SAGD1hE,IAAAuX,cAACqG,KAAM,CACLyJ,KAAK,QACL1J,QAAQ,YAGT,WAORnH,GAAWxW,IAAAuX,cAAC61C,GAAgB,CAACC,QAAS,UC3MrD,MAAM73C,GAAUA,CAACC,EAAOC,KACtB,GAAoB,eAAhBA,EAAOpQ,KAAuB,CAChC,MAAMlE,EAAQsU,EAAOC,QACfgsD,EAAW,GAWjB,OATAvgE,EAAMwf,QAAStV,IACb,MAAMs2D,EAAYnsD,EAAMK,UAAWgL,GAAMA,EAAEzb,KAAOiG,EAAKjG,KACpC,IAAfu8D,EACFnsD,EAAMmsD,GAAat2D,EAEnBq2D,EAASpnD,KAAKjP,KAIX,IAAImK,KAAUksD,GAGvB,GAAoB,iBAAhBjsD,EAAOpQ,KAAyB,CAClC,MAAMgG,EAAOoK,EAAOC,QACdisD,EAAYnsD,EAAMK,UAAWgL,GAAMA,EAAEzb,KAAOiG,EAAKjG,IAEvD,OAAmB,IAAfu8D,GACFnsD,EAAMmsD,GAAat2D,EACZ,IAAImK,IAEJ,CAACnK,KAASmK,GAIrB,GAAoB,gBAAhBC,EAAOpQ,KAAwB,CACjC,MAAMyP,EAASW,EAAOC,QAEhBisD,EAAYnsD,EAAMK,UAAWgL,GAAMA,EAAEzb,KAAO0P,GAIlD,OAHmB,IAAf6sD,GACFnsD,EAAMU,OAAOyrD,EAAW,GAEnB,IAAInsD,GAGb,GAAoB,UAAhBC,EAAOpQ,KACT,MAAO,IAILoW,GAAYC,YAAYvH,IAAK,CACjC4wB,UAAW,CACT1W,KAAM,EACNhB,QAASlZ,EAAMqpB,QAAQ,GACvBzZ,UAAW,YACR5P,EAAMmZ,oBA8MEg1C,OA1MDA,KACZ,MAAMzlD,EAAUpB,MAETlF,EAASC,GAAcC,oBAAS,IAChC8L,EAAYC,GAAiB/L,mBAAS,IACtC4Z,EAASC,GAAc7Z,oBAAS,IAChCyuC,EAAcC,GAAmB1uC,mBAAS,OAC1C8rD,EAAcC,GAAmB/rD,mBAAS,OAC1C+xB,EAAeC,GAAoBhyB,oBAAS,IAC5Cy4C,EAAkBC,GAAuB14C,oBAAS,IAClDgM,EAAaovB,GAAkBp7B,mBAAS,KACxCtV,EAAOkV,GAAYC,qBAAWf,GAAS,IAE9CmB,oBAAU,KACRL,EAAS,CAAEhR,KAAM,UACjBmd,EAAc,IACb,CAACC,IAEJ/L,oBAAU,KACRF,GAAW,GACX,MAAM2M,EAAkBC,WAAW,KACdzM,WACjB,IACE,MAAM,KAAEtD,SAAegB,GAAIuC,IAAI,UAAW,CACxC/B,OAAQ,CAAE4N,cAAaF,gBAEzBlM,EAAS,CAAEhR,KAAM,aAAcqQ,QAASrC,EAAKlS,QAC7CmvB,EAAWjd,EAAKgd,SAChB7Z,GAAW,GACX,MAAOxD,GACPD,GAAWC,KAGfsyC,IACC,KACH,MAAO,IAAMhiC,aAAaH,IACzB,CAACV,EAAaF,IAEjB7L,oBAAU,KACR,MAAMI,EAAY/B,aAAaC,QAAQ,aACjC+B,EAASnC,GAAiB,CAAEkC,cAYlC,OAVAC,EAAOC,GAAG,WAADxD,OAAYsD,EAAS,SAAUzD,IAClB,WAAhBA,EAAKoC,QAAuC,WAAhBpC,EAAKoC,QACnCY,EAAS,CAAEhR,KAAM,eAAgBqQ,QAASrC,EAAKhI,OAG7B,WAAhBgI,EAAKoC,QACPY,EAAS,CAAEhR,KAAM,cAAeqQ,SAAUrC,EAAKyB,WAI5C,KACLiC,EAAOlU,eAER,IA6CH,OACE9C,IAAAuX,cAACw1C,GAAa,KACZ/sD,IAAAuX,cAAC6S,GAAiB,CAChB7pB,MACEiiE,GAAY,GAAA/uD,OACTlB,KAAKoB,EAAE,uCAAsC,KAAAF,OAC9C+uD,EAAa5hE,KAAI,KAGrByI,KAAM8lD,EACN9kC,QAAS+kC,EACT9kC,UAAWA,IAnCQ1T,WACvB,UACQtC,GAAI3S,OAAO,UAAD8R,OAAWsB,IAC3BrB,IAAMjT,QAAQ8R,KAAKoB,EAAE,yBACrB,MAAOV,GACPD,GAAWC,GAEbwvD,EAAgB,MAChB3wB,EAAe,IACfrvB,EAAc,IA0BOigD,CAAiBF,EAAan9D,KAE9CkN,KAAKoB,EAAE,0CAEV3T,IAAAuX,cAACurB,GAAS,CACRz5B,KAAMo/B,EACNpe,QAvDuBs4C,KAC3Bvd,EAAgB,MAChB1c,GAAiB,IAsDble,kBAAgB,oBAChBzV,OAAQowC,GAAgBA,EAAa9/C,KAEvCrF,IAAAuX,cAAC01C,GAAU,KACTjtD,IAAAuX,cAAC+yB,GAAK,KAAE/3B,KAAKoB,EAAE,gBACf3T,IAAAuX,cAAC21C,GAAwB,KACvBltD,IAAAuX,cAACgG,KAAS,CACRtU,YAAasJ,KAAKoB,EAAE,8BACpBrO,KAAK,SACLmS,MAAOiL,EACPlF,SA7DYC,IACpBq0B,EAAer0B,EAAMC,OAAOjG,MAAMs/B,gBA6D1BzC,WAAY,CACVsuB,eACE5iE,IAAAuX,cAACm1C,KAAc,CAACvoC,SAAS,SACvBnkB,IAAAuX,cAACwiC,KAAU,CAACh2B,MAAO,CAAEvc,MAAO,cAKpCxH,IAAAuX,cAACqG,KAAM,CACLD,QAAQ,YACRnW,MAAM,UACNqW,QAnFkBwsB,KAC1B+a,EAAgB,MAChB1c,GAAiB,KAmFRn2B,KAAKoB,EAAE,wBAId3T,IAAAuX,cAAC6uB,KAAK,CACJ9oB,UAAWR,EAAQkoB,UACnBrnB,QAAQ,WACR2V,SAzDgBtH,IACpB,IAAKsE,GAAW9Z,EAAS,OACzB,MAAM,UAAE+c,EAAS,aAAE8S,EAAY,aAAEC,GAAiBta,EAAEsF,cAChD+U,GAAgB9S,EAAY,KAAO+S,GANvC7jB,EAAe+U,GAAcA,EAAY,KA8DrCx3B,IAAAuX,cAACu1B,KAAK,CAACzlB,KAAK,SACVrnB,IAAAuX,cAACw1B,KAAS,KACR/sC,IAAAuX,cAACy1B,KAAQ,KACPhtC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAU36B,KAAKoB,EAAE,qBAClC3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,sBAEV3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,wBAEV3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,0BAId3T,IAAAuX,cAAC41B,KAAS,KACRntC,IAAAuX,cAAAvX,IAAAikB,SAAA,KACG7iB,EAAMid,IAAK/S,GACVtL,IAAAuX,cAACy1B,KAAQ,CAACxzB,IAAKlO,EAAKjG,IAClBrF,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAU5hC,EAAK1K,MAChCZ,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAU5hC,EAAKzK,OAChCb,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAU5hC,EAAKrD,SAChCjI,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACfltC,IAAAuX,cAACsH,IAAU,CACTwI,KAAK,QACLxJ,QAASA,IAzGLvS,KACtB85C,EAAgB95C,GAChBo9B,GAAiB,IAuGgBm6B,CAAev3D,IAE9BtL,IAAAuX,cAACwH,KAAQ,OAGX/e,IAAAuX,cAACsH,IAAU,CACTwI,KAAK,QACLxJ,QAAUmO,IACRojC,GAAoB,GACpBqT,EAAgBn3D,KAGlBtL,IAAAuX,cAACg6B,KAAiB,UAKzB/6B,GAAWxW,IAAAuX,cAAC61C,GAAgB,CAACC,QAAS,U,UC7OrD,MAAM73C,GAAUA,CAACC,EAAOC,KACtB,GAAoB,kBAAhBA,EAAOpQ,KAA0B,CACnC,MAAMR,EAAW4Q,EAAOC,QAClBmtD,EAAc,GAWpB,OATAh+D,EAAS8b,QAASxY,IAChB,MAAM26D,EAAettD,EAAMK,UAAWgxC,GAAMA,EAAEzhD,KAAO+C,EAAQ/C,KACvC,IAAlB09D,EACFttD,EAAMstD,GAAgB36D,EAEtB06D,EAAYvoD,KAAKnS,KAId,IAAIqN,KAAUqtD,GAGvB,GAAoB,oBAAhBptD,EAAOpQ,KAA4B,CACrC,MAAM8C,EAAUsN,EAAOC,QACjBotD,EAAettD,EAAMK,UAAWgxC,GAAMA,EAAEzhD,KAAO+C,EAAQ/C,IAE7D,OAAsB,IAAlB09D,GACFttD,EAAMstD,GAAgB36D,EACf,IAAIqN,IAEJ,CAACrN,KAAYqN,GAIxB,GAAoB,mBAAhBC,EAAOpQ,KAA2B,CACpC,MAAM0rC,EAAYt7B,EAAOC,QAEnBotD,EAAettD,EAAMK,UAAWgxC,GAAMA,EAAEzhD,KAAO2rC,GAIrD,OAHsB,IAAlB+xB,GACFttD,EAAMU,OAAO4sD,EAAc,GAEtB,IAAIttD,GAGb,GAAoB,UAAhBC,EAAOpQ,KACT,MAAO,IAILoW,GAAYC,YAAYvH,IAAK,CACjC4wB,UAAW,CACT1W,KAAM,EACNhB,QAASlZ,EAAMqpB,QAAQ,GACvBzZ,UAAW,YACR5P,EAAMmZ,oBAiSEy1C,OA7REA,KACf,MAAMlmD,EAAUpB,KACV/D,EAAUC,wBAEV,KAAEtM,GAAS6V,qBAAWzG,KAErBlE,EAASC,GAAcC,oBAAS,IAChC8L,EAAYC,GAAiB/L,mBAAS,IACtCgM,EAAaovB,GAAkBp7B,mBAAS,KACxC5R,EAAUwR,GAAYC,qBAAWf,GAAS,KAC1CssD,EAAmBC,GAAwBrrD,mBAAS,OACpD+7B,EAAkBC,GAAuBh8B,oBAAS,IAClD8hC,EAAoBC,GAAyB/hC,oBAAS,IACtDusD,EAAeC,GAAoBxsD,mBAAS,KAC5CysD,EAAiBC,GAAsB1sD,mBAAS,OAChD2sD,EAAaC,GAAkB5sD,oBAAS,IACxC4Z,EAASC,GAAc7Z,oBAAS,GAEvCC,oBAAU,KACRL,EAAS,CAAEhR,KAAM,UACjBmd,EAAc,IACb,CAACC,IAEJ/L,oBAAU,KACRF,GAAW,GACX,MAAM2M,EAAkBC,WAAW,KACXzM,WACpB,IACE,MAAM,KAAEtD,SAAegB,GAAIuC,IAAI,aAAc,CAC3C/B,OAAQ,CAAE4N,cAAaF,gBAEzBlM,EAAS,CAAEhR,KAAM,gBAAiBqQ,QAASrC,EAAKxO,WAChDyrB,EAAWjd,EAAKgd,SAChB7Z,GAAW,GACX,MAAOxD,GACPD,GAAWC,KAGfigC,IACC,KACH,MAAO,IAAM3vB,aAAaH,IACzB,CAACV,EAAaF,IAEjB7L,oBAAU,KACR,MAAMI,EAAY/B,aAAaC,QAAQ,aACjC+B,EAASnC,GAAiB,CAAEkC,cAYlC,OAVAC,EAAOC,GAAG,WAADxD,OAAYsD,EAAS,YAAazD,IACrB,WAAhBA,EAAKoC,QAAuC,WAAhBpC,EAAKoC,QACnCY,EAAS,CAAEhR,KAAM,kBAAmBqQ,QAASrC,EAAKlL,UAGhC,WAAhBkL,EAAKoC,QACPY,EAAS,CAAEhR,KAAM,iBAAkBqQ,SAAUrC,EAAK09B,cAI/C,KACLh6B,EAAOlU,eAER,IA6EH,OACE9C,IAAAuX,cAACw1C,GAAa,CAACzvC,UAAWR,EAAQ+vC,eAChC7sD,IAAAuX,cAACm6B,GAAc,CACbC,UAAW6G,EACX5G,eAAgBqxB,EAChB54C,QAAU8F,IAlDiBA,KAC/BsoB,GAAsB,QACPtkC,IAAXgc,QAAwChc,IAAhBgc,EAAOvH,MACjCjR,EAAQ4C,KAAK,YAAD9G,OAAa0c,EAAOvH,QAgD5B2wB,CAAwBppB,MAG5BnwB,IAAAuX,cAACw5B,GAAY,CACX1nC,KAAMopC,EACNpoB,QA7E0BspB,KAC9BouB,EAAqB,MACrBrvB,GAAoB,IA4EhBloB,kBAAgB,oBAChBwmB,UAAW8wB,IAEb9hE,IAAAuX,cAAC6S,GAAiB,CAChB7pB,MACE4iE,EAAe,GAAA1vD,OACRlB,KAAKoB,EAAE,0CAAyC,KAAAF,OACjD0vD,EAAgBviE,KAAI,QAAA6S,OAEnBlB,KAAKoB,EAAE,4CAEhBtK,KAAMg6D,EACNh5C,QAASi5C,EACTh5C,UAAY0B,GACVm3C,EA3DoBvsD,WAC1B,UACQtC,GAAI3S,OAAO,aAAD8R,OAAcu9B,IAC9Bt9B,IAAMjT,QAAQ8R,KAAKoB,EAAE,4BACrB,MAAOV,GACPD,GAAWC,GAEbmwD,EAAmB,MACnBtxB,EAAe,IACfrvB,EAAc,IAmDJ8gD,CAAoBJ,EAAgB99D,IAhDpBuR,WAC1B,UACQtC,GAAIsE,KAAK,oBACfjB,EAAQ6rD,GAAG,GACX,MAAOvwD,GACPD,GAAWC,KA4CHwwD,IAGU,GAAAhwD,OAAf0vD,EACM5wD,KAAKoB,EAAE,4CACPpB,KAAKoB,EAAE,8CAEhB3T,IAAAuX,cAAC01C,GAAU,KACTjtD,IAAAuX,cAAC+yB,GAAK,KAAE/3B,KAAKoB,EAAE,mBACf3T,IAAAuX,cAAC21C,GAAwB,KACvBltD,IAAAuX,cAACgG,KAAS,CACRtU,YAAasJ,KAAKoB,EAAE,8BACpBrO,KAAK,SACLmS,MAAOiL,EACPlF,SArHYC,IACpBq0B,EAAer0B,EAAMC,OAAOjG,MAAMs/B,gBAqH1BzC,WAAY,CACVsuB,eACE5iE,IAAAuX,cAACm1C,KAAc,CAACvoC,SAAS,SACvBnkB,IAAAuX,cAACwiC,KAAU,CAACh2B,MAAO,CAAEvc,MAAO,cAKpCxH,IAAAuX,cAACqG,KAAM,CACLD,QAAQ,YACRnW,MAAM,UACNqW,QAAUmO,GAAMs3C,GAAe,IAE9B/wD,KAAKoB,EAAE,4BAEV3T,IAAAuX,cAACqG,KAAM,CACLD,QAAQ,YACRnW,MAAM,UACNqW,QApIqBykD,KAC7BP,EAAqB,MACrBrvB,GAAoB,KAoIXngC,KAAKoB,EAAE,yBAGX3T,IAAAuX,cAACmsD,WAAO,CAAC3/C,MAAO,CAAE4/C,eAAe,QAASC,UAAU,IAAIv+B,SAAU,gBAAiB/xB,KAAMxO,EAASuZ,IAAKjW,IAAO,CAAQxH,KAAMwH,EAAQxH,KAAMuG,OAAQiB,EAAQjB,OAAQtG,MAAOuH,EAAQvH,UAChLb,IAAAuX,cAACqG,KAAM,CAACD,QAAQ,YAAYnW,MAAM,WAAU,wBAOhDxH,IAAAuX,cAAC6uB,KAAK,CACJ9oB,UAAWR,EAAQkoB,UACnBrnB,QAAQ,WACR2V,SArFgBtH,IACpB,IAAKsE,GAAW9Z,EAAS,OACzB,MAAM,UAAE+c,EAAS,aAAE8S,EAAY,aAAEC,GAAiBta,EAAEsF,cAChD+U,GAAgB9S,EAAY,KAAO+S,GANvC7jB,EAAe+U,GAAcA,EAAY,KA0FrCx3B,IAAAuX,cAACu1B,KAAK,CAACzlB,KAAK,SACVrnB,IAAAuX,cAACw1B,KAAS,KACR/sC,IAAAuX,cAACy1B,KAAQ,KACPhtC,IAAAuX,cAAC01B,KAAS,CAAC3f,QAAQ,aACnBttB,IAAAuX,cAAC01B,KAAS,KAAE16B,KAAKoB,EAAE,wBACnB3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,4BAEV3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,yBAEV3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,6BAId3T,IAAAuX,cAAC41B,KAAS,KACRntC,IAAAuX,cAAAvX,IAAAikB,SAAA,KACGnf,EAASuZ,IAAKjW,GACbpI,IAAAuX,cAACy1B,KAAQ,CAACxzB,IAAKpR,EAAQ/C,IACrBrF,IAAAuX,cAAC01B,KAAS,CAAClpB,MAAO,CAAEgK,aAAc,IAC/B/tB,IAAAuX,cAACge,KAAM,CAAC9I,IAAKrkB,EAAQkuB,iBAExBt2B,IAAAuX,cAAC01B,KAAS,KAAE7kC,EAAQxH,MACpBZ,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAU9kC,EAAQjB,QACnCnH,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAU9kC,EAAQvH,OACnCb,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACfltC,IAAAuX,cAACsH,IAAU,CACTwI,KAAK,QACLxJ,QAASA,KACPqlD,EAAiB96D,GACjBqwC,GAAsB,KAGxBz4C,IAAAuX,cAACiN,IAAY,OAEfxkB,IAAAuX,cAACsH,IAAU,CACTwI,KAAK,QACLxJ,QAASA,KAAMgmD,OA3JT7yB,EA2J0B5oC,EAAQ/C,GA1J1D08D,EAAqB/wB,QACrB0B,GAAoB,GAFI1B,QA6JNhxC,IAAAuX,cAACwH,KAAQ,OAEX/e,IAAAuX,cAACwD,GAAG,CACFC,KAAM1P,EAAKrD,QACXgT,QAAQ,8BACRpZ,IAAKA,IACH7B,IAAAuX,cAACsH,IAAU,CACTwI,KAAK,QACLxJ,QAAUmO,IACRs3C,GAAe,GACfF,EAAmBh7D,KAGrBpI,IAAAuX,cAACg6B,KAAiB,YAO7B/6B,GAAWxW,IAAAuX,cAAC61C,GAAgB,CAACh4B,QAAM,EAACi4B,QAAS,U,UC9R7CyW,OA/EKzsD,IAAoD,IAAnD,SAAEmG,EAAQ,aAAEumD,EAAY,YAAE34C,EAAW,KAAE/hB,GAAMgO,EACjE,MAAO2sD,EAAeC,GAAoBvtD,mBAASqtD,GA4DnD,OACC/jE,IAAAuX,cAACgT,KAAM,CACNF,QAASe,EACTZ,kBAAgB,sBAChBnhB,KAAMA,GAENrJ,IAAAuX,cAAC2sD,KAAW,CACXhoD,MAAO,OACPioD,SAAS,OACT38D,MAAOw8D,EACPI,OA/DY,CACd,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAcE5mD,SArEkBhW,IACpBy8D,EAAiBz8D,EAAM68D,KACvBj5C,KAoEEk5C,iBAAkB98D,GAASgW,EAAShW,EAAM68D,S,gEC9D9C,MAAM3oD,GAAYC,YAAYvH,IAAK,CACjCwH,KAAM,CACJM,MAAO,OAEP,CAAC9H,EAAMuhB,YAAYC,KAAK,OAAQ,CAC9B2H,UAAW,SAGfhd,OAAQ,CACNjE,YAAalI,EAAMqpB,QAAQ,IAE7BrhB,MAAO,CACLK,UAAWrI,EAAMqpB,QAAQ,GACzBthB,aAAc/H,EAAMqpB,QAAQ,IAE9B8mC,UAAW,CACT9nD,UAAWrI,EAAMqpB,QAAQ,GACzBthB,aAAc/H,EAAMqpB,QAAQ,OAIzB,SAAS+mC,GAAkBntD,GAAuC,IAAtC,QAAEggB,EAAO,QAAEhoB,EAAO,cAAEo1D,GAAeptD,EACpE,MAAMyF,EAAUpB,MACTgpD,EAAcC,GAAmBjuD,oBAAU,IAC3CgwC,EAAYC,GAAiBjwC,mBAAS,MACvCkwC,EAAiBn2B,iBAAO,OACvBnF,EAAkBC,GAAuB7U,oBAAS,GAEnDkuD,EAAgBtmD,GAAU1H,UAC9B+tD,EAAgBrmD,GAChB,MAAMm1B,EAASpkC,EAAQiP,GAEvB,QAAenK,IAAXs/B,QAAsCt/B,IAAds/B,EAAOpuC,GACjC,IACE,MAAM,KAAEiO,SAAegB,GAAI2D,QAAQ,CACjCmH,IAAK,iBACLC,OAAQ,MACRvK,OAAQ,CAAEuiB,UAASwtC,SAAUpxB,EAAOpuC,MAEhCy/D,EAAaxxD,EAAK+K,IAAKo1B,IACpB,IACFA,EACHn8B,SAAU,GACVytD,SAAS,KAGbtxB,EAAOn8B,SAAWwtD,EAClBL,IACA,MAAOz4C,GACPhZ,GAAWgZ,KAKXywB,EAAa7lC,UACjB,IACE,GAAI68B,EAAOpuC,IAMV,SALOiP,GAAI2D,QAAQ,CAChBmH,IAAI,kBAAD3L,OAAoBggC,EAAOpuC,IAC9Bga,OAAQ,MACR/L,KAAMmgC,IAES,MAAdiT,EAAoB,CACrB,MAAM3C,EAAW,IAAIC,SACrBD,EAASG,OAAO,OAAQwC,SAClBpyC,GAAIsE,KAAK,kBAADnF,OAAmBggC,EAAOpuC,GAAE,iBAAiB0+C,QAExD,CACL,MAAM,KAAEzwC,SAAegB,GAAI2D,QAAQ,CACjCmH,IAAI,iBACJC,OAAQ,OACR/L,KAAMmgC,IAGT,GADCA,EAAOpuC,GAAKiO,EAAKjO,GACA,MAAdqhD,EAAoB,CACrB,MAAM3C,EAAW,IAAIC,SACrBD,EAASG,OAAO,OAAQwC,SAClBpyC,GAAIsE,KAAK,kBAADnF,OAAmBggC,EAAOpuC,GAAE,iBAAiB0+C,IAG/DtQ,EAAOsxB,SAAU,EACjBN,IACA9d,EAAc,MACd,MAAO36B,GACPhZ,GAAWgZ,KAITg5C,EAAiB1mD,IACrBjP,EAAQiP,GAAOymD,SAAW11D,EAAQiP,GAAOymD,QACzCN,KAwCIQ,EAAe3mD,IACnB,MAAMm1B,EAASpkC,EAAQiP,GACvB,OAAIm1B,EAAOsxB,QAEP/kE,IAAAuX,cAAAvX,IAAAikB,SAAA,KACEjkB,IAAAuX,cAACgG,KAAS,CACR9F,MAAOg8B,EAAOlzC,MACdid,SAAWC,GAxBWynD,EAACznD,EAAOa,KACtCjP,EAAQiP,GAAO/d,MAAQkd,EAAMC,OAAOjG,MACpCgtD,KAsB6BS,CAAwBznD,EAAOa,GACpD+I,KAAK,QACL/J,UAAWR,EAAQV,MACnBnT,YAAY,6BAEbjJ,IAAAuX,cAAA,OAAKwM,MAAO,CAAElI,QAAS,SACtB7b,IAAAuX,cAAA,SACEjS,KAAK,OACL6a,IAAKymC,EACLppC,SAAWwO,GAvBOA,KAC5B,MAAMi7B,EAAOC,gBAAKl7B,EAAEtO,OAAOvS,OACvB87C,GACFN,EAAcM,IAoBWE,CAAqBn7B,MAGzCynB,EAAOsxB,SACN/kE,IAAAuX,cAAAvX,IAAAikB,SAAA,KACEjkB,IAAAuX,cAACsH,IAAU,CACTrX,MAAM,UACNmW,QAAQ,WACR0J,KAAK,QACL/J,UAAWR,EAAQyD,OACnB1C,QAASA,IAAM4+B,EAAWhJ,IAE1BzzC,IAAAuX,cAAC4tD,KAAQ,OAEXnlE,IAAAuX,cAACsH,IAAU,CACTlB,QAAQ,WACRnW,MAAM,YACN6f,KAAK,QACL/J,UAAWR,EAAQyD,OACnB1C,QAASA,IAxEIjH,WACzB,MAAM68B,EAASpkC,EAAQiP,GACvB,QAAenK,IAAXs/B,QAAsCt/B,IAAds/B,EAAOpuC,GACjC,UACQiP,GAAI2D,QAAQ,CAChBmH,IAAI,kBAAD3L,OAAoBggC,EAAOpuC,IAC9Bga,OAAQ,WAEV,MAAO2M,GACPhZ,GAAWgZ,GAGf3c,EAAQ8G,OAAOmI,EAAO,GACtBjP,EAAQuR,QAAQhK,MAAO68B,EAAQ2xB,KAC7B3xB,EAAOA,OAAS2xB,EAAQ,QAClB3oB,EAAWhJ,KAEnBgxB,KAuD2BY,CAAmB/mD,IAElCte,IAAAuX,cAACg6B,KAAiB,QAEjBmV,IAAejT,EAAOzkC,WACvBhP,IAAAuX,cAACsH,IAAU,CACTlB,QAAQ,WACRnW,MAAM,UACN6f,KAAK,QACL/J,UAAWR,EAAQyD,OACjB1C,QAASA,IAAM+oC,EAAe51B,QAAQg3B,SAExChoD,IAAAuX,cAAC+O,KAAU,QAGZmtB,EAAOzkC,WAAa03C,IACjB1mD,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIF,MAAI,GAChBlhC,IAAAuX,cAACqG,KAAM,CAACoU,UAAWhyB,IAAAuX,cAAC+O,KAAU,OACb,MAAdogC,EACGA,EAAW9lD,KACX6yC,EAAOnnC,WAGXtM,IAAAuX,cAACsH,IAAU,CACThB,QAASA,IAAM0N,GAAoB,GACnC/jB,MAAM,aAENxH,IAAAuX,cAACwwC,KAAa,UAUlC/nD,IAAAuX,cAAAvX,IAAAikB,SAAA,KACEjkB,IAAAuX,cAACqT,IAAU,KACS,KAAjB6oB,EAAOlzC,MAAekzC,EAAOlzC,MAAQ,4BACtCP,IAAAuX,cAACsH,IAAU,CACTlB,QAAQ,WACR0J,KAAK,QACL/J,UAAWR,EAAQyD,OACnB1C,QAASA,IAAMmnD,EAAc1mD,IAE7Bte,IAAAuX,cAACwH,KAAQ,UAObumD,EAAiBhnD,IACrB,MAAMm1B,EAASpkC,EAAQiP,GACvB,OAAIm1B,EAAOsxB,QAEP/kE,IAAAuX,cAAAvX,IAAAikB,SAAA,KACEjkB,IAAAuX,cAACgG,KAAS,CACRwG,MAAO,CAAE7H,MAAO,QAChB0gC,WAAS,EACTnlC,MAAOg8B,EAAO5uC,QACd2Y,SAAWC,GA7Ga8nD,EAAC9nD,EAAOa,KACxCjP,EAAQiP,GAAOzZ,QAAU4Y,EAAMC,OAAOjG,MACtCgtD,KA2G6Bc,CAA0B9nD,EAAOa,GACtD+I,KAAK,QACL/J,UAAWR,EAAQV,MACnBnT,YAAY,mCAMlBjJ,IAAAuX,cAAAvX,IAAAikB,SAAA,KACEjkB,IAAAuX,cAACqT,IAAU,CAAC/M,QAASA,IAAMmnD,EAAc1mD,IACtCm1B,EAAO5uC,WAoBV2gE,EAAaA,CAAC/xB,EAAQn1B,IAExBte,IAAAuX,cAAC0pD,KAAI,CAACznD,IAAK8E,GACTte,IAAAuX,cAAC2pD,KAAS,CAACn9C,MAAO,CAAEsS,OAAQ,WAAaxY,QAAS+mD,EAAatmD,IAC5D2mD,EAAY3mD,IAEfte,IAAAuX,cAACkuD,KAAW,KACTH,EAAchnD,QAEAnK,IAAds/B,EAAOpuC,IACNrF,IAAAuX,cAAAvX,IAAAikB,SAAA,KACEjkB,IAAAuX,cAACqG,KAAM,CACLpW,MAAM,UACN6f,KAAK,QACLxJ,QAASA,IA5BES,KACvB,MAAMonD,EAAer2D,EAAQiP,GAAOhH,SAASmM,OAAS,EACtDpU,EAAQiP,GAAOhH,SAASiD,KAAK,CAC3Bha,MAAO,GACPsE,QAAS,GACTkgE,SAAS,EACTtxB,OAAQiyB,EACRruC,UACAwtC,SAAUx1D,EAAQiP,GAAOjZ,GACzBiS,SAAU,KAEZmtD,KAiB2BkB,CAAgBrnD,GAC/B0T,UAAWhyB,IAAAuX,cAACquD,KAAO,MACnBjoD,QAAQ,WACRL,UAAWR,EAAQynD,WACpB,cAKLvkE,IAAAuX,cAACitD,GAAkB,CACjBntC,QAASA,EACThoB,QAASokC,EAAOn8B,SAChBmtD,cAAeA,MAoBzB,OAXIzkE,IAAAuX,cAACypD,KAAO,CACNj9C,MAAO,CAAE5H,aAAc,EAAG8R,cAAe,GACzC43C,WAAS,EACTpJ,WAAYiI,EACZoB,YAAY,YAEXz2D,EAAQgP,IAAI,CAACo1B,EAAQn1B,IAAUknD,EAAW/xB,EAAQn1B,KAQpD,SAASynD,GAAYp+C,GAAe,IAAd,QAAE0P,GAAS1P,EACtC,MAAM7K,EAAUpB,MACTrM,EAASwiC,GAAcn7B,mBAAS,IAEvCC,oBAAU,KACR,GAAI0gB,EAAS,CACUzgB,WACnB,IACE,MAAM,KAAEtD,SAAegB,GAAI2D,QAAQ,CACjCmH,IAAK,iBACLC,OAAQ,MACRvK,OAAQ,CAAEuiB,UAASwtC,UAAW,KAE1BC,EAAaxxD,EAAK+K,IAAKo1B,IACpB,IACFA,EACHn8B,SAAU,GACVytD,SAAS,KAGblzB,EAAWizB,GACX,MAAO94C,GACPhZ,GAAWgZ,KAGfg6C,KAGD,IAEH,MAYMvB,EAAgBA,KACpB5yB,EAAW,IAAIxiC,KAgBjB,OACErP,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQlB,MACtB5b,IAAAuX,cAAA,WACAvX,IAAAuX,cAACqT,IAAU,KAAC,eAEV5qB,IAAAuX,cAACqG,KAAM,CACLpW,MAAM,UACN6f,KAAK,QACLxJ,QArBUooD,KAChB,MAAMC,EAAY,CAChB3lE,MAAO,GACPsE,QAAS,GACTkgE,SAAS,EACTtxB,OAAQpkC,EAAQoU,OAAS,EACzB4T,UACAwtC,SAAU,KACVvtD,SAAU,IAEZu6B,EAAW,IAAIxiC,EAAS62D,KAYlBl0C,UAAWhyB,IAAAuX,cAACquD,KAAO,MACnB7hD,MAAO,CAAEkD,WAAY,IACrBtJ,QAAQ,YACT,cAzCewoD,MACpB,GAAI92D,EAAQoU,OAAS,EACnB,OACEzjB,IAAAuX,cAACitD,GAAkB,CACjBntC,QAASA,EACTotC,cAAeA,EACfp1D,QAASA,KAuCZ82D,ICvWP,MAAMzqD,GAAYC,YAAYvH,IAAK,CACjCwH,KAAM,CACJC,QAAS,OACT6Q,SAAU,QAEZkkB,UAAW,CACTt0B,YAAalI,EAAMqpB,QAAQ,GAC3BnP,KAAM,GAGRkU,WAAY,CACVre,SAAU,YAGZ0C,eAAgB,CACdrf,MAAOsf,KAAM,KACb3C,SAAU,WACV4C,IAAK,MACLC,KAAM,MACNvK,WAAY,GACZwK,YAAa,IAEfwb,YAAa,CACXzmB,OAAQ5H,EAAMqpB,QAAQ,GACtBlR,SAAU,KAEZ65C,cAAe,CACblqD,MAAO,GACPM,OAAQ,OAIN6pD,GAAc1jC,OAAaC,MAAM,CACrChiC,KAAM+hC,OACHpB,IAAI,EAAG,cACPC,IAAI,GAAI,aACRqB,SAAS,YACZr7B,MAAOm7B,OAAapB,IAAI,EAAG,cAAcC,IAAI,EAAG,aAAaqB,WAC7Dp7B,gBAAiBk7B,SAqdJ2jC,OAldIjvD,IAAiC,IAAhC,KAAEhO,EAAI,QAAEghB,EAAO,QAAEgN,GAAShgB,EAC5C,MAAMyF,EAAUpB,KAEVqnB,EAAe,CACnBniC,KAAM,GACN4G,MAAO,GACPC,gBAAiB,GACjBE,kBAAmB,GACnBE,WAAY,GACZC,cAAe,GACf+0B,SAAU,KAGL0pC,EAAsBC,GAA2B9vD,oBAAS,IAC1D3P,EAAO0/D,GAAY/vD,mBAASqsB,IAC5BsU,EAAKgB,GAAU3hC,mBAAS,IACxBijD,EAAkBC,GAAuBljD,oBAAS,GACnDgwD,EAAcj2C,oBACbk2C,EAAcC,GAAmBlwD,mBAAS,KAC1CgwC,EAAYC,GAAiBjwC,mBAAS,MACvCkwC,EAAiBn2B,iBAAO,OACvBo2C,EAAeC,GAAoBpwD,oBAAS,IAC5C4U,EAAkBC,GAAuB7U,oBAAS,IAElDnV,EAAWwvD,GAAgBr6C,mBAAS,CACzC,CAAEs6C,QAAS,gBAAiBC,UAAW,SAAUC,UAAW,QAASC,QAAS,SAC9E,CAAEH,QAAS,iBAAeC,UAAW,UAAWC,UAAW,QAASC,QAAS,SAC7E,CAAEH,QAAS,eAAgBC,UAAW,YAAaC,UAAW,QAASC,QAAS,SAChF,CAAEH,QAAS,eAAgBC,UAAW,WAAYC,UAAW,QAASC,QAAS,SAC/E,CAAEH,QAAS,cAAeC,UAAW,SAAUC,UAAW,QAASC,QAAS,SAC5E,CAAEH,QAAS,YAAUC,UAAW,WAAYC,UAAW,QAASC,QAAS,SACzE,CAAEH,QAAS,UAAWC,UAAW,SAAUC,UAAW,QAASC,QAAS,YAEnEvD,EAAgBC,GAAqBn3C,mBAAS,OAC9C5P,EAASgnD,GAAcp3C,mBAAS,IAEvCC,oBAAU,KACR,WACE,IACE,MAAM,KAAErD,SAAegB,GAAIuC,IAAI,WAC/Bi3C,EAAWx6C,EAAKxM,SAChB,MAAOmM,GACPD,GAAWC,KALf,IAQC,IAEH0D,oBAAU,KACRrC,GAAIuC,IAAI,aAAao8B,KAAKtrB,IAAe,IAAd,KAAErU,GAAMqU,EACjC,GAAIivB,MAAMv9B,QAAQ/F,GAAO,CACvB,MAAM+hD,EAAe/hD,EAAKiG,KAAM6a,GAAgB,iBAAVA,EAAE5a,KACpC67C,GACFuE,EAA2C,UAAvBvE,EAAa59C,WAItC,IAEHd,oBAAU,KACR,WACE,IACE,MAAM,KAAErD,SAAegB,GAAIuC,IAAI,qBAE/B+vD,EAAgBtzD,EAAKyzD,mBACrB,MAAO9zD,GACPD,GAAWC,KANf,IASC,IAEH0D,oBAAU,KACR,WACE,GAAK0gB,EACL,IACE,MAAM,KAAE/jB,SAAegB,GAAIuC,IAAI,UAADpD,OAAW4jB,IACzCovC,EAAUjvC,IACD,IAAKA,KAAclkB,KAE5BA,EAAKupB,SAAWgxB,EAAkBv6C,EAAKupB,UAAYgxB,EAAkB,MAErEkD,EAAaz9C,EAAK/R,WAClB,MAAO0R,GACPD,GAAWC,KAXf,GAeO,KACLwzD,EAAS,CACP7lE,KAAM,GACN4G,MAAO,GACPC,gBAAiB,GACjBI,WAAY,GACZC,cAAe,OAGlB,CAACuvB,EAAShuB,IAEb,MAAM+hB,EAAcA,KAClBf,IACAo8C,EAAS1jC,IA0DLirB,EAAsBhiC,IAC1B6hC,EAAkB7hC,EAAEtO,OAAOjG,QAG7B,OACEzX,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQlB,MACvB5b,IAAAuX,cAAC6S,GAAiB,CACf7pB,MAAOgS,KAAKoB,EAAE,4CACdtK,KAAMiiB,EACNjB,QAASA,IAAMkB,GAAoB,GACnCjB,UA1Dc1T,UACd8vC,IACFC,EAAc,MACdC,EAAe51B,QAAQvZ,MAAQ,MAG7B1Q,EAAMiI,kBACFsF,GAAI3S,OAAO,UAAD8R,OAAW1M,EAAM1B,GAAE,kBACnCohE,EAAUphD,IAAI,IAAWA,EAAMrW,UAAW,KAAM1C,UAAW,QAC3DoH,IAAMjT,QAAQ8R,KAAKoB,EAAE,iCAmDlBpB,KAAKoB,EAAE,+CAEV3T,IAAAuX,cAACgT,KAAM,CACLoD,SAAS,KACTb,WAAW,EACXzjB,KAAMA,EACNghB,QAASe,EACTkY,OAAO,SAEPtjC,IAAAuX,cAACkT,KAAW,KACF,GAAAhX,OAAP4jB,EACM9kB,KAAKoB,EAAE,yBACPpB,KAAKoB,EAAE,yBACZ3T,IAAAuX,cAAA,OAAKwM,MAAO,CAAElI,QAAS,SACvB7b,IAAAuX,cAAA,SACEjS,KAAK,OACL6a,IAAKymC,EACLppC,SAAWwO,GApFOA,KAC5B,MAAMi7B,EAAOC,gBAAKl7B,EAAEtO,OAAOvS,OACvB87C,GACFN,EAAcM,IAiFWE,CAAqBn7B,OAI5ChsB,IAAAuX,cAACiiC,KAAI,CACH/hC,MAAO4/B,EACPqC,eAAe,UACfC,UAAU,UACVn8B,SAAUA,CAAC8vC,EAAGnX,IAAMkC,EAAOlC,GAC3B/V,aAAW,yBAEXpgC,IAAAuX,cAACqiC,KAAG,CAACptC,MAAM,kBACVmtD,GAAoB35D,IAAAuX,cAACqiC,KAAG,CAACptC,MAAM,gCAEzB,IAAR6qC,GACCr3C,IAAAuX,cAAC6uB,KAAK,KACJpmC,IAAAuX,cAACgsB,KAAM,CACLC,cAAez8B,EACf08B,oBAAoB,EACpBC,iBAAkB2iC,GAClB1iC,SAAUA,CAACC,EAAQhgC,KACjByf,WAAW,KApFDzM,WACtB,IACE,GAAIygB,GAIH,SAHO/iB,GAAImoB,IAAI,UAADhpB,OAAW4jB,GAAW,IAC9BuM,EAAQriC,YAAWs7B,SAAU+wB,GAAkC,OAEnD,MAAdlH,EAAoB,CACrB,MAAM3C,EAAW,IAAIC,SACrBD,EAASG,OAAO,OAAQwC,SAClBpyC,GAAIsE,KAAK,UAADnF,OAAW4jB,EAAO,iBAAiB0sB,SAMpD,SAHOzvC,GAAIsE,KAAK,SAAU,IACpBgrB,EAAQriC,YAAWs7B,SAAU+wB,GAAkC,OAEnD,MAAdlH,EAAoB,CACrB,MAAM3C,EAAW,IAAIC,SACrBD,EAASG,OAAO,OAAQwC,SAClBpyC,GAAIsE,KAAK,UAADnF,OAAW4jB,EAAO,iBAAiB0sB,GAGrDrwC,IAAMjT,QAAQ,4BACd2qB,IACA,MAAOnY,GACPD,GAAWC,KA6DC+zD,CAAgBpjC,GAChBhgC,EAAQkgC,eAAc,IACrB,OAGJuN,IAAA,IAAC,QAAEtN,EAAO,OAAEC,EAAM,aAAEC,EAAY,OAAEL,GAAQyN,EAAA,OACzCrxC,IAAAuX,cAAC2sB,KAAI,KACHlkC,IAAAuX,cAACmT,KAAa,CAACC,UAAQ,GACrB3qB,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,wBACd0wB,WAAS,EACTzjC,KAAK,OACL2S,MAAOwwB,EAAQnjC,MAAQkwB,QAAQkT,EAAOpjC,MACtC0jC,WAAYP,EAAQnjC,MAAQojC,EAAOpjC,KACnC+c,QAAQ,WACR3B,OAAO,QACPsB,UAAWR,EAAQ8zB,YAErB5wC,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,yBACd/S,KAAK,QACLyE,GAAG,QACH4hE,QAASA,KACPT,GAAwB,GACxBE,EAAY11C,QAAQgP,SAEtBzsB,MAAOwwB,EAAQv8B,OAASspB,QAAQkT,EAAOx8B,OACvC88B,WAAYP,EAAQv8B,OAASw8B,EAAOx8B,MACpC8sC,WAAY,CACVsuB,eACE5iE,IAAAuX,cAACm1C,KAAc,CAACvoC,SAAS,SACvBnkB,IAAAuX,cAAA,OACEwM,MAAO,CAAErH,gBAAiBknB,EAAOp8B,OACjC8V,UAAWR,EAAQspD,iBAIzB7xB,aACEv0C,IAAAuX,cAACsH,IAAU,CACTwI,KAAK,QACL7f,MAAM,UACNqW,QAASA,IAAM2oD,GAAwB,IAEvCxmE,IAAAuX,cAAC2vD,KAAQ,QAIfvpD,QAAQ,WACR3B,OAAO,QACPsB,UAAWR,EAAQ8zB,YAErB5wC,IAAAuX,cAACusD,GAAW,CACVz6D,KAAMk9D,EACNn7C,YAAaA,IAAMo7C,GAAwB,GAC3ChpD,SAAWhW,IACTo8B,EAAOp8B,MAAQA,EACfi/D,EAAS,KACA,IAAK7iC,EAAQp8B,cAI1BxH,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,8BACd/S,KAAK,aACL0E,KAAK,aACLiO,MAAOwwB,EAAQl8B,YAAcipB,QAAQkT,EAAOn8B,YAC5Cy8B,WAAYP,EAAQl8B,YAAcm8B,EAAOn8B,WACzC8V,QAAQ,WACR3B,OAAO,QACPsB,UAAWR,EAAQqqD,aAErBnnE,IAAAuX,cAAA,WACEvX,IAAAuX,cAACwqB,KAAW,CACVpkB,QAAQ,WACR3B,OAAO,QACPsB,UAAWR,EAAQilB,YACnBjV,WAAS,GAET9sB,IAAAuX,cAACyqB,KAAU,CAAC38B,GAAG,iCACZkN,KAAKoB,EAAE,kCAEV3T,IAAAuX,cAAC4sB,KAAK,CACJC,GAAInC,KACJz1B,MAAO+F,KAAKoB,EAAE,iCACd/S,KAAK,gBACLyE,GAAG,gBACH4D,YAAasJ,KAAKoB,EAAE,iCACpB4wB,QAAQ,gCACR9sB,MAAOmsB,EAAO97B,eAAiB,IAE/B9H,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,IAAM,UACtBkvD,EAAatoD,IAAK+oD,GACjBpnE,IAAAuX,cAACwU,IAAQ,CAACvS,IAAK4tD,EAAY/hE,GAAIoS,MAAO2vD,EAAY/hE,IAC/C+hE,EAAYxmE,SAMrBZ,IAAAuX,cAACwqB,KAAW,CACV/lB,OAAO,QACP2B,QAAQ,WACRmP,WAAS,GAET9sB,IAAAuX,cAACyqB,KAAU,KACRzvB,KAAKoB,EAAE,8BAEV3T,IAAAuX,cAAC0qB,KAAM,CACLsC,QAAQ,6BACRl/B,GAAG,uBACHzE,KAAK,WACL6W,MAAOm2C,GAAkB,GACzBpwC,SAAUwwC,EACVxhD,MAAO+F,KAAKoB,EAAE,6BACdmZ,WAAS,EACTsV,UAAW,CACT1W,aAAc,CACZC,SAAU,SACVC,WAAY,QAEdC,gBAAiB,CACfF,SAAU,MACVC,WAAY,QAEdH,mBAAoB,OAGrB3kB,EAAQuX,IAAKja,GACZpE,IAAAuX,cAACwU,IAAQ,CACPvS,IAAKpV,EAAOiB,GACZoS,MAAOrT,EAAOiB,IAEbjB,EAAOxD,UAMlBZ,IAAAuX,cAAA,OAAKwM,MAAO,CAAEtH,UAAW,IACvBzc,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,mCACdrO,KAAK,kBACLs3C,WAAS,EACT3C,SAAUysB,EACV/pB,KAAM,EACN7vB,WAAS,EACTlsB,KAAK,kBACL2S,MACEwwB,EAAQt8B,iBACRqpB,QAAQkT,EAAOv8B,iBAEjB68B,WACEP,EAAQt8B,iBAAmBu8B,EAAOv8B,gBAEpCkW,QAAQ,WACR3B,OAAO,UAER29C,GACC35D,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,qCACdrO,KAAK,oBACLs3C,WAAS,EACTD,KAAM,EACN7vB,WAAS,EACTlsB,KAAK,oBACL2S,MACEwwB,EAAQp8B,mBACRmpB,QAAQkT,EAAOr8B,mBAEjB28B,WACEP,EAAQp8B,mBAAqBq8B,EAAOr8B,kBAEtCgW,QAAQ,WACR3B,OAAO,WAIbhc,IAAAuX,cAACwuD,GAAY,CAAC1uC,QAASA,KACpBtwB,EAAMiI,WAAa03C,IACtB1mD,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIF,MAAI,GAChBlhC,IAAAuX,cAACqG,KAAM,CAACoU,UAAWhyB,IAAAuX,cAAC+O,KAAU,OACb,MAAdogC,EACGA,EAAW9lD,KACXmG,EAAMuF,WAEXu6D,GACC7mE,IAAAuX,cAACsH,IAAU,CACThB,QAASA,IAAM0N,GAAoB,GACnC/jB,MAAM,aAENxH,IAAAuX,cAACwwC,KAAa,SAMtB/nD,IAAAuX,cAACsT,KAAa,MACZ67B,IAAe3/C,EAAMiI,WAAa63D,GAChC7mE,IAAAuX,cAACqG,KAAM,CACLpW,MAAM,UACNqW,QAASA,IAAM+oC,EAAe51B,QAAQg3B,QACtCvmD,SAAUwiC,EACVtmB,QAAQ,YAEPpL,KAAKoB,EAAE,8BAGZ3T,IAAAuX,cAACqG,KAAM,CACLC,QAASuN,EACT5jB,MAAM,YACN/F,SAAUwiC,EACVtmB,QAAQ,YAEPpL,KAAKoB,EAAE,8BAEV3T,IAAAuX,cAACqG,KAAM,CACLtY,KAAK,SACLkC,MAAM,UACN/F,SAAUwiC,EACVtmB,QAAQ,YACRL,UAAWR,EAAQ0lB,YAEX,GAAA/uB,OAAP4jB,EACM9kB,KAAKoB,EAAE,6BACPpB,KAAKoB,EAAE,6BACbswB,GACCjkC,IAAAuX,cAAC6P,KAAgB,CACfC,KAAM,GACN/J,UAAWR,EAAQ+J,uBAU5B,IAARwwB,GACCr3C,IAAAuX,cAAC6uB,KAAK,CAACriB,MAAO,CAAEuJ,QAAS,KACvBttB,IAAAuX,cAACs5C,GAAa,CACZr6C,SAAS,EACTmtB,SAhTgB/sB,UAC1BlD,IAAMjT,QAAQ,sDACdswD,EAAantB,GACbyU,EAAO,IA8SG7U,cAAejiC,EACfuvD,gBAAgB,kBC5f9B,MAAMp1C,GAAYC,YAAYvH,IAAK,CACjC4wB,UAAW,CACT1W,KAAM,EACNhB,QAASlZ,EAAMqpB,QAAQ,GACvBzZ,UAAW,YACR5P,EAAMmZ,iBAEX4/B,gBAAiB,CACftxC,QAAS,OACTE,WAAY,SACZ6T,eAAgB,aAIdpa,GAAUA,CAACC,EAAOC,KACtB,GAAoB,gBAAhBA,EAAOpQ,KAAwB,CACjC,MAAMoF,EAASgL,EAAOC,QAChB0xD,EAAY,GAWlB,OATA38D,EAAOkW,QAAS7Z,IACd,MAAMugE,EAAa7xD,EAAMK,UAAWwhB,GAAMA,EAAEjyB,KAAO0B,EAAM1B,KACrC,IAAhBiiE,EACF7xD,EAAM6xD,GAAcvgE,EAEpBsgE,EAAU9sD,KAAKxT,KAIZ,IAAI0O,KAAU4xD,GAGvB,GAAoB,kBAAhB3xD,EAAOpQ,KAA0B,CACnC,MAAMyB,EAAQ2O,EAAOC,QACf2xD,EAAa7xD,EAAMK,UAAWgL,GAAMA,EAAEzb,KAAO0B,EAAM1B,IAEzD,OAAoB,IAAhBiiE,GACF7xD,EAAM6xD,GAAcvgE,EACb,IAAI0O,IAEJ,CAAC1O,KAAU0O,GAItB,GAAoB,iBAAhBC,EAAOpQ,KAAyB,CAClC,MAAM+xB,EAAU3hB,EAAOC,QACjB2xD,EAAa7xD,EAAMK,UAAWwhB,GAAMA,EAAEjyB,KAAOgyB,GAInD,OAHoB,IAAhBiwC,GACF7xD,EAAMU,OAAOmxD,EAAY,GAEpB,IAAI7xD,GAGb,GAAoB,UAAhBC,EAAOpQ,KACT,MAAO,IAuMIiiE,OAnMAA,KACb,MAAMzqD,EAAUpB,MAEThR,EAAQ4L,GAAYC,qBAAWf,GAAS,KACxCgB,EAASC,GAAcC,oBAAS,IAEhC8wD,EAAgBC,GAAqB/wD,oBAAS,IAC9Cu7B,EAAeC,GAAoBx7B,mBAAS,OAC5Cy4C,EAAkBC,GAAuB14C,oBAAS,GAEzDC,oBAAU,KACR,WACEF,GAAW,GACX,IACE,MAAM,KAAEnD,SAAegB,GAAIuC,IAAI,UAC/BP,EAAS,CAAEhR,KAAM,cAAeqQ,QAASrC,IAEzCmD,GAAW,GACX,MAAOxD,GACPD,GAAWC,GACXwD,GAAW,KATf,IAYC,IAEHE,oBAAU,KACR,MAAMI,EAAY/B,aAAaC,QAAQ,aACjC+B,EAASnC,GAAiB,CAAEkC,cAYlC,OAVAC,EAAOC,GAAG,WAADxD,OAAYsD,EAAS,UAAWzD,IACnB,WAAhBA,EAAKoC,QAAuC,WAAhBpC,EAAKoC,QACnCY,EAAS,CAAEhR,KAAM,gBAAiBqQ,QAASrC,EAAKvM,QAG9B,WAAhBuM,EAAKoC,QACPY,EAAS,CAAEhR,KAAM,eAAgBqQ,QAASrC,EAAK+jB,YAI5C,KACLrgB,EAAOlU,eAER,IAgCH,OACE9C,IAAAuX,cAACw1C,GAAa,KACZ/sD,IAAAuX,cAAC6S,GAAiB,CAChB7pB,MACE0xC,GAAa,GAAAx+B,OACVlB,KAAKoB,EAAE,wCAAuC,KAAAF,OAC/Cw+B,EAAcrxC,KAAI,KAGtByI,KAAM8lD,EACN9kC,QAzB+Bq9C,KACnCtY,GAAoB,GACpBld,EAAiB,OAwBb5nB,UAAWA,IArBS1T,WACxB,UACQtC,GAAI3S,OAAO,UAAD8R,OAAW4jB,IAC3B3jB,IAAMjT,QAAQ8R,KAAKoB,EAAE,gCACrB,MAAOV,GACPD,GAAWC,GAEbi/B,EAAiB,OAcIy1B,CAAkB11B,EAAc5sC,KAEhDkN,KAAKoB,EAAE,2CAEV3T,IAAAuX,cAAC+uD,GAAU,CACTj9D,KAAMm+D,EACNn9C,QA1CwBu9C,KAC5BH,GAAkB,GAClBv1B,EAAiB,OAyCb7a,QAAsB,OAAb4a,QAAa,IAAbA,OAAa,EAAbA,EAAe5sC,KAE1BrF,IAAAuX,cAAC01C,GAAU,KACTjtD,IAAAuX,cAAC+yB,GAAK,KAAE/3B,KAAKoB,EAAE,iBACf3T,IAAAuX,cAAC21C,GAAwB,KACvBltD,IAAAuX,cAACqG,KAAM,CACLD,QAAQ,YACRnW,MAAM,UACNqW,QAxDmBgqD,KAC3BJ,GAAkB,GAClBv1B,EAAiB,QAwDR3/B,KAAKoB,EAAE,yBAId3T,IAAAuX,cAAC6uB,KAAK,CAAC9oB,UAAWR,EAAQkoB,UAAWrnB,QAAQ,YAC3C3d,IAAAuX,cAACu1B,KAAK,CAACzlB,KAAK,SACVrnB,IAAAuX,cAACw1B,KAAS,KACR/sC,IAAAuX,cAACy1B,KAAQ,KACPhtC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,sBAEV3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,uBAEV3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,4BAEV3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,0BAEV3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,2BAId3T,IAAAuX,cAAC41B,KAAS,KACRntC,IAAAuX,cAAAvX,IAAAikB,SAAA,KACGvZ,EAAO2T,IAAKtX,GACX/G,IAAAuX,cAACy1B,KAAQ,CAACxzB,IAAKzS,EAAM1B,IACnBrF,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAUnmC,EAAMnG,MACjCZ,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACfltC,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQqwC,iBACtBntD,IAAAuX,cAAA,QACEwM,MAAO,CACLrH,gBAAiB3V,EAAMS,MACvB0U,MAAO,GACPM,OAAQ,GACRsR,UAAW,cAKnB9tB,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACfltC,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQqwC,iBACtBntD,IAAAuX,cAACqT,IAAU,CACT7G,MAAO,CAAE7H,MAAO,IAAKgxB,MAAO,UAC5BhY,QAAM,EACNvX,QAAQ,SAEP5W,EAAMc,cAIb7H,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACfltC,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQqwC,iBACtBntD,IAAAuX,cAACqT,IAAU,CACT7G,MAAO,CAAE7H,MAAO,IAAKgxB,MAAO,UAC5BhY,QAAM,EACNvX,QAAQ,SAEP5W,EAAMU,mBAIbzH,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACfltC,IAAAuX,cAACsH,IAAU,CACTwI,KAAK,QACLxJ,QAASA,IAnHJ9W,KACvBmrC,EAAiBnrC,GACjB0gE,GAAkB,IAiHeK,CAAgB/gE,IAE/B/G,IAAAuX,cAACk5C,KAAI,OAGPzwD,IAAAuX,cAACsH,IAAU,CACTwI,KAAK,QACLxJ,QAASA,KACPq0B,EAAiBnrC,GACjBqoD,GAAoB,KAGtBpvD,IAAAuX,cAACwwC,KAAa,UAKrBvxC,GAAWxW,IAAAuX,cAAC61C,GAAgB,CAACC,QAAS,U,UClPrD,MAAM3xC,GAAYC,YAAWvH,IAAK,CACjCwH,KAAM,CACLC,QAAS,OACT6Q,SAAU,QAEX6V,cAAe,CACd1mB,QAAS,OACT,yBAA0B,CACzBS,YAAalI,EAAMqpB,QAAQ,KAI7B+E,WAAY,CACXre,SAAU,YAGX0C,eAAgB,CACfrf,MAAOsf,KAAM,KACb3C,SAAU,WACV4C,IAAK,MACLC,KAAM,MACNvK,WAAY,GACZwK,YAAa,IAEdwb,YAAa,CACZzmB,OAAQ5H,EAAMqpB,QAAQ,GACtBlR,SAAU,KAEX65C,cAAe,CACdlqD,MAAO,GACPM,OAAQ,OAIJurD,GAAYplC,OAAaC,MAAM,CACpChiC,KAAM+hC,OACJpB,IAAI,EAAG,wBACPsB,SAAS,oBAyMGmlC,OAtME3wD,IAAuC,IAAtC,KAAEhO,EAAI,QAAEghB,EAAO,MAAE49C,EAAK,OAAE9+B,GAAQ9xB,EACjD,MAAMyF,EAAUpB,MACV,KAAEpQ,GAAS6V,qBAAWzG,KACrB6rD,EAAsBC,GAA2B9vD,oBAAS,GAE3DqsB,EAAe,CACpBniC,KAAM,GACN4G,MAAO,GACP0gE,OAAQ,IAGFpwC,EAAK0C,GAAU9jB,mBAASqsB,IACvBmlC,EAAQC,GAAazxD,mBAAS,GAEtCC,oBAAU,KACT,IACC,WACC,IAAKsxD,EAAO,OAEZ,MAAM,KAAE30D,SAAegB,GAAIuC,IAAI,SAADpD,OAAUw0D,IACxCE,EAAU70D,EAAK40D,QACf1tC,EAAOhD,IACC,IAAKA,KAAclkB,MAN5B,GASC,MAAOL,GACRD,GAAWC,KAEV,CAACg1D,EAAO5+D,IAEX,MAAM+hB,EAAcA,KACnBoP,EAAOuI,GACPyjC,GAAwB,GACxBn8C,KAGK+9C,EAAsBp8C,IAC3Bm8C,EAAWn8C,EAAEtO,OAAOk4B,QAAU,EAAI,IAqBnC,OACC51C,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQlB,MACvB5b,IAAAuX,cAACgT,KAAM,CACNlhB,KAAMA,EACNghB,QAASe,EACTuC,SAAS,KACTb,WAAS,EACTwW,OAAO,SAEPtjC,IAAAuX,cAACkT,KAAW,CAACplB,GAAG,qBACR,GAAAoO,OAALw0D,EAAW11D,KAAKoB,EAAE,uBAA8BpB,KAAKoB,EAAE,wBAE1D3T,IAAAuX,cAACgsB,KAAM,CACNC,cAAe1L,EACf2L,oBAAoB,EACpBC,iBAAkBqkC,GAClBpkC,SAAUA,CAACC,EAAQhgC,KAClByf,WAAW,KAnCMzM,WACrB,MAAMyxD,EAAU,IAAKzkC,EAAQ7uB,OAAQzJ,EAAKjG,GAAI6iE,UAC9C,IACKD,QACG3zD,GAAImoB,IAAI,SAADhpB,OAAUw0D,GAASI,SAE1B/zD,GAAIsE,KAAK,QAASyvD,GAEzB30D,IAAMjT,QAAQ8R,KAAKoB,EAAE,qBACA,mBAAVw1B,GACVA,IAEA,MAAOl2B,GACRD,GAAWC,GAEZmY,KAqBKk9C,CAAc1kC,GACdhgC,EAAQkgC,eAAc,IACpB,OAGHnc,IAAA,IAAC,QAAEoc,EAAO,OAAEC,EAAM,aAAEC,EAAY,OAAEL,GAAQjc,EAAA,OAC1C3nB,IAAAuX,cAAC2sB,KAAI,KACJlkC,IAAAuX,cAACmT,KAAa,CAACC,UAAQ,GACtB3qB,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQylB,eACvBviC,IAAAuX,cAAC4sB,KAAK,CACLC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,sBACd/S,KAAK,OACL2S,MAAOwwB,EAAQnjC,MAAQkwB,QAAQkT,EAAOpjC,MACtC0jC,WAAYP,EAAQnjC,MAAQojC,EAAOpjC,KACnC+c,QAAQ,WACR3B,OAAO,QACPwB,SAAWwO,GAAMwO,EAAOnV,IAAI,IAAUA,EAAMzkB,KAAMorB,EAAEtO,OAAOjG,SAC3DqV,WAAS,KAGX9sB,IAAAuX,cAAA,WACAvX,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQylB,eACvBviC,IAAAuX,cAAC4sB,KAAK,CACLC,GAAI7mB,KACJuP,WAAS,EACTtgB,MAAO+F,KAAKoB,EAAE,uBACd/S,KAAK,QACLyE,GAAG,QACHkO,MAAOwwB,EAAQv8B,OAASspB,QAAQkT,EAAOx8B,OACvC88B,WAAYP,EAAQv8B,OAASw8B,EAAOx8B,MACpC8sC,WAAY,CACXsuB,eACC5iE,IAAAuX,cAACm1C,KAAc,CAACvoC,SAAS,SACxBnkB,IAAAuX,cAAA,OACCwM,MAAO,CAAErH,gBAAiBknB,EAAOp8B,OACjC8V,UAAWR,EAAQspD,iBAItB7xB,aACCv0C,IAAAuX,cAACsH,IAAU,CACVwI,KAAK,QACL7f,MAAM,UACNqW,QAASA,IAAM2oD,GAAyBD,IAExCvmE,IAAAuX,cAAC2vD,KAAQ,QAIZvpD,QAAQ,WACR3B,OAAO,YAGU,UAAjB1Q,EAAKrD,SAAwC,eAAjBqD,EAAKrD,UACXjI,IAAAuX,cAAAvX,IAAAikB,SAAA,KACxBjkB,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQylB,eACjBviC,IAAAuX,cAAC4iC,KAAgB,CACdE,QACEr6C,IAAAuX,cAACo+B,KAAQ,CACPC,QAAoB,IAAXsyB,EACT1qD,SAAU4qD,EACT3wD,MAAOywD,EACP1gE,MAAM,YAGXgF,MAAM,SACN4tC,eAAe,WAGpBp6C,IAAAuX,cAAA,YAGJgvD,GACAvmE,IAAAuX,cAAA,WACCvX,IAAAuX,cAACgxD,KAAQ,CACRC,cAAc,EACdC,aAAa,EACb1kD,MAAO,CAAE/H,OAAQ,eACjBvE,MAAOqgB,EAAItwB,MACXgW,SAAUi9B,IACTjgB,EAAOnV,IAAI,IAAUA,EAAM7d,MAAM,IAADiM,OAAMgnC,EAAI4pB,aAM/CrkE,IAAAuX,cAACsT,KAAa,KACb7qB,IAAAuX,cAACqG,KAAM,CACNC,QAASuN,EACT5jB,MAAM,YACN/F,SAAUwiC,EACVtmB,QAAQ,YAEPpL,KAAKoB,EAAE,4BAET3T,IAAAuX,cAACqG,KAAM,CACNtY,KAAK,SACLkC,MAAM,UACN/F,SAAUwiC,EACVtmB,QAAQ,YACRL,UAAWR,EAAQ0lB,YAEb,GAAA/uB,OAALw0D,EACK11D,KAAKoB,EAAE,2BACPpB,KAAKoB,EAAE,2BACZswB,GACAjkC,IAAAuX,cAAC6P,KAAgB,CAChBC,KAAM,GACN/J,UAAWR,EAAQ+J,yBCvN9B,MAAMrR,GAAUA,CAACC,EAAOC,KACtB,GAAoB,cAAhBA,EAAOpQ,KAAsB,CAC/B,MAAMqF,EAAO+K,EAAOC,QACd+yD,EAAU,GAWhB,OATA/9D,EAAKiW,QAASkX,IACZ,MAAM6wC,EAAWlzD,EAAMK,UAAWC,GAAMA,EAAE1Q,KAAOyyB,EAAIzyB,KACnC,IAAdsjE,EACFlzD,EAAMkzD,GAAY7wC,EAElB4wC,EAAQnuD,KAAKud,KAIV,IAAIriB,KAAUizD,GAGvB,GAAoB,gBAAhBhzD,EAAOpQ,KAAwB,CACjC,MAAMwyB,EAAMpiB,EAAOC,QACbgzD,EAAWlzD,EAAMK,UAAWC,GAAMA,EAAE1Q,KAAOyyB,EAAIzyB,IAErD,OAAkB,IAAdsjE,GACFlzD,EAAMkzD,GAAY7wC,EACX,IAAIriB,IAEJ,CAACqiB,KAAQriB,GAIpB,GAAoB,eAAhBC,EAAOpQ,KAAuB,CAChC,MAAM2iE,EAAQvyD,EAAOC,QAEfgzD,EAAWlzD,EAAMK,UAAWC,GAAMA,EAAE1Q,KAAO4iE,GAIjD,OAHkB,IAAdU,GACFlzD,EAAMU,OAAOwyD,EAAU,GAElB,IAAIlzD,GAGb,GAAoB,UAAhBC,EAAOpQ,KACT,MAAO,IAILoW,GAAYC,YAAYvH,IAAK,CACjC4wB,UAAW,CACT1W,KAAM,EACNhB,QAASlZ,EAAMqpB,QAAQ,GACvBzZ,UAAW,YACR5P,EAAMmZ,oBAoNEq7C,OAhNFA,KACX,MAAM9rD,EAAUpB,MAEV,KAAEpQ,GAAS6V,qBAAWzG,KAErBlE,EAASC,GAAcC,oBAAS,IAChC8L,EAAYC,GAAiB/L,mBAAS,IACtC4Z,EAASC,GAAc7Z,oBAAS,IAChCmyD,EAAaC,GAAkBpyD,mBAAS,OACxCqyD,EAAaC,GAAkBtyD,mBAAS,OACxCy4C,EAAkBC,GAAuB14C,oBAAS,IAClDgM,EAAaovB,GAAkBp7B,mBAAS,KACxC/L,EAAM2L,GAAYC,qBAAWf,GAAS,KACtCyzD,EAAcC,GAAmBxyD,oBAAS,GAE3CyyD,EAAYzZ,sBAAY94C,UAC5B,IACE,MAAM,KAAEtD,SAAegB,GAAIuC,IAAI,SAAU,CACvC/B,OAAQ,CAAE4N,cAAaF,gBAEzBlM,EAAS,CAAEhR,KAAM,YAAaqQ,QAASrC,EAAK3I,OAC5C4lB,EAAWjd,EAAKgd,SAChB7Z,GAAW,GACX,MAAOxD,GACPD,GAAWC,KAEZ,CAACyP,EAAaF,IAEjB7L,oBAAU,KACRL,EAAS,CAAEhR,KAAM,UACjBmd,EAAc,IACb,CAACC,IAEJ/L,oBAAU,KACRF,GAAW,GACX,MAAM2M,EAAkBC,WAAW,KACjC8lD,KACC,KACH,MAAO,IAAM5lD,aAAaH,IACzB,CAACV,EAAaF,EAAY2mD,IAE7BxyD,oBAAU,KACR,MAAMK,EAASnC,GAAiB,CAAEkC,UAAWzL,EAAKyL,YAYlD,OAVAC,EAAOC,GAAG,OAAS3D,IACG,WAAhBA,EAAKoC,QAAuC,WAAhBpC,EAAKoC,QACnCY,EAAS,CAAEhR,KAAM,cAAeqQ,QAASrC,EAAK3I,OAG5B,WAAhB2I,EAAKoC,QACPY,EAAS,CAAEhR,KAAM,cAAeqQ,SAAUrC,EAAK20D,UAI5C,KACLjxD,EAAOlU,eAER,CAACwI,IAiDJ,OACEtL,IAAAuX,cAACw1C,GAAa,KACZ/sD,IAAAuX,cAAC6S,GAAiB,CAChB7pB,MAAOwoE,GAAW,GAAAt1D,OAAOlB,KAAKoB,EAAE,uCAChCtK,KAAM8lD,EACN9kC,QAAS+kC,EACT9kC,UAAWA,IAlCO1T,WACtB,UACQtC,GAAI3S,OAAO,SAAD8R,OAAUw0D,IAC1Bv0D,IAAMjT,QAAQ8R,KAAKoB,EAAE,wBACrB,MAAOV,GACPD,GAAWC,GAEb+1D,EAAe,MACfl3B,EAAe,IACfrvB,EAAc,GAEdnM,EAAS,CAAEhR,KAAM,UACjBmd,EAAc,SACR0mD,KAqBeC,CAAgBL,EAAY1jE,KAE5CkN,KAAKoB,EAAE,yCAEV3T,IAAAuX,cAACywD,GAAQ,CACP3+D,KAAM4/D,EACN5+C,QAtDsBg/C,KAC1BP,EAAe,MACfI,GAAgB,IAqDZ//B,OAAQggC,EACR3+C,kBAAgB,oBAChBy9C,MAAOY,GAAeA,EAAYxjE,KAEpCrF,IAAAuX,cAAC01C,GAAU,KACTjtD,IAAAuX,cAAC+yB,GAAK,KAAE/3B,KAAKoB,EAAE,eACf3T,IAAAuX,cAAC21C,GAAwB,KACvBltD,IAAAuX,cAACgG,KAAS,CACRtU,YAAasJ,KAAKoB,EAAE,8BACpBrO,KAAK,SACLmS,MAAOiL,EACPlF,SA7DYC,IACpBq0B,EAAer0B,EAAMC,OAAOjG,MAAMs/B,gBA6D1BzC,WAAY,CACVsuB,eACE5iE,IAAAuX,cAACm1C,KAAc,CAACvoC,SAAS,SACvBnkB,IAAAuX,cAACwiC,KAAU,CAACh2B,MAAO,CAAEvc,MAAO,cAKpCxH,IAAAuX,cAACqG,KAAM,CACLD,QAAQ,YACRnW,MAAM,UACNqW,QAnFiByrD,KACzBR,EAAe,MACfI,GAAgB,KAmFP32D,KAAKoB,EAAE,uBAId3T,IAAAuX,cAAC6uB,KAAK,CACJ9oB,UAAWR,EAAQkoB,UACnBrnB,QAAQ,WACR2V,SArDgBtH,IACpB,IAAKsE,GAAW9Z,EAAS,OACzB,MAAM,UAAE+c,EAAS,aAAE8S,EAAY,aAAEC,GAAiBta,EAAEsF,cAChD+U,GAAgB9S,EAAY,KAAO+S,GANvC7jB,EAAe+U,GAAcA,EAAY,KA0DrCx3B,IAAAuX,cAACu1B,KAAK,CAACzlB,KAAK,SACVrnB,IAAAuX,cAACw1B,KAAS,KACR/sC,IAAAuX,cAACy1B,KAAQ,KACPhtC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAU36B,KAAKoB,EAAE,oBAClC3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,uBAEV3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,yBAId3T,IAAAuX,cAAC41B,KAAS,KACRntC,IAAAuX,cAAAvX,IAAAikB,SAAA,KACGtZ,EAAK0T,IAAKyZ,GACT93B,IAAAuX,cAACy1B,KAAQ,CAACxzB,IAAKse,EAAIzyB,IACjBrF,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACfltC,IAAAuX,cAAC+qB,KAAI,CACH3kB,QAAQ,WACRoG,MAAO,CACLrH,gBAAiBob,EAAItwB,MACrB+uC,WAAY,mBACZ/uC,MAAO,SAETgF,MAAOsrB,EAAIl3B,KACXymB,KAAK,WAGTrnB,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAUpV,EAAIgd,cAC/B90C,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACfltC,IAAAuX,cAACsH,IAAU,CAACwI,KAAK,QAAQxJ,QAASA,IA9G7Bia,KACrBgxC,EAAehxC,GACfoxC,GAAgB,IA4GwCK,CAAczxC,IACpD93B,IAAAuX,cAACwH,KAAQ,OAGX/e,IAAAuX,cAACsH,IAAU,CACTwI,KAAK,QACLxJ,QAAUmO,IACRojC,GAAoB,GACpB4Z,EAAelxC,KAGjB93B,IAAAuX,cAACg6B,KAAiB,UAKzB/6B,GAAWxW,IAAAuX,cAAC61C,GAAgB,CAACC,QAAS,UCxRrD,MAAM3xC,GAAYC,YAAYvH,IAAK,CACjC4wB,UAAW,CACT1W,KAAM,EACNhB,QAASlZ,EAAMqpB,QAAQ,GACvBxP,cAAe,KAEjBu7C,WAAY,CACV/sD,UAAWrI,EAAMqpB,QAAQ,IAE3BgsC,cAAe,CACbhtD,UAAWrI,EAAMqpB,QAAQ,IAE3BisC,cAAe,CACb/7C,SAAU,KAEZmkC,UAAW,CACTztC,UAAW,YAySAslD,OArSKA,KAClB,MAAM7sD,EAAUpB,MAETkuD,GAAwBlzD,mBAAS,CAAExU,MAAO,GAAGiF,OAAQ,GAAIgB,KAAM,MAC/D0hE,GAAyBnzD,mBAAS,CAAExU,MAAO,GAAIiF,OAAQ,GAAI47C,OAAQ,MACnEkE,EAAM6iB,GAAWpzD,mBAAS,IA0MjC,OACE1W,IAAAuX,cAAC6uB,KAAK,CACJ9oB,UAAWR,EAAQkoB,UACnBrnB,QAAQ,YAER3d,IAAAuX,cAACqT,IAAU,CAACjN,QAAQ,MAAK,8CAGzB3d,IAAAuX,cAACqT,IAAU,CAACjN,QAAQ,KAAKnW,MAAM,UAAU8V,UAAWR,EAAQ2sD,eAAe,uBAG3EzpE,IAAAuX,cAACqT,IAAU,CAACnK,UAAU,OACpBzgB,IAAAuX,cAAA,UACEvX,IAAAuX,cAAA,UAAI,sBACJvX,IAAAuX,cAAA,UAAI,wBAGRvX,IAAAuX,cAACqT,IAAU,CAACjN,QAAQ,KAAKnW,MAAM,UAAU8V,UAAWR,EAAQ2sD,eAAe,oBAG3EzpE,IAAAuX,cAACqT,IAAU,CAACtN,UAAWR,EAAQ2sD,cAAehpD,UAAU,OACtDzgB,IAAAuX,cAAA,SAAG,iCAA2BvX,IAAAuX,cAAA,WAC9BvX,IAAAuX,cAAA,UACEvX,IAAAuX,cAAA,UAAI,4HAA0GvX,IAAAuX,cAAA,WAAK,mIACnHvX,IAAAuX,cAAA,UAAI,kGAEAvX,IAAAuX,cAAA,UACEvX,IAAAuX,cAAA,UAAI,wBACJvX,IAAAuX,cAAA,UAAI,OACJvX,IAAAuX,cAAA,UAAI,iBAKdvX,IAAAuX,cAACqT,IAAU,CAACjN,QAAQ,KAAKnW,MAAM,UAAU8V,UAAWR,EAAQ2sD,eAAe,yBAG3EzpE,IAAAuX,cAACypB,KAAI,CAACC,WAAS,GACbjhC,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAIuO,GAAI,GACrB3vC,IAAAuX,cAACqT,IAAU,CAACtN,UAAWR,EAAQ2sD,cAAehpD,UAAU,OACtDzgB,IAAAuX,cAAA,SAAG,gGACHvX,IAAAuX,cAAA,SAAG,cAAc,IAhPlB7C,0CAgPkC,IAAC1U,IAAAuX,cAAA,WAClCvX,IAAAuX,cAAA,SAAG,eAAY,SAAMvX,IAAAuX,cAAA,WACrBvX,IAAAuX,cAAA,SAAG,aAAa,iEAA8DvX,IAAAuX,cAAA,WAC9EvX,IAAAuX,cAAA,SAAG,UAAU,IAAE,yDAGnBvX,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAIuO,GAAI,GACrB3vC,IAAAuX,cAACqT,IAAU,CAACtN,UAAWR,EAAQ2sD,eAC7BzpE,IAAAuX,cAAA,SAAG,mBApMTvX,IAAAuX,cAACgsB,KAAM,CACLC,cAAeomC,EACfnmC,oBAAoB,EACpBE,SAAUA,CAACC,EAAQhgC,KACjByf,WAAWzM,eArDWA,WAC5B,MAAM,OAAEzP,EAAM,KAAEgB,GAASy7B,EACnBtwB,EAAO,CAAEnM,SAAQgB,QACvB,IAAIkH,EAAU,CACZgQ,OAAQ,OACRD,IAAI,GAAD3L,OAAKiB,wBAAiC,sBACzCyD,QAAS,CACP,eAAgB,mBAChBa,cAAc,UAADvF,OAAYmwB,EAAO1hC,QAElCoR,QAGFiB,KAAM0D,QAAQ5I,GAAS4jC,MAAK,SAAU5/B,GACpCK,IAAMjT,QAAQ,mCACbspE,OAAM,SAAUx2D,GACjBP,GAAWO,OAsCCy2D,CAAsBpmC,GAC5BhgC,EAAQkgC,eAAc,GACtBlgC,EAAQ2uD,aACP,MAELj1C,UAAWR,EAAQ2sD,eAElBpyD,IAAA,IAAC,aAAE4sB,GAAc5sB,EAAA,OAChBrX,IAAAuX,cAAC2sB,KAAI,CAAC5mB,UAAWR,EAAQ4sD,eACvB1pE,IAAAuX,cAACypB,KAAI,CAACC,WAAS,EAACxD,QAAS,GACvBz9B,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAIwO,GAAI,GACrB5vC,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,iCACd/S,KAAK,QACLyjC,WAAS,EACT1mB,QAAQ,WACR3B,OAAO,QACP8Q,WAAS,EACTxP,UAAWR,EAAQ8zB,UACnB/N,UAAQ,KAGZ7iC,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAIwO,GAAI,GACrB5vC,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,kCACd/S,KAAK,SACLyjC,WAAS,EACT1mB,QAAQ,WACR3B,OAAO,QACP8Q,WAAS,EACTxP,UAAWR,EAAQ8zB,UACnB/N,UAAQ,KAGZ7iC,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,IACbphC,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,gCACd/S,KAAK,OACLyjC,WAAS,EACT1mB,QAAQ,WACR3B,OAAO,QACP8Q,WAAS,EACTxP,UAAWR,EAAQ8zB,UACnB/N,UAAQ,KAGZ7iC,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAI9jB,UAAWR,EAAQg1C,WACpC9xD,IAAAuX,cAACqG,KAAM,CACdtY,KAAK,SACLkC,MAAM,UACNmW,QAAQ,YACRL,UAAWR,EAAQ0lB,YAElByB,EACAjkC,IAAAuX,cAAC6P,KAAgB,CAChBC,KAAM,GACN/J,UAAWR,EAAQ+J,iBAEjB,iBAuIP7mB,IAAAuX,cAACqT,IAAU,CAACjN,QAAQ,KAAKnW,MAAM,UAAU8V,UAAWR,EAAQ2sD,eAAe,yBAG3EzpE,IAAAuX,cAACypB,KAAI,CAACC,WAAS,GACbjhC,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAIuO,GAAI,GACrB3vC,IAAAuX,cAACqT,IAAU,CAACtN,UAAWR,EAAQ2sD,cAAehpD,UAAU,OACtDzgB,IAAAuX,cAAA,SAAG,gGACHvX,IAAAuX,cAAA,SAAG,cAAc,IApQlB7C,0CAoQkC,IAAC1U,IAAAuX,cAAA,WAClCvX,IAAAuX,cAAA,SAAG,eAAY,SAAMvX,IAAAuX,cAAA,WACrBvX,IAAAuX,cAAA,SAAG,aAAa,oEAAiEvX,IAAAuX,cAAA,WACjFvX,IAAAuX,cAAA,SAAG,cAAc,IAACvX,IAAAuX,cAAA,WAClBvX,IAAAuX,cAAA,UACEvX,IAAAuX,cAAA,UACEvX,IAAAuX,cAAA,SAAG,YAAY,iBAEjBvX,IAAAuX,cAAA,UACEvX,IAAAuX,cAAA,SAAG,YAAY,eAKvBvX,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAIuO,GAAI,GACrB3vC,IAAAuX,cAACqT,IAAU,CAACtN,UAAWR,EAAQ2sD,eAC7BzpE,IAAAuX,cAAA,SAAG,mBAlJTvX,IAAAuX,cAACgsB,KAAM,CACLC,cAAeqmC,EACfpmC,oBAAoB,EACpBE,SAAUA,CAACC,EAAQhgC,KACjByf,WAAWzM,eA/GYA,WAC7B,IACE,MAAMqzD,EAAahjB,EAAK,GAClB3zC,EAAO,IAAI0wC,SACjB1wC,EAAK4wC,OAAO,SAAUtgB,EAAOz8B,QAC7BmM,EAAK4wC,OAAO,OAAQ+lB,EAAUrpE,MAC9B0S,EAAK4wC,OAAO,SAAU+lB,GACtB,IAAI56D,EAAU,CACZgQ,OAAQ,OACRD,IAAI,GAAD3L,OAAKiB,wBAAiC,sBACzCyD,QAAS,CACP,eAAgB,sBAChBa,cAAc,UAADvF,OAAYmwB,EAAO1hC,QAElCoR,QAGFiB,KAAM0D,QAAQ5I,GAAS4jC,MAAK,SAAU5/B,GACpCK,IAAMjT,QAAQ,mCACbspE,OAAM,SAAUx2D,GACjBP,GAAWO,MAEb,MAAON,GACPD,GAAWC,KA0FCi3D,CAAuBtmC,GAC7BhgC,EAAQkgC,eAAc,GACtBlgC,EAAQ2uD,YACR/+B,SAASC,eAAe,UAAUtoB,MAAQ,KAC1CqoB,SAASC,eAAe,UAAUhc,MAAQ,MACzC,MAEL6F,UAAWR,EAAQ2sD,eAElB9hD,IAAA,IAAC,aAAEsc,GAActc,EAAA,OAChB3nB,IAAAuX,cAAC2sB,KAAI,CAAC5mB,UAAWR,EAAQ4sD,eACvB1pE,IAAAuX,cAACypB,KAAI,CAACC,WAAS,EAACxD,QAAS,GACvBz9B,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAIwO,GAAI,GACrB5vC,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,kCACd/S,KAAK,QACLyjC,WAAS,EACT1mB,QAAQ,WACR3B,OAAO,QACP8Q,WAAS,EACTxP,UAAWR,EAAQ8zB,UACnB/N,UAAQ,KAGZ7iC,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAIwO,GAAI,GACrB5vC,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,mCACd/S,KAAK,SACLyjC,WAAS,EACT1mB,QAAQ,WACR3B,OAAO,QACP8Q,WAAS,EACTxP,UAAWR,EAAQ8zB,UACnB/N,UAAQ,KAGZ7iC,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,IACbphC,IAAAuX,cAAA,SAAOjS,KAAK,OAAO1E,KAAK,SAASyE,GAAG,SAASw9B,UAAQ,EAACrlB,SAAWwO,GAAM89C,EAAQ99C,EAAEtO,OAAOvS,UAE1FnL,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAI9jB,UAAWR,EAAQg1C,WACpC9xD,IAAAuX,cAACqG,KAAM,CACdtY,KAAK,SACLkC,MAAM,UACNmW,QAAQ,YACRL,UAAWR,EAAQ0lB,YAElByB,EACAjkC,IAAAuX,cAAC6P,KAAgB,CAChBC,KAAM,GACN/J,UAAWR,EAAQ+J,iBAEjB,mB,UC5Nb,MAAMnL,GAAYC,YAAWvH,IAAK,CAChC+1D,mBAAoB,CAClBnmD,UAAW,OACXuZ,UAAW,uBAEbyH,UAAW,CACT9oB,MAAO,OACPL,QAAS,OACTuuD,oBAAqB,uCACrBne,IAAK73C,EAAMqpB,QAAQ,GACnBnQ,QAASlZ,EAAMqpB,QAAQ,GACvBthB,aAAc/H,EAAMqpB,QAAQ,IAE9B4sC,UAAW,CACTlmD,SAAU,WACVjI,MAAO,OACP+Q,UAAW,QACXK,QAASlZ,EAAMqpB,QAAQ,GACvBvP,UAAW9Z,EAAMk2D,QAAQ,GACzB3tD,aAAcvI,EAAMqpB,QAAQ,GAC5BpH,OAAQ,UACRxa,QAAS,OACTC,cAAe,SACf8T,eAAgB,gBAChBjC,SAAU,SAEZ48C,WAAY,CACV9zC,WAAY,kCACZ,UAAW,CACT6C,UAAW,cACXpL,UAAU,UACV1mB,MAAO4M,EAAMqhB,QAAQhX,QAAQ4oB,OAGjCmjC,eAAgB,CACdtuD,MAAO,OACPM,OAAQ,oBACRsM,UAAW,QACXnM,aAAa,GAADlJ,OAAKW,EAAMqpB,QAAQ,GAAE,OAAAhqB,OAAMW,EAAMqpB,QAAQ,GAAE,WAEzDgtC,WAAY,CACVhuD,UAAWrI,EAAMqpB,QAAQ,GACzBnP,KAAM,GAERo8C,iBAAkB,CAChBntC,UAAW,QACXvQ,SAAU,UAEZ29C,WAAY,CACV9uD,QAAS,OACTE,WAAY,SACZ6T,eAAgB,UAElBg7C,kBAAmB,CACjBC,QAAS,OACT3uD,MAAO,MACPyR,SAAU,KACVm9C,YAAa,OACb3mD,SAAU,WACVzH,gBAAiB,QACjBC,aAAcvI,EAAMqpB,QAAQ,GAC5BzQ,SAAU,aAqGC+9C,OAjGDA,KACZ,MAAMjuD,EAAUpB,MACToI,EAASsvC,GAAc18C,mBAAS,KACjC,KAAEkG,GAAS+3C,MACVqW,EAAeC,GAAoBv0D,mBAAS,MAEnDC,oBAAU,MACRC,iBACE,MAAM9L,QAAc8R,IACpBw2C,EAAWtoD,GAEbqY,IAEC,IAEH,MAIM+nD,EAAkBA,KACtBD,EAAiB,OAGbE,EAAmBzb,sBAAajyC,IAClB,WAAdA,EAAMjE,KACR0xD,KAED,IAEHv0D,oBAAU,KACR6c,SAAS43C,iBAAiB,UAAWD,GAC9B,KACL33C,SAAS63C,oBAAoB,UAAWF,KAEzC,CAACA,IAiDJ,OACEnrE,IAAAuX,cAACw1C,GAAa,KACZ/sD,IAAAuX,cAAC01C,GAAU,KACTjtD,IAAAuX,cAAC+yB,GAAK,KAAE/3B,KAAKoB,EAAE,eAAe,KAAGmQ,EAAQL,OAAO,KAChDzjB,IAAAuX,cAAC21C,GAAwB,OAE3BltD,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQkoB,WA5BxBhlC,IAAAuX,cAAAvX,IAAAikB,SAAA,KACEjkB,IAAAuX,cAAA,OAAK+F,UAAS,GAAA7J,OAAKqJ,EAAQkoB,UAAS,KAAAvxB,OAAIqJ,EAAQqtD,qBAC7CrmD,EAAQL,OAASK,EAAQzF,IAAI,CAAC6nB,EAAQ1sB,IACrCxZ,IAAAuX,cAAC6uB,KAAK,CAAC5sB,IAAKA,EAAK8D,UAAS,GAAA7J,OAAKqJ,EAAQutD,UAAS,KAAA52D,OAAIqJ,EAAQytD,YAAc1sD,QAASA,KAAMytD,OAjD3E7W,EAiD0FvuB,EAAOuuB,WAhDvHwW,EAAiBxW,GADKA,QAkDZz0D,IAAAuX,cAAA,OACEkV,IAAG,8BAAAhZ,OAAgCyyB,EAAOuuB,MAAK,kBAC/CtqC,IAAI,YACJ7M,UAAWR,EAAQ0tD,iBAErBxqE,IAAAuX,cAACqT,IAAU,CAACjN,QAAQ,SAASL,UAAWR,EAAQ2tD,YAC7CvkC,EAAO3lC,OAEVP,IAAAuX,cAACqT,IAAU,CAACjN,QAAQ,UAAUL,UAAWR,EAAQ4tD,kBAC9CxkC,EAAO7Z,eAGT,QAvCTrsB,IAAAuX,cAACg0D,KAAK,CACJliE,KAAMynB,QAAQk6C,GACd3gD,QAAS6gD,EACT5tD,UAAWR,EAAQ6tD,YAEnB3qE,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQ8tD,mBACrBI,GACChrE,IAAAuX,cAAA,UACEwM,MAAO,CAAE7H,MAAO,OAAQM,OAAQ,OAAQ2H,SAAU,WAAY4C,IAAK,EAAGC,KAAM,GAC5EyF,IAAG,iCAAAhZ,OAAmCu3D,GACtCzqE,MAAM,uBACNirE,YAAY,IACZC,MAAM,2FACNC,iBAAe,Q,qBCxG7B,MAAMhwD,GAAYC,YAAYvH,IAAK,CACjCwH,KAAM,CACJC,QAAS,OACT6Q,SAAU,QAEZ6V,cAAe,CACb1mB,QAAS,OACT,yBAA0B,CACxBS,YAAalI,EAAMqpB,QAAQ,KAI/B+E,WAAY,CACVre,SAAU,YAGZ0C,eAAgB,CACdrf,MAAOsf,KAAM,KACb3C,SAAU,WACV4C,IAAK,MACLC,KAAM,MACNvK,WAAY,GACZwK,YAAa,IAEfwb,YAAa,CACXzmB,OAAQ5H,EAAMqpB,QAAQ,GACtBlR,SAAU,QAIRo/C,GAAoBhpC,OAAaC,MAAM,CAC3ChiC,KAAM+hC,OACHpB,IAAI,EAAG,cACPC,IAAI,GAAI,aACRqB,SAAS,cA6HC+oC,OA1HUv0D,IAAuC,IAAtC,KAAEhO,EAAI,QAAEghB,EAAO,cAAEwhD,GAAex0D,EACxD,MAAMyF,EAAUpB,KAEVqnB,EAAe,CACnBniC,KAAM,KAGDwM,EAAa0+D,GAAkBp1D,mBAASqsB,GAE/CpsB,oBAAU,KACiBC,WACvB,GAAKi1D,EACL,IACE,MAAM,KAAEv4D,SAAegB,GAAIuC,IAAI,kBAADpD,OAAmBo4D,IACjDC,EAAgBt0C,IACP,IAAKA,KAAclkB,KAE5B,MAAOL,GACPD,GAAWC,KAIf84D,IACC,CAACF,EAAexiE,IAEnB,MAAM+hB,EAAcA,KAClBf,IACAyhD,EAAe/oC,IAkBjB,OACE/iC,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQlB,MACtB5b,IAAAuX,cAACgT,KAAM,CACLlhB,KAAMA,EACNghB,QAASe,EACTuC,SAAS,KACTb,WAAS,EACTwW,OAAO,SAEPtjC,IAAAuX,cAACkT,KAAW,CAACplB,GAAG,qBACA,GAAAoO,OAAbo4D,EACMt5D,KAAKoB,EAAE,4BACPpB,KAAKoB,EAAE,6BAEhB3T,IAAAuX,cAACgsB,KAAM,CACLC,cAAep2B,EACfq2B,oBAAoB,EACpBC,iBAAkBioC,GAClBhoC,SAAUA,CAACC,EAAQhgC,KACjByf,WAAW,KAlCSzM,WAC5B,MAAMo1D,EAAkB,IAAKpoC,GAC7B,IACMioC,QACIv3D,GAAImoB,IAAI,kBAADhpB,OAAmBo4D,GAAiBG,SAE3C13D,GAAIsE,KAAK,iBAAkBozD,GAEnCt4D,IAAMjT,QAAQ8R,KAAKoB,EAAE,uBACrB,MAAOV,GACPD,GAAWC,GAEbmY,KAuBU6gD,CAAsBroC,GACtBhgC,EAAQkgC,eAAc,IACrB,OAGJnc,IAAA,IAAC,QAAEoc,EAAO,OAAEC,EAAM,aAAEC,GAActc,EAAA,OACjC3nB,IAAAuX,cAAC2sB,KAAI,KACHlkC,IAAAuX,cAACmT,KAAa,CAACC,UAAQ,GACrB3qB,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQylB,eACtBviC,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,4BACd0wB,WAAS,EACTzjC,KAAK,OACL2S,MAAOwwB,EAAQnjC,MAAQkwB,QAAQkT,EAAOpjC,MACtC0jC,WAAYP,EAAQnjC,MAAQojC,EAAOpjC,KACnC+c,QAAQ,WACR3B,OAAO,QACP8Q,WAAS,MAIf9sB,IAAAuX,cAACsT,KAAa,KACZ7qB,IAAAuX,cAACqG,KAAM,CACLC,QAASuN,EACT5jB,MAAM,YACN/F,SAAUwiC,EACVtmB,QAAQ,YAEPpL,KAAKoB,EAAE,+BAEV3T,IAAAuX,cAACqG,KAAM,CACLtY,KAAK,SACLkC,MAAM,UACN/F,SAAUwiC,EACVtmB,QAAQ,YACRL,UAAWR,EAAQ0lB,YAEL,GAAA/uB,OAAbo4D,EACMt5D,KAAKoB,EAAE,8BACPpB,KAAKoB,EAAE,8BACbswB,GACCjkC,IAAAuX,cAAC6P,KAAgB,CACfC,KAAM,GACN/J,UAAWR,EAAQ+J,yB,qBCjIzC,MAAMrR,GAAUA,CAACC,EAAOC,KACtB,GAAoB,sBAAhBA,EAAOpQ,KAA8B,CACvC,MAAM0H,EAAe0I,EAAOC,QACtBu2D,EAAkB,GAWxB,OATAl/D,EAAa4T,QAASxT,IACpB,MAAM++D,EAAmB12D,EAAMK,UAAWgL,GAAMA,EAAEzb,KAAO+H,EAAY/H,KAC3C,IAAtB8mE,EACF12D,EAAM02D,GAAoB/+D,EAE1B8+D,EAAgB3xD,KAAKnN,KAIlB,IAAIqI,KAAUy2D,GAGvB,GAAoB,uBAAhBx2D,EAAOpQ,KAA+B,CACxC,MAAM8H,EAAcsI,EAAOC,QACrBw2D,EAAmB12D,EAAMK,UAAWgL,GAAMA,EAAEzb,KAAO+H,EAAY/H,IAErE,OAA0B,IAAtB8mE,GACF12D,EAAM02D,GAAoB/+D,EACnB,IAAIqI,IAEJ,CAACrI,KAAgBqI,GAI5B,GAAoB,uBAAhBC,EAAOpQ,KAA+B,CACxC,MAAMumE,EAAgBn2D,EAAOC,QAEvBw2D,EAAmB12D,EAAMK,UAAWgL,GAAMA,EAAEzb,KAAOwmE,GAIzD,OAH0B,IAAtBM,GACF12D,EAAMU,OAAOg2D,EAAkB,GAE1B,IAAI12D,GAGb,GAAoB,UAAhBC,EAAOpQ,KACT,MAAO,IAILoW,GAAYC,YAAYvH,IAAK,CACjC4wB,UAAW,CACT1W,KAAM,EACNhB,QAASlZ,EAAMqpB,QAAQ,GACvBzZ,UAAW,YACR5P,EAAMmZ,oBA4OE6+C,OAxOMA,KACnB,MAAMtvD,EAAUpB,KACV/D,EAAUC,wBAETpB,EAASC,GAAcC,oBAAS,IAChC8L,EAAYC,GAAiB/L,mBAAS,IACtC4Z,EAASC,GAAc7Z,oBAAS,IAChC21D,EAAqBC,GAA0B51D,mBAAS,OACxD61D,EAAqBC,GAA0B91D,mBAAS,OACxD+1D,EAAsBC,GAA2Bh2D,oBAAS,IAC1Dy4C,EAAkBC,GAAuB14C,oBAAS,IAClDgM,EAAaovB,GAAkBp7B,mBAAS,KACxC1J,EAAcsJ,GAAYC,qBAAWf,GAAS,IAErDmB,oBAAU,KACRL,EAAS,CAAEhR,KAAM,UACjBmd,EAAc,IACb,CAACC,IAEJ/L,oBAAU,KACRF,GAAW,GACX,MAAM2M,EAAkBC,WAAW,KACPzM,WACxB,IACE,MAAM,KAAEtD,SAAegB,GAAIuC,IAAI,kBAAmB,CAChD/B,OAAQ,CAAE4N,cAAaF,gBAEzBlM,EAAS,CAAEhR,KAAM,oBAAqBqQ,QAASrC,EAAKwQ,UACpDyM,EAAWjd,EAAKgd,SAChB7Z,GAAW,GACX,MAAOxD,GACPD,GAAWC,KAGf05D,IACC,KACH,MAAO,IAAMppD,aAAaH,IACzB,CAACV,EAAaF,IAEjB7L,oBAAU,KACR,MAAMI,EAAY/B,aAAaC,QAAQ,aACjC+B,EAASnC,GAAiB,CAAEkC,cAYlC,OAVAC,EAAOC,GAAG,WAADxD,OAAYsD,EAAS,gBAAiBzD,IACzB,WAAhBA,EAAKoC,QAAuC,WAAhBpC,EAAKoC,QACnCY,EAAS,CAAEhR,KAAM,qBAAsBqQ,QAASrC,EAAK4yB,SAGnC,WAAhB5yB,EAAKoC,QACPY,EAAS,CAAEhR,KAAM,qBAAsBqQ,SAAUrC,EAAKjO,OAInD,KACL2R,EAAOlU,eAER,IAiDH,OACE9C,IAAAuX,cAACw1C,GAAa,KACZ/sD,IAAAuX,cAAC6S,GAAiB,CAChB7pB,MACEgsE,GAAmB,GAAA94D,OAChBlB,KAAKoB,EAAE,8CAA6C,KAAAF,OACrD84D,EAAoB3rE,KAAI,KAG5ByI,KAAM8lD,EACN9kC,QAAS+kC,EACT9kC,UAAWA,IAvCe1T,WAC9B,UACQtC,GAAI3S,OAAO,kBAAD8R,OAAmBo4D,IACnCn4D,IAAMjT,QAAQ8R,KAAKoB,EAAE,gCACrB,MAAOV,GACPD,GAAWC,GAEbu5D,EAAuB,MACvB16B,EAAe,IACfrvB,EAAc,IA8BOmqD,CAAwBL,EAAoBlnE,KAE5DkN,KAAKoB,EAAE,iDAEV3T,IAAAuX,cAACs1D,GAAiB,CAChBxjE,KAAMojE,EACNpiD,QA3D8ByiD,KAClCR,EAAuB,MACvBI,GAAwB,IA0DpBliD,kBAAgB,oBAChBqhD,cAAeQ,GAAuBA,EAAoBhnE,KAE5DrF,IAAAuX,cAAC01C,GAAU,KACTjtD,IAAAuX,cAACypB,KAAI,CAACjd,MAAO,CAAE7H,MAAO,SAAW+kB,WAAS,GACxCjhC,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGzO,MAAI,GACvBlhC,IAAAuX,cAAC+yB,GAAK,KAAE/3B,KAAKoB,EAAE,wBAEjB3T,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGzO,MAAI,GACvBlhC,IAAAuX,cAACypB,KAAI,CAACvD,QAAS,EAAGwD,WAAS,GACzBjhC,IAAAuX,cAACypB,KAAI,CAACI,GAAI,EAAGuO,GAAI,EAAGzO,MAAI,GACtBlhC,IAAAuX,cAACgG,KAAS,CACRuP,WAAS,EACT7jB,YAAasJ,KAAKoB,EAAE,8BACpBrO,KAAK,SACLmS,MAAOiL,EACPlF,SAvEMC,IACpBq0B,EAAer0B,EAAMC,OAAOjG,MAAMs/B,gBAuEpBzC,WAAY,CACVsuB,eACE5iE,IAAAuX,cAACm1C,KAAc,CAACvoC,SAAS,SACvBnkB,IAAAuX,cAACwiC,KAAU,CAACh2B,MAAO,CAAEvc,MAAO,eAMtCxH,IAAAuX,cAACypB,KAAI,CAACI,GAAI,EAAGuO,GAAI,EAAGzO,MAAI,GACtBlhC,IAAAuX,cAACqG,KAAM,CACLkP,WAAS,EACTnP,QAAQ,YACRnW,MAAM,UACNqW,QAhGmBkvD,KACjCT,EAAuB,MACvBI,GAAwB,KAgGTn6D,KAAKoB,EAAE,kCAOpB3T,IAAAuX,cAAC6uB,KAAK,CACJ9oB,UAAWR,EAAQkoB,UACnBrnB,QAAQ,WACR2V,SAzEgBtH,IACpB,IAAKsE,GAAW9Z,EAAS,OACzB,MAAM,UAAE+c,EAAS,aAAE8S,EAAY,aAAEC,GAAiBta,EAAEsF,cAChD+U,GAAgB9S,EAAY,KAAO+S,GANvC7jB,EAAe+U,GAAcA,EAAY,KA8ErCx3B,IAAAuX,cAACu1B,KAAK,CAACzlB,KAAK,SACVrnB,IAAAuX,cAACw1B,KAAS,KACR/sC,IAAAuX,cAACy1B,KAAQ,KACPhtC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,4BAEV3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,gCAEV3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,iCAId3T,IAAAuX,cAAC41B,KAAS,KACRntC,IAAAuX,cAAAvX,IAAAikB,SAAA,KACGjX,EAAaqR,IAAKjR,GACjBpN,IAAAuX,cAACy1B,KAAQ,CAACxzB,IAAKpM,EAAY/H,IACzBrF,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAU9/B,EAAYxM,MACvCZ,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd9/B,EAAY4/D,eAAiB,GAEhChtE,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACfltC,IAAAuX,cAAA,KAAG2a,KAAM+6C,KAAiBC,SAAS,iBACjCltE,IAAAuX,cAACsH,IAAU,CAACwI,KAAK,QAAQ9mB,MAAM,2BAC7BP,IAAAuX,cAAC41D,KAAY,QAIjBntE,IAAAuX,cAACsH,IAAU,CACTwI,KAAK,QACLxJ,QAASA,KAAMuvD,OAlGb/nE,EAkG0B+H,EAAY/H,QAjG1DsS,EAAQ4C,KAAK,kBAAD9G,OAAmBpO,EAAE,cADbA,QAoGFrF,IAAAuX,cAACuO,KAAU,OAGb9lB,IAAAuX,cAACsH,IAAU,CACTwI,KAAK,QACLxJ,QAASA,IAtIEzQ,KAC7Bk/D,EAAuBl/D,GACvBs/D,GAAwB,IAoISW,CAAsBjgE,IAErCpN,IAAAuX,cAACwH,KAAQ,OAGX/e,IAAAuX,cAACsH,IAAU,CACTwI,KAAK,QACLxJ,QAAUmO,IACRojC,GAAoB,GACpBod,EAAuBp/D,KAGzBpN,IAAAuX,cAACg6B,KAAiB,UAKzB/6B,GAAWxW,IAAAuX,cAAC61C,GAAgB,CAACC,QAAS,U,qBClSrD,MAAM3xC,GAAYC,YAAYvH,IAAK,CACjCwH,KAAM,CACJC,QAAS,OACT6Q,SAAU,QAEZkkB,UAAW,CACTt0B,YAAalI,EAAMqpB,QAAQ,GAC3BnP,KAAM,GAGRuiB,UAAW,CACTh1B,QAAS,OACT+T,eAAgB,SAChB7T,WAAY,UAGdymB,WAAY,CACVre,SAAU,YAGZ0C,eAAgB,CACdrf,MAAOsf,KAAM,KACb3C,SAAU,WACV4C,IAAK,MACLC,KAAM,MACNvK,WAAY,GACZwK,YAAa,OAIX6pB,GAAgBnO,OAAaC,MAAM,CACvChiC,KAAM+hC,OACHpB,IAAI,EAAG,cACPC,IAAI,GAAI,aACRqB,SAAS,YACZ17B,OAAQw7B,OAAapB,IAAI,EAAG,cAAcC,IAAI,GAAI,aAClD3gC,MAAO8hC,OAAa9hC,MAAM,mBAqLbysE,OAlLcj2D,IAMtB,IANuB,KAC5BhO,EAAI,QACJghB,EAAO,UACP2mB,EAAS,cACTxN,EAAa,OACbyN,GACD55B,EACC,MAAMyF,EAAUpB,KACVof,EAAYrK,kBAAO,IAGvBnlB,MAAM,UAAEyL,IACNoK,qBAAWzG,KACT,cAAEmxD,GAAkBhxC,sBAEpBkI,EAAe,CACnBniC,KAAM,GACNuG,OAAQ,GACRtG,MAAO,KAGFuH,EAAS+uB,GAAczgB,mBAASqsB,GAEvCpsB,oBAAU,IACD,KACLmkB,EAAU9J,SAAU,GAErB,IAEHra,oBAAU,KACaC,WAOnB,GANI4sB,GACFrM,EAAYK,IACH,IAAKA,KAAcgM,KAIzBwN,EAEL,IACE,MAAM,KAAE19B,SAAegB,GAAIuC,IAAI,uBAADpD,OAAwBu9B,IAClDlW,EAAU9J,SACZmG,EAAW7jB,GAEb,MAAOL,GACPD,GAAWC,KAIfi+B,IACC,CAACF,EAAW3nC,EAAMm6B,IAErB,MAAMpY,EAAcA,KAClBf,IACA8M,EAAW4L,IA6Bb,OACE/iC,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQlB,MACtB5b,IAAAuX,cAACgT,KAAM,CAAClhB,KAAMA,EAAMghB,QAASe,EAAauC,SAAS,KAAK2V,OAAO,SAC7DtjC,IAAAuX,cAACkT,KAAW,CAACplB,GAAG,qBACJ,GAAAoO,OAATu9B,EACMz+B,KAAKoB,EAAE,2BACPpB,KAAKoB,EAAE,4BAEhB3T,IAAAuX,cAACgsB,KAAM,CACLC,cAAep7B,EACfq7B,oBAAoB,EACpBC,iBAAkBoN,GAClBnN,SAAUA,CAACC,EAAQhgC,KACjByf,WAAW,KAvCKzM,WACxB,IACE,GAAIo6B,QACI18B,GAAImoB,IAAI,uBAADhpB,OAAwBu9B,GAAa,IAC7CpN,EACH7sB,YACA80D,kBAEFzgD,QACK,CACL,MAAM,KAAE9X,SAAegB,GAAIsE,KAAK,sBAAuB,IAClDgrB,EACH7sB,YACA80D,kBAEE56B,GACFA,EAAO39B,GAET8X,IAEF1X,IAAMjT,QAAQ8R,KAAKoB,EAAE,yBACrB,MAAOV,GACPD,GAAWC,KAkBHk+B,CAAkBvN,GAClBhgC,EAAQkgC,eAAc,IACrB,OAGJnc,IAAA,IAAC,OAAEic,EAAM,OAAEI,EAAM,QAAED,EAAO,aAAEE,GAActc,EAAA,OACzC3nB,IAAAuX,cAAC2sB,KAAI,KACHlkC,IAAAuX,cAACmT,KAAa,CAACC,UAAQ,GACrB3qB,IAAAuX,cAACqT,IAAU,CAACjN,QAAQ,YAAYgP,cAAY,GACzCpa,KAAKoB,EAAE,+BAEV3T,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,0BACd/S,KAAK,OACLyjC,WAAS,EACT9wB,MAAOwwB,EAAQnjC,MAAQkwB,QAAQkT,EAAOpjC,MACtC0jC,WAAYP,EAAQnjC,MAAQojC,EAAOpjC,KACnC+c,QAAQ,WACR3B,OAAO,QACPsB,UAAWR,EAAQ8zB,YAErB5wC,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,4BACd/S,KAAK,SACL2S,MAAOwwB,EAAQ58B,QAAU2pB,QAAQkT,EAAO78B,QACxCm9B,WAAYP,EAAQ58B,QAAU68B,EAAO78B,OACrC8B,YAAY,gBACZ0U,QAAQ,WACR3B,OAAO,UAEThc,IAAAuX,cAAA,WACEvX,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,2BACd/S,KAAK,QACL2S,MAAOwwB,EAAQljC,OAASiwB,QAAQkT,EAAOnjC,OACvCyjC,WAAYP,EAAQljC,OAASmjC,EAAOnjC,MACpCoI,YAAY,gBACZ6jB,WAAS,EACT9Q,OAAO,QACP2B,QAAQ,eAId3d,IAAAuX,cAACsT,KAAa,KACZ7qB,IAAAuX,cAACqG,KAAM,CACLC,QAASuN,EACT5jB,MAAM,YACN/F,SAAUwiC,EACVtmB,QAAQ,YAEPpL,KAAKoB,EAAE,gCAEV3T,IAAAuX,cAACqG,KAAM,CACLtY,KAAK,SACLkC,MAAM,UACN/F,SAAUwiC,EACVtmB,QAAQ,YACRL,UAAWR,EAAQ0lB,YAET,GAAA/uB,OAATu9B,EACMz+B,KAAKoB,EAAE,+BACPpB,KAAKoB,EAAE,+BACbswB,GACCjkC,IAAAuX,cAAC6P,KAAgB,CACfC,KAAM,GACN/J,UAAWR,EAAQ+J,yBC7K1B0mD,OArDSA,KA4Cf,CACLC,SAlBe52D,UACf,MAAM,KAAEtD,SAAegB,GAAI2D,QAAQ,CACjCmH,IAAI,kBAAD3L,OAAoBpO,GACvBga,OAAQ,QAEV,OAAO/L,GAcP1R,KA7CWgV,UACX,MAAQtD,KAAMgM,SAAuBhL,GAAI2D,QAAQ,CAC/CmH,IAAK,iBACLC,OAAQ,OACR/L,SAEF,OAAOgM,GAwCP7R,OArCamJ,UACb,MAAQtD,KAAMgM,SAAuBhL,GAAI2D,QAAQ,CAC/CmH,IAAI,kBAAD3L,OAAoBH,EAAKjO,IAC5Bga,OAAQ,MACR/L,SAEF,OAAOgM,GAgCP8+B,aA7BmBxnC,UACnB,MAAM,KAAEtD,SAAegB,GAAI2D,QAAQ,CACjCmH,IAAI,kBAAD3L,OAAoBpO,GACvBga,OAAQ,WAEV,OAAO/L,GAyBPsJ,KAdWhG,UACX,MAAM,KAAEtD,SAAegB,GAAI2D,QAAQ,CACjCmH,IAAK,sBACLC,OAAQ,MACRvK,WAEF,OAAOxB,KCIX,MAAMkC,GAAUA,CAACC,EAAOC,KACtB,GAAoB,kBAAhBA,EAAOpQ,KAA0B,CACnC,MAAMR,EAAW4Q,EAAOC,QAClBmtD,EAAc,GAWpB,OATAh+D,EAAS8b,QAASxY,IAChB,MAAM26D,EAAettD,EAAMK,UAAWgxC,GAAMA,EAAEzhD,KAAO+C,EAAQ/C,KACvC,IAAlB09D,EACFttD,EAAMstD,GAAgB36D,EAEtB06D,EAAYvoD,KAAKnS,KAId,IAAIqN,KAAUqtD,GAGvB,GAAoB,oBAAhBptD,EAAOpQ,KAA4B,CACrC,MAAM8C,EAAUsN,EAAOC,QACjBotD,EAAettD,EAAMK,UAAWgxC,GAAMA,EAAEzhD,KAAO+C,EAAQ/C,IAE7D,OAAsB,IAAlB09D,GACFttD,EAAMstD,GAAgB36D,EACf,IAAIqN,IAEJ,CAACrN,KAAYqN,GAIxB,GAAoB,mBAAhBC,EAAOpQ,KAA2B,CACpC,MAAM0rC,EAAYt7B,EAAOC,QAEnBotD,EAAettD,EAAMK,UAAWgxC,GAAMA,EAAEzhD,KAAO2rC,GAIrD,OAHsB,IAAlB+xB,GACFttD,EAAMU,OAAO4sD,EAAc,GAEtB,IAAIttD,GAGb,GAAoB,UAAhBC,EAAOpQ,KACT,MAAO,IAILoW,GAAYC,YAAYvH,IAAK,CACjC4wB,UAAW,CACT1W,KAAM,EACNhB,QAASlZ,EAAMqpB,QAAQ,GACvBzZ,UAAW,YACR5P,EAAMmZ,oBAkVEkgD,OA9UUA,KACvB,MAAM3wD,EAAUpB,MAEV,KAAEpQ,GAAS6V,qBAAWzG,KACtB,cAAEmxD,GAAkBhxC,sBACpBljB,EAAUC,wBAETpB,EAASC,GAAcC,oBAAS,IAChC8L,EAAYC,GAAiB/L,mBAAS,IACtCgM,EAAaovB,GAAkBp7B,mBAAS,KACxC5R,EAAUwR,GAAYC,qBAAWf,GAAS,KAC1CssD,EAAmBC,GAAwBrrD,mBAAS,OACpDg3D,EAA0BC,GAC/Bj3D,oBAAS,IACJysD,EAAiBC,GAAsB1sD,mBAAS,OAChD2sD,EAAaC,GAAkB5sD,oBAAS,IACxC4Z,EAASC,GAAc7Z,oBAAS,IAChCtJ,EAAa0+D,GAAkBp1D,mBAAS,IACzCk3D,EAAgBn9C,iBAAO,OAErB+8C,SAAUK,GAAoBN,KAEtC52D,oBAAU,KACRk3D,EAAgBhC,GAAe54B,KAAM3/B,IACnCw4D,EAAex4D,MAGhB,CAACu4D,IAEJl1D,oBAAU,KACRL,EAAS,CAAEhR,KAAM,UACjBmd,EAAc,IACb,CAACC,IAEJ/L,oBAAU,KACRF,GAAW,GACX,MAAM2M,EAAkBC,WAAW,KACXzM,WACpB,IACE,MAAM,KAAEtD,SAAegB,GAAIuC,IAAI,qBAAsB,CACnD/B,OAAQ,CAAE4N,cAAaF,aAAYqpD,mBAErCv1D,EAAS,CAAEhR,KAAM,gBAAiBqQ,QAASrC,EAAKxO,WAChDyrB,EAAWjd,EAAKgd,SAChB7Z,GAAW,GACX,MAAOxD,GACPD,GAAWC,KAGfigC,IACC,KACH,MAAO,IAAM3vB,aAAaH,IACzB,CAACV,EAAaF,EAAYqpD,IAE7Bl1D,oBAAU,KACR,MAAMI,EAAY/B,aAAaC,QAAQ,aACjC+B,EAASnC,GAAiB,CAAEkC,cAyBlC,OAvBAC,EAAOC,GAAG,WAADxD,OAAYsD,EAAS,oBAAqBzD,IAC7B,WAAhBA,EAAKoC,QAAuC,WAAhBpC,EAAKoC,QACnCY,EAAS,CAAEhR,KAAM,kBAAmBqQ,QAASrC,EAAK4yB,SAGhC,WAAhB5yB,EAAKoC,QACPY,EAAS,CAAEhR,KAAM,iBAAkBqQ,SAAUrC,EAAKjO,KAGhC,WAAhBiO,EAAKoC,QACPY,EAAS,CAAEhR,KAAM,gBAAiBqQ,QAASrC,EAAKwQ,YAIpD9M,EAAOC,GAAG,WAADxD,OACIsD,EAAS,qBAAAtD,OAAoBo4D,GACvCv4D,IACqB,WAAhBA,EAAKoC,QACPY,EAAS,CAAEhR,KAAM,gBAAiBqQ,QAASrC,EAAKwQ,YAK/C,KACL9M,EAAOlU,eAER,CAAC+oE,IA+DJ,OACE7rE,IAAAuX,cAACw1C,GAAa,CAACzvC,UAAWR,EAAQ+vC,eAChC7sD,IAAAuX,cAAC+1D,GAAoB,CACnBjkE,KAAMqkE,EACNrjD,QAxDkCyjD,KACtC/L,EAAqB,MACrB4L,GAA4B,IAuDxBnjD,kBAAgB,oBAChBwmB,UAAW8wB,IAEb9hE,IAAAuX,cAAC6S,GAAiB,CAChB7pB,MACE4iE,EAAe,GAAA1vD,OACRlB,KAAKoB,EAAE,kDAAiD,KAAAF,OACzD0vD,EAAgBviE,KAAI,QAAA6S,OAEnBlB,KAAKoB,EAAE,oDAEhBtK,KAAMg6D,EACNh5C,QAASi5C,EACTh5C,UAAWA,IACT64C,EA7DoBvsD,WAC1B,UACQtC,GAAI3S,OAAO,uBAAD8R,OAAwBu9B,IACxCt9B,IAAMjT,QAAQ8R,KAAKoB,EAAE,4BACrB,MAAOV,GACPD,GAAWC,GAEbmwD,EAAmB,MACnBtxB,EAAe,IACfrvB,EAAc,IAqDJ8gD,CAAoBJ,EAAgB99D,IAlDnBuR,WAC3B,IACE,MAAMmtC,EAAW,IAAIC,SACrBD,EAASG,OAAO,OAAQ0pB,EAAc58C,QAAQ7lB,MAAM,UAC9CmJ,GAAI2D,QAAQ,CAChBmH,IAAI,iBAAD3L,OAAmBo4D,EAAa,WACnCxsD,OAAQ,OACR/L,KAAMywC,IAER,MAAO9wC,GACPD,GAAWC,KAyCH86D,IAGL5K,EAAe,GAAA1vD,OACXlB,KAAKoB,EAAE,qDAEV3T,IAAAuX,cAAAvX,IAAAikB,SAAA,KACG1R,KAAKoB,EAAE,oDACR3T,IAAAuX,cAAA,KAAG2a,KAAM+6C,KAAiBC,SAAS,iBAAgB,+CAMzDltE,IAAAuX,cAAC01C,GAAU,KACTjtD,IAAAuX,cAACypB,KAAI,CAACjd,MAAO,CAAE7H,MAAO,SAAW+kB,WAAS,GACxCjhC,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGzO,MAAI,GACvBlhC,IAAAuX,cAAC+yB,GAAK,KAAEl9B,EAAYxM,OAEtBZ,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGzO,MAAI,GACvBlhC,IAAAuX,cAACypB,KAAI,CAACvD,QAAS,EAAGwD,WAAS,GACzBjhC,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGzO,MAAI,GACvBlhC,IAAAuX,cAACgG,KAAS,CACRuP,WAAS,EACT7jB,YAAasJ,KAAKoB,EAAE,sCACpBrO,KAAK,SACLmS,MAAOiL,EACPlF,SA7GMC,IACpBq0B,EAAer0B,EAAMC,OAAOjG,MAAMs/B,gBA6GpBzC,WAAY,CACVsuB,eACE5iE,IAAAuX,cAACm1C,KAAc,CAACvoC,SAAS,SACvBnkB,IAAAuX,cAACwiC,KAAU,CAACh2B,MAAO,CAAEvc,MAAO,eAMtCxH,IAAAuX,cAACypB,KAAI,CAACI,GAAI,EAAGuO,GAAI,EAAGzO,MAAI,GACtBlhC,IAAAuX,cAACqG,KAAM,CACLkP,WAAS,EACTnP,QAAQ,YACRnW,MAAM,UACNqW,QAnESmwD,KACvBr2D,EAAQ4C,KAAK,oBAoEEhI,KAAKoB,EAAE,oCAGZ3T,IAAAuX,cAACypB,KAAI,CAACI,GAAI,EAAGuO,GAAI,EAAGzO,MAAI,GACtBlhC,IAAAuX,cAACqG,KAAM,CACLkP,WAAS,EACTnP,QAAQ,YACRnW,MAAM,UACNqW,QAASA,KACP+vD,EAAc58C,QAAQvZ,MAAQ,KAC9Bm2D,EAAc58C,QAAQg3B,UAGvBz1C,KAAKoB,EAAE,qCAGZ3T,IAAAuX,cAACypB,KAAI,CAACI,GAAI,EAAGuO,GAAI,EAAGzO,MAAI,GACtBlhC,IAAAuX,cAACqG,KAAM,CACLkP,WAAS,EACTnP,QAAQ,YACRnW,MAAM,UACNqW,QA/IuBowD,KACrClM,EAAqB,MACrB4L,GAA4B,KA+Ibp7D,KAAKoB,EAAE,sCAOpB3T,IAAAuX,cAAC6uB,KAAK,CACJ9oB,UAAWR,EAAQkoB,UACnBrnB,QAAQ,WACR2V,SA9GgBtH,IACpB,IAAKsE,GAAW9Z,EAAS,OACzB,MAAM,UAAE+c,EAAS,aAAE8S,EAAY,aAAEC,GAAiBta,EAAEsF,cAChD+U,GAAgB9S,EAAY,KAAO+S,GANvC7jB,EAAe+U,GAAcA,EAAY,KAmHrCx3B,IAAAuX,cAAAvX,IAAAikB,SAAA,KACEjkB,IAAAuX,cAAA,SACEwM,MAAO,CAAElI,QAAS,QAClBxW,GAAG,SACHzE,KAAK,OACL0E,KAAK,OACL8E,OAAO,aACPoT,SAAUA,KACR8lD,GAAe,IAEjBnjD,IAAKytD,KAGT5tE,IAAAuX,cAACu1B,KAAK,CAACzlB,KAAK,SACVrnB,IAAAuX,cAACw1B,KAAS,KACR/sC,IAAAuX,cAACy1B,KAAQ,KACPhtC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,SAASnpB,MAAO,CAAE7H,MAAO,OAAQ,KAGlDlc,IAAAuX,cAAC01B,KAAS,KAAE16B,KAAKoB,EAAE,gCACnB3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,kCAEV3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,iCAEV3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,qCAId3T,IAAAuX,cAAC41B,KAAS,KACRntC,IAAAuX,cAAAvX,IAAAikB,SAAA,KACGnf,EAASuZ,IAAKjW,GACbpI,IAAAuX,cAACy1B,KAAQ,CAACxzB,IAAKpR,EAAQ/C,IACrBrF,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,SAASnpB,MAAO,CAAE7H,MAAO,OACxClc,IAAAuX,cAACsH,IAAU,KACRzW,EAAQ8lE,gBACPluE,IAAAuX,cAACk2B,KAAe,CACd0gC,YAAY,qBACZC,UAAU,UAGZpuE,IAAAuX,cAAC82D,KAAS,CACRF,YAAY,uBACZC,UAAU,WAKlBpuE,IAAAuX,cAAC01B,KAAS,KAAE7kC,EAAQxH,MACpBZ,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAU9kC,EAAQjB,QACnCnH,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAU9kC,EAAQvH,OACnCb,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACfltC,IAAAuX,cAACsH,IAAU,CACTwI,KAAK,QACLxJ,QAASA,KAAMgmD,OA3MT7yB,EA2M0B5oC,EAAQ/C,GA1M1D08D,EAAqB/wB,QACrB28B,GAA4B,GAFJ38B,QA6MNhxC,IAAAuX,cAACwH,KAAQ,OAEX/e,IAAAuX,cAACwD,GAAG,CACFC,KAAM1P,EAAKrD,QACXgT,QAAQ,8BACRpZ,IAAKA,IACH7B,IAAAuX,cAACsH,IAAU,CACTwI,KAAK,QACLxJ,QAASA,KACPylD,GAAe,GACfF,EAAmBh7D,KAGrBpI,IAAAuX,cAACg6B,KAAiB,YAO7B/6B,GAAWxW,IAAAuX,cAAC61C,GAAgB,CAACC,QAAS,UCtYrD,MAAMihB,GAAOC,EAAQ,MAEf7yD,GAAYC,YAAYvH,IAAK,CAC/BwH,KAAM,CACFC,QAAS,OACT6Q,SAAU,QAEd6V,cAAe,CACX1mB,QAAS,OACT,yBAA0B,CACtBS,YAAalI,EAAMqpB,QAAQ,KAInC+E,WAAY,CACRre,SAAU,YAGd0C,eAAgB,CACZrf,MAAOsf,KAAM,KACb3C,SAAU,WACV4C,IAAK,MACLC,KAAM,MACNvK,WAAY,GACZwK,YAAa,IAEjBwb,YAAa,CACTzmB,OAAQ5H,EAAMqpB,QAAQ,GACtBlR,SAAU,KAEd65C,cAAe,CACXlqD,MAAO,GACPM,OAAQ,OAIVgyD,GAAsB7rC,OAAaC,MAAM,CAC3Cz2B,UAAWw2B,OAAaE,SAAS,oBAmQtB4rC,OA/PYp3D,IAAiD,IAAhD,KAAEhO,EAAI,QAAEghB,EAAO,gBAAEqkD,EAAe,OAAEvlC,GAAQ9xB,EAClE,MAAMyF,EAAUpB,MACV,KAAEpQ,GAAS6V,qBAAWzG,KACtB,QAAEzS,GAAYqD,EACdu7C,EAAkBp2B,mBAElBsS,EAAe,CACjB52B,UAAW,GACXtH,QAAS,GACTuH,OAAO,EACP3I,QAAQ,IAGL6nB,EAAkBC,GAAuB7U,oBAAS,IAClDi4D,EAAeC,GAAoBl4D,mBAASqsB,IAC5C2jB,EAAYC,GAAiBjwC,mBAAS,MACvCkwC,EAAiBn2B,iBAAO,MAE9B9Z,oBAAU,KACN,IACI,WACI,IAAK+3D,EAAiB,OAEtB,MAAM,KAAEp7D,SAAegB,GAAIuC,IAAI,mBAADpD,OAAoBi7D,IAElDE,EAAkBp3C,IACP,IAAKA,KAAclkB,MANlC,GASF,MAAOL,GACLD,GAAWC,KAEhB,CAACy7D,EAAiBrlE,IAErB,MAAM+hB,EAAcA,KAChBwjD,EAAiB7rC,GACjB4jB,EAAc,MACdt8B,KA+EJ,OACIrqB,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQlB,MACpB5b,IAAAuX,cAAC6S,GAAiB,CACd7pB,MAAOgS,KAAKoB,EAAE,+CACdtK,KAAMiiB,EACNjB,QAASA,IAAMkB,GAAoB,GACnCjB,UAtCQ1T,UACZ8vC,IACAC,EAAc,MACdC,EAAe51B,QAAQvZ,MAAQ,MAG/Bk3D,EAAc3/D,kBACRsF,GAAI3S,OAAO,mBAAD8R,OAAoBk7D,EAActpE,GAAE,kBACpDupE,EAAkBvpD,IAAI,IACfA,EACHrW,UAAW,QAEf0E,IAAMjT,QAAQ8R,KAAKoB,EAAE,iCACA,mBAAVw1B,GAEPA,OAyBC52B,KAAKoB,EAAE,kDAEZ3T,IAAAuX,cAACgT,KAAM,CACHlhB,KAAMA,EACNghB,QAASe,EACTuC,SAAS,KACTb,WAAS,EACTwW,OAAO,SAEPtjC,IAAAuX,cAACkT,KAAW,CAACplB,GAAG,qBACI,GAAAoO,OAAfi7D,EACQn8D,KAAKoB,EAAE,6BACPpB,KAAKoB,EAAE,8BAEpB3T,IAAAuX,cAAA,OAAKwM,MAAO,CAAElI,QAAS,SACnB7b,IAAAuX,cAAA,SACIjS,KAAK,OACL6a,IAAKymC,EACLppC,SAAWwO,GAtGDA,KAE1B,MAAMi7B,EAAOC,gBAAKl7B,EAAEtO,OAAOvS,OACvB87C,GACAN,EAAcM,IAkGeE,CAAqBn7B,MAG9ChsB,IAAAuX,cAACgsB,KAAM,CACHC,cAAemrC,EACflrC,oBAAoB,EACpBC,iBAAkB8qC,GAClB7qC,SAAUA,CAACC,EAAQhgC,KACfyf,WAAW,KAtGCzM,WAE5B,MAAMi4D,EAAoB,IAAKjrC,EAAQkrC,SAAS,EAAM9/D,UAAW03C,EAAannB,OAAOmnB,EAAW9lD,MAAMknB,QAAQ,KAAM,KAAO8b,EAAO50B,UAAYs/D,GAAKS,SAASnrC,EAAO50B,WAAW8Y,QAAQ,KAAM,KAAO,MAEnM,IACI,GAAI4mD,GAEA,SADMp6D,GAAImoB,IAAI,mBAADhpB,OAAoBi7D,GAAmBG,GAClC,MAAdnoB,EAAoB,CACpB,MAAM3C,EAAW,IAAIC,SACrBD,EAASG,OAAO,WAAY,gBAC5BH,EAASG,OAAO,OAAQwC,SAClBpyC,GAAIsE,KAAK,mBAADnF,OACSi7D,EAAe,iBAClC3qB,QAGL,CACH,MAAM,KAAEzwC,SAAegB,GAAIsE,KAAK,kBAAmBi2D,GACnD,GAAkB,MAAdnoB,EAAoB,CACpB,MAAM3C,EAAW,IAAIC,SACrBD,EAASG,OAAO,WAAY,gBAC5BH,EAASG,OAAO,OAAQwC,SAClBpyC,GAAIsE,KAAK,mBAADnF,OAAoBH,EAAKjO,GAAE,iBAAiB0+C,IAGlErwC,IAAMjT,QAAQ8R,KAAKoB,EAAE,iCACA,mBAAVw1B,GAEPA,IAEN,MAAOl2B,GACLD,GAAWC,GAEfmY,KAsEoB4jD,CAAwBprC,GACxBhgC,EAAQkgC,eAAc,IACvB,OAGNnc,IAAA,IAAC,QAAEoc,EAAO,OAAEC,EAAM,aAAEC,EAAY,cAAEqjB,EAAa,OAAE1jB,GAAQjc,EAAA,OACtD3nB,IAAAuX,cAAC2sB,KAAI,KACDlkC,IAAAuX,cAACmT,KAAa,CAACC,UAAQ,GACnB3qB,IAAAuX,cAACypB,KAAI,CAACvD,QAAS,EAAGwD,WAAS,GACvBjhC,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIF,MAAI,GACdlhC,IAAAuX,cAAC4sB,KAAK,CACFC,GAAI7mB,KACJ8mB,WAAS,EACT73B,MAAO+F,KAAKoB,EAAE,kCACd/S,KAAK,YACL2S,MAAOwwB,EAAQ53B,WAAa2kB,QAAQkT,EAAO73B,WAC3Cm4B,WAAYP,EAAQ53B,WAAa63B,EAAO73B,UACxCwR,QAAQ,WACR3B,OAAO,QACP8Q,WAAS,KAGjB9sB,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIF,MAAI,GACdlhC,IAAAuX,cAAC4sB,KAAK,CACFC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,gCACd/S,KAAK,UACLq5C,SAAU4M,EACVtzC,MAAOwwB,EAAQl/B,SAAWisB,QAAQkT,EAAOn/B,SACzCy/B,WAAYP,EAAQl/B,SAAWm/B,EAAOn/B,QACtC8Y,QAAQ,WACR3B,OAAO,QACP4gC,WAAW,EACXD,KAAM,EACN7vB,WAAS,KAIjB9sB,IAAAuX,cAACypB,KAAI,CAACE,MAAI,GACNlhC,IAAAuX,cAACuuC,GAAsB,CACnBrkD,SAAUwiC,EACVpmB,QAASpG,GAxFvBb,OAAOovC,EAAQuB,KACrC,MAAMl/B,EAAKw+B,EAAgB71B,QACrBw2B,EAAgBn/B,EAAG5Q,MAAM2e,UAAU,EAAG/N,EAAGo/B,gBACzCC,EAAiBr/B,EAAG5Q,MAAM2e,UAAU/N,EAAGs/B,cACvCC,EAAev/B,EAAGo/B,eAAiBzB,EAAOviC,OAEhD8jC,EAAa,UAAU,GAAD9zC,OAAK+zC,GAAa/zC,OAAGuyC,GAAMvyC,OAAGi0C,UAE9C,IAAIpvC,QAAQ89B,GAAK/yB,WAAW+yB,EAAG,MACrCyQ,EAAgB71B,QAAQ62B,kBAAkBD,EAAcA,IA+EFE,CAAkBrwC,EAAO6vC,OAGjDqnB,EAAc3/D,WAAa03C,IACzB1mD,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIF,MAAI,GACdlhC,IAAAuX,cAACqG,KAAM,CAACoU,UAAWhyB,IAAAuX,cAACqpC,KAAc,OAC7B8F,EAAaA,EAAW9lD,KAAO+tE,EAAcriE,WAElDtM,IAAAuX,cAACsH,IAAU,CACPhB,QAASA,IAAM0N,GAAoB,GACnC/jB,MAAM,aAENxH,IAAAuX,cAACg6B,KAAiB,CAAC/pC,MAAM,kBAM7CxH,IAAAuX,cAACsT,KAAa,MACR67B,IAAeioB,EAAc3/D,WAC3BhP,IAAAuX,cAACqG,KAAM,CACHpW,MAAM,UACNqW,QAASA,IAAM+oC,EAAe51B,QAAQg3B,QACtCvmD,SAAUwiC,EACVtmB,QAAQ,YAEPpL,KAAKoB,EAAE,iCAGhB3T,IAAAuX,cAACqG,KAAM,CACHC,QAASuN,EACT5jB,MAAM,YACN/F,SAAUwiC,EACVtmB,QAAQ,YAEPpL,KAAKoB,EAAE,iCAEZ3T,IAAAuX,cAACqG,KAAM,CACHtY,KAAK,SACLkC,MAAM,UACN/F,SAAUwiC,EACVtmB,QAAQ,YACRL,UAAWR,EAAQ0lB,YAEH,GAAA/uB,OAAfi7D,EACQn8D,KAAKoB,EAAE,8BACPpB,KAAKoB,EAAE,8BACfswB,GACGjkC,IAAAuX,cAAC6P,KAAgB,CACbC,KAAM,GACN/J,UAAWR,EAAQ+J,yBC1R/D,MAAMrR,GAAUA,CAACC,EAAOC,KACtB,GAAoB,uBAAhBA,EAAOpQ,KAA+B,CAIxC,MAAM2pE,EAAgBv5D,EAAOC,QACvBu5D,EAAmB,GAgBzB,OAbI71D,mBAAQ41D,IACVA,EAAcruD,QAAS+tD,IACrB,MAAMQ,EAAqB15D,EAAMK,UAC9BgL,GAAMA,EAAEzb,KAAOspE,EAActpE,KAEJ,IAAxB8pE,EACF15D,EAAM05D,GAAsBR,EAE5BO,EAAiB30D,KAAKo0D,KAKrB,IAAIl5D,KAAUy5D,GAGvB,GAAoB,yBAAhBx5D,EAAOpQ,KAAiC,CAC1C,MAAMqpE,EAAgBj5D,EAAOC,QACvBw5D,EAAqB15D,EAAMK,UAAWgL,GAAMA,EAAEzb,KAAOspE,EAActpE,IAEzE,OAA4B,IAAxB8pE,GACF15D,EAAM05D,GAAsBR,EACrB,IAAIl5D,IAEJ,CAACk5D,KAAkBl5D,GAI9B,GAAoB,wBAAhBC,EAAOpQ,KAAgC,CACzC,MAAMopE,EAAkBh5D,EAAOC,QAEzBw5D,EAAqB15D,EAAMK,UAAWgL,GAAMA,EAAEzb,KAAOqpE,GAI3D,OAH4B,IAAxBS,GACF15D,EAAMU,OAAOg5D,EAAoB,GAE5B,IAAI15D,GAGb,GAAoB,UAAhBC,EAAOpQ,KACT,MAAO,IAILoW,GAAYC,YAAYvH,IAAK,CACjC4wB,UAAW,CACT1W,KAAM,EACNhB,QAASlZ,EAAMqpB,QAAQ,GACvBzZ,UAAW,YACR5P,EAAMmZ,oBAuOE6hD,OAnOQA,KACrB,MAAMtyD,EAAUpB,MAETlF,EAASC,GAAcC,oBAAS,IAChC8L,EAAYC,GAAiB/L,mBAAS,IACtC4Z,EAASC,GAAc7Z,oBAAS,IAChC24D,EAAuBC,GAA4B54D,mBAAS,OAC5D64D,EAAuBC,GAA4B94D,mBAAS,OAC5D+4D,EAAwBC,GAA6Bh5D,oBAAS,IAC9Dy4C,EAAkBC,GAAuB14C,oBAAS,IAClDgM,EAAaovB,GAAkBp7B,mBAAS,KACxCi5D,EAAgBr5D,GAAYC,qBAAWf,GAAS,KACjD,KAAElK,GAAS6V,qBAAWzG,KACtB,QAAEzS,GAAYqD,EAEpBqL,oBAAU,KACRL,EAAS,CAAEhR,KAAM,UACjBmd,EAAc,IACb,CAACC,IAEJ/L,oBAAU,KACRF,GAAW,GACX,MAAM2M,EAAkBC,WAAW,KACjCusD,KACC,KACH,MAAO,IAAMrsD,aAAaH,IAEzB,CAACV,EAAaF,IAEjB7L,oBAAU,KACR,MAAMI,EAAYzL,EAAKyL,UACjBC,EAASnC,GAAiB,CAAEkC,YAAWhC,OAAQzJ,EAAKjG,KAU1D,OARA2R,EAAOC,GAAG,UAADxD,OAAWsD,EAAS,kBAAmBzD,IAC1B,WAAhBA,EAAKoC,QAAuC,WAAhBpC,EAAKoC,QACnCY,EAAS,CAAEhR,KAAM,uBAAwBqQ,QAASrC,EAAK4yB,SAErC,WAAhB5yB,EAAKoC,QACPY,EAAS,CAAEhR,KAAM,sBAAuBqQ,SAAUrC,EAAKjO,OAGpD,KACL2R,EAAOlU,eAER,IAEH,MAAM8sE,EAAsBh5D,UAC1B,IACoBtL,EAAKyL,UAAvB,MAEM,KAAEzD,SAAegB,GAAIuC,IAAI,kBAAmB,CAChD/B,OAAQ,CAAE4N,cAAaF,gBAGzBlM,EAAS,CAAEhR,KAAM,qBAAsBqQ,QAASrC,EAAKwQ,UACrDyM,EAAWjd,EAAKgd,SAChB7Z,GAAW,GACX,MAAOxD,GACPD,GAAWC,KAqDf,OACEjT,IAAAuX,cAACw1C,GAAa,KACZ/sD,IAAAuX,cAAC6S,GAAiB,CAChB7pB,MAAOgvE,GAAqB,GAAA97D,OAAOlB,KAAKoB,EAAE,+CAA8C,KAAAF,OAAI87D,EAAsBpjE,UAAS,KAC3H9C,KAAM8lD,EACN9kC,QAAS+kC,EACT9kC,UAAWA,IAjCiB1T,WAChC,UACQtC,GAAI3S,OAAO,mBAAD8R,OAAoBi7D,IACpCh7D,IAAMjT,QAAQ8R,KAAKoB,EAAE,kCACrB,MAAOV,GACPD,GAAWC,GAEbu8D,EAAyB,MACzB19B,EAAe,IACfrvB,EAAc,GACdmtD,IACAt5D,EAAS,CAAEhR,KAAM,WAsBIuqE,CAA0BN,EAAsBlqE,KAEhEkN,KAAKoB,EAAE,kDAEV3T,IAAAuX,cAACk3D,GAAkB,CACjBqB,gBAAiBA,KACfrtD,EAAc,GACdmtD,KAEFvmE,KAAMomE,EACNplD,QA5DgC0lD,KACpCT,EAAyB,MACzBI,GAA0B,GAE1BE,KAyDIplD,kBAAgB,oBAChBkkD,gBAAiBW,GAAyBA,EAAsBhqE,KAElErF,IAAAuX,cAAC01C,GAAU,KACTjtD,IAAAuX,cAACypB,KAAI,CAACjd,MAAO,CAAE7H,MAAO,SAAW+kB,WAAS,GACxCjhC,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGzO,MAAI,GACvBlhC,IAAAuX,cAAC+yB,GAAK,KAAE/3B,KAAKoB,EAAE,yBAEjB3T,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGzO,MAAI,GACvBlhC,IAAAuX,cAACypB,KAAI,CAACvD,QAAS,EAAGwD,WAAS,GACzBjhC,IAAAuX,cAACypB,KAAI,CAACI,GAAI,EAAGuO,GAAI,EAAGzO,MAAI,GACtBlhC,IAAAuX,cAACgG,KAAS,CACRuP,WAAS,EACT7jB,YAAasJ,KAAKoB,EAAE,mCACpBrO,KAAK,SACLmS,MAAOiL,EACPlF,SAtEMC,IACpBq0B,EAAer0B,EAAMC,OAAOjG,MAAMs/B,gBAsEpBzC,WAAY,CACVsuB,eACE5iE,IAAAuX,cAACm1C,KAAc,CAACvoC,SAAS,SACvBnkB,IAAAuX,cAACwiC,KAAU,CAACh2B,MAAO,CAAEvc,MAAO,eAMtCxH,IAAAuX,cAACypB,KAAI,CAACI,GAAI,EAAGuO,GAAI,EAAGzO,MAAI,GACtBlhC,IAAAuX,cAACqG,KAAM,CACLkP,WAAS,EACTnP,QAAQ,YACRE,QAhGqBmyD,KACnCV,EAAyB,MACzBI,GAA0B,IA+FZloE,MAAM,WAEL+K,KAAKoB,EAAE,mCAOpB3T,IAAAuX,cAAC6uB,KAAK,CACJ9oB,UAAWR,EAAQkoB,UACnBrnB,QAAQ,WACR2V,SApEgBtH,IACpB,IAAKsE,GAAW9Z,EAAS,OACzB,MAAM,UAAE+c,EAAS,aAAE8S,EAAY,aAAEC,GAAiBta,EAAEsF,cAChD+U,GAAgB9S,EAAY,KAAO+S,GANvC7jB,EAAe+U,GAAcA,EAAY,KAyErCx3B,IAAAuX,cAACu1B,KAAK,CAACzlB,KAAK,SACVrnB,IAAAuX,cAACw1B,KAAS,KACR/sC,IAAAuX,cAACy1B,KAAQ,KACPhtC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,kCAGV3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,kCAEV3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,kCAId3T,IAAAuX,cAAC41B,KAAS,KACRntC,IAAAuX,cAAAvX,IAAAikB,SAAA,KACG0rD,EAAetxD,IAAKswD,IAAa,IAAAsB,EAAA,OAChCjwE,IAAAuX,cAACy1B,KAAQ,CAACxzB,IAAKm1D,EAActpE,IAC3BrF,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAUyhC,EAAcxiE,WAEzCnM,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACS,QADD+iC,EACtBtB,EAAcriE,iBAAS,IAAA2jE,IAAI19D,KAAKoB,EAAE,+BAErC3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACfltC,IAAAuX,cAACsH,IAAU,CACTwI,KAAK,QACLxJ,QAASA,IA1HI8wD,KAE/BW,EAAyBX,GACzBe,GAA0B,IAuHOQ,CAAwBvB,IAEvC3uE,IAAAuX,cAACwH,KAAQ,OAIX/e,IAAAuX,cAACsH,IAAU,CACTwI,KAAK,QACLxJ,QAAUmO,IACRojC,GAAoB,GACpBogB,EAAyBb,KAG3B3uE,IAAAuX,cAACg6B,KAAiB,WAKzB/6B,GAAWxW,IAAAuX,cAAC61C,GAAgB,CAACC,QAAS,U,qBCjTrD,MAAM3xC,GAAYC,YAAWvH,IAAK,CAChCwH,KAAM,CACJC,QAAS,OACTE,WAAY,SACZuR,QAASlZ,EAAMqpB,QAAQ,IAEzBld,OAAQ,CACN4X,WAAY,UACZiN,OAAQ,OACR9X,QAAS,OACT9lB,MAAO,QACPsnB,WAAY,OACZnS,aAAc,UAuKHwzD,OAlKAA,KACb,MAAMrzD,EAAUpB,KACV/D,EAAUC,wBAETjN,EAAMorC,GAAWr/B,mBAAS,KAC1B05D,EAAYC,GAAiB35D,oBAAS,IACtC45D,EAAuBC,GAA4B75D,oBAAS,GAiBnEC,oBAAU,KAdQC,WAChB,IACE,MACM45D,SADiBl8D,GAAIuC,IAAI,iBACFvD,KAAKm9D,OAAS,GAE3C16B,EAAQy6B,SAGFnzC,EAAaqzC,GACnB,MAAOn9D,GACPyrB,QAAQC,IAAI1rB,KAKd41D,IACC,IAEH,MAAOliB,EAAM6iB,GAAWpzD,mBAAS,CAC/Bi6D,MAAO,MAIFznE,EAASk0B,GAAc1mB,mBAAS,KACjC,KAAEpL,GAAS6V,qBAAWzG,KACtB,QAAEzS,EAAO,OAAEyC,GAAWY,EACtBolE,EAAaplE,EAAKZ,OAAO2T,IAAItX,GAASA,EAAM6pE,UAAUv5C,SAEtDgG,EAAezmB,UACnB,IAEE,MAAM,KAAEtD,SAAegB,GAAIuC,IAAI,iBAAkB,CAC/C/B,OAAQ,CACNooB,SAAU9kB,KAAKU,UAAU43D,GACzBG,OAAO,KAGXzzC,EAAW9pB,EAAKpK,SAChB,MAAO+J,GACP+rB,QAAQC,IAAIhsB,GACZmqB,EAAW,MA+ET0zC,EAAmBloD,IAEvBjR,EAAQ4C,KAAK,YAAcqO,IAG7BjS,oBAAU,KA/EY+5D,KACpB,MAAMx7B,EAAkBhsC,EAAQ0a,OAAOuM,GAAiC,IAAvBA,EAAOxlB,KAAK8Y,QAEvDktD,EAAQ,CACZ,CACEtrE,GAAI,QACJ9E,MAAOgS,KAAKoB,EAAE,aACdnH,MAAO,IACPukE,MAAO77B,EAAgB72B,IAAI8R,IAAM,CAC/B9qB,GAAI8qB,EAAO9qB,GAAG2rE,WACdxkE,MAAO,gBAAe2jB,EAAO9qB,GAAG2rE,WAChC3kD,YACIrsB,IAAAuX,cAAA,WACEvX,IAAAuX,cAAA,SACG4Y,EAAO/nB,QAAQjB,OAChBnH,IAAAuX,cAAA,WACC4Y,EAAOkM,aAEVr8B,IAAAuX,cAAA,UACE+F,UAAWR,EAAQyD,OACnB1C,QAASA,KACPizD,EAAgB3gD,EAAOvH,QACtB,eAKXroB,MAAO4vB,EAAO/nB,QAAQxH,KACtBqT,WAAW,EACXie,KAAM,YAAc/B,EAAOvH,YAG5Bje,EAAK0T,IAAIyZ,IACV,MAAMod,EAAkBhsC,EAAQ0a,OAAOuM,GACtBA,EAAOxlB,KAAK0T,IAAIyZ,GAAOA,EAAIzyB,IAC5BgW,SAASyc,EAAIzyB,KAG7B,MAAO,CACLA,GAAIyyB,EAAIzyB,GAAG2rE,WACXzwE,MAAOu3B,EAAIl3B,KACX4L,MAAOsrB,EAAIzyB,GAAG2rE,WACdD,MAAO77B,EAAgB72B,IAAI8R,IAAM,CAC/B9qB,GAAI8qB,EAAO9qB,GAAG2rE,WACdxkE,MAAO,gBAAe2jB,EAAO9qB,GAAG2rE,WAChC3kD,YACErsB,IAAAuX,cAAA,WACEvX,IAAAuX,cAAA,SACG4Y,EAAO/nB,QAAQjB,OAChBnH,IAAAuX,cAAA,WACC4Y,EAAOkM,aAEVr8B,IAAAuX,cAAA,UACE+F,UAAWR,EAAQyD,OACnB1C,QAASA,KAEPizD,EAAgB3gD,EAAOvH,QACtB,eAKTroB,MAAO4vB,EAAO/nB,QAAQxH,KACtBqT,WAAW,EACXie,KAAM,YAAc/B,EAAOvH,QAE7B7E,MAAO,CAAErH,gBAAiBob,EAAItwB,MAAOA,MAAO,aAKlDsiE,EAAQ,CAAE6G,WASVM,IACD,CAACtmE,EAAMzB,EAASknE,IAejB,OACEpwE,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQlB,MACtB5b,IAAAuX,cAAC25D,KAAK,CACV59D,KAAM2zC,EACNkqB,sBAjBuBv6D,MAAOw6D,EAAQC,EAAcC,KAClD,UAEYh9D,GAAI3S,OAAO,gBAAD8R,OAAiB69D,IACnC59D,IAAMjT,QAAQ,8BACN6T,GAAImoB,IAAI,gBAADhpB,OAAiB69D,EAAY,KAAA79D,OAAI49D,IAChD39D,IAAMjT,QAAQ,sCAEhB,MAAOwS,GACP+rB,QAAQC,IAAIhsB,KAShB8Q,MAAO,CAACrH,gBAAiB,iCCnJZ60D,OA7BDl6D,IAA2D,IAAxDoJ,UAAW+wD,EAAS,UAAEC,GAAY,KAAUtqD,GAAM9P,EAClE,MAAM,OAAEQ,EAAM,QAAErB,GAAY2K,qBAAWzG,IAEvC,OAAK7C,GAAU45D,EAEbzxE,IAAAuX,cAAAvX,IAAAikB,SAAA,KACEzN,GAAWxW,IAAAuX,cAACmtB,GAAe,MAC5B1kC,IAAAuX,cAACm6D,WAAQ,CAAC5xD,GAAI,CAAEie,SAAU,SAAUtoB,MAAO,CAAEkuC,KAAMx8B,EAAK2W,cAKvDjmB,IAAW45D,EAEbzxE,IAAAuX,cAAAvX,IAAAikB,SAAA,KACEzN,GAAWxW,IAAAuX,cAACmtB,GAAe,MAC5B1kC,IAAAuX,cAACm6D,WAAQ,CAAC5xD,GAAI,CAAEie,SAAU,IAAKtoB,MAAO,CAAEkuC,KAAMx8B,EAAK2W,aAAgB,KAMrE99B,IAAAuX,cAAAvX,IAAAikB,SAAA,KACEzN,GAAWxW,IAAAuX,cAACmtB,GAAe,MAC5B1kC,IAAAuX,cAACo6D,QAAWtxD,OAAAC,OAAA,GAAK6G,EAAI,CAAE1G,UAAW+wD,OCarC,MAIMh8D,GAAUA,CAACC,EAAOC,KACtB,GAAoB,mBAAhBA,EAAOpQ,KAA2B,CACpC,MAAM/D,EAAYmU,EAAOC,QACnBi8D,EAAe,GAWrB,OATArwE,EAAUqf,QAASzQ,IACjB,MAAM0hE,EAAgBp8D,EAAMK,UAAWC,GAAMA,EAAE1Q,KAAO8K,EAAS9K,KACxC,IAAnBwsE,EACFp8D,EAAMo8D,GAAiB1hE,EAEvByhE,EAAar3D,KAAKpK,KAIf,IAAIsF,KAAUm8D,GAGvB,GAAoB,qBAAhBl8D,EAAOpQ,KAA6B,CACtC,MAAM6K,EAAWuF,EAAOC,QAClBk8D,EAAgBp8D,EAAMK,UAAWC,GAAMA,EAAE1Q,KAAO8K,EAAS9K,IAE/D,OAAuB,IAAnBwsE,GACFp8D,EAAMo8D,GAAiB1hE,EAChB,IAAIsF,IAEJ,CAACtF,KAAasF,GAIzB,GAAoB,oBAAhBC,EAAOpQ,KAA4B,CACrC,MAAM8gD,EAAa1wC,EAAOC,QAEpBk8D,EAAgBp8D,EAAMK,UAAWC,GAAMA,EAAE1Q,KAAO+gD,GAItD,OAHuB,IAAnByrB,GACFp8D,EAAMU,OAAO07D,EAAe,GAEvB,IAAIp8D,GAGb,GAAoB,UAAhBC,EAAOpQ,KACT,MAAO,IAILoW,GAAYC,YAAYvH,IAAK,CACjC4wB,UAAW,CACT1W,KAAM,EACNhB,QAASlZ,EAAMqpB,QAAQ,GACvBzZ,UAAW,YACR5P,EAAMmZ,oBA0PEukD,OAtPGA,KAChB,MAAMh1D,EAAUpB,MAEV,KAAEpQ,GAAS6V,qBAAWzG,KAErBlE,EAASC,GAAcC,oBAAS,IAChC8L,EAAYC,GAAiB/L,mBAAS,IACtC4Z,EAASC,GAAc7Z,oBAAS,IAChCq7D,EAAkBC,GAAuBt7D,mBAAS,OAClDu7D,EAAkBC,GAAuBx7D,mBAAS,OAClDy4C,EAAkBC,GAAuB14C,oBAAS,IAClDgM,EAAaovB,GAAkBp7B,mBAAS,KACxCnV,EAAW+U,GAAYC,qBAAWf,GAAS,KAC3C4yC,EAAmBC,GAAwB3xC,oBAAS,IACpDs6B,EAAWsX,GAAgB5xC,oBAvEfy7D,EAuEqC,aAtEjD,IAAIC,gBAAgB1oD,OAAOoU,SAASv0B,QAAQsN,IAAIs7D,KADpCA,MAyEnB,MAAME,EAAiB3iB,sBAAY94C,UACjC,IACE,MAAM,KAAEtD,SAAegB,GAAIuC,IAAI,cAAe,CAC5C/B,OAAQ,CAAE4N,cAAaF,gBAEzBlM,EAAS,CAAEhR,KAAM,iBAAkBqQ,QAASrC,EAAK/R,YACjDgvB,EAAWjd,EAAKgd,SAChB7Z,GAAW,GACX,MAAOxD,GACPD,GAAWC,KAEZ,CAACyP,EAAaF,IAEX8vD,EAAuC5iB,sBAAY,KACnD1e,GACFyX,KAED,CAACzX,IAEJr6B,oBAAU,KACRL,EAAS,CAAEhR,KAAM,UACjBmd,EAAc,IACb,CAACC,IAEJ/L,oBAAU,KACRF,GAAW,GACX,MAAM2M,EAAkBC,WAAW,KACjCgvD,KACC,KACH,MAAO,IAAM9uD,aAAaH,IACzB,CACDV,EACAF,EACAwuB,EACAqhC,EACAC,IAGF37D,oBAAU,KACR27D,IACA,MAAMt7D,EAASnC,GAAiB,CAAEkC,UAAWzL,EAAKyL,YAYlD,OAVAC,EAAOC,GAAG,OAAS3D,IACG,WAAhBA,EAAKoC,QAAuC,WAAhBpC,EAAKoC,QACnCY,EAAS,CAAEhR,KAAM,mBAAoBqQ,QAASrC,EAAK/R,YAGjC,WAAhB+R,EAAKoC,QACPY,EAAS,CAAEhR,KAAM,cAAeqQ,SAAUrC,EAAK8yC,eAI5C,KACLpvC,EAAOlU,eAER,CAACwvE,EAAsChnE,IAE1C,MAIMm9C,EAA0BA,KAC9BupB,EAAoB,MACpB3pB,GAAqB,IAoDvB,OACEroD,IAAAuX,cAACw1C,GAAa,KACZ/sD,IAAAuX,cAAC6S,GAAiB,CAChB7pB,MACE0xE,GAAgB,GAAAx+D,OACblB,KAAKoB,EAAE,4CAEZtK,KAAM8lD,EACN9kC,QAAS+kC,EACT9kC,UAAWA,IA5CY1T,WAC3B,UACQtC,GAAI3S,OAAO,cAAD8R,OAAe2yC,IAC/B1yC,IAAMjT,QAAQ8R,KAAKoB,EAAE,6BACrB,MAAOV,GACPD,GAAWC,GAEbi/D,EAAoB,MACpBpgC,EAAe,IACfrvB,EAAc,GAEdnM,EAAS,CAAEhR,KAAM,UACjBmd,EAAc,SACR4vD,KA+BeE,CAAqBN,EAAiB5sE,KAEtDkN,KAAKoB,EAAE,8CAEV3T,IAAAuX,cAAC4uC,GAAa,CACZ98C,KAAM++C,EACN/9B,QAhE2Bs+B,KAC/BqpB,EAAoB,MACpB3pB,GAAqB,IA+DjBlf,OAAQkpC,EACR7nD,kBAAgB,oBAChB47B,WAAY2rB,GAAoBA,EAAiB1sE,GACjD2rC,UAAWA,EACXqV,aA9EeA,KACnBiC,EAAa,OA+EXtoD,IAAAuX,cAAC01C,GAAU,KACTjtD,IAAAuX,cAAC+yB,GAAK,KAAE/3B,KAAKoB,EAAE,oBACf3T,IAAAuX,cAAC21C,GAAwB,KACvBltD,IAAAuX,cAACgG,KAAS,CACRtU,YAAasJ,KAAKoB,EAAE,8BACpBrO,KAAK,SACLmS,MAAOiL,EACPlF,SAzEYC,IACpBq0B,EAAer0B,EAAMC,OAAOjG,MAAMs/B,gBAyE1BzC,WAAY,CACVsuB,eACE5iE,IAAAuX,cAACm1C,KAAc,CAACvoC,SAAS,SACvBnkB,IAAAuX,cAACwiC,KAAU,CAACh2B,MAAO,CAAEvc,MAAO,cAKpCxH,IAAAuX,cAACqG,KAAM,CACLD,QAAQ,YACRnW,MAAM,UACNqW,QAAS4qC,GAERl2C,KAAKoB,EAAE,4BAId3T,IAAAuX,cAAC6uB,KAAK,CACJ9oB,UAAWR,EAAQkoB,UACnBrnB,QAAQ,WACR2V,SAjEgBtH,IACpB,IAAKsE,GAAW9Z,EAAS,OACzB,MAAM,UAAE+c,EAAS,aAAE8S,EAAY,aAAEC,GAAiBta,EAAEsF,cAChD+U,GAAgB9S,EAAY,KAAO+S,GANvC7jB,EAAe+U,GAAcA,EAAY,KAsErCx3B,IAAAuX,cAACu1B,KAAK,CAACzlB,KAAK,SACVrnB,IAAAuX,cAACw1B,KAAS,KACR/sC,IAAAuX,cAACy1B,KAAQ,KACPhtC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,4BAEV3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,yBAEV3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,2BAEV3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,2BAEV3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,8BAId3T,IAAAuX,cAAC41B,KAAS,KACRntC,IAAAuX,cAAAvX,IAAAikB,SAAA,KACG1iB,EAAU8c,IAAKlO,IACdnQ,WAAAuX,cAACy1B,KAAQ,CAACxzB,IAAKrJ,EAAS9K,IACtBrF,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAU/8B,EAAS/H,QAAQxH,MAC5CZ,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,SAAS3sC,MAAO4P,EAAShI,OApFxCqqE,EAqFUriE,EAAShI,KArFdsqE,EAqFoB,GApFrCD,EAAI/uD,OAASgvD,EACRD,EAAIp8C,UAAU,EAAGq8C,GAAO,MAE1BD,IAmFOxyE,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACdzzB,IAAOtJ,EAAS9H,QAAQwR,OAAO,wBAElC7Z,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd8Z,sBAAW72C,EAAS1M,SAEvBzD,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACfltC,IAAAuX,cAACsH,IAAU,CACTwI,KAAK,QACLxJ,QAASA,IAjID1N,KAC1B6hE,EAAoB7hE,GACpBk4C,GAAqB,IA+HYqqB,CAAmBviE,IAElCnQ,IAAAuX,cAACwH,KAAQ,OAGX/e,IAAAuX,cAACsH,IAAU,CACTwI,KAAK,QACLxJ,QAAUmO,IACRojC,GAAoB,GACpB8iB,EAAoB/hE,KAGtBnQ,IAAAuX,cAACg6B,KAAiB,SA5GrBohC,IAACH,EAAKC,IAiHVj8D,GAAWxW,IAAAuX,cAAC61C,GAAgB,CAACC,QAAS,U,+DC3SrD,MAAM3xC,GAAYC,YAAYvH,IAAK,CACjCwH,KAAM,CACJC,QAAS,OACT6Q,SAAU,OACVhQ,gBAAiB,QAGnBk2D,OAAQ,CACNl2D,gBAAiBtI,EAAMqhB,QAAQo9C,aAGjCjiC,UAAW,CACTt0B,YAAalI,EAAMqpB,QAAQ,GAC3BnP,KAAM,GAGRuiB,UAAW,CACTh1B,QAAS,OACT+T,eAAgB,SAChB7T,WAAY,UAGdymB,WAAY,CACVre,SAAU,YAGZ0C,eAAgB,CACdrf,MAAOsf,KAAM,KACb3C,SAAU,WACV4C,IAAK,MACLC,KAAM,MACNvK,WAAY,GACZwK,YAAa,OAIX6rD,GAAiBnwC,OAAaC,MAAM,CACxChiC,KAAM+hC,OACHpB,IAAI,EAAG,cACPC,IAAI,GAAI,aACRqB,SAAS,cAorBCkwC,OAjrBO17D,IAOf,IAPgB,KACrBhO,EAAI,QACJghB,EAAO,WACP2oD,EAAU,cACVxvC,EAAa,OACbyN,EAAM,gBACN6+B,GACDz4D,EACC,MAAMyF,EAAUpB,KACVof,EAAYrK,kBAAO,IACnB,KAAEnlB,GAAS6V,qBAAWzG,KACtB,UAAE3D,GAAczL,GACf27C,EAAM6iB,GAAWpzD,mBAAS,MAE3BqsB,EAAe,CACnBniC,KAAM,GACN+M,SAAU,GACVC,SAAU,GACVC,SAAU,GACVC,SAAU,GACVC,SAAU,GACVC,qBAAsB,GACtBC,qBAAsB,GACtBC,qBAAsB,GACtBC,qBAAsB,GACtBC,qBAAsB,GACtB3K,OAAQ,UACR8J,cAAc,EACdF,YAAa,GACb6J,WAAY,GACZ20D,cAAe,GACfoH,UAAW,UACXl8D,cAGKm8D,EAAUC,GAAez8D,mBAASqsB,IAClCwP,EAAWC,GAAgB97B,mBAAS,KACpC1J,EAAcomE,GAAmB18D,mBAAS,KAC1C28D,EAAYC,GAAiB58D,mBAAS,IACtCgwC,EAAYC,GAAiBjwC,mBAAS,OACtC4U,EAAkBC,GAAuB7U,oBAAS,IAClD68D,EAAkBC,GAAuB98D,oBAAS,GACnDkwC,EAAiBn2B,iBAAO,OACvBgjD,EAAUC,GAAeh9D,mBAAS,IAEzCC,oBAAU,IACD,KACLmkB,EAAU9J,SAAU,GAErB,IAEHra,oBAAU,KACR,WACE,IACE,MAAM,KAAErD,SAAegB,GAAIuC,IAAI,UAAW,CACxC/B,OAAQ,CAAEiC,eAGZ+yD,EAAQx2D,EAAKnI,OACb,MAAO8H,GACPD,GAAWC,KARf,IAWC,IAEH0D,oBAAU,KACR,GAAImkB,EAAU9J,QAAS,CA6BrB,GA5BIwS,GACF2vC,EAAa37C,IACJ,IAAKA,KAAcgM,KAI9BlvB,GACGuC,IAAI,sBAAuB,CAAE/B,OAAQ,CAAEiC,eACvCk8B,KAAKtrB,IAAA,IAAC,KAAErU,GAAMqU,EAAA,OAAKyrD,EAAgB9/D,KAEtCgB,GACGuC,IAAI,YAAa,CAAE/B,OAAQ,CAAEiC,YAAWlT,QAAS,KACjDovC,KAAK5B,IAAA,IAAC,KAAE/9B,GAAM+9B,EAAA,OAAKmB,EAAal/B,KAEnCgB,GAAIuC,IAAI,QAAS,CAAE/B,OAAQ,CAAEiC,eAC1Bk8B,KAAKye,IAAe,IAAd,KAAEp+C,GAAMo+C,EACb,MAEMiiB,EAFcrgE,EAAK3I,KAEa0T,IAAKyZ,IAAG,CAC5CzyB,GAAIyyB,EAAIzyB,GACRzE,KAAMk3B,EAAIl3B,QAEZ8yE,EAAYC,KAEb5J,MAAOx2D,IACNyrB,QAAQzrB,MAAM,yBAA0BA,MAGvCy/D,EAAY,OAEjB1+D,GAAIuC,IAAI,cAADpD,OAAeu/D,IAAc//B,KAAK2gC,IAAe,IAAd,KAAEtgE,GAAMsgE,EAChDT,EAAa9tD,IACX,IAAIwuD,EAAmBxzD,OAAOC,OAAO,GAAI+E,GAUzC,OARAhF,OAAOyzD,QAAQxgE,GAAMsN,QAAQmzD,IAAmB,IAAjBv6D,EAAK/B,GAAMs8D,EAEtCF,EAAiBr6D,GADP,gBAARA,GAAmC,KAAV/B,GAA0B,OAAVA,EACnBgC,IAAOhC,GAAOoC,OAAO,oBAEX,OAAVpC,EAAiB,GAAKA,IAI3Co8D,QAIZ,CAACb,EAAY3pE,EAAMm6B,EAAezsB,IAErCJ,oBAAU,KACR,MAAMqH,EAAMvE,MACNpM,EAAcoM,IAAOy5D,EAAS7lE,aAC9B2mE,GACHC,OAAOC,MAAM7mE,EAAYyM,KAAKkE,KAAS3Q,EAAYyM,KAAKkE,EAAK,QAAU,EACpEm2D,EACgB,YAApBjB,EAASzvE,QACY,eAApByvE,EAASzvE,QAA2BuwE,EAEvCR,EAAoBW,IACnB,CAACjB,EAASzvE,OAAQyvE,EAAS7lE,cAE9B,MAAM+d,EAAcA,KAClBf,IACA8oD,EAAYpwC,IA+DRqxC,EAAsBC,GAExBr0E,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJlY,GAAIgvE,EACJzzE,KAAMyzE,EACNvnD,WAAS,EACT6vB,KAAM,EACNnwC,MAAO+F,KAAKoB,EAAE,yBAADF,OAA0B4gE,IACvCprE,YAAasJ,KAAKoB,EAAE,4CACpBipC,WAAW,EACXj/B,QAAQ,WACR2mB,WAAW,6FACX7iC,UAAW8xE,GAAwC,cAApBL,EAASzvE,SAKxC6wE,EAAkCD,GAEpCr0E,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJlY,GAAIgvE,EACJzzE,KAAMyzE,EACNvnD,WAAS,EACT6vB,KAAM,EACNnwC,MAAO+F,KAAKoB,EAAE,yBAADF,OAA0B4gE,IACvCprE,YAAasJ,KAAKoB,EAAE,4CACpBipC,WAAW,EACXj/B,QAAQ,WACRlc,UAAW8xE,GAAwC,cAApBL,EAASzvE,SA2B9C,OACEzD,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQlB,MACtB5b,IAAAuX,cAAC6S,GAAiB,CAChB7pB,MAAOgS,KAAKoB,EAAE,2CACdtK,KAAMiiB,EACNjB,QAASA,IAAMkB,GAAoB,GACnCjB,UA5Ec1T,UACd8vC,IACFC,EAAc,MACdC,EAAe51B,QAAQvZ,MAAQ,MAG7By7D,EAASlkE,kBACLsF,GAAI3S,OAAO,cAAD8R,OAAey/D,EAAS7tE,GAAE,kBAC1C8tE,EAAa9tD,IAAI,IAAWA,EAAMrW,UAAW,KAAM1C,UAAW,QAC9DoH,IAAMjT,QAAQ8R,KAAKoB,EAAE,gCAqElBpB,KAAKoB,EAAE,8CAEV3T,IAAAuX,cAACgT,KAAM,CACLlhB,KAAMA,EACNghB,QAASe,EACT0B,WAAS,EACTa,SAAS,KACT2V,OAAO,SAEPtjC,IAAAuX,cAACkT,KAAW,CAACplB,GAAG,qBACbkuE,EACCvzE,IAAAuX,cAAAvX,IAAAikB,SAAA,KACa,GAAAxQ,OAAVu/D,EACMzgE,KAAKoB,EAAE,2BACPpB,KAAKoB,EAAE,0BAGhB3T,IAAAuX,cAAAvX,IAAAikB,SAAA,QAAAxQ,OAAMlB,KAAKoB,EAAE,gCAGjB3T,IAAAuX,cAAA,OAAKwM,MAAO,CAAElI,QAAS,SACrB7b,IAAAuX,cAAA,SACEjS,KAAK,OACL6a,IAAKymC,EACLppC,SAAWwO,GArJSA,KAC5B,MAAMi7B,EAAOC,gBAAKl7B,EAAEtO,OAAOvS,OACvB87C,GACFN,EAAcM,IAkJSE,CAAqBn7B,MAG1ChsB,IAAAuX,cAACgsB,KAAM,CACLC,cAAe0vC,EACfzvC,oBAAoB,EACpBC,iBAAkBovC,GAClBnvC,SAAUA,CAACC,EAAQhgC,KACjByf,WAAW,KAtJMzM,WACzB,IACE,MAAM29D,EAAa,GASnB,GARAl0D,OAAOyzD,QAAQlwC,GAAQhjB,QAAQ4zD,IAAmB,IAAjBh7D,EAAK/B,GAAM+8D,EAExCD,EAAW/6D,GADD,gBAARA,GAAmC,KAAV/B,GAA0B,OAAVA,EACzBgC,IAAOhC,GAAOoC,OAAO,uBAEX,KAAVpC,EAAe,KAAOA,IAIxCu7D,EAAY,CAGd,SAFM1+D,GAAImoB,IAAI,cAADhpB,OAAeu/D,GAAcuB,GAExB,MAAd7tB,EAAoB,CACtB,MAAM3C,EAAW,IAAIC,SACrBD,EAASG,OAAO,OAAQwC,SAClBpyC,GAAIsE,KAAK,cAADnF,OAAeu/D,EAAU,iBAAiBjvB,GAE1D34B,QACK,CACL,MAAM,KAAE9X,SAAegB,GAAIsE,KAAK,aAAc27D,GAE9C,GAAkB,MAAd7tB,EAAoB,CACtB,MAAM3C,EAAW,IAAIC,SACrBD,EAASG,OAAO,OAAQwC,SAClBpyC,GAAIsE,KAAK,cAADnF,OAAeH,EAAKjO,GAAE,iBAAiB0+C,GAEnD9S,GACFA,EAAO39B,GAET8X,IAEF1X,IAAMjT,QAAQ8R,KAAKoB,EAAE,6BACrB,MAAOV,GACP+rB,QAAQC,IAAIhsB,GACZD,GAAWC,KAmHHwhE,CAAmB7wC,GACnBhgC,EAAQkgC,eAAc,IACrB,OAGJ4wC,IAAA,IAAC,OAAE9wC,EAAM,OAAEI,EAAM,QAAED,EAAO,aAAEE,GAAcywC,EAAA,OACzC10E,IAAAuX,cAAC2sB,KAAI,KACHlkC,IAAAuX,cAACmT,KAAa,CAACC,UAAQ,GACrB3qB,IAAAuX,cAACypB,KAAI,CAACvD,QAAS,EAAGwD,WAAS,GACzBjhC,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIwO,GAAI,EAAG1O,MAAI,GACvBlhC,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,8BACd/S,KAAK,OACL2S,MAAOwwB,EAAQnjC,MAAQkwB,QAAQkT,EAAOpjC,MACtC0jC,WAAYP,EAAQnjC,MAAQojC,EAAOpjC,KACnC+c,QAAQ,WACR3B,OAAO,QACP8Q,WAAS,EACTxP,UAAWR,EAAQ8zB,UACnBnvC,UAAW8xE,KAGfvzE,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIwO,GAAI,EAAG1O,MAAI,GACvBlhC,IAAAuX,cAACwqB,KAAW,CACVpkB,QAAQ,WACR3B,OAAO,QACP8Q,WAAS,EACTxP,UAAWR,EAAQ2lB,aAEnBziC,IAAAuX,cAACyqB,KAAU,CAAC38B,GAAG,gCACZkN,KAAKoB,EAAE,uCAEV3T,IAAAuX,cAAC4sB,KAAK,CACJC,GAAInC,KACJz1B,MAAO+F,KAAKoB,EAAE,sCACd1K,YAAasJ,KAAKoB,EAChB,sCAEF4wB,QAAQ,+BACRl/B,GAAG,eACHzE,KAAK,eACL2S,MACEwwB,EAAQx2B,cAAgBujB,QAAQkT,EAAOz2B,cAEzC9L,UAAW8xE,GAEXvzE,IAAAuX,cAACwU,IAAQ,CAACtU,OAAO,GAAO,gBACxBzX,IAAAuX,cAACwU,IAAQ,CAACtU,OAAO,GAAM,iBAI7BzX,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIwO,GAAI,EAAG1O,MAAI,GACvBlhC,IAAAuX,cAACwqB,KAAW,CACVpkB,QAAQ,WACR3B,OAAO,QACP8Q,WAAS,EACTxP,UAAWR,EAAQ2lB,aAEnBziC,IAAAuX,cAACyqB,KAAU,CAAC38B,GAAG,+BACZkN,KAAKoB,EAAE,sCAEV3T,IAAAuX,cAAC4sB,KAAK,CACJC,GAAInC,KACJz1B,MAAO+F,KAAKoB,EAAE,qCACd1K,YAAasJ,KAAKoB,EAChB,qCAEF4wB,QAAQ,8BACRl/B,GAAG,gBACHzE,KAAK,gBACL2S,MACEwwB,EAAQ8nC,eAAiB/6C,QAAQkT,EAAO6nC,eAE1CpqE,UAAW8xE,GAEXvzE,IAAAuX,cAACwU,IAAQ,CAACtU,MAAM,IAAG,WAClBzK,GACCA,EAAaqR,IAAKjR,GAChBpN,IAAAuX,cAACwU,IAAQ,CACPvS,IAAKpM,EAAY/H,GACjBoS,MAAOrK,EAAY/H,IAElB+H,EAAYxM,UAMzBZ,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIwO,GAAI,EAAG1O,MAAI,GACvBlhC,IAAAuX,cAACwqB,KAAW,CACVpkB,QAAQ,WACR3B,OAAO,QACP8Q,WAAS,EACTxP,UAAWR,EAAQ2lB,aAEnBziC,IAAAuX,cAACyqB,KAAU,CAAC38B,GAAG,2BACZkN,KAAKoB,EAAE,kCAEV3T,IAAAuX,cAAC4sB,KAAK,CACJC,GAAInC,KACJz1B,MAAO+F,KAAKoB,EAAE,iCACd1K,YAAasJ,KAAKoB,EAAE,iCACpB4wB,QAAQ,0BACRl/B,GAAG,YACHzE,KAAK,YACL2S,MAAOwwB,EAAQkvC,WAAaniD,QAAQkT,EAAOivC,WAC3CxxE,UAAW8xE,GAEXvzE,IAAAuX,cAACwU,IAAQ,CAACtU,MAAM,IAAG,WAClBm/B,MAAMv9B,QAAQo6D,IACbA,EAASp1D,IAAK/P,GACZtO,IAAAuX,cAACwU,IAAQ,CAACvS,IAAKlL,EAAQjJ,GAAIoS,MAAOnJ,EAAQjJ,IACvCiJ,EAAQ1N,UAMrBZ,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIwO,GAAI,EAAG1O,MAAI,GACvBlhC,IAAAuX,cAACwqB,KAAW,CACVpkB,QAAQ,WACR3B,OAAO,QACP8Q,WAAS,EACTxP,UAAWR,EAAQ2lB,aAEnBziC,IAAAuX,cAACyqB,KAAU,CAAC38B,GAAG,4BACZkN,KAAKoB,EAAE,mCAEV3T,IAAAuX,cAAC4sB,KAAK,CACJC,GAAInC,KACJz1B,MAAO+F,KAAKoB,EAAE,kCACd1K,YAAasJ,KAAKoB,EAAE,kCACpB4wB,QAAQ,2BACRl/B,GAAG,aACHzE,KAAK,aACL2S,MAAOwwB,EAAQ7sB,YAAc4Z,QAAQkT,EAAO9sB,YAC5CzV,UAAW8xE,GAEXvzE,IAAAuX,cAACwU,IAAQ,CAACtU,MAAM,IAAG,WAClB86B,GACCA,EAAUl0B,IAAKlZ,GACbnF,IAAAuX,cAACwU,IAAQ,CAACvS,IAAKrU,EAASE,GAAIoS,MAAOtS,EAASE,IACzCF,EAASvE,UAMtBZ,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIwO,GAAI,EAAG1O,MAAI,GACvBlhC,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,qCACd/S,KAAK,cACL2S,MAAOwwB,EAAQ12B,aAAeyjB,QAAQkT,EAAO32B,aAC7Ci3B,WAAYP,EAAQ12B,aAAe22B,EAAO32B,YAC1CsQ,QAAQ,WACR3B,OAAO,QACP1W,KAAK,iBACL0qC,gBAAiB,CACfC,QAAQ,GAEVnjB,WAAS,EACTxP,UAAWR,EAAQ8zB,UACnBnvC,UAAW8xE,KAGfvzE,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIwO,GAAI,EAAG1O,MAAI,GACzBlhC,IAAAuX,cAACwqB,KAAW,CACRpkB,QAAQ,WACR3B,OAAO,QACPsB,UAAWR,EAAQilB,YACnBjV,WAAS,GAET9sB,IAAAuX,cAACyqB,KAAU,CAAC38B,GAAG,8BAA8BkN,KAAKoB,EAAE,mCACpD3T,IAAAuX,cAAC4sB,KAAK,CACJC,GAAInC,KACJz1B,MAAO+F,KAAKoB,EAAE,kCACd/S,KAAK,aACLyE,GAAG,aACH4D,YAAasJ,KAAKoB,EAAE,kCACpB4wB,QAAQ,6BACR9sB,MAAOmsB,EAAO+wC,YAAc,IAE5B30E,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,IAAM,UACtBwvC,EAAK5oC,IAAIu2D,GACR50E,IAAAuX,cAACwU,IAAQ,CAACvS,IAAKo7D,EAAEvvE,GAAIoS,MAAOm9D,EAAEvvE,IAC3BuvE,EAAEh0E,UAMbZ,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIF,MAAI,GAChBlhC,IAAAuX,cAACiiC,KAAI,CACH/hC,MAAO47D,EACP35B,eAAe,UACfC,UAAU,UACVr8B,UAAWR,EAAQ81D,OACnBp1D,SAAUA,CAACwO,EAAGmqB,IAAMm9B,EAAcn9B,GAClCx4B,QAAQ,YACRk3D,UAAQ,EACR9wD,MAAO,CACLpH,aAAc,IAGhB3c,IAAAuX,cAACqiC,KAAG,CAACptC,MAAM,SAAS8R,MAAO,IAC3Bte,IAAAuX,cAACqiC,KAAG,CAACptC,MAAM,SAAS8R,MAAO,IAC3Bte,IAAAuX,cAACqiC,KAAG,CAACptC,MAAM,SAAS8R,MAAO,IAC3Bte,IAAAuX,cAACqiC,KAAG,CAACptC,MAAM,SAAS8R,MAAO,IAC3Bte,IAAAuX,cAACqiC,KAAG,CAACptC,MAAM,SAAS8R,MAAO,KAE7Bte,IAAAuX,cAACqgB,KAAG,CAAC7T,MAAO,CAAEiK,WAAY,GAAIoX,OAAQ,SACpB,IAAfiuC,GACCrzE,IAAAuX,cAAAvX,IAAAikB,SAAA,KACG2f,EAAOr2B,aACNvN,IAAAuX,cAACypB,KAAI,CAACvD,QAAS,EAAGwD,WAAS,GACzBjhC,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIwO,GAAI,EAAG1O,MAAI,GACvBlhC,IAAAuX,cAAAvX,IAAAikB,SAAA,KAAGmwD,EAAmB,cAExBp0E,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIwO,GAAI,EAAG1O,MAAI,GACvBlhC,IAAAuX,cAAAvX,IAAAikB,SAAA,KACGqwD,EACC,2BAMRt0E,IAAAuX,cAAAvX,IAAAikB,SAAA,KAAGmwD,EAAmB,cAIZ,IAAff,GACCrzE,IAAAuX,cAAAvX,IAAAikB,SAAA,KACG2f,EAAOr2B,aACNvN,IAAAuX,cAACypB,KAAI,CAACvD,QAAS,EAAGwD,WAAS,GACzBjhC,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIwO,GAAI,EAAG1O,MAAI,GACvBlhC,IAAAuX,cAAAvX,IAAAikB,SAAA,KAAGmwD,EAAmB,cAExBp0E,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIwO,GAAI,EAAG1O,MAAI,GACvBlhC,IAAAuX,cAAAvX,IAAAikB,SAAA,KACGqwD,EACC,2BAMRt0E,IAAAuX,cAAAvX,IAAAikB,SAAA,KAAGmwD,EAAmB,cAIZ,IAAff,GACCrzE,IAAAuX,cAAAvX,IAAAikB,SAAA,KACG2f,EAAOr2B,aACNvN,IAAAuX,cAACypB,KAAI,CAACvD,QAAS,EAAGwD,WAAS,GACzBjhC,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIwO,GAAI,EAAG1O,MAAI,GACvBlhC,IAAAuX,cAAAvX,IAAAikB,SAAA,KAAGmwD,EAAmB,cAExBp0E,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIwO,GAAI,EAAG1O,MAAI,GACvBlhC,IAAAuX,cAAAvX,IAAAikB,SAAA,KACGqwD,EACC,2BAMRt0E,IAAAuX,cAAAvX,IAAAikB,SAAA,KAAGmwD,EAAmB,cAIZ,IAAff,GACCrzE,IAAAuX,cAAAvX,IAAAikB,SAAA,KACG2f,EAAOr2B,aACNvN,IAAAuX,cAACypB,KAAI,CAACvD,QAAS,EAAGwD,WAAS,GACzBjhC,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIwO,GAAI,EAAG1O,MAAI,GACvBlhC,IAAAuX,cAAAvX,IAAAikB,SAAA,KAAGmwD,EAAmB,cAExBp0E,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIwO,GAAI,EAAG1O,MAAI,GACvBlhC,IAAAuX,cAAAvX,IAAAikB,SAAA,KACGqwD,EACC,2BAMRt0E,IAAAuX,cAAAvX,IAAAikB,SAAA,KAAGmwD,EAAmB,cAIZ,IAAff,GACCrzE,IAAAuX,cAAAvX,IAAAikB,SAAA,KACG2f,EAAOr2B,aACNvN,IAAAuX,cAACypB,KAAI,CAACvD,QAAS,EAAGwD,WAAS,GACzBjhC,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIwO,GAAI,EAAG1O,MAAI,GACvBlhC,IAAAuX,cAAAvX,IAAAikB,SAAA,KAAGmwD,EAAmB,cAExBp0E,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIwO,GAAI,EAAG1O,MAAI,GACvBlhC,IAAAuX,cAAAvX,IAAAikB,SAAA,KACGqwD,EACC,2BAMRt0E,IAAAuX,cAAAvX,IAAAikB,SAAA,KAAGmwD,EAAmB,iBAM9BlB,EAASlkE,WAAa03C,IACtB1mD,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIF,MAAI,GAChBlhC,IAAAuX,cAACqG,KAAM,CAACoU,UAAWhyB,IAAAuX,cAACqpC,KAAc,OACjB,MAAd8F,EACGA,EAAW9lD,KACXsyE,EAAS5mE,WAEdinE,GACCvzE,IAAAuX,cAACsH,IAAU,CACThB,QAASA,IAAM0N,GAAoB,GACnC/jB,MAAM,aAENxH,IAAAuX,cAACg6B,KAAiB,UAO9BvxC,IAAAuX,cAACsT,KAAa,KACS,cAApBqoD,EAASzvE,QACRzD,IAAAuX,cAACqG,KAAM,CACLpW,MAAM,UACNqW,QAASA,IAtYHjH,WACtB,UACQtC,GAAIsE,KAAK,cAADnF,OAAey/D,EAAS7tE,GAAE,aACxCqO,IAAMjT,QAAQ8R,KAAKoB,EAAE,6BACrBw/D,EAAa9tD,IAAI,IAAWA,EAAM5hB,OAAQ,kBAC1CqsE,IACA,MAAO78D,GACPS,IAAMH,MAAMN,EAAIpO,WA+XaiwE,GACfn3D,QAAQ,YAEPpL,KAAKoB,EAAE,qCAGS,iBAApBu/D,EAASzvE,QACRzD,IAAAuX,cAACqG,KAAM,CACLpW,MAAM,UACNqW,QAASA,IA1ZJjH,WACrB,UACQtC,GAAIsE,KAAK,cAADnF,OAAey/D,EAAS7tE,GAAE,YACxCqO,IAAMjT,QAAQ8R,KAAKoB,EAAE,4BACrBw/D,EAAa9tD,IAAI,IAAWA,EAAM5hB,OAAQ,eAC1CqsE,IACA,MAAO78D,GACPS,IAAMH,MAAMN,EAAIpO,WAmZakwE,GACfp3D,QAAQ,YAEPpL,KAAKoB,EAAE,qCAGV+yC,IAAewsB,EAASlkE,WAAaukE,GACrCvzE,IAAAuX,cAACqG,KAAM,CACLpW,MAAM,UACNqW,QAASA,IAAM+oC,EAAe51B,QAAQg3B,QACtCvmD,SAAUwiC,EACVtmB,QAAQ,YAEPpL,KAAKoB,EAAE,oCAGZ3T,IAAAuX,cAACqG,KAAM,CACLC,QAASuN,EACT5jB,MAAM,YACN/F,SAAUwiC,EACVtmB,QAAQ,YAEPpL,KAAKoB,EAAE,oCAER4/D,GAAwC,cAApBL,EAASzvE,SAC7BzD,IAAAuX,cAACqG,KAAM,CACLtY,KAAK,SACLkC,MAAM,UACN/F,SAAUwiC,EACVtmB,QAAQ,YACRL,UAAWR,EAAQ0lB,YAER,GAAA/uB,OAAVu/D,EACMzgE,KAAKoB,EAAE,iCACPpB,KAAKoB,EAAE,iCACbswB,GACCjkC,IAAAuX,cAAC6P,KAAgB,CACfC,KAAM,GACN/J,UAAWR,EAAQ+J,yBC1sB3C,MAAMrR,GAAUA,CAACC,EAAOC,KACtB,GAAoB,mBAAhBA,EAAOpQ,KAA2B,CACpC,MAAMhE,EAAYoU,EAAOC,QACnBq/D,EAAe,GAarB,OAXI37D,mBAAQ/X,IACVA,EAAUsf,QAASsyD,IACjB,MAAM+B,EAAgBx/D,EAAMK,UAAWgL,GAAMA,EAAEzb,KAAO6tE,EAAS7tE,KACxC,IAAnB4vE,EACFx/D,EAAMw/D,GAAiB/B,EAEvB8B,EAAaz6D,KAAK24D,KAKjB,IAAIz9D,KAAUu/D,GAGvB,GAAoB,qBAAhBt/D,EAAOpQ,KAA6B,CACtC,MAAM4tE,EAAWx9D,EAAOC,QAClBs/D,EAAgBx/D,EAAMK,UAAWgL,GAAMA,EAAEzb,KAAO6tE,EAAS7tE,IAE/D,OAAuB,IAAnB4vE,GACFx/D,EAAMw/D,GAAiB/B,EAChB,IAAIz9D,IAEJ,CAACy9D,KAAaz9D,GAIzB,GAAoB,oBAAhBC,EAAOpQ,KAA4B,CACrC,MAAM0tE,EAAat9D,EAAOC,QAEpBs/D,EAAgBx/D,EAAMK,UAAWgL,GAAMA,EAAEzb,KAAO2tE,GAItD,OAHuB,IAAnBiC,GACFx/D,EAAMU,OAAO8+D,EAAe,GAEvB,IAAIx/D,GAGb,GAAoB,UAAhBC,EAAOpQ,KACT,MAAO,IAILoW,GAAYC,YAAYvH,IAAK,CACjC4wB,UAAW,CACT1W,KAAM,EACNhB,QAASlZ,EAAMqpB,QAAQ,GACvBzZ,UAAW,YACR5P,EAAMmZ,oBAyUE2nD,OArUGA,KAChB,MAAMp4D,EAAUpB,KAEV/D,EAAUC,wBAETpB,EAASC,GAAcC,oBAAS,IAChC8L,EAAYC,GAAiB/L,mBAAS,IACtC4Z,EAASC,GAAc7Z,oBAAS,IAChCy+D,EAAkBC,GAAuB1+D,mBAAS,OAClD2+D,EAAkBC,GAAuB5+D,mBAAS,OAClD6+D,EAAmBC,GAAwB9+D,oBAAS,IACpDy4C,EAAkBC,GAAuB14C,oBAAS,IAClDgM,EAAaovB,GAAkBp7B,mBAAS,KACxCpV,EAAWgV,GAAYC,qBAAWf,GAAS,KAE5C,iBAAEmxB,GAAqBJ,KAE7B5vB,oBAAU,KACRL,EAAS,CAAEhR,KAAM,UACjBmd,EAAc,IACb,CAACC,IAEJ/L,oBAAU,KACRF,GAAW,GACX,MAAM2M,EAAkBC,WAAW,KACjCoyD,KACC,KACH,MAAO,IAAMlyD,aAAaH,IAEzB,CAACV,EAAaF,IAEjB7L,oBAAU,KACR,MAAMI,EAAY/B,aAAaC,QAAQ,aACjC+B,EAASnC,GAAiB,CAAEkC,cAUlC,OARAC,EAAOC,GAAG,WAADxD,OAAYsD,EAAS,aAAczD,IACtB,WAAhBA,EAAKoC,QAAuC,WAAhBpC,EAAKoC,QACnCY,EAAS,CAAEhR,KAAM,mBAAoBqQ,QAASrC,EAAK4yB,SAEjC,WAAhB5yB,EAAKoC,QACPY,EAAS,CAAEhR,KAAM,kBAAmBqQ,SAAUrC,EAAKjO,OAGhD,KACL2R,EAAOlU,eAER,IAEH,MAAM2yE,EAAiB7+D,UACrB,IACE,MAAM,KAAEtD,SAAegB,GAAIuC,IAAI,cAAe,CAC5C/B,OAAQ,CAAE4N,cAAaF,gBAEzBlM,EAAS,CAAEhR,KAAM,iBAAkBqQ,QAASrC,EAAKwQ,UACjDyM,EAAWjd,EAAKgd,SAChB7Z,GAAW,GACX,MAAOxD,GACPD,GAAWC,KAsFf,OACEjT,IAAAuX,cAACw1C,GAAa,KACZ/sD,IAAAuX,cAAC6S,GAAiB,CAChB7pB,MACE80E,GAAgB,GAAA5hE,OACblB,KAAKoB,EAAE,2CAA0C,KAAAF,OAClD4hE,EAAiBz0E,KAAI,KAGzByI,KAAM8lD,EACN9kC,QAAS+kC,EACT9kC,UAAWA,IA1EY1T,WAC3B,UACQtC,GAAI3S,OAAO,cAAD8R,OAAeu/D,IAC/Bt/D,IAAMjT,QAAQ8R,KAAKoB,EAAE,6BACrB,MAAOV,GACPD,GAAWC,GAEbqiE,EAAoB,MACpBxjC,EAAe,IACfrvB,EAAc,IAiEOizD,CAAqBL,EAAiBhwE,KAEtDkN,KAAKoB,EAAE,8CAEV3T,IAAAuX,cAACw7D,GAAa,CACZjD,gBAAiBA,KACfrtD,EAAc,GACdgzD,KAEFpsE,KAAMksE,EACNlrD,QAlG2BsrD,KAC/BP,EAAoB,MACpBI,GAAqB,IAiGjBhrD,kBAAgB,oBAChBwoD,WAAYmC,GAAoBA,EAAiB9vE,KAEnDrF,IAAAuX,cAAC01C,GAAU,KACTjtD,IAAAuX,cAACypB,KAAI,CAACjd,MAAO,CAAE7H,MAAO,SAAW+kB,WAAS,GACxCjhC,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGzO,MAAI,GACvBlhC,IAAAuX,cAAC+yB,GAAK,KAAE/3B,KAAKoB,EAAE,qBAEjB3T,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGzO,MAAI,GACvBlhC,IAAAuX,cAACypB,KAAI,CAACvD,QAAS,EAAGwD,WAAS,GACzBjhC,IAAAuX,cAACypB,KAAI,CAACI,GAAI,EAAGuO,GAAI,EAAGzO,MAAI,GACtBlhC,IAAAuX,cAACgG,KAAS,CACRuP,WAAS,EACT7jB,YAAasJ,KAAKoB,EAAE,+BACpBrO,KAAK,SACLmS,MAAOiL,EACPlF,SA9GMC,IACpBq0B,EAAer0B,EAAMC,OAAOjG,MAAMs/B,gBA8GpBzC,WAAY,CACVsuB,eACE5iE,IAAAuX,cAACm1C,KAAc,CAACvoC,SAAS,SACvBnkB,IAAAuX,cAACwiC,KAAU,CAACh2B,MAAO,CAAEvc,MAAO,eAMtCxH,IAAAuX,cAACypB,KAAI,CAACI,GAAI,EAAGuO,GAAI,EAAGzO,MAAI,GACtBlhC,IAAAuX,cAACqG,KAAM,CACLkP,WAAS,EACTnP,QAAQ,YACRE,QAtIgB+3D,KAC9BR,EAAoB,MACpBI,GAAqB,IAqIPhuE,MAAM,WAEL+K,KAAKoB,EAAE,+BAOpB3T,IAAAuX,cAAC6uB,KAAK,CACJ9oB,UAAWR,EAAQkoB,UACnBrnB,QAAQ,WACR2V,SAhHgBtH,IACpB,IAAKsE,GAAW9Z,EAAS,OACzB,MAAM,UAAE+c,EAAS,aAAE8S,EAAY,aAAEC,GAAiBta,EAAEsF,cAChD+U,GAAgB9S,EAAY,KAAO+S,GANvC7jB,EAAe+U,GAAcA,EAAY,KAqHrCx3B,IAAAuX,cAACu1B,KAAK,CAACzlB,KAAK,SACVrnB,IAAAuX,cAACw1B,KAAS,KACR/sC,IAAAuX,cAACy1B,KAAQ,KACPhtC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,yBAEV3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,2BAEV3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,gCAEV3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,6BAEV3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,gCAEV3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,gCAEV3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,iCAEV3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,8BAId3T,IAAAuX,cAAC41B,KAAS,KACRntC,IAAAuX,cAAAvX,IAAAikB,SAAA,KACG3iB,EAAU+c,IAAK60D,GACdlzE,IAAAuX,cAACy1B,KAAQ,CAACxzB,IAAK05D,EAAS7tE,IACtBrF,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAUgmC,EAAStyE,MACpCZ,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UA5IXuN,KACpB,OAAQA,GACN,IAAK,UACH,MAAO,UACT,IAAK,aACH,MAAO,aACT,IAAK,eACH,MAAO,eACT,IAAK,YACH,MAAO,YACT,IAAK,aACH,MAAO,aACT,QACE,OAAOA,IAgIMo7B,CAAa3C,EAASzvE,SAEzBzD,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACdgmC,EAASrH,cACNqH,EAAS9lE,YAAYxM,KACrB,mBAENZ,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACdgmC,EAASh8D,WACNg8D,EAAS/tE,SAASvE,KAClB,mBAENZ,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACdgmC,EAAS7lE,YACNs5B,EAAiBusC,EAAS7lE,aAC1B,mBAENrN,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACdgmC,EAAS5lE,YACNq5B,EAAiBusC,EAAS5lE,aAC1B,uBAENtN,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACdgmC,EAAS3lE,aAAe,aAAe,gBAE1CvN,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACM,iBAApBgmC,EAASzvE,QACRzD,IAAAuX,cAACsH,IAAU,CACThB,QAASA,IAxJRjH,WACrB,UACQtC,GAAIsE,KAAK,cAADnF,OAAey/D,EAAS7tE,GAAE,YACxCqO,IAAMjT,QAAQ8R,KAAKoB,EAAE,4BACrB8O,EAAc,GACdgzD,IACA,MAAOxiE,GACPS,IAAMH,MAAMN,EAAIpO,WAiJiBkwE,CAAe7B,GAC9B3yE,MAAM,iBACN8mB,KAAK,SAELrnB,IAAAuX,cAACu+D,KAAsB,OAGN,cAApB5C,EAASzvE,QACRzD,IAAAuX,cAACsH,IAAU,CACThB,QAASA,IAtJPjH,WACtB,UACQtC,GAAIsE,KAAK,cAADnF,OAAey/D,EAAS7tE,GAAE,aACxCqO,IAAMjT,QAAQ8R,KAAKoB,EAAE,6BACrB8O,EAAc,GACdgzD,IACA,MAAOxiE,GACPS,IAAMH,MAAMN,EAAIpO,WA+IiBiwE,CAAgB5B,GAC/B3yE,MAAM,iBACN8mB,KAAK,SAELrnB,IAAAuX,cAACw+D,KAAqB,OAG1B/1E,IAAAuX,cAACsH,IAAU,CACThB,QAASA,IACPlG,EAAQ4C,KAAK,aAAD9G,OAAcy/D,EAAS7tE,GAAE,YAEvCgiB,KAAK,SAELrnB,IAAAuX,cAACy+D,KAAe,OAElBh2E,IAAAuX,cAACsH,IAAU,CACTwI,KAAK,QACLxJ,QAASA,IAhODq1D,KAC1BkC,EAAoBlC,GACpBsC,GAAqB,IA8NYS,CAAmB/C,IAElClzE,IAAAuX,cAACwH,KAAQ,OAGX/e,IAAAuX,cAACsH,IAAU,CACTwI,KAAK,QACLxJ,QAAUmO,IACRojC,GAAoB,GACpBkmB,EAAoBpC,KAGtBlzE,IAAAuX,cAACg6B,KAAiB,UAKzB/6B,GAAWxW,IAAAuX,cAAC61C,GAAgB,CAACC,QAAS,UC7XrD,MAAM3xC,GAAYC,YAAYvH,IAAK,CACjC4wB,UAAW,CACT1W,KAAM,EACNhB,QAASlZ,EAAMqpB,QAAQ,GACvBzZ,UAAW,YACR5P,EAAMmZ,iBAEXukC,UAAW,CACTztC,UAAW,SAEb6xD,mBAAoB,CAClB5oD,QAASlZ,EAAMqpB,QAAQ,OAIrB04C,GAAkB,CACtBC,gBAAiB,GACjBC,oBAAqB,GACrBC,gBAAiB,GACjBC,UAAW,IA+QEC,OA5QSA,KACtB,MAAM15D,EAAUpB,MAET7Q,EAAU6uD,GAAehjD,mBAASy/D,KAClCM,EAAmBC,GAAwBhgE,oBAAS,IACpD4U,EAAkBC,GAAuB7U,oBAAS,IAClDigE,EAAaC,GAAkBlgE,mBAAS,OACxCmgE,EAAUC,GAAepgE,mBAAS,CAAE8C,IAAK,GAAI/B,MAAO,KAE3Dd,oBAAU,KACRrC,GAAIuC,IAAI,sBAAsBo8B,KAAK57B,IAAe,IAAd,KAAE/D,GAAM+D,EAC1C,MAAM0/D,EAAe,GACjBngC,MAAMv9B,QAAQ/F,IAASA,EAAKmQ,OAAS,IACvCnQ,EAAKsN,QAASsgB,IACZ61C,EAAax8D,KAAK,CAAC2mB,EAAK1nB,IAAKpB,KAAKC,MAAM6oB,EAAKzpB,WAE/CiiD,EAAYr5C,OAAO22D,YAAYD,QAGlC,IAEH,MAAME,EAA0BjrD,IAC9B,GAAuB,OAAnBA,EAAEtO,OAAOjG,MAAgB,CAC3B,MAAMy/D,EAAc,GACpBA,EAAYlrD,EAAEtO,OAAO9c,MAAQorB,EAAEtO,OAAOjG,MACtCq/D,EAAazxD,IAAI,IAAWA,KAAS6xD,OAInCC,EAA0BnrD,IAC9B,MAAMkrD,EAAc,GACpBA,EAAYlrD,EAAEtO,OAAO9c,MAAQorB,EAAEtO,OAAOjG,MACtCiiD,EAAar0C,IAAI,IAAWA,KAAS6xD,MA4BvC,OACEl3E,IAAAuX,cAACw1C,GAAa,KACZ/sD,IAAAuX,cAAC6S,GAAiB,CAChB7pB,MAAOgS,KAAKoB,EAAE,2CACdtK,KAAMiiB,EACNjB,QAASA,IAAMkB,GAAoB,GACnCjB,UAjBiB8sD,KACrB,MAAMC,EAAUxsE,EAAS0rE,UAAU3yD,OAAQuyB,GAAMA,EAAE38B,MAAQm9D,GAC3Djd,EAAar0C,IAAI,IAAWA,EAAMkxD,UAAWc,KAC7CT,EAAe,QAgBVrkE,KAAKoB,EAAE,8CAEV3T,IAAAuX,cAAC01C,GAAU,KACTjtD,IAAAuX,cAACypB,KAAI,CAACjd,MAAO,CAAE7H,MAAO,SAAW+kB,WAAS,GACxCjhC,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIF,MAAI,GAChBlhC,IAAAuX,cAAC+yB,GAAK,KAAE/3B,KAAKoB,EAAE,6BAIrB3T,IAAAuX,cAAC6uB,KAAK,CAAC9oB,UAAWR,EAAQkoB,UAAWrnB,QAAQ,YAC3C3d,IAAAuX,cAACqgB,KAAG,CAACta,UAAWR,EAAQo5D,oBACtBl2E,IAAAuX,cAACypB,KAAI,CAACvD,QAAS,EAAGwD,WAAS,GACzBjhC,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIF,MAAI,GAChBlhC,IAAAuX,cAACqT,IAAU,CAACnK,UAAW,MAAM,eAE/BzgB,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIwO,GAAI,EAAG1O,MAAI,GACvBlhC,IAAAuX,cAACwqB,KAAW,CACVpkB,QAAQ,WACRL,UAAWR,EAAQ2lB,YACnB3V,WAAS,GAET9sB,IAAAuX,cAACyqB,KAAU,CAAC38B,GAAG,yBAAwB,qCAGvCrF,IAAAuX,cAAC0qB,KAAM,CACLrhC,KAAK,kBACLyE,GAAG,kBACHk/B,QAAQ,wBACR/3B,MAAM,oCACNiL,MAAO5M,EAASurE,gBAChB54D,SAAWwO,GAAMmrD,EAAuBnrD,IAExChsB,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,GAAG,iBACpBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,GAAG,cACpBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,IAAI,eACrBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,IAAI,eACrBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,IAAI,kBAI3BzX,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIwO,GAAI,EAAG1O,MAAI,GACvBlhC,IAAAuX,cAACwqB,KAAW,CACVpkB,QAAQ,WACRL,UAAWR,EAAQ2lB,YACnB3V,WAAS,GAET9sB,IAAAuX,cAACyqB,KAAU,CAAC38B,GAAG,6BAA4B,2BAG3CrF,IAAAuX,cAAC0qB,KAAM,CACLrhC,KAAK,sBACLyE,GAAG,sBACHk/B,QAAQ,4BACR/3B,MAAM,0BACNiL,MAAO5M,EAASwrE,oBAChB74D,SAAWwO,GAAMmrD,EAAuBnrD,IAExChsB,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,GAAG,mBACpBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,GAAG,aACpBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,GAAG,cACpBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,IAAI,eACrBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,IAAI,eACrBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,IAAI,eACrBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,IAAI,eACrBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,IAAI,eACrBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,IAAI,eACrBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,IAAI,eACrBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,KAAK,gBACtBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,KAAK,mBAI5BzX,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIwO,GAAI,EAAG1O,MAAI,GACvBlhC,IAAAuX,cAACwqB,KAAW,CACVpkB,QAAQ,WACRL,UAAWR,EAAQ2lB,YACnB3V,WAAS,GAET9sB,IAAAuX,cAACyqB,KAAU,CAAC38B,GAAG,yBAAwB,8BAGvCrF,IAAAuX,cAAC0qB,KAAM,CACLrhC,KAAK,kBACLyE,GAAG,kBACHk/B,QAAQ,wBACR/3B,MAAM,6BACNiL,MAAO5M,EAASyrE,gBAChB94D,SAAWwO,GAAMmrD,EAAuBnrD,IAExChsB,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,GAAG,iBACpBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,GAAG,aACpBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,GAAG,cACpBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,IAAI,eACrBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,IAAI,eACrBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,IAAI,eACrBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,IAAI,eACrBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,IAAI,eACrBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,IAAI,eACrBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,IAAI,eACrBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,KAAK,gBACtBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,KAAK,mBAI5BzX,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAI9jB,UAAWR,EAAQg1C,UAAW5wB,MAAI,GAC9ClhC,IAAAuX,cAACqG,KAAM,CACLC,QAASA,IAAM64D,GAAsBD,GACrCjvE,MAAM,UACNuc,MAAO,CAAEzH,YAAa,KACvB,yBAGDtc,IAAAuX,cAACqG,KAAM,CACLC,QA9HOjH,gBACbtC,GAAIsE,KAAK,qBAAsB,CAAE/N,aACvC6I,IAAMjT,QAAQ,+BA6HF+G,MAAM,UACNmW,QAAQ,aACT,+BAIF84D,GACCz2E,IAAAuX,cAAAvX,IAAAikB,SAAA,KACEjkB,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIwO,GAAI,EAAG1O,MAAI,GACvBlhC,IAAAuX,cAACgG,KAAS,CACR/Q,MAAM,SACNmR,QAAQ,WACRlG,MAAOo/D,EAASr9D,IAChB5Y,KAAK,MACL4c,SAAUy5D,EACVnqD,WAAS,KAGb9sB,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIwO,GAAI,EAAG1O,MAAI,GACvBlhC,IAAAuX,cAACgG,KAAS,CACR/Q,MAAM,cACNmR,QAAQ,WACRlG,MAAOo/D,EAASp/D,MAChB7W,KAAK,QACL4c,SAAUy5D,EACVnqD,WAAS,KAGb9sB,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAI9jB,UAAWR,EAAQg1C,UAAW5wB,MAAI,GAC9ClhC,IAAAuX,cAACqG,KAAM,CACLC,QAASA,IAAM64D,GAAsBD,GACrCjvE,MAAM,UACNuc,MAAO,CAAEzH,YAAa,KACvB,UAGDtc,IAAAuX,cAACqG,KAAM,CACLC,QAxLEy5D,KAClB5d,EAAar0C,IACX,MAAMkyD,EAAkB1sE,EAAS0rE,UAAU3yD,OACxCuyB,GAAMA,EAAE38B,MAAQq9D,EAASr9D,KAEtB+8D,EAAYlxD,EAAKkxD,UAKvB,OAJ+B,IAA3BgB,EAAgB9zD,SAClB8yD,EAAUh8D,KAAK8F,OAAOC,OAAO,GAAIu2D,IACjCC,EAAY,CAAEt9D,IAAK,GAAI/B,MAAO,MAEzB,IAAK4N,EAAMkxD,gBA+KJ/uE,MAAM,UACNmW,QAAQ,aACT,eAMN9S,EAAS0rE,UAAU9yD,OAAS,GAC3BzjB,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAI9jB,UAAWR,EAAQg1C,UAAW5wB,MAAI,GAC9ClhC,IAAAuX,cAACu1B,KAAK,CAACzlB,KAAK,SACVrnB,IAAAuX,cAACw1B,KAAS,KACR/sC,IAAAuX,cAACy1B,KAAQ,KACPhtC,IAAAuX,cAAC01B,KAAS,CAAClpB,MAAO,CAAE7H,MAAO,QAC3Blc,IAAAuX,cAAC01B,KAAS,KAAC,UACXjtC,IAAAuX,cAAC01B,KAAS,KAAC,iBAGfjtC,IAAAuX,cAAC41B,KAAS,KACPyJ,MAAMv9B,QAAQxO,EAAS0rE,YACtB1rE,EAAS0rE,UAAUl4D,IAAI,CAAC83B,EAAG/I,IACzBptC,IAAAuX,cAACy1B,KAAQ,CAACxzB,IAAK4zB,GACbptC,IAAAuX,cAAC01B,KAAS,KACRjtC,IAAAuX,cAACsH,IAAU,CACTwI,KAAK,QACLxJ,QAASA,KACP+4D,EAAezgC,EAAE38B,KACjB+R,GAAoB,KAGtBvrB,IAAAuX,cAACg6B,KAAiB,QAGtBvxC,IAAAuX,cAAC01B,KAAS,KAAE,IAAMkJ,EAAE38B,IAAM,KAC1BxZ,IAAAuX,cAAC01B,KAAS,KAAEkJ,EAAE1+B,iB,0EC1RxC,MAAMiE,GAAYC,YAAYvH,IAAK,CACjC4wB,UAAW,CACT1W,KAAM,EACNhB,QAASlZ,EAAMqpB,QAAQ,GACvBzZ,UAAW,YACR5P,EAAMmZ,iBAEXukC,UAAW,CACTztC,UAAW,SAEb6xD,mBAAoB,CAClB5oD,QAASlZ,EAAMqpB,QAAQ,OA8MZ+5C,OA1MQA,KACrB,MAAM16D,EAAUpB,MAEV,WAAEs3D,GAAen4C,uBAEhBq4C,EAAUC,GAAez8D,mBAAS,KAClC+gE,EAAeC,GAAoBhhE,mBAAS,IAC5CihE,EAAWC,GAAgBlhE,mBAAS,IACpCmhE,EAAuBC,GAA4BphE,mBAAS,IAC5DqhE,EAAWC,GAAgBthE,mBAAS,IACpCuhE,EAASC,GAAcxhE,mBAAS,IAChCF,EAASC,GAAcC,oBAAS,GACjCyhE,EAAU1nD,kBAAO,IAEjB,iBAAEkW,GAAqBJ,KAE7B5vB,oBAAU,KACJwhE,EAAQnnD,SACVonD,IAGK,KACLD,EAAQnnD,SAAU,IAGnB,IAEHra,oBAAU,KACR,GAAIwhE,EAAQnnD,SAAW5X,eAAI85D,EAAU,YAAa,CAChD,GAAI95D,eAAI85D,EAAU,eAAgB,CAChC,MACMmF,EADcxhE,eAAIq8D,EAAU,eACPpuE,SAAS8e,OAAQkjC,GAAMA,EAAEonB,iBACpDwJ,EAAiBW,EAAO50D,QAG1B,GAAIrK,eAAI85D,EAAU,YAAa,CAC7B,MAAMpuE,EAAW+R,eAAIq8D,EAAU,YACzByE,EAAY7yE,EAAS8e,OAAQkjC,IAAOwxB,kBAAOxxB,EAAEyxB,cAC7CV,EAAwB/yE,EAAS8e,OACpCkjC,IAAOwxB,kBAAOxxB,EAAE0xB,0BAEbT,EAAYjzE,EAAS8e,OACxBkjC,IAAOwxB,kBAAOxxB,EAAEyxB,eAAiBD,kBAAOxxB,EAAE0xB,0BAE7CZ,EAAaD,EAAUl0D,QACvBq0D,EAAyBD,EAAsBp0D,QAC/Cu0D,EAAaD,EAAUt0D,QACvBm0D,EAAaD,EAAUl0D,WAG1B,CAACyvD,IAEJv8D,oBAAU,KACRuhE,EAAYP,EAAYF,EAAiB,MACxC,CAACE,EAAWF,IAEf9gE,oBAAU,KACR,MAAMI,EAAY/B,aAAaC,QAAQ,aACjC+B,EAASnC,GAAiB,CAAEkC,cAelC,OAbAC,EAAOC,GAAG,WAADxD,OAAYsD,EAAS,aAAczD,IAEtCA,EAAK4yB,OAAO7gC,MAAQ2tE,IACtBG,EAAY7/D,EAAK4yB,QAEU,eAAvB5yB,EAAK4yB,OAAOziC,QACd4f,WAAW,KACT+0D,KACC,QAKF,KACLphE,EAAOlU,eAGR,CAACkwE,IAEJ,MAAMoF,EAAexhE,UACnBH,GAAW,GACX,MAAM,KAAEnD,SAAegB,GAAIuC,IAAI,cAADpD,OAAeu/D,IAC7CG,EAAY7/D,GACZmD,GAAW,IAoBb,OACEzW,IAAAuX,cAACw1C,GAAa,KACZ/sD,IAAAuX,cAAC01C,GAAU,KACTjtD,IAAAuX,cAACypB,KAAI,CAACjd,MAAO,CAAE7H,MAAO,SAAW+kB,WAAS,GACxCjhC,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIF,MAAI,GAChBlhC,IAAAuX,cAAC+yB,GAAK,KAAC,mBAAc4oC,EAAStyE,MAAQ,eAI5CZ,IAAAuX,cAAC6uB,KAAK,CAAC9oB,UAAWR,EAAQkoB,UAAWrnB,QAAQ,YAC3C3d,IAAAuX,cAACqT,IAAU,CAACjN,QAAQ,KAAK8C,UAAU,MAAK,WA3BxBg6B,KACpB,OAAQA,GACN,IAAK,UACH,MAAO,UACT,IAAK,aACH,MAAO,aACT,IAAK,eACH,MAAO,eACT,IAAK,YACH,MAAO,YACT,IAAK,aACH,MAAO,aACT,QACE,OAAOA,IAeIo7B,CAAa3C,EAASzvE,QAAQ,IAAEk0E,EAAU,OAAKF,GAE1Dz3E,IAAAuX,cAACypB,KAAI,CAACvD,QAAS,EAAGwD,WAAS,GACzBjhC,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIF,MAAI,GAChBlhC,IAAAuX,cAACkhE,KAAc,CACb96D,QAAQ,cACRoG,MAAO,CAAEvH,OAAQ,GAAIG,aAAc,EAAGX,OAAQ,UAC9CvE,MAAOwgE,KAGXj4E,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIwO,GAAI,EAAG1O,MAAI,GACvBlhC,IAAAuX,cAACy0B,GAAW,CACVnsB,KAAM7f,IAAAuX,cAAC44B,KAAS,CAAC/rB,SAAS,YAC1B7jB,MAAM,sBACNkX,MAAOggE,EACPjhE,QAASA,KAGZ08D,EAAS3lE,cACRvN,IAAAuX,cAAAvX,IAAAikB,SAAA,KACEjkB,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIwO,GAAI,EAAG1O,MAAI,GACvBlhC,IAAAuX,cAACy0B,GAAW,CACVnsB,KAAM7f,IAAAuX,cAACmhE,KAAQ,CAACt0D,SAAS,YACzB7jB,MAAM,iCACNkX,MAAOogE,EACPrhE,QAASA,KAGbxW,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIwO,GAAI,EAAG1O,MAAI,GACvBlhC,IAAAuX,cAACy0B,GAAW,CACVnsB,KAAM7f,IAAAuX,cAACohE,KAAW,CAACv0D,SAAS,YAC5B7jB,MAAM,qBACNkX,MAAOsgE,EACPvhE,QAASA,MAKjBxW,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIwO,GAAI,EAAG1O,MAAI,GACvBlhC,IAAAuX,cAACy0B,GAAW,CACVnsB,KAAM7f,IAAAuX,cAACk2B,KAAe,CAACrpB,SAAS,YAChC7jB,MAAM,YACNkX,MAAOkgE,EACPnhE,QAASA,KAGZ08D,EAASh8D,YACRlX,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIwO,GAAI,EAAG1O,MAAI,GACvBlhC,IAAAuX,cAACy0B,GAAW,CACVnsB,KAAM7f,IAAAuX,cAACiN,IAAY,CAACJ,SAAS,YAC7B7jB,MAAM,aACNkX,MAAOy7D,EAAS/tE,SAASvE,KACzB4V,QAASA,KAId08D,EAASrH,eACR7rE,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIwO,GAAI,EAAG1O,MAAI,GACvBlhC,IAAAuX,cAACy0B,GAAW,CACVnsB,KAAM7f,IAAAuX,cAACqhE,KAAW,CAACx0D,SAAS,YAC5B7jB,MAAM,oBACNkX,MAAOy7D,EAAS9lE,YAAYxM,KAC5B4V,QAASA,KAIfxW,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIwO,GAAI,EAAG1O,MAAI,GACvBlhC,IAAAuX,cAACy0B,GAAW,CACVnsB,KAAM7f,IAAAuX,cAACshE,KAAY,CAACz0D,SAAS,YAC7B7jB,MAAM,cACNkX,MAAOkvB,EAAiBusC,EAAS7lE,aACjCmJ,QAASA,KAGbxW,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIwO,GAAI,EAAG1O,MAAI,GACvBlhC,IAAAuX,cAACy0B,GAAW,CACVnsB,KAAM7f,IAAAuX,cAAC+N,KAAkB,CAAClB,SAAS,YACnC7jB,MAAM,eACNkX,MAAOkvB,EAAiBusC,EAAS5lE,aACjCkJ,QAASA,SCzMvB,MAAMkF,GAAYC,YAAYvH,IAAK,CACjCwH,KAAM,CACJC,QAAS,OACT6Q,SAAU,QAEZ6V,cAAe,CACb1mB,QAAS,OACT,yBAA0B,CACxBS,YAAalI,EAAMqpB,QAAQ,KAI/B+E,WAAY,CACVre,SAAU,YAGZ0C,eAAgB,CACdrf,MAAOsf,KAAM,KACb3C,SAAU,WACV4C,IAAK,MACLC,KAAM,MACNvK,WAAY,GACZwK,YAAa,IAEfwb,YAAa,CACXzmB,OAAQ5H,EAAMqpB,QAAQ,GACtBlR,SAAU,KAEZ65C,cAAe,CACblqD,MAAO,GACPM,OAAQ,OAINs8D,GAAqBn2C,OAAaC,MAAM,CAC5CriC,MAAOoiC,OAAaE,SAAS,kBAC7B9zB,KAAM4zB,OAAaE,SAAS,oBA4Qfk2C,OAzQW1hE,IAAgD,IAA/C,KAAEhO,EAAI,QAAEghB,EAAO,eAAEub,EAAc,OAAEuD,GAAQ9xB,EAClE,MAAMyF,EAAUpB,KAEVqnB,EAAe,CACnBxiC,MAAO,GACPwO,KAAM,GACND,SAAU,EACVrL,QAAQ,IAGH6nB,EAAkBC,GAAuB7U,oBAAS,IAClDwuB,EAAcY,GAAmBpvB,mBAASqsB,IAC1C2jB,EAAYC,GAAiBjwC,mBAAS,MACvCkwC,EAAiBn2B,iBAAO,MAE9B9Z,oBAAU,KACR,IACE,WACE,IAAKivB,EAAgB,OAErB,MAAM,KAAEtyB,SAAegB,GAAIuC,IAAI,kBAADpD,OAAmBmyB,IACjDE,EAAiBtO,IACR,IAAKA,KAAclkB,MAL9B,GAQA,MAAOL,GACPD,GAAWC,KAEZ,CAAC2yB,EAAgBv8B,IAEpB,MAAM+hB,EAAcA,KAClB0a,EAAgB/C,GAChB4jB,EAAc,MACdt8B,KA4DF,OACErqB,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQlB,MACtB5b,IAAAuX,cAAC6S,GAAiB,CAChB7pB,MAAOgS,KAAKoB,EAAE,+CACdtK,KAAMiiB,EACNjB,QAASA,IAAMkB,GAAoB,GACnCjB,UAzBc1T,UACd8vC,IACFC,EAAc,MACdC,EAAe51B,QAAQvZ,MAAQ,MAG7BytB,EAAal2B,kBACTsF,GAAI3S,OAAO,kBAAD8R,OAAmByxB,EAAa7/B,GAAE,kBAClDygC,EAAiBzgB,IAAI,IAChBA,EACHrW,UAAW,QAEb0E,IAAMjT,QAAQ8R,KAAKoB,EAAE,iCACA,mBAAVw1B,GACTA,OAaC52B,KAAKoB,EAAE,kDAEV3T,IAAAuX,cAACgT,KAAM,CACLlhB,KAAMA,EACNghB,QAASe,EACTuC,SAAS,KACTb,WAAS,EACTwW,OAAO,SAEPtjC,IAAAuX,cAACkT,KAAW,CAACplB,GAAG,qBACC,GAAAoO,OAAdmyB,EACMrzB,KAAKoB,EAAE,6BACPpB,KAAKoB,EAAE,8BAEhB3T,IAAAuX,cAAA,OAAKwM,MAAO,CAAElI,QAAS,SACrB7b,IAAAuX,cAAA,SACEjS,KAAK,OACL8E,OAAO,kBACP+V,IAAKymC,EACLppC,SAAWwO,GApFSA,KAC5B,MAAMi7B,EAAOC,gBAAKl7B,EAAEtO,OAAOvS,OACvB87C,GACFN,EAAcM,IAiFSE,CAAqBn7B,MAG1ChsB,IAAAuX,cAACgsB,KAAM,CACLC,cAAe0B,EACfzB,oBAAoB,EACpBC,iBAAkBo1C,GAClBn1C,SAAUA,CAACC,EAAQhgC,KACjByf,WAAW,KArFUzM,WAC7B,MAAMoiE,EAAmB,IAAKp1C,GAC9B,IACE,GAAIgC,GAEF,SADMtxB,GAAImoB,IAAI,kBAADhpB,OAAmBmyB,GAAkBozC,GAChC,MAAdtyB,EAAoB,CACtB,MAAM3C,EAAW,IAAIC,SACrBD,EAASG,OAAO,OAAQwC,SAClBpyC,GAAIsE,KAAK,kBAADnF,OACMmyB,EAAc,iBAChCme,QAGC,CACL,MAAM,KAAEzwC,SAAegB,GAAIsE,KAAK,iBAAkBogE,GAClD,GAAkB,MAAdtyB,EAAoB,CACtB,MAAM3C,EAAW,IAAIC,SACrBD,EAASG,OAAO,OAAQwC,SAClBpyC,GAAIsE,KAAK,kBAADnF,OAAmBH,EAAKjO,GAAE,iBAAiB0+C,IAG7DrwC,IAAMjT,QAAQ8R,KAAKoB,EAAE,iCACA,mBAAVw1B,GACTA,IAEF,MAAOl2B,GACPD,GAAWC,GAEbmY,KA0DU6tD,CAAuBr1C,GACvBhgC,EAAQkgC,eAAc,IACrB,OAGJnc,IAAA,IAAC,QAAEoc,EAAO,OAAEC,EAAM,aAAEC,EAAY,OAAEL,GAAQjc,EAAA,OACzC3nB,IAAAuX,cAAC2sB,KAAI,KACHlkC,IAAAuX,cAACmT,KAAa,CAACC,UAAQ,GACrB3qB,IAAAuX,cAACypB,KAAI,CAACvD,QAAS,EAAGwD,WAAS,GACzBjhC,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIF,MAAI,GAChBlhC,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,mCACd/S,KAAK,QACL2S,MAAOwwB,EAAQxjC,OAASuwB,QAAQkT,EAAOzjC,OACvC+jC,WAAYP,EAAQxjC,OAASyjC,EAAOzjC,MACpCod,QAAQ,WACR3B,OAAO,QACP8Q,WAAS,KAGb9sB,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIF,MAAI,GAChBlhC,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,kCACd/S,KAAK,OACL2S,MAAOwwB,EAAQh1B,MAAQ+hB,QAAQkT,EAAOj1B,MACtCu1B,WAAYP,EAAQh1B,MAAQi1B,EAAOj1B,KACnC4O,QAAQ,WACR3B,OAAO,QACP4gC,WAAW,EACXD,KAAM,EACN7vB,WAAS,KAGb9sB,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIF,MAAI,GAChBlhC,IAAAuX,cAACwqB,KAAW,CAACpkB,QAAQ,WAAW3B,OAAO,QAAQ8Q,WAAS,GACtD9sB,IAAAuX,cAACyqB,KAAU,CAAC38B,GAAG,0BACZkN,KAAKoB,EAAE,qCAEV3T,IAAAuX,cAAC4sB,KAAK,CACJC,GAAInC,KACJz1B,MAAO+F,KAAKoB,EAAE,oCACd1K,YAAasJ,KAAKoB,EAAE,oCACpB4wB,QAAQ,yBACRl/B,GAAG,SACHzE,KAAK,SACL2S,MAAOwwB,EAAQtgC,QAAUqtB,QAAQkT,EAAOvgC,SAExCzD,IAAAuX,cAACwU,IAAQ,CAACtU,OAAO,GAAM,SACvBzX,IAAAuX,cAACwU,IAAQ,CAACtU,OAAO,GAAO,cAI9BzX,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIF,MAAI,GAChBlhC,IAAAuX,cAACwqB,KAAW,CAACpkB,QAAQ,WAAW3B,OAAO,QAAQ8Q,WAAS,GACtD9sB,IAAAuX,cAACyqB,KAAU,CAAC38B,GAAG,4BACZkN,KAAKoB,EAAE,uCAEV3T,IAAAuX,cAAC4sB,KAAK,CACJC,GAAInC,KACJz1B,MAAO+F,KAAKoB,EAAE,sCACd1K,YAAasJ,KAAKoB,EAChB,sCAEF4wB,QAAQ,2BACRl/B,GAAG,WACHzE,KAAK,WACL2S,MAAOwwB,EAAQj1B,UAAYgiB,QAAQkT,EAAOl1B,WAE1C9O,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,GAAG,QACpBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,GAAG,YACpBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAO,GAAG,aAIxBytB,EAAal2B,WAAa03C,IAC1B1mD,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIF,MAAI,GAChBlhC,IAAAuX,cAACqG,KAAM,CAACoU,UAAWhyB,IAAAuX,cAACqpC,KAAc,OAC/B8F,EAAaA,EAAW9lD,KAAOskC,EAAa54B,WAE/CtM,IAAAuX,cAACsH,IAAU,CACThB,QAASA,IAAM0N,GAAoB,GACnC/jB,MAAM,aAENxH,IAAAuX,cAACg6B,KAAiB,UAM5BvxC,IAAAuX,cAACsT,KAAa,MACV67B,IAAexhB,EAAal2B,WAC5BhP,IAAAuX,cAACqG,KAAM,CACLpW,MAAM,UACNqW,QAASA,IAAM+oC,EAAe51B,QAAQg3B,QACtCvmD,SAAUwiC,EACVtmB,QAAQ,YAEPpL,KAAKoB,EAAE,wCAGZ3T,IAAAuX,cAACqG,KAAM,CACLC,QAASuN,EACT5jB,MAAM,YACN/F,SAAUwiC,EACVtmB,QAAQ,YAEPpL,KAAKoB,EAAE,wCAEV3T,IAAAuX,cAACqG,KAAM,CACLtY,KAAK,SACLkC,MAAM,UACN/F,SAAUwiC,EACVtmB,QAAQ,YACRL,UAAWR,EAAQ0lB,YAEJ,GAAA/uB,OAAdmyB,EACMrzB,KAAKoB,EAAE,oCACPpB,KAAKoB,EAAE,sCACbswB,GACCjkC,IAAAuX,cAAC6P,KAAgB,CACfC,KAAM,GACN/J,UAAWR,EAAQ+J,yBCjSzC,MAAMrR,GAAUA,CAACC,EAAOC,KACtB,GAAoB,uBAAhBA,EAAOpQ,KAA+B,CACxC,MAAMqJ,EAAgB+G,EAAOC,QACvB+vB,EAAmB,GAezB,OAbIrsB,mBAAQ1K,IACVA,EAAciS,QAASskB,IACrB,MAAMS,EAAoBlwB,EAAMK,UAC7BgL,GAAMA,EAAEzb,KAAO6/B,EAAa7/B,KAEJ,IAAvBsgC,EACFlwB,EAAMkwB,GAAqBT,EAE3BQ,EAAiBnrB,KAAK2qB,KAKrB,IAAIzvB,KAAUiwB,GAGvB,GAAoB,yBAAhBhwB,EAAOpQ,KAAiC,CAC1C,MAAM4/B,EAAexvB,EAAOC,QACtBgwB,EAAoBlwB,EAAMK,UAAWgL,GAAMA,EAAEzb,KAAO6/B,EAAa7/B,IAEvE,OAA2B,IAAvBsgC,GACFlwB,EAAMkwB,GAAqBT,EACpB,IAAIzvB,IAEJ,CAACyvB,KAAiBzvB,GAI7B,GAAoB,wBAAhBC,EAAOpQ,KAAgC,CACzC,MAAMsgC,EAAiBlwB,EAAOC,QAExBgwB,EAAoBlwB,EAAMK,UAAWgL,GAAMA,EAAEzb,KAAOugC,GAI1D,OAH2B,IAAvBD,GACFlwB,EAAMU,OAAOwvB,EAAmB,GAE3B,IAAIlwB,GAGb,GAAoB,UAAhBC,EAAOpQ,KACT,MAAO,IAILoW,GAAYC,YAAYvH,IAAK,CACjC4wB,UAAW,CACT1W,KAAM,EAENhB,QAASlZ,EAAMkZ,QACftJ,UAAW,YACR5P,EAAMmZ,oBA0QE2rD,OAtQOA,KACpB,MAAMp8D,EAAUpB,KACV/D,EAAUC,wBAEV,KAAEtM,GAAS6V,qBAAWzG,KAErBlE,EAASC,GAAcC,oBAAS,IAChC8L,EAAYC,GAAiB/L,mBAAS,IACtC4Z,EAASC,GAAc7Z,oBAAS,IAChCyiE,EAAsBC,GAA2B1iE,mBAAS,OAC1D2iE,EAAsBC,GAA2B5iE,mBAAS,OAC1D6iE,EAAuBC,GAA4B9iE,oBAAS,IAC5Dy4C,EAAkBC,GAAuB14C,oBAAS,IAClDgM,EAAaovB,GAAkBp7B,mBAAS,KACxC/H,EAAe2H,GAAYC,qBAAWf,GAAS,IAGtDmB,oBAAU,MACRC,iBACOtL,EAAK0a,QACRtS,IAAMH,MAAM,oGACZ8P,WAAW,KACT1L,EAAQ4C,KAAK,MACZ,MAGP4I,IAEC,IAEHxM,oBAAU,KACRL,EAAS,CAAEhR,KAAM,UACjBmd,EAAc,IACb,CAACC,IAEJ/L,oBAAU,KACRF,GAAW,GACX,MAAM2M,EAAkBC,WAAW,KACjC4iB,KACC,KACH,MAAO,IAAM1iB,aAAaH,IAEzB,CAACV,EAAaF,IAEjB7L,oBAAU,KACR,MACMK,EAASnC,GAAiB,CAAEkC,UADhBzL,EAAKyL,UACsBhC,OAAQzJ,EAAKjG,KAU1D,OARA2R,EAAOC,GAAG,uBAAyB3D,IACb,WAAhBA,EAAKoC,QAAuC,WAAhBpC,EAAKoC,QACnCY,EAAS,CAAEhR,KAAM,uBAAwBqQ,QAASrC,EAAK4yB,SAErC,WAAhB5yB,EAAKoC,QACPY,EAAS,CAAEhR,KAAM,sBAAuBqQ,SAAUrC,EAAKjO,OAGpD,KACL2R,EAAOlU,eAER,IAEH,MAAMmjC,EAAqBrvB,UACzB,IACE,MAAM,KAAEtD,SAAegB,GAAIuC,IAAI,kBAAmB,CAChD/B,OAAQ,CAAE4N,cAAaF,gBAEzBlM,EAAS,CAAEhR,KAAM,qBAAsBqQ,QAASrC,EAAKwQ,UACrDyM,EAAWjd,EAAKgd,SAChB7Z,GAAW,GACX,MAAOxD,GACPD,GAAWC,KA+Df,OACEjT,IAAAuX,cAACw1C,GAAa,KACZ/sD,IAAAuX,cAAC6S,GAAiB,CAChB7pB,MACE84E,GAAoB,GAAA5lE,OACjBlB,KAAKoB,EAAE,+CAA8C,KAAAF,OAAI4lE,EAAqBz4E,KAAI,KAGvFyI,KAAM8lD,EACN9kC,QAAS+kC,EACT9kC,UAAWA,IAlDgB1T,WAC/B,IACMsuB,EAAa54B,iBACXgI,GAAI3S,OAAO,kBAAD8R,OAAmByxB,EAAa7/B,GAAE,wBAE5CiP,GAAI3S,OAAO,kBAAD8R,OAAmByxB,EAAa7/B,KAEhDqO,IAAMjT,QAAQ8R,KAAKoB,EAAE,iCACrB,MAAOV,GACPD,GAAWC,GAEbqmE,EAAwB,MACxBxnC,EAAe,IACfrvB,EAAc,IAqCOg3D,CAAyBJ,IAEzC9mE,KAAKoB,EAAE,kDAEV3T,IAAAuX,cAACwhE,GAAiB,CAChBjJ,gBAAiBA,KACfrtD,EAAc,GACdwjB,KAEF58B,KAAMkwE,EACNlvD,QA1E+BqvD,KACnCN,EAAwB,MACxBI,GAAyB,IAyErBhvD,kBAAgB,oBAChBob,eAAgBuzC,GAAwBA,EAAqB9zE,KAE/DrF,IAAAuX,cAAC01C,GAAU,KACTjtD,IAAAuX,cAACypB,KAAI,CAACjd,MAAO,CAAE7H,MAAO,SAAW+kB,WAAS,GACxCjhC,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGzO,MAAI,GACvBlhC,IAAAuX,cAAC+yB,GAAK,KAAE/3B,KAAKoB,EAAE,uBAAuB,KAAGhF,EAAc8U,OAAO,MAEhEzjB,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIuO,GAAI,EAAGzO,MAAI,GACvBlhC,IAAAuX,cAACypB,KAAI,CAACvD,QAAS,EAAGwD,WAAS,GACzBjhC,IAAAuX,cAACypB,KAAI,CAACI,GAAI,EAAGuO,GAAI,EAAGzO,MAAI,GACtBlhC,IAAAuX,cAACgG,KAAS,CACRuP,WAAS,EACT7jB,YAAasJ,KAAKoB,EAAE,mCACpBrO,KAAK,SACLmS,MAAOiL,EACPlF,SAtFMC,IACpBq0B,EAAer0B,EAAMC,OAAOjG,MAAMs/B,gBAsFpBzC,WAAY,CACVsuB,eACE5iE,IAAAuX,cAACm1C,KAAc,CAACvoC,SAAS,SACvBnkB,IAAAuX,cAACwiC,KAAU,CAACh2B,MAAO,CAAEvc,MAAO,eAMtCxH,IAAAuX,cAACypB,KAAI,CAACI,GAAI,EAAGuO,GAAI,EAAGzO,MAAI,GACtBlhC,IAAAuX,cAACqG,KAAM,CACLkP,WAAS,EACTnP,QAAQ,YACRE,QA9GoB87D,KAClCP,EAAwB,MACxBI,GAAyB,IA6GXhyE,MAAM,WAEL+K,KAAKoB,EAAE,mCAOpB3T,IAAAuX,cAAC6uB,KAAK,CACJ9oB,UAAWR,EAAQkoB,UACnBrnB,QAAQ,WACR2V,SApFgBtH,IACpB,IAAKsE,GAAW9Z,EAAS,OACzB,MAAM,UAAE+c,EAAS,aAAE8S,EAAY,aAAEC,GAAiBta,EAAEsF,cAChD+U,GAAgB9S,EAAY,KAAO+S,GANvC7jB,EAAe+U,GAAcA,EAAY,KAyFrCx3B,IAAAuX,cAACu1B,KAAK,CAACzlB,KAAK,SACVrnB,IAAAuX,cAACw1B,KAAS,KACR/sC,IAAAuX,cAACy1B,KAAQ,KACPhtC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,8BAEV3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,iCAEV3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,kCAEV3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,+BAEV3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,kCAId3T,IAAAuX,cAAC41B,KAAS,KACRntC,IAAAuX,cAAAvX,IAAAikB,SAAA,KACGtV,EAAc0P,IAAK6mB,IAAY,IAAA00C,EApGjBn/B,EAoGiB,OAC9Bz6C,IAAAuX,cAACy1B,KAAQ,CAACxzB,IAAK0rB,EAAa7/B,IAC1BrF,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAUhI,EAAa3kC,OACxCP,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAtGnB,KADauN,EAwGUvV,EAAap2B,UAtGvC,OAEG,IAAR2rC,EACK,WAEG,IAARA,EACK,aADT,GAmGcz6C,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACQ,QADA0sC,EACtB10C,EAAa54B,iBAAS,IAAAstE,IAAIrnE,KAAKoB,EAAE,+BAEpC3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACdhI,EAAazhC,OAAS8O,KAAKoB,EAAE,wBAA0BpB,KAAKoB,EAAE,2BAEjE3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACfltC,IAAAuX,cAACsH,IAAU,CACTwI,KAAK,QACLxJ,QAASA,IApJGqnB,KAC9Bk0C,EAAwBl0C,GACxBs0C,GAAyB,IAkJQK,CAAuB30C,IAEtCllC,IAAAuX,cAACwH,KAAQ,OAGX/e,IAAAuX,cAACsH,IAAU,CACTwI,KAAK,QACLxJ,QAAUmO,IACRojC,GAAoB,GACpBkqB,EAAwBp0C,KAG1BllC,IAAAuX,cAACg6B,KAAiB,WAKzB/6B,GAAWxW,IAAAuX,cAAC61C,GAAgB,CAACC,QAAS,UCrUrD,MAAM3xC,GAAYC,YAAYvH,IAAK,CACjCy4C,cAAe,CACbhxC,QAAS,OACTC,cAAe,SACfqI,SAAU,WACVmK,KAAM,EACN9R,OAAQ,oBACRwQ,SAAU,SACVrQ,aAAc,EACdD,gBAAiBtI,EAAMqhB,QAAQqkD,SAEjCC,SAAU,CACRl+D,QAAS,OACTC,cAAe,SACfqI,SAAU,WACVmK,KAAM,EACNtK,UAAW,YACR5P,EAAMmZ,iBAEXuwC,SAAU,CACRznC,OAAQ,cAIG,SAAS2jD,GAAQ3iE,GAO5B,IAP6B,MAC/BpM,EAAK,iBACLgvE,EAAgB,iBAChBC,EAAgB,eAChBC,EAAc,SACdC,EAAQ,QACR5jE,GACDa,EACC,MAAMyF,EAAUpB,KACV/D,EAAUC,wBACV,KAAEtM,GAAS6V,qBAAWzG,KACtB,iBAAEisB,GAAqBJ,MAEtB/jC,EAAmB4sD,GAAuB14C,oBAAS,IACnD2jE,EAAcC,GAAmB5jE,mBAAS,KAE3C,GAAErR,GAAOw1B,sBAEToM,EAAerwB,UACnB,GAAI0lB,EAAe9zB,GAAQ,EACzB,UACQ8L,GAAIsE,KAAK,UAADnF,OAAWjL,EAAKnD,GAAE,SAAS,CAAE0P,OAAQzJ,EAAKjG,KACxD,MAAO4N,IAGP5N,IAAOmD,EAAKogB,OACdjR,EAAQ4C,KAAK,UAAD9G,OAAWjL,EAAKogB,OAC5BqxD,EAAiBzxE,KAQf8zB,EAAkB9zB,GACFA,EAAKpH,MAAMmY,KAAMuH,GAAMA,EAAE/L,SAAWzJ,EAAKjG,IAC1Cse,QAGf42D,EAAkB/xE,IACtB,MAAMgyE,EAAWhyE,EAAKjI,MAChBojB,EAAU2Y,EAAe9zB,GAC/B,OACExI,IAAAuX,cAAAvX,IAAAikB,SAAA,KACGu2D,EACA72D,EAAU,GACT3jB,IAAAuX,cAAC+qB,KAAI,CACHjb,KAAK,QACLtD,MAAO,CAAEkD,WAAY,GACrBza,MAAOmX,EACPnc,MAAM,gBAOVizE,EAAoBjyE,GACI,KAArBA,EAAK6zB,YAAkB,GAAA5oB,OACvBkzB,EAAiBn+B,EAAKwN,WAAU,MAAAvC,OAAKjL,EAAK6zB,aAC7C,GAGAq+C,EAAgBlyE,IACb,CACLguB,WAAYhuB,EAAKogB,OAASvjB,EAAK,oBAAsB,KACrDqX,gBAAiBlU,EAAKogB,OAASvjB,EAAK,yBAA2B,OAInE,OACErF,IAAAuX,cAAAvX,IAAAikB,SAAA,KACEjkB,IAAAuX,cAAC6S,GAAiB,CAChB7pB,MAAO,mBACP8I,KAAM7G,EACN6nB,QAAS+kC,EACT9kC,UA9CempC,KACnBymB,EAAiBG,KA8Cd,yDAGDr6E,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQ+vC,eACtB7sD,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQi9D,UACtB/5E,IAAAuX,cAAC6G,IAAI,KACFw4B,MAAMv9B,QAAQpO,IACbA,EAAMwY,OAAS,GACfxY,EAAMoT,IAAI,CAAC7V,EAAMgR,IACfxZ,IAAAuX,cAACgH,IAAQ,CACPV,QAASA,IAAMopB,EAAaz+B,GAC5BgR,IAAKA,EACL8D,UAAWR,EAAQghD,SACnB/5C,MAAO22D,EAAalyE,GACpB+X,QAAM,GAENvgB,IAAAuX,cAACiH,IAAY,CACXC,QAAS87D,EAAe/xE,GACxBkW,UAAW+7D,EAAiBjyE,KAE7BA,EAAKmyE,UAAYrvE,EAAKjG,IACrBrF,IAAAuX,cAACqH,KAAuB,KACtB5e,IAAAuX,cAACsH,IAAU,CACThB,QAASA,KACPopB,EAAaz+B,GAAMyqC,KAAK,KACtBknC,EAAe3xE,MAGnBohC,KAAK,MACLxJ,aAAW,SACX/Y,KAAK,QACLtD,MAAO,CAAEzH,YAAa,IAEtBtc,IAAAuX,cAACwH,KAAQ,OAEX/e,IAAAuX,cAACsH,IAAU,CACThB,QAASA,KACPy8D,EAAgB9xE,GAChB4mD,GAAoB,IAEtBxlB,KAAK,MACLxJ,aAAW,SACX/Y,KAAK,SAELrnB,IAAAuX,cAAC0H,KAAU,c,cCrJnC,MAAMvD,GAAYC,YAAYvH,IAAK,CACjCy4C,cAAe,CACbhxC,QAAS,OACTC,cAAe,SACfqI,SAAU,WACVmK,KAAM,EACNtB,SAAU,SACVrQ,aAAc,EACdH,OAAQ,OACRga,WAAY,iCAEdokD,YAAa,CACXz2D,SAAU,WACVH,UAAW,OACXxH,OAAQ,UACLpI,EAAMmZ,gBACT7Q,gBAAiBtI,EAAMqhB,QAAQolD,UAEjCC,UAAW,CACT32D,SAAU,WACV3H,OAAQ,QAEVJ,MAAO,CACLkR,QAAS,QAEXytD,WAAY,CACV/+D,OAAQ5H,EAAMqpB,QAAQ,IAExBu9C,QAAS,CACP1tD,QAAS,gBACTtR,OAAQ,OACRmI,SAAU,WACVzH,gBAAiB,OACjBiR,SAAU,IACVhR,aAAc,GACdsM,uBAAwB,EACxBmc,OAAQ,iCAEV61C,SAAU,CACR3tD,QAAS,gBACTtR,OAAQ,sBACRmI,SAAU,WACVzH,gBAAiB,QACjB2H,UAAW,QACXsJ,SAAU,IACVhR,aAAc,GACduM,wBAAyB,EACzBkc,OAAQ,oCAIG,SAAS81C,GAAY7jE,GAQhC,IARiC,KACnC7O,EAAI,SACJrI,EAAQ,kBACRk7B,EAAiB,eACjB8/C,EAAc,kBACdC,EAAiB,SACjBhB,EAAQ,QACR5jE,GACDa,EACC,MAAMyF,EAAUpB,MACV,KAAEpQ,GAAS6V,qBAAWzG,KACtB,iBAAEisB,GAAqBJ,KACvB80C,EAAU5qD,oBAET6qD,EAAgBC,GAAqB7kE,mBAAS,IAE/Cua,EAAiBA,KACjBoqD,EAAQrqD,SACVqqD,EAAQrqD,QAAQI,eAAe,KAYnCza,oBAAU,KACR,GATsBnO,KACtB,QAAa2L,IAAT3L,EAAoB,CAEtB,OADoBA,EAAKpH,MAAMmY,KAAMuH,GAAMA,EAAE/L,SAAWzJ,EAAKjG,IAC1Cse,QAAU,EAE/B,OAAO,GAIH2Y,CAAe9zB,GAAQ,EACzB,IACE8L,GAAIsE,KAAK,UAADnF,OAAWjL,EAAKnD,GAAE,SAAS,CAAE0P,OAAQzJ,EAAKjG,KAClD,MAAO4N,IAEXmoE,EAAkBpqD,QAAUC,GAE3B,IAUH,OACEjxB,IAAAuX,cAAC6uB,KAAK,CAAC9oB,UAAWR,EAAQ+vC,eACxB7sD,IAAAuX,cAAA,OAAK+b,SAVatH,IACpB,MAAM,UAAEuH,GAAcvH,EAAEsF,cACnB8oD,EAAS9pD,UAAW9Z,GACrB+c,EAAY,KACd4nD,KAM6B79D,UAAWR,EAAQ89D,aAC7ChkC,MAAMv9B,QAAQlZ,IACbA,EAASke,IAAI,CAAC6iB,EAAM1nB,IACd0nB,EAAK8F,WAAa17B,EAAKjG,GAEvBrF,IAAAuX,cAACqgB,KAAG,CAACpe,IAAKA,EAAK8D,UAAWR,EAAQm+D,UAChCj7E,IAAAuX,cAACqT,IAAU,CAACjN,QAAQ,aACjBujB,EAAKs6C,OAAO56E,MAEdsgC,EAAKr8B,QACN7E,IAAAuX,cAACqT,IAAU,CAACjN,QAAQ,UAAU9B,QAAQ,SACnC8qB,EAAiBzF,EAAK/iB,aAM3Bne,IAAAuX,cAACqgB,KAAG,CAACpe,IAAKA,EAAK8D,UAAWR,EAAQk+D,SAChCh7E,IAAAuX,cAACqT,IAAU,CAACjN,QAAQ,aACjBujB,EAAKs6C,OAAO56E,MAEdsgC,EAAKr8B,QACN7E,IAAAuX,cAACqT,IAAU,CAACjN,QAAQ,UAAU9B,QAAQ,SACnC8qB,EAAiBzF,EAAK/iB,cAMnCne,IAAAuX,cAAA,OAAK4I,IAAKk7D,KAEZr7E,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQg+D,WACtB96E,IAAAuX,cAACwqB,KAAW,CAACpkB,QAAQ,WAAWmP,WAAS,GACvC9sB,IAAAuX,cAACkkE,KAAK,CACJ7+B,WAAS,EACTnlC,MAAO6jE,EACPI,QAAU1vD,IACM,UAAVA,EAAExS,KAA6C,KAA1B8hE,EAAev9D,SACtCsd,EAAkBigD,GAClBC,EAAkB,MAGtB/9D,SAAWwO,GAAMuvD,EAAkBvvD,EAAEtO,OAAOjG,OAC5C6F,UAAWR,EAAQV,MACnBm4B,aACEv0C,IAAAuX,cAACm1C,KAAc,CAACvoC,SAAS,OACvBnkB,IAAAuX,cAACsH,IAAU,CACThB,QAASA,KACuB,KAA1By9D,EAAev9D,SACjBsd,EAAkBigD,GAClBC,EAAkB,MAGtBj+D,UAAWR,EAAQi+D,YAEnB/6E,IAAAuX,cAAC6pC,KAAQ,aClJ3B,MAAM1lC,GAAYC,YAAYvH,IAAK,CACjCy4C,cAAe,CACbhxC,QAAS,OACTC,cAAe,SACfqI,SAAU,WACVmK,KAAM,EACNhB,QAASlZ,EAAMqpB,QAAQ,GACvBjhB,OAAO,oBACPwH,UAAW,SACXohB,OAAQ,iCAEVu2C,cAAe,CACbrtD,KAAM,EACN9R,OAAQ,OACR4oB,OAAQ,gCACR1oB,gBAAiBtI,EAAMqhB,QAAQ2R,MAEjCw0C,SAAU,CACRp/D,OAAQ,QAEVq/D,YAAa,CACXr/D,OAAQ,MACRN,MAAO,QAET4/D,aAAc,CACZz3D,UAAW,QACXiJ,QAAS,OAIN,SAASyuD,GAAS1kE,GAMrB,IANsB,KACxBhO,EAAI,KACJb,EAAI,KACJlD,EAAI,YACJ8lB,EAAW,kBACX4wD,GACD3kE,EACC,MAAOjW,EAAOs1C,GAAYhgC,mBAAS,KAC5BnW,EAAO07E,GAAYvlE,mBAAS,IAEnCC,oBAAU,KAGR,GAFAslE,EAAS,IACTvlC,EAAS,IACI,SAATpxC,EAAiB,CACnB,MAAMuxC,EAAWruC,EAAKpH,MAAMid,IAAKyC,IAAC,CAChCzb,GAAIyb,EAAExV,KAAKjG,GACXzE,KAAMkgB,EAAExV,KAAK1K,QAEf81C,EAASG,GACTolC,EAASzzE,EAAKjI,SAEf,CAACiI,EAAMa,EAAM/D,IA8BhB,OACEtF,IAAAuX,cAACgT,KAAM,CACLlhB,KAAMA,EACNghB,QAASe,EACTZ,kBAAgB,qBAChB2a,mBAAiB,4BAEjBnlC,IAAAuX,cAACkT,KAAW,CAACplB,GAAG,sBAAqB,YACrCrF,IAAAuX,cAACmT,KAAa,KACZ1qB,IAAAuX,cAACypB,KAAI,CAACvD,QAAS,EAAGwD,WAAS,GACzBjhC,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIrd,MAAO,CAAEuJ,QAAS,IAAM4T,MAAI,GACxClhC,IAAAuX,cAACgG,KAAS,CACR/Q,MAAM,YACNvD,YAAY,YACZwO,MAAOlX,EACPid,SAAWwO,GAAMiwD,EAASjwD,EAAEtO,OAAOjG,OACnCkG,QAAQ,WACR0J,KAAK,QACLyF,WAAS,KAGb9sB,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIF,MAAI,GAChBlhC,IAAAuX,cAACi/B,GAAW,CACVV,WAAa10C,GAAUs1C,EAASt1C,GAChCq1C,aAAcr1C,OAKtBpB,IAAAuX,cAACsT,KAAa,KACZ7qB,IAAAuX,cAACqG,KAAM,CAACC,QAASuN,EAAa5jB,MAAM,WAAU,UAG9CxH,IAAAuX,cAACqG,KAAM,CAACC,QA7DKjH,UACjB,IACE,IAAKrW,EAEH,YADA27E,MAAM,gDAIR,IAAK96E,GAA0B,IAAjBA,EAAMqiB,OAElB,YADAy4D,MAAM,kDAIR,GAAa,SAAT52E,QACIgP,GAAImoB,IAAI,UAADhpB,OAAWjL,EAAKnD,IAAM,CACjCjE,QACAb,cAEG,CACL,MAAM,KAAE+S,SAAegB,GAAIsE,KAAK,SAAU,CACxCxX,QACAb,UAEFy7E,EAAkB1oE,GAEpB8X,IACA,MAAOnY,MAoCwBzL,MAAM,UAAUmW,QAAQ,aAAY,YAsT1DklC,uBA9Sf,SAAcjjC,GACZ,MAAM9C,EAAUpB,MACV,KAAEpQ,GAAS6V,qBAAWzG,IACtB/C,EAAUC,wBAETukE,EAAYC,GAAiB1lE,oBAAS,IACtC2lE,EAAYC,GAAiB5lE,mBAAS,QACtC6lE,EAAaC,GAAkB9lE,mBAAS,KACxCzL,EAAOwxE,GAAY/lE,mBAAS,KAC5BgmE,EAAeC,GAAoBjmE,mBAAS,CAAE4Z,SAAS,KACvDnwB,EAAUy8E,GAAelmE,mBAAS,KAClCmmE,EAAkBC,GAAuBpmE,mBAAS,CAAE4Z,SAAS,KAC7DysD,EAAcC,GAAmBtmE,mBAAS,IAC1CF,EAASC,GAAcC,oBAAS,IAChC2gC,EAAKgB,GAAU3hC,mBAAS,GACzBokB,EAAYrK,kBAAO,GACnB2qD,EAAoB3qD,oBACpB,GAAEprB,GAAOw1B,sBAEflkB,oBAAU,IACD,KACLmkB,EAAU9J,SAAU,GAErB,IAEHra,oBAAU,KACJmkB,EAAU9J,SACZisD,IAAYhqC,KAAM3/B,IAChB,MAAM,QAAEwQ,GAAYxQ,EACpB,GAAIwQ,EAAQL,OAAS,IACnBg5D,EAAS34D,GACT64D,EAAiBrpE,GAEbjO,GAAMye,EAAQL,QAAQ,CACxB,MAAMjb,EAAOsb,EAAQvK,KAAM68B,GAAMA,EAAExtB,OAASvjB,GAC5C63E,EAAW10E,OAMlB,IAEHmO,oBAAU,KACJpB,oBAASgnE,IAAgBnjE,eAAImjE,EAAa,OAC5CY,EAAaZ,EAAYl3E,IAAI4tC,KAAK,KACS,oBAA9BmoC,EAAkBpqD,SAC3B3N,WAAW,KACT+3D,EAAkBpqD,WACjB,QAKR,CAACurD,IAEJ5lE,oBAAU,KACR,MAAMI,EAAY/B,aAAaC,QAAQ,aACjC+B,EAASnC,GAAiB,CAAEkC,cA+DlC,OA7DAC,EAAOC,GAAG,WAADxD,OAAYsD,EAAS,eAAAtD,OAAcnI,EAAKjG,IAAOiO,IAItD,GAHoB,WAAhBA,EAAKoC,QACP+mE,EAAUp3D,GAAS,CAAC/R,EAAK4yB,UAAW7gB,IAElB,WAAhB/R,EAAKoC,OAAqB,CAC5B,MAAM0nE,EAAenyE,EAAMoT,IAAK7V,GAC1BA,EAAKnD,KAAOiO,EAAK4yB,OAAO7gC,IAC1Bm3E,EAAelpE,EAAK4yB,QACb,IACF5yB,EAAK4yB,SAGL19B,GAETi0E,EAASW,MAIbpmE,EAAOC,GAAG,WAADxD,OAAYsD,EAAS,SAAUzD,IACtC,GAAoB,WAAhBA,EAAKoC,OAAqB,CAC5B,MAAM2nE,EAAgBpyE,EAAM2Y,OAAQkjC,GAAMA,EAAEzhD,MAAQiO,EAAKjO,IACzDo3E,EAASY,GACTT,EAAY,IACZI,EAAgB,GAChBF,EAAoB,CAAExsD,SAAS,IAC/BksD,EAAe,IACf7kE,EAAQ4C,KAAK,aAIbhF,oBAASgnE,IAAgBnjE,eAAImjE,EAAa,OAC5CvlE,EAAOC,GAAG,WAADxD,OAAYsD,EAAS,UAAAtD,OAAS8oE,EAAYl3E,IAAOiO,IACxD,GAAoB,gBAAhBA,EAAKoC,OAA0B,CACjCknE,EAAav3D,GAAS,IAAIA,EAAM/R,EAAK0c,aACrC,MAAMotD,EAAenyE,EAAMoT,IAAK7V,GAC1BA,EAAKnD,KAAOiO,EAAK0c,WAAWjP,OACvB,IACFzN,EAAK9K,MAGLA,GAETi0E,EAASW,GACThC,EAAkBpqD,UAGpB,GAAoB,WAAhB1d,EAAKoC,OAAqB,CAC5B,MAAM0nE,EAAenyE,EAAMoT,IAAK7V,GAC1BA,EAAKnD,KAAOiO,EAAK9K,KAAKnD,GACjB,IACFiO,EAAK9K,MAGLA,GAETi0E,EAASW,GACThC,EAAkBpqD,aAKjB,KACLha,EAAOlU,eAGR,CAACy5E,IAEJ,MAAMW,EAAc10E,IAClB,IACEo0E,EAAY,IACZI,EAAgB,GAChBR,EAAeh0E,GACf6vC,EAAO,GACP,MAAOplC,MAGLqqE,EAAc1mE,UAClBH,GAAW,GACX,UACQnC,GAAIsE,KAAK,UAADnF,OAAW8oE,EAAYl3E,GAAE,aAAa,CAClDR,QAASy2E,IAEX,MAAOroE,IACTwD,GAAW,IAGP8mE,EAAa3mE,UACjB,UACQtC,GAAI3S,OAAO,UAAD8R,OAAWjL,EAAKnD,KAChC,MAAO4N,MAGLkqE,EAAevmE,UACnBH,GAAW,GACX,IACE,MAAM,KAAEnD,SAAegB,GAAIuC,IAAI,UAADpD,OAClBsN,EAAM,yBAAAtN,OAAwBspE,IAE1CC,EAAiB33D,GAASA,EAAO,GACjCy3D,EAAoBxpE,GACpBspE,EAAav3D,GAAS,IAAI/R,EAAKwQ,WAAYuB,IAC3C,MAAOpS,IACTwD,GAAW,IAGP+mE,EAAmB5mE,UAClBJ,GACH2mE,EAAaZ,EAAYl3E,KAIvB43E,EAAYrmE,UAChB,IACE,MAAM,KAAEtD,SAAegB,GAAIuC,IAAI,UAC/B,OAAOvD,EACP,MAAOL,GACP+rB,QAAQC,IAAIhsB,KAwGhB,OACEjT,IAAAuX,cAAAvX,IAAAikB,SAAA,KACEjkB,IAAAuX,cAACwkE,GAAS,CACRz2E,KAAM+2E,EACNhzE,KAAM8yE,EACN3zE,KAAM+zE,EACNP,kBAAoB1oE,IAClBspE,EAAY,IACZI,EAAgB,GAChBR,EAAelpE,GACf+kC,EAAO,GACP1gC,EAAQ4C,KAAK,UAAD9G,OAAWH,EAAKsV,QAE9BwC,YAAaA,IAAMgxD,GAAc,KAEnCp8E,IAAAuX,cAAC6uB,KAAK,CAAC9oB,UAAWR,EAAQ+vC,eACvBtM,aAAU,KAAM3gC,EAAM1D,OAlHzBlc,IAAAuX,cAACypB,KAAI,CAAC1jB,UAAWR,EAAQ6+D,cAAe16C,WAAS,GAC/CjhC,IAAAuX,cAACypB,KAAI,CAAC1jB,UAAWR,EAAQ8+D,SAAUhsC,GAAI,EAAG1O,MAAI,GAE1ClhC,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQg/D,cACtB97E,IAAAuX,cAACqG,KAAM,CACLC,QAASA,KACPy+D,EAAc,OACdF,GAAc,IAEhB50E,MAAM,UACNmW,QAAQ,aACT,SAKL3d,IAAAuX,cAACyiE,GAAQ,CACP/uE,MAAOA,EACPmvE,SAAUsC,EACVlmE,QAASA,EACTyjE,iBAAmBzxE,GAAS00E,EAAW10E,GACvC0xE,iBAAmB1xE,GAAS+0E,EAAW/0E,GACvC2xE,eAAgBA,KACdmC,EAAc,QACdF,GAAc,OAIpBp8E,IAAAuX,cAACypB,KAAI,CAAC1jB,UAAWR,EAAQ8+D,SAAUhsC,GAAI,EAAG1O,MAAI,GAC3C3rB,oBAASgnE,IAAgBnjE,eAAImjE,EAAa,OACzCv8E,IAAAuX,cAAC2jE,GAAY,CACX1yE,KAAM+zE,EACNnB,kBAAmBA,EACnBhB,SAAUyC,EACV18E,SAAUA,EACVqW,QAASA,EACT6kB,kBAAmBiiD,EACnBnC,eAAgBqC,MAUxBx9E,IAAAuX,cAACypB,KAAI,CAAC1jB,UAAWR,EAAQ6+D,cAAe16C,WAAS,GAC/CjhC,IAAAuX,cAACypB,KAAI,CAAC4O,GAAI,GAAI1O,MAAI,GAChBlhC,IAAAuX,cAACiiC,KAAI,CACH/hC,MAAO4/B,EACPqC,eAAe,UACfC,UAAU,UACVn8B,SAAUA,CAACwO,EAAGmqB,IAAMkC,EAAOlC,GAC3B/V,aAAW,yBAEXpgC,IAAAuX,cAACqiC,KAAG,CAACptC,MAAM,UACXxM,IAAAuX,cAACqiC,KAAG,CAACptC,MAAM,gBAGN,IAAR6qC,GACCr3C,IAAAuX,cAACypB,KAAI,CAAC1jB,UAAWR,EAAQ++D,YAAajsC,GAAI,GAAI1O,MAAI,GAChDlhC,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQg/D,cACtB97E,IAAAuX,cAACqG,KAAM,CACLC,QAASA,IAAMu+D,GAAc,GAC7B50E,MAAM,UACNmW,QAAQ,aACT,SAIH3d,IAAAuX,cAACyiE,GAAQ,CACP/uE,MAAOA,EACPmvE,SAAUsC,EACVlmE,QAASA,EACTyjE,iBAAmBzxE,GAAS00E,EAAW10E,GACvC0xE,iBAAmB1xE,GAAS+0E,EAAW/0E,MAIpC,IAAR6uC,GACCr3C,IAAAuX,cAACypB,KAAI,CAAC1jB,UAAWR,EAAQ++D,YAAajsC,GAAI,GAAI1O,MAAI,GAC/C3rB,oBAASgnE,IAAgBnjE,eAAImjE,EAAa,OACzCv8E,IAAAuX,cAAC2jE,GAAY,CACXE,kBAAmBA,EACnBhB,SAAUyC,EACV18E,SAAUA,EACVqW,QAASA,EACT6kB,kBAAmBiiD,EACnBnC,eAAgBqC,WCtZhC,MAAM9hE,GAAYC,YAAYvH,IAAK,CACjC4wB,UAAW,CACT1W,KAAM,EACNhB,QAASlZ,EAAMqpB,QAAQ,GACvBzZ,UAAW,YACR5P,EAAMmZ,oBAIPkwD,GAAe3wE,IACnB,MAAMkR,EAAM,IAAIC,KACVy/D,EAAO,IAAIz/D,KAAKnR,GAChBgN,EAAOM,KAAKujE,IAAI3/D,EAAIimC,UAAYy5B,EAAKz5B,WAG3C,OAFa7pC,KAAKwjE,KAAK9jE,EAAI,QA8GdkpD,OAzGEA,KAAO,IAAD56B,EAAAC,EACrB,MAAMvrB,EAAUpB,MACV,KAAEpQ,GAAS6V,qBAAWzG,KAErBlE,GAAYE,oBAAS,IACrB,CAAE+L,GAAiB/L,mBAAS,IAC5BorD,EAAmBC,GAAwBrrD,mBAAS,OACpD+7B,EAAkBC,GAAuBh8B,oBAAS,IAClD4Z,GAAY5Z,oBAAS,GAyB5B,OACE1W,IAAAuX,cAACw1C,GAAa,CAACzvC,UAAWR,EAAQ+vC,eAChC7sD,IAAAuX,cAAC4qD,GAAiB,CAChB94D,KAAMopC,EACNpoB,QArB0BspB,KAC9BouB,EAAqB,MACrBrvB,GAAoB,IAoBhBloB,kBAAgB,oBAChBwmB,UAAW8wB,IAGb9hE,IAAAuX,cAAC01C,GAAU,KACTjtD,IAAAuX,cAAC+yB,GAAK,KAAC,eAETtqC,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAIuO,GAAI,GACrB3vC,IAAAuX,cAAC6uB,KAAK,CACJ9oB,UAAWR,EAAQkoB,UACnBrnB,QAAQ,WACR2V,SAxBctH,IACpB,IAAKsE,GAAW9Z,EAAS,OACzB,MAAM,UAAE+c,EAAS,aAAE8S,EAAY,aAAEC,GAAiBta,EAAEsF,cAChD+U,GAAgB9S,EAAY,KAAO+S,GANvC7jB,EAAe+U,GAAcA,EAAY,KA8BnCx3B,IAAAuX,cAAA,WACEvX,IAAAuX,cAACgG,KAAS,CACRlY,GAAG,sBACHmH,MAAM,sBACNigC,aAAY,sCAAAh5B,OAAqCgqE,GAAgB,OAAJnyE,QAAI,IAAJA,GAAa,QAAT88B,EAAJ98B,EAAM2B,eAAO,IAAAm7B,OAAT,EAAJA,EAAey1C,iBAAgB,UAC5F/wD,WAAS,EACT9Q,OAAO,SACPg0B,gBAAiB,CACfC,QAAQ,GAEVqE,WAAY,CACV5H,UAAU,GAEZ/uB,QAAQ,cAKZ3d,IAAAuX,cAAA,WACEvX,IAAAuX,cAACgG,KAAS,CACRlY,GAAG,sBACHmH,MAAM,uBACNigC,aAAkB,OAAJnhC,QAAI,IAAJA,GAAa,QAAT+8B,EAAJ/8B,EAAM2B,eAAO,IAAAo7B,OAAT,EAAJA,EAAexnC,MAC7BisB,WAAS,EACT9Q,OAAO,SACPg0B,gBAAiB,CACfC,QAAQ,GAEVqE,WAAY,CACV5H,UAAU,GAEZ/uB,QAAQ,cAKZ3d,IAAAuX,cAAA,WACEvX,IAAAuX,cAACqG,KAAM,CACLD,QAAQ,YACRnW,MAAM,UACNqW,QAjFmBykD,KAC7BP,EAAqB,MACrBrvB,GAAoB,IAgFV5lB,WAAS,GACV,sBC1Fb,MAAMpR,GAAYC,YAAWvH,IAAK,CAC9BwH,KAAM,CACFC,QAAS,OACT6Q,SAAU,OACVu/B,IAAK,GAET1pB,cAAe,CACX1mB,QAAS,OACT,yBAA0B,CACtBS,YAAalI,EAAMqpB,QAAQ,KAGnCmT,UAAW,CACPt0B,YAAalI,EAAMqpB,QAAQ,GAC3BnP,KAAM,GAGVuiB,UAAW,CACPh1B,QAAS,OACT+T,eAAgB,SAChB7T,WAAY,UAGhBymB,WAAY,CACRre,SAAU,YAGd0C,eAAgB,CACZrf,MAAOsf,KAAM,KACb3C,SAAU,WACV4C,IAAK,MACLC,KAAM,MACNvK,WAAY,GACZwK,YAAa,IAEjBwb,YAAa,CACTzmB,OAAQ5H,EAAMqpB,QAAQ,GACtBlR,SAAU,KAEd65C,cAAe,CACXlqD,MAAO,GACPM,OAAQ,OAIVshE,GAAiBn7C,OAAaC,MAAM,CACtChiC,KAAM+hC,OACDpB,IAAI,EAAG,oBACPsB,SAAS,kBACdh+B,QAAS89B,OACJE,SAAS,oBAsQHk7C,OAnQI1mE,IAA4C,IAA3C,KAAEhO,EAAI,QAAEghB,EAAO,WAAEsqD,EAAU,OAAExrC,GAAQ9xB,EACrD,MAAMyF,EAAUpB,MACV,KAAEpQ,GAAS6V,qBAAWzG,KACpBvP,EAAO6yE,GAAatnE,mBAAS,KAC9BunE,EAAmBC,GAAwBxnE,mBAAS,IAGrDqsB,EAAe,CACjBniC,KAAM,GACNiE,QAAS,GACTwK,QAAS,CAAC,CAAEzO,KAAM,GAAI0tE,KAAK,GAAI98C,UAAU,OAGtCjjB,EAAU4vE,GAAeznE,mBAASqsB,GAEzCpsB,oBAAU,KACN,IACI,WACI,IAAKg+D,EAAY,OAEjB,MAAM,KAAErhE,SAAegB,GAAIuC,IAAI,UAADpD,OAAWkhE,IACzCwJ,EAAY7qE,IAJhB,GAMF,MAAOL,GACLD,GAAWC,KAEhB,CAAC0hE,EAAYtrE,IAEhB,MAAM+hB,EAAcA,KAChB+yD,EAAYp7C,GACZi7C,EAAS,IACT3zD,KAmDJ,OACIrqB,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQlB,MACpB5b,IAAAuX,cAACgT,KAAM,CACHlhB,KAAMA,EACNghB,QAASe,EACTuC,SAAS,KACTb,WAAS,EACTwW,OAAO,SACPtjC,IAAAuX,cAACkT,KAAW,CAACplB,GAAG,qBACA,GAAAoO,OAAVkhE,EAAgBpiE,KAAKoB,EAAE,wBAA+BpB,KAAKoB,EAAE,yBAEnE3T,IAAAuX,cAACgsB,KAAM,CACHC,cAAej1B,EACfk1B,oBAAoB,EACpBC,iBAAkBo6C,GAClBn6C,SAAUA,CAACC,EAAQhgC,KACfyf,WAAW,KAhEJzM,WAEvB,MAAMwnE,EAAcxnE,MAAOvH,EAASgvE,EAAch5E,KAC1C,MAAM0+C,EAAW,IAAIC,SACrBD,EAASG,OAAO,SAAU7+C,GAC1B0+C,EAASG,OAAO,WAAY,YAC5Bm6B,EAAaz9D,QAAQ,CAAC09D,EAAYhgE,KAC1BggE,EAAWr3B,OACXlD,EAASG,OAAO,QAASo6B,EAAWr3B,MACpClD,EAASG,OAAO,YAAao6B,EAAWr3B,KAAK3hD,MAC7Cy+C,EAASG,OAAO,OAAQ70C,EAAQiP,GAAO1d,MACvCmjD,EAASG,OAAO,KAAM70C,EAAQiP,GAAOjZ,OAI/C,IACE,MAAM,KAAEiO,SAAegB,GAAIsE,KAAK,qBAADnF,OAAsBpO,GAAM0+C,GAE3D,OADAi6B,EAAS,IACF1qE,EACP,MAAOL,GACPD,GAAWC,GAEf,OAAO,MAGLsrE,EAAW,IAAK36C,EAAQ7uB,OAAQzJ,EAAKjG,IAE3C,IACI,GAAIsvE,EAAY,CACZ,MAAM,KAAErhE,SAAegB,GAAImoB,IAAI,UAADhpB,OAAWkhE,GAAc4J,GACnDjrE,EAAKjE,QAAQoU,OAAS,GAEtB26D,EAAY9qE,EAAKjE,QAASu0B,EAAOv0B,QAASslE,OAC3C,CACH,MAAM,KAAErhE,SAAegB,GAAIsE,KAAK,SAAU2lE,GACtCjrE,EAAKjE,QAAQoU,OAAS,GACtB26D,EAAY9qE,EAAKjE,QAASu0B,EAAOv0B,QAASiE,EAAKjO,IAEvDqO,IAAMjT,QAAQ8R,KAAKoB,EAAE,sBACA,mBAAVw1B,GACPA,IAEN,MAAOl2B,GACLD,GAAWC,GAEfmY,KAoBoBozD,CAAmB56C,GACnBhgC,EAAQkgC,eAAc,IACvB,OAGNnc,IAAA,IAAC,QAAEoc,EAAO,OAAEC,EAAM,aAAEC,EAAY,OAAEL,GAAQjc,EAAA,OACvC3nB,IAAAuX,cAAC2sB,KAAI,KACDlkC,IAAAuX,cAACmT,KAAa,CAACC,UAAQ,GACnB3qB,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQylB,eACpBviC,IAAAuX,cAAC4sB,KAAK,CACFC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,uBACd/S,KAAK,OACL2S,MAAOwwB,EAAQnjC,MAAQkwB,QAAQkT,EAAOpjC,MACtC0jC,WAAYP,EAAQnjC,MAAQojC,EAAOpjC,KACnC+c,QAAQ,WACR3B,OAAO,QACP8Q,WAAS,KAGjB9sB,IAAAuX,cAAA,WACAvX,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQylB,eACpBviC,IAAAuX,cAAC4sB,KAAK,CACFC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,0BACdrO,KAAK,UACLs3C,WAAS,EACT6hC,QAAS,EACT3xD,WAAS,EACTlsB,KAAK,UACL2S,MACIwwB,EAAQl/B,SAAWisB,QAAQkT,EAAOn/B,SAEtCy/B,WACIP,EAAQl/B,SAAWm/B,EAAOn/B,QAE9B8Y,QAAQ,WACR3B,OAAO,WAGfhc,IAAAuX,cAACqT,IAAU,CACP7G,MAAO,CAAE5H,aAAc,EAAGM,UAAW,IACrCkB,QAAQ,aAEPpL,KAAKoB,EAAE,+BAGZ3T,IAAAuX,cAAC65B,KAAU,CAACxwC,KAAK,WACZywC,IAAA,IAAC,KAAE92B,EAAI,OAAEiF,GAAQ6xB,EAAA,OACdrxC,IAAAuX,cAAAvX,IAAAikB,SAAA,KACK2f,EAAOv0B,SACJu0B,EAAOv0B,QAAQoU,OAAS,GACxBmgB,EAAOv0B,QAAQgP,IAAI,CAACizB,EAAMhzB,IACtBte,IAAAuX,cAAA,OACI+F,UAAWR,EAAQ+zB,UACnBr3B,IAAG,GAAA/F,OAAK6K,EAAK,UAEbte,IAAAuX,cAACypB,KAAI,CAACC,WAAS,EAAExD,QAAS,GACtBz9B,IAAAuX,cAACypB,KAAI,CAACI,GAAI,EAAGwO,GAAI,GAAI1O,MAAI,GACrBlhC,IAAAuX,cAAC4sB,KAAK,CACFC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,4BACd/S,KAAI,WAAA6S,OAAa6K,EAAK,UACtBX,QAAQ,WACR3B,OAAO,QACP4gC,WAAS,EACT9vB,WAAS,EACT2xD,QAAS,EACTnhE,UAAWR,EAAQ8zB,aAG3B5wC,IAAAuX,cAACypB,KAAI,CAACI,GAAI,EAAGwO,GAAI,EAAG1O,MAAI,EAACnd,MAAO,CAAElI,QAAS,OAAQE,WAAY,SAAU6T,eAAgB,aACrF5vB,IAAAuX,cAAA,SACIjS,KAAK,OACLkY,SAAWwO,IACP,MAAM0yD,EAAe1yD,EAAEtO,OAAOvS,MAAM,GAC9BwzE,EAAiB,IAAI/6C,EAAOv0B,SAClCsvE,EAAergE,GAAO2oC,KAAOy3B,EAE7BV,EAAS,UAAWW,GAGpB,MAAMC,EAAmB,IAAIX,GAC7BW,EAAiBtgE,GAASogE,EAAeA,EAAa99E,KAAO,GAC7Ds9E,EAAqBU,IAEzB76D,MAAO,CAAElI,QAAS,QAClBjb,KAAI,WAAA6S,OAAa6K,EAAK,UACtBjZ,GAAE,eAAAoO,OAAiB6K,KAEvBte,IAAAuX,cAAA,SAAOopC,QAAO,eAAAltC,OAAiB6K,IAC3Bte,IAAAuX,cAACsH,IAAU,CAAC4B,UAAU,QAClBzgB,IAAAuX,cAACqpC,KAAc,QAGvB5gD,IAAAuX,cAACsH,IAAU,CACPwI,KAAK,QACLxJ,QAASA,IAAM2B,EAAOlB,IAEtBte,IAAAuX,cAACg6B,KAAiB,QAG1BvxC,IAAAuX,cAACypB,KAAI,CAACI,GAAI,GAAIwO,GAAI,GAAI1O,MAAI,GACrBoQ,EAAKg9B,KAAMh9B,EAAKg9B,KAAO2P,EAAkB3/D,OAM9Dte,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQ+zB,WACpB7wC,IAAAuX,cAACqG,KAAM,CACHmG,MAAO,CAAEuK,KAAM,EAAG7R,UAAW,GAC7BkB,QAAQ,WACRnW,MAAM,UACNqW,QAASA,KAAOtD,EAAK,CAAE3Z,KAAM,GAAI0tE,KAAM,KACvC4P,EAAqB,IAAID,EAAmB,OAC9C,KAAAxqE,OAEQlB,KAAKoB,EAAE,wCAOrC3T,IAAAuX,cAACsT,KAAa,KACV7qB,IAAAuX,cAACqG,KAAM,CACHC,QAASuN,EACT5jB,MAAM,YACN/F,SAAUwiC,EACVtmB,QAAQ,YAEPpL,KAAKoB,EAAE,6BAEZ3T,IAAAuX,cAACqG,KAAM,CACHtY,KAAK,SACLkC,MAAM,UACN/F,SAAUwiC,EACVtmB,QAAQ,YACRL,UAAWR,EAAQ0lB,YAER,GAAA/uB,OAAVkhE,EACQpiE,KAAKoB,EAAE,4BACPpB,KAAKoB,EAAE,4BACfswB,GACGjkC,IAAAuX,cAAC6P,KAAgB,CACbC,KAAM,GACN/J,UAAWR,EAAQ+J,yBCzS/D,MAAMrR,GAAUA,CAACC,EAAOC,KACpB,GAAoB,eAAhBA,EAAOpQ,KAAuB,CAC9B,MAAM6F,EAAQuK,EAAOC,QACfkpE,EAAW,GAWjB,OATA1zE,EAAMyV,QAASrS,IACX,MAAMuwE,EAAgBrpE,EAAMK,UAAWC,GAAMA,EAAE1Q,KAAOkJ,EAASlJ,KACxC,IAAnBy5E,EACArpE,EAAMqpE,GAAiBvwE,EAEvBswE,EAAStkE,KAAKhM,KAIf,IAAIkH,KAAUopE,GAGzB,GAAoB,iBAAhBnpE,EAAOpQ,KAAyB,CAChC,MAAMiJ,EAAWmH,EAAOC,QAClBmpE,EAAgBrpE,EAAMK,UAAWC,GAAMA,EAAE1Q,KAAOkJ,EAASlJ,IAE/D,OAAuB,IAAnBy5E,GACArpE,EAAMqpE,GAAiBvwE,EAChB,IAAIkH,IAEJ,CAAClH,KAAakH,GAI7B,GAAoB,eAAhBC,EAAOpQ,KAAuB,CAC9B,MAAMqvE,EAAaj/D,EAAOC,QAEpBmpE,EAAgBrpE,EAAMK,UAAWC,GAAMA,EAAE1Q,KAAOsvE,GAItD,OAHuB,IAAnBmK,GACArpE,EAAMU,OAAO2oE,EAAe,GAEzB,IAAIrpE,GAGf,GAAoB,UAAhBC,EAAOpQ,KACP,MAAO,IAIToW,GAAYC,YAAYvH,IAAK,CAC/B4wB,UAAW,CACP1W,KAAM,EACNhB,QAASlZ,EAAMqpB,QAAQ,GACvBzZ,UAAW,YACR5P,EAAMmZ,oBAuMFwxD,OAnMGA,KACd,MAAMjiE,EAAUpB,MAEV,KAAEpQ,GAAS6V,qBAAWzG,KAErBlE,EAASC,GAAcC,oBAAS,IAChC8L,EAAYC,GAAiB/L,mBAAS,IACtC4Z,EAASC,GAAc7Z,oBAAS,IAChCsoE,EAAkBC,GAAuBvoE,mBAAS,OAClDwoE,EAAkBC,GAAuBzoE,mBAAS,OAClDy4C,EAAkBC,GAAuB14C,oBAAS,IAClDgM,EAAaovB,GAAkBp7B,mBAAS,KACxCvL,EAAOmL,GAAYC,qBAAWf,GAAS,KACvC4pE,EAAmBC,GAAwB3oE,oBAAS,GAErD4oE,EAAiB5vB,sBAAY94C,UAC/B,IACI,MAAM,KAAEtD,SAAegB,GAAIuC,IAAI,UAAW,CACtC/B,OAAQ,CAAE4N,cAAaF,gBAE3BlM,EAAS,CAAEhR,KAAM,aAAcqQ,QAASrC,EAAKnI,QAC7ColB,EAAWjd,EAAKgd,SAChB7Z,GAAW,GACb,MAAOxD,GACLD,GAAWC,KAEhB,CAACyP,EAAaF,IAEjB7L,oBAAU,KACNL,EAAS,CAAEhR,KAAM,UACjBmd,EAAc,IACf,CAACC,IAEJ/L,oBAAU,KACNF,GAAW,GACX,MAAM2M,EAAkBC,WAAW,KAC/Bi8D,KACD,KACH,MAAO,IAAM/7D,aAAaH,IAC3B,CAACV,EAAaF,EAAY88D,IAE7B3oE,oBAAU,KACN,MAAMK,EAASnC,GAAiB,CAAEkC,UAAWzL,EAAKyL,YAYlD,OAVAC,EAAOC,GAAG,WAADxD,OAAYnI,EAAKyL,UAAS,SAAUzD,IACrB,WAAhBA,EAAKoC,QAAuC,WAAhBpC,EAAKoC,QACjCY,EAAS,CAAEhR,KAAM,eAAgBqQ,QAASrC,EAAKnI,QAG/B,WAAhBmI,EAAKoC,QACLY,EAAS,CAAEhR,KAAM,cAAeqQ,SAAUrC,EAAKisE,WAIhD,KACHvoE,EAAOlU,eAEZ,CAACwI,IAiDJ,OACItL,IAAAuX,cAACw1C,GAAa,KACV/sD,IAAAuX,cAAC6S,GAAiB,CACd7pB,MAAO2+E,GAAgB,GAAAzrE,OAAOlB,KAAKoB,EAAE,wCACrCtK,KAAM8lD,EACN9kC,QAAS+kC,EACT9kC,UAAWA,IAlCM1T,WACzB,UACUtC,GAAI3S,OAAO,UAAD8R,OAAWkhE,IAC3BjhE,IAAMjT,QAAQ8R,KAAKoB,EAAE,yBACvB,MAAOV,GACLD,GAAWC,GAEfksE,EAAoB,MACpBrtC,EAAe,IACfrvB,EAAc,GAEdnM,EAAS,CAAEhR,KAAM,UACjBmd,EAAc,SACR68D,KAqBmBE,CAAqBN,EAAiB75E,KAEtDkN,KAAKoB,EAAE,0CAEZ3T,IAAAuX,cAACkoE,GAAS,CACNp2E,KAAM+1E,EACN/0D,QAtDqBq1D,KAC7BT,EAAoB,MACpBI,GAAqB,IAqDbl2C,OAAQm2C,EACR90D,kBAAgB,oBAChBmqD,WAAYqK,GAAoBA,EAAiB35E,KAErDrF,IAAAuX,cAAC01C,GAAU,KACPjtD,IAAAuX,cAAC+yB,GAAK,KAAE/3B,KAAKoB,EAAE,eAAe,KAAGxI,EAAMsY,OAAO,KAC9CzjB,IAAAuX,cAAC21C,GAAwB,KACrBltD,IAAAuX,cAACgG,KAAS,CACNtU,YAAasJ,KAAKoB,EAAE,8BACpBrO,KAAK,SACLmS,MAAOiL,EACPlF,SA7DEC,IAClBq0B,EAAer0B,EAAMC,OAAOjG,MAAMs/B,gBA6DlBzC,WAAY,CACRsuB,eACI5iE,IAAAuX,cAACm1C,KAAc,CAACvoC,SAAS,SACrBnkB,IAAAuX,cAACwiC,KAAU,CAACh2B,MAAO,CAAEvc,MAAO,cAK5CxH,IAAAuX,cAACqG,KAAM,CACHD,QAAQ,YACRnW,MAAM,UACNqW,QAnFY8hE,KAC5BV,EAAoB,MACpBI,GAAqB,KAmFJ9sE,KAAKoB,EAAE,wBAIpB3T,IAAAuX,cAAC6uB,KAAK,CACF9oB,UAAWR,EAAQkoB,UACnBrnB,QAAQ,WACR2V,SArDUtH,IAClB,IAAKsE,GAAW9Z,EAAS,OACzB,MAAM,UAAE+c,EAAS,aAAE8S,EAAY,aAAEC,GAAiBta,EAAEsF,cAChD+U,GAAgB9S,EAAY,KAAO+S,GANvC7jB,EAAe+U,GAAcA,EAAY,KA0DjCx3B,IAAAuX,cAACu1B,KAAK,CAACzlB,KAAK,SACRrnB,IAAAuX,cAACw1B,KAAS,KACN/sC,IAAAuX,cAACy1B,KAAQ,KACLhtC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAU36B,KAAKoB,EAAE,qBAClC3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACZ36B,KAAKoB,EAAE,0BAIpB3T,IAAAuX,cAAC41B,KAAS,KACNntC,IAAAuX,cAAAvX,IAAAikB,SAAA,KACK9Y,EAAMkT,IAAK9P,GACRvO,IAAAuX,cAACy1B,KAAQ,CAACxzB,IAAKjL,EAASlJ,IACpBrF,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACZ3+B,EAAS3N,MAEdZ,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACbltC,IAAAuX,cAACsH,IAAU,CAACwI,KAAK,QAAQxJ,QAASA,IAjG1CtP,KACxB0wE,EAAoB1wE,GACpB8wE,GAAqB,IA+FmDO,CAAmBrxE,IACvDvO,IAAAuX,cAACwH,KAAQ,OAGb/e,IAAAuX,cAACsH,IAAU,CACPwI,KAAK,QACLxJ,QAAUmO,IACNojC,GAAoB,GACpB+vB,EAAoB5wE,KAGxBvO,IAAAuX,cAACg6B,KAAiB,UAKjC/6B,GAAWxW,IAAAuX,cAAC61C,GAAgB,CAACC,QAAS,UC3QnE,MAAM3xC,GAAYC,YAAWvH,IAAK,CAC9BquB,YAAa,CACTzmB,OAAQ5H,EAAMqpB,QAAQ,GACtBlR,SAAU,QAmDHszD,OA/CWA,KACtB,MAAM/iE,EAAUpB,MACThR,EAAQo3B,GAAaprB,mBAAS,IAarC,OAXAC,oBAAU,KACN,WACI,IACI,MAAM,KAAErD,SAAegB,GAAIuC,IAAI,UAC/BirB,EAAUxuB,GACZ,MAAOL,GACLD,GAAW,wBAADS,OAAyBR,MAL3C,IAQD,IAGCjT,IAAAuX,cAAA,OAAKwM,MAAO,CAAEtH,UAAW,IACrBzc,IAAAuX,cAACwqB,KAAW,CACRpkB,QAAQ,WACRL,UAAWR,EAAQilB,YACnB/lB,OAAO,QACP8Q,WAAS,GAET9sB,IAAAuX,cAAA,WACIvX,IAAAuX,cAACqT,IAAU,KACNrY,KAAKoB,EAAE,2BAEZ3T,IAAAuX,cAAC4sB,KAAK,CACFC,GAAInC,KACJz1B,MAAO+F,KAAKoB,EAAE,0BACd/S,KAAK,UACL2jC,QAAQ,wBACRl/B,GAAG,kBACHynB,WAAS,GAERpiB,EAAO2T,IAAItX,GACR/G,IAAAuX,cAACwU,IAAQ,CAACvS,IAAKzS,EAAM1B,GAAIoS,MAAO1Q,EAAM1B,IACjC0B,EAAMnG,YC/BvC,MAAM8a,GAAYC,YAAWvH,IAAK,CAC9BwH,KAAM,CACFC,QAAS,OACT6Q,SAAU,QAEd6V,cAAe,CACX1mB,QAAS,OACT,yBAA0B,CACtBS,YAAalI,EAAMqpB,QAAQ,KAInC+E,WAAY,CACRre,SAAU,YAGd0C,eAAgB,CACZrf,MAAOsf,KAAM,KACb3C,SAAU,WACV4C,IAAK,MACLC,KAAM,MACNvK,WAAY,GACZwK,YAAa,IAEjBwb,YAAa,CACTzmB,OAAQ5H,EAAMqpB,QAAQ,GACtBlR,SAAU,KAEd65C,cAAe,CACXlqD,MAAO,GACPM,OAAQ,OAIKmmB,OAAaC,MAAM,CACpChiC,KAAM+hC,OAAapB,IAAI,EAAG,gBAAgBC,IAAI,IAAK,gBAAgBqB,SAAS,kBAC5Ez+B,OAAQu+B,OAAapB,IAAI,GAAI,gBAAgBsB,SAAS,0DACtDt8B,MAAOo8B,OAAaE,SAAS,2BAC7Br8B,WAAYm8B,OAAaE,SAAS,2CAClCp8B,YAAak8B,OAAaE,SAAS,yBACnCn8B,OAAQi8B,OAAaE,SAAS,qBAC9BxL,QAASsL,OAAaE,SAAS,kBAC/Bl8B,aAAcg8B,OAAaE,SAAS,gDA2SzBi9C,OAxSKzoE,IAAkC,IAAjC,KAAEhO,EAAI,QAAEghB,EAAO,SAAEwS,GAAUxlB,EAC5C,MAAMyF,EAAUpB,MACTqkE,EAAeC,GAAoBtpE,mBAAS,UAC5CupE,EAAYC,GAAiBxpE,oBAAS,GAEvCypE,EAAqBA,KACvBD,GAAeD,IAGbl9C,EAAe,CACjBniC,KAAM,GACNwD,OAAQ,GACRmC,MAAO,QACPK,SAAU,GACVC,YAAa,GACbu5E,UAAW,IACX35E,YAAa,EACb45E,OAAQ,GACRhpD,QAAS,KACTipD,YAAa,KAGVl8E,EAAQm8E,GAAa7pE,mBAASqsB,GAErCpsB,oBAAU,KACcC,WAChB,GAAKimB,EAIL,IACI,MAAM,KAAEvpB,SAAegB,GAAIuC,IAAI,WAADpD,OAAYopB,IAC1C0jD,EAAU/oD,IACC,IAAKA,KAAclkB,KAE9B0sE,EAAiB1sE,EAAK/M,OACxB,MAAO0M,GACLD,GAAWC,QAVXstE,EAAUx9C,IAclBy9C,IACD,CAAC3jD,EAAUxzB,IAEd,MAAM+hB,EAAcA,KAChBm1D,EAAUx9C,GACVi9C,EAAiB,SACjB31D,KAGEo2D,EAAqBz0D,IACvBg0D,EAAiBh0D,EAAEtO,OAAOjG,QAsB9B,OACIzX,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQlB,MACpB5b,IAAAuX,cAACgT,KAAM,CACHlhB,KAAMA,EACNghB,QAASe,EACTuC,SAAS,KACT2V,OAAO,QACPxW,WAAS,GAET9sB,IAAAuX,cAACkT,KAAW,CAACplB,GAAG,qBACH,GAAAoO,OAARopB,EACQtqB,KAAKoB,EAAE,0BACPpB,KAAKoB,EAAE,2BAEpB3T,IAAAuX,cAACgsB,KAAM,CACHC,cAAep/B,EACfq/B,oBAAoB,EACpBE,SAAUA,CAACC,EAAQhgC,KACfyf,WAAW,KArCNzM,WACrB,MAAM8pE,EAAa,IAAK98C,EAAQr9B,MAAOw5E,GACvC,GAAKn8C,EAAOvM,QAAZ,CAIA,IACQwF,QACMvoB,GAAImoB,IAAI,WAADhpB,OAAYopB,GAAY6jD,SAE/BpsE,GAAIsE,KAAK,UAAW8nE,GAE9BhtE,IAAMjT,QAAQ8R,KAAKoB,EAAE,wBACvB,MAAOV,GACLD,GAAWC,GAEfmY,SAbIpY,GAAW,oBAmCK2tE,CAAiB/8C,GACjBhgC,EAAQkgC,eAAc,IACvB,OAGNnc,IAAA,IAAC,QAAEoc,EAAO,OAAEC,EAAM,aAAEC,EAAY,OAAEL,GAAQjc,EAAA,OACvC3nB,IAAAuX,cAAC2sB,KAAI,CAACngB,MAAO,CAAE7H,MAAO,SAClBlc,IAAAuX,cAACmT,KAAa,CAACC,UAAQ,GACnB3qB,IAAAuX,cAAC4sB,KAAK,CACFC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,yBACd/S,KAAK,OACL2S,MAAOwwB,EAAQnjC,MAAQkwB,QAAQkT,EAAOpjC,MACtC0jC,WAAYP,EAAQnjC,MAAQojC,EAAOpjC,KACnC+c,QAAQ,WACR3B,OAAO,QACP8Q,WAAS,IAEb9sB,IAAAuX,cAACwqB,KAAW,CAACjV,WAAS,EAAC9Q,OAAO,QAAQ2B,QAAQ,YAC1C3d,IAAAuX,cAAC4sB,KAAK,CACFC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,2BACd/S,KAAK,SACL0E,KAAM26E,EAAa,OAAS,WAC5B1sE,MAAOwwB,EAAQs8C,QAAUvvD,QAAQkT,EAAOq8C,QACxC/7C,WAAYP,EAAQs8C,QAAUr8C,EAAOq8C,OACrC1iE,QAAQ,WACR3B,OAAO,QACP8Q,WAAS,EACTwnB,WAAY,CACRC,aACIv0C,IAAAuX,cAACm1C,KAAc,CAACvoC,SAAS,OACrBnkB,IAAAuX,cAACsH,IAAU,CAAChB,QAASsiE,GAChBF,EAAajgF,IAAAuX,cAACo1C,KAAa,MAAM3sD,IAAAuX,cAACq1C,KAAU,YAOrE5sD,IAAAuX,cAAC4sB,KAAK,CACFC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,2BACd/S,KAAK,SACL2S,MAAOwwB,EAAQ3/B,QAAU0sB,QAAQkT,EAAO5/B,QACxCkgC,WAAYP,EAAQ3/B,QAAU4/B,EAAO5/B,OACrCuZ,QAAQ,WACR3B,OAAO,QACP8Q,WAAS,EACT6vB,KAAM,GACNC,WAAW,IAEf58C,IAAAuX,cAACsoE,GAAiB,MAClB7/E,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQylB,eACpBviC,IAAAuX,cAACwqB,KAAW,CAACjV,WAAS,EAAC9Q,OAAO,QAAQ2B,QAAQ,YAC9C3d,IAAAuX,cAACyqB,KAAU,KAAEzvB,KAAKoB,EAAE,2BAChB3T,IAAAuX,cAAC0qB,KAAM,CACH58B,GAAG,cACH88B,WAAY,GACZvhC,KAAK,QACL6W,MAAOsoE,EACPviE,SAAUijE,EACVv+C,UAAU,GAEVliC,IAAAuX,cAACwU,IAAQ,CAACvS,IAAK,QAAS/B,MAAO,SAAS,SAGxCzX,IAAAuX,cAACwU,IAAQ,CAACvS,IAAK,wBAAyB/B,MAAO,yBAAyB,YAGxEzX,IAAAuX,cAACwU,IAAQ,CAACvS,IAAK,sBAAuB/B,MAAO,uBAAuB,cAGpEzX,IAAAuX,cAACwU,IAAQ,CAACvS,IAAK,qBAAsB/B,MAAO,sBAAsB,UAGlEzX,IAAAuX,cAACwU,IAAQ,CAACvS,IAAK,qBAAsB/B,MAAO,sBAAsB,UAGlEzX,IAAAuX,cAACwU,IAAQ,CAACvS,IAAK,mBAAoB/B,MAAO,oBAAoB,QAG9DzX,IAAAuX,cAACwU,IAAQ,CAACvS,IAAK,oBAAqB/B,MAAO,qBAAqB,YAGhEzX,IAAAuX,cAACwU,IAAQ,CAACvS,IAAK,uBAAwB/B,MAAO,wBAAwB,YAGtEzX,IAAAuX,cAACwU,IAAQ,CAACvS,IAAK,uBAAwB/B,MAAO,wBAAwB,YAGtEzX,IAAAuX,cAACwU,IAAQ,CAACvS,IAAK,oBAAqB/B,MAAO,qBAAqB,SAGhEzX,IAAAuX,cAACwU,IAAQ,CAACvS,IAAK,oBAAqB/B,MAAO,qBAAqB,SAGhEzX,IAAAuX,cAACwU,IAAQ,CAACvS,IAAK,sBAAuB/B,MAAO,uBAAuB,cAGpEzX,IAAAuX,cAACwU,IAAQ,CAACvS,IAAK,sBAAuB/B,MAAO,uBAAuB,WAGpEzX,IAAAuX,cAACwU,IAAQ,CAACvS,IAAK,sBAAuB/B,MAAO,uBAAuB,WAGpEzX,IAAAuX,cAACwU,IAAQ,CAACvS,IAAK,sBAAuB/B,MAAO,uBAAuB,cAGpEzX,IAAAuX,cAACwU,IAAQ,CAACvS,IAAK,mBAAoB/B,MAAO,oBAAoB,UAKtEzX,IAAAuX,cAAC4sB,KAAK,CACFC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,6BACd/S,KAAK,WACL2S,MAAOwwB,EAAQn9B,UAAYkqB,QAAQkT,EAAOp9B,UAC1C09B,WAAYP,EAAQn9B,UAAYo9B,EAAOp9B,SACvC+W,QAAQ,WACR3B,OAAO,QACP8Q,WAAS,IAEb9sB,IAAAuX,cAAC4sB,KAAK,CACFC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,gCACd/S,KAAK,cACL2S,MAAOwwB,EAAQl9B,aAAeiqB,QAAQkT,EAAOn9B,aAC7Cy9B,WAAYP,EAAQl9B,aAAem9B,EAAOn9B,YAC1C8W,QAAQ,WACR3B,OAAO,QACP8Q,WAAS,KAIjB9sB,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQylB,eACpBviC,IAAAuX,cAAC4sB,KAAK,CACFC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,gCACd/S,KAAK,cACL2S,MAAOwwB,EAAQt9B,aAAeqqB,QAAQkT,EAAOv9B,aAC7C69B,WAAYP,EAAQt9B,aAAeu9B,EAAOv9B,YAC1CkX,QAAQ,WACR3B,OAAO,QACP8Q,WAAS,IAEb9sB,IAAAuX,cAAC4sB,KAAK,CACFC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,+BACd/S,KAAK,YACL2S,MAAOwwB,EAAQq8C,WAAatvD,QAAQkT,EAAOo8C,WAC3C97C,WAAYP,EAAQq8C,WAAap8C,EAAOo8C,UACxCziE,QAAQ,WACR3B,OAAO,QACP8Q,WAAS,IAEb9sB,IAAAuX,cAAC4sB,KAAK,CACFC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,iCACd/S,KAAK,cACL2S,MAAOwwB,EAAQu8C,aAAexvD,QAAQkT,EAAOs8C,aAC7Ch8C,WAAYP,EAAQu8C,aAAet8C,EAAOs8C,YAC1C3iE,QAAQ,WACR3B,OAAO,QACP8Q,WAAS,MAIrB9sB,IAAAuX,cAACsT,KAAa,KACV7qB,IAAAuX,cAACqG,KAAM,CACHC,QAASuN,EACT5jB,MAAM,YACN/F,SAAUwiC,EACVtmB,QAAQ,YAEPpL,KAAKoB,EAAE,+BAEZ3T,IAAAuX,cAACqG,KAAM,CACHtY,KAAK,SACLkC,MAAM,UACN/F,SAAUwiC,EACVtmB,QAAQ,YACRL,UAAWR,EAAQ0lB,YAEV,GAAA/uB,OAARopB,EACQtqB,KAAKoB,EAAE,8BACPpB,KAAKoB,EAAE,8BACfswB,GACGjkC,IAAAuX,cAAC6P,KAAgB,CACbC,KAAM,GACN/J,UAAWR,EAAQ+J,yBClU/D,MAAMnL,GAAYC,YAAYvH,IAAK,CACjC4wB,UAAW,CACT1W,KAAM,EACNhB,QAASlZ,EAAMqpB,QAAQ,GACvBzZ,UAAW,YACR5P,EAAMmZ,iBAEX4/B,gBAAiB,CACftxC,QAAS,OACTE,WAAY,SACZ6T,eAAgB,aAIdpa,GAAUA,CAACC,EAAOC,KACtB,GAAoB,iBAAhBA,EAAOpQ,KAAyB,CAClC,MAAMwB,EAAU4O,EAAOC,QACjBirE,EAAa,GAWnB,OATA95E,EAAQ8Z,QAASxc,IACf,MAAMy8E,EAAcprE,EAAMK,UAAWgrE,GAAMA,EAAEz7E,KAAOjB,EAAOiB,KACtC,IAAjBw7E,EACFprE,EAAMorE,GAAez8E,EAErBw8E,EAAWrmE,KAAKnW,KAIb,IAAIqR,KAAUmrE,GAGvB,GAAoB,mBAAhBlrE,EAAOpQ,KAA2B,CACpC,MAAMlB,EAASsR,EAAOC,QAChBkrE,EAAcprE,EAAMK,UAAWgrE,GAAMA,EAAEz7E,KAAOjB,EAAOiB,IAE3D,OAAqB,IAAjBw7E,GACFprE,EAAMorE,GAAez8E,EACd,IAAIqR,IAEJ,CAACrR,KAAWqR,GAIvB,GAAoB,kBAAhBC,EAAOpQ,KAA0B,CACnC,MAAMu3B,EAAWnnB,EAAOC,QAClBkrE,EAAcprE,EAAMK,UAAWgrE,GAAMA,EAAEz7E,KAAOw3B,GAIpD,OAHqB,IAAjBgkD,GACFprE,EAAMU,OAAO0qE,EAAa,GAErB,IAAIprE,GAGb,GAAoB,UAAhBC,EAAOpQ,KACT,MAAO,IAkKIy7E,OA9JCA,KACd,MAAMjkE,EAAUpB,MAET5U,EAASwP,GAAYC,qBAAWf,GAAS,KACzCgB,EAASC,GAAcC,oBAAS,IAEhCsqE,EAAiBC,GAAsBvqE,oBAAS,IAChDk3C,EAAgBC,GAAqBn3C,mBAAS,OAC9Cy4C,EAAkBC,GAAuB14C,oBAAS,GAEzDC,oBAAU,KACR,WACEF,GAAW,GACX,IACE,MAAM,KAAEnD,SAAegB,GAAIuC,IAAI,WAC/BP,EAAS,CAAEhR,KAAM,eAAgBqQ,QAASrC,EAAKxM,UAE/C2P,GAAW,GACX,MAAOxD,GACPD,GAAWC,GACXwD,GAAW,KATf,IAYC,IAEHE,oBAAU,KACR,MAAMK,EAAS9B,KAAWR,yBAY1B,OAVAsC,EAAOC,GAAG,SAAW3D,IACC,WAAhBA,EAAKoC,QAAuC,WAAhBpC,EAAKoC,QACnCY,EAAS,CAAEhR,KAAM,iBAAkBqQ,QAASrC,EAAKlP,SAG/B,WAAhBkP,EAAKoC,QACPY,EAAS,CAAEhR,KAAM,gBAAiBqQ,QAASrC,EAAKupB,aAI7C,KACL7lB,EAAOlU,eAER,IAgCH,OACE9C,IAAAuX,cAACw1C,GAAa,KACZ/sD,IAAAuX,cAAC6S,GAAiB,CAChB7pB,MACEqtD,GAAc,GAAAn6C,OACXlB,KAAKoB,EAAE,yCAAwC,KAAAF,OAAIm6C,EAAehtD,KAAI,KAG3EyI,KAAM8lD,EACN9kC,QAxB+Bq9C,KACnCtY,GAAoB,GACpBvB,EAAkB,OAuBdvjC,UAAWA,IApBU1T,WACzB,IACE,MAAM,KAAEtD,SAAegB,GAAI3S,OAAO,WAAD8R,OAAYopB,IAC7CnpB,IAAM49B,KAAK/+B,KAAKoB,EAAEL,EAAKzO,UACvB,MAAOoO,GACPD,GAAWC,GAEb46C,EAAkB,OAaGqzB,CAAmBtzB,EAAevoD,KAElDkN,KAAKoB,EAAE,4CAEV3T,IAAAuX,cAACuoE,GAAW,CACVz2E,KAAM23E,EACN32D,QAzCyB82D,KAC7BF,GAAmB,GACnBpzB,EAAkB,OAwCdhxB,SAAwB,OAAd+wB,QAAc,IAAdA,OAAc,EAAdA,EAAgBvoD,KAE5BrF,IAAAuX,cAAC01C,GAAU,KACTjtD,IAAAuX,cAAC+yB,GAAK,KAAE/3B,KAAKoB,EAAE,kBACf3T,IAAAuX,cAAC21C,GAAwB,KACvBltD,IAAAuX,cAACqG,KAAM,CACLD,QAAQ,YACRnW,MAAM,UACNqW,QAvDoBujE,KAC5BH,GAAmB,GACnBpzB,EAAkB,QAuDTt7C,KAAKoB,EAAE,0BAId3T,IAAAuX,cAAC6uB,KAAK,CAAC9oB,UAAWR,EAAQkoB,UAAWrnB,QAAQ,YAC3C3d,IAAAuX,cAACu1B,KAAK,CAACzlB,KAAK,SACVrnB,IAAAuX,cAACw1B,KAAS,KACR/sC,IAAAuX,cAACy1B,KAAQ,KACPhtC,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,QACd36B,KAAKoB,EAAE,uBAEV3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,QACd36B,KAAKoB,EAAE,wBAEV3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,QACd36B,KAAKoB,EAAE,6BAEV3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACd36B,KAAKoB,EAAE,4BAId3T,IAAAuX,cAAC41B,KAAS,KACRntC,IAAAuX,cAAAvX,IAAAikB,SAAA,KACGnd,EAAQuX,IAAKja,GACZpE,IAAAuX,cAACy1B,KAAQ,CAACxzB,IAAKpV,EAAOiB,IACpBrF,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,QAAQ9oC,EAAOxD,MAChCZ,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,QAAQ9oC,EAAO2C,MAAMnG,MACtCZ,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,QAAQ9oC,EAAOg8E,WAChCpgF,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACfltC,IAAAuX,cAACsH,IAAU,CACTwI,KAAK,QACLxJ,QAASA,IA/EHzZ,KACxBypD,EAAkBzpD,GAClB68E,GAAmB,IA6EcI,CAAiBj9E,IAEhCpE,IAAAuX,cAACk5C,KAAI,OAGPzwD,IAAAuX,cAACsH,IAAU,CACTwI,KAAK,QACLxJ,QAASA,KACPgwC,EAAkBzpD,GAClBgrD,GAAoB,KAGtBpvD,IAAAuX,cAACwwC,KAAa,UAKrBvxC,GAAWxW,IAAAuX,cAAC61C,GAAgB,CAACC,QAAS,U,oFC9MrD,MAAM3xC,GAAYC,YAAYvH,IAAK,CACjCwH,KAAM,CACJC,QAAS,OACT6Q,SAAU,OACVu/B,IAAK,GAEPrb,UAAW,CACTt0B,YAAalI,EAAMqpB,QAAQ,GAC3BnP,KAAM,GAGRkU,WAAY,CACVre,SAAU,YAGZ0C,eAAgB,CACdrf,MAAOsf,KAAM,KACb3C,SAAU,WACV4C,IAAK,MACLC,KAAM,MACNvK,WAAY,GACZwK,YAAa,IAEfq6D,QAAS,CACPzlE,QAAS,OACTS,YAAa,OACb2K,WAAY,IAEdm/C,cAAe,CACblqD,MAAO,GACPM,OAAQ,OAIN+kE,GAAmB5+C,OAAaC,MAAM,CAC1ChiC,KAAM+hC,OACHpB,IAAI,EAAG,cACPC,IAAI,GAAI,aACRqB,SAAS,cAobC2+C,OAzaUnqE,IAAuC,IAAtC,KAAEhO,EAAI,QAAEghB,EAAO,cAAEviB,GAAeuP,EACxD,MAAMyF,EAAUpB,KAEVqnB,EAAe,CACnBz9B,KAAM,UACN1E,KAAM,GACN2E,YAAa,GACbE,YAAa,GACbD,SAAU,GACVE,OAAQ,GACRO,oBAAqB,IACrBL,eAAgB,EAChBC,qBAAsB,GACtBC,sBAAuB,GACvBC,sBAAuB,GACvBJ,YAAa,GACbK,sBAAuB,KAIlBohE,EAAaqa,GAAkB/qE,mBAASqsB,GAE/CpsB,oBAAU,KACR,WACE,GAAK7O,EACL,IACE,MAAM,KAAEwL,SAAegB,GAAIuC,IAAI,qBAADpD,OAAsB3L,IACpD25E,EAAgBjqD,IACP,IAAKA,KAAclkB,KAE5B,MAAOL,GACPD,GAAWC,KARf,GAYO,KACLwuE,EAAe,CACbn8E,KAAM,aACN1E,KAAM,GACN2E,YAAa,GACbE,YAAa,GACbD,SAAU,GACVE,OAAQ,GACRO,oBAAqB,QAIxB,CAAC6B,EAAeuB,IAEnB,MAAM+hB,EAAcA,KAClBf,IACAo3D,EAAe1+C,IAmCjB,OACE/iC,IAAAuX,cAAA,OAAK+F,UAAWR,EAAQlB,MACtB5b,IAAAuX,cAACgT,KAAM,CAAClhB,KAAMA,EAAMghB,QAASe,EAAa0B,WAAS,EAACa,SAAS,KAAK2V,OAAO,SACvEtjC,IAAAuX,cAACkT,KAAW,KACI,GAAAhX,OAAb3L,EACMyK,KAAKoB,EAAE,oCACPpB,KAAKoB,EAAE,qCAEhB3T,IAAAuX,cAACgsB,KAAM,CACLC,cAAe4jC,EACf3jC,oBAAoB,EACpBC,iBAAkB69C,GAClB59C,SAAUA,CAACC,EAAQhgC,EAAS6Z,KAC1B4F,WAAW,KA7BQzM,WAC3B,IACsB,QAAhBgtB,EAAOt+B,MAAkC,YAAhBs+B,EAAOt+B,MAAsC,YAAhBs+B,EAAOt+B,OAAoBs+B,EAAOr+B,YAAcq+B,EAAOhjC,MAC7GkH,SACIwM,GAAImoB,IAAI,qBAADhpB,OAAsB3L,GAAiB87B,GACpDlwB,IAAMjT,QAAQ8R,KAAKoB,EAAE,uDAEfW,GAAIsE,KAAK,oBAAqBgrB,GACpClwB,IAAMjT,QAAQ8R,KAAKoB,EAAE,+CAEvByX,IACA,MAAOnY,GACPD,GAAWC,KAkBHyuE,CAAqB99C,GACrBhgC,EAAQkgC,eAAc,IACrB,OAGJnc,IAAA,IAAC,QAAEoc,EAAO,OAAEC,EAAM,aAAEC,EAAY,OAAEL,GAAQjc,EAAA,OACzC3nB,IAAAuX,cAAC2sB,KAAI,KACHlkC,IAAAuX,cAAC6uB,KAAK,CAACrR,QAAM,EAACzX,UAAWR,EAAQkoB,UAAWsQ,UAAW,GACrDt1C,IAAAuX,cAACmT,KAAa,CAACC,UAAQ,GACrB3qB,IAAAuX,cAACypB,KAAI,CAACC,WAAS,EAACxD,QAAS,GACvBz9B,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAIwO,GAAI,EAAG+xC,GAAI,GAC5B3hF,IAAAuX,cAACwqB,KAAW,CACVpkB,QAAQ,WACRL,UAAWR,EAAQ2lB,YACnBzmB,OAAO,QACP8Q,WAAS,GAET9sB,IAAAuX,cAACyqB,KAAU,CAAC38B,GAAG,8BACZkN,KAAKoB,EAAE,oCAGV3T,IAAAuX,cAAC4sB,KAAK,CACJC,GAAInC,KACJz1B,MAAO+F,KAAKoB,EAAE,mCACd/S,KAAK,OACL2jC,QAAQ,0BACRhxB,MAAOwwB,EAAQz+B,MAAQwrB,QAAQkT,EAAO1+B,MACtCs8E,WAAY79C,EAAQz+B,MAAQ0+B,EAAO1+B,KACnCD,GAAG,OACHw9B,UAAQ,GAER7iC,IAAAuX,cAACwU,IAAQ,CAACtU,MAAM,cAAa,cAC7BzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAM,OAAM,OACtBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAM,WAAU,YAC1BzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAM,WAAU,cAIf,eAAhBmsB,EAAOt+B,MACNtF,IAAAuX,cAAAvX,IAAAikB,SAAA,KACEjkB,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAIwO,GAAI,EAAG+xC,GAAI,GAC5B3hF,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,mCACd0wB,WAAS,EACTzjC,KAAK,OACLksB,WAAS,EACTvZ,MAAOwwB,EAAQnjC,MAAQkwB,QAAQkT,EAAOpjC,MACtCghF,WAAY79C,EAAQnjC,MAAQojC,EAAOpjC,KACnC+c,QAAQ,WACR3B,OAAO,QACPsB,UAAWR,EAAQ8zB,aAGvB5wC,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAIwO,GAAI,EAAG+xC,GAAI,GAC5B3hF,IAAAuX,cAACwqB,KAAW,CACVpkB,QAAQ,WACRL,UAAWR,EAAQ2lB,YACnBzmB,OAAO,QACP8Q,WAAS,GAET9sB,IAAAuX,cAACyqB,KAAU,CAAC38B,GAAG,kCACZkN,KAAKoB,EAAE,wCAGV3T,IAAAuX,cAAC4sB,KAAK,CACJC,GAAInC,KACJz1B,MAAO+F,KAAKoB,EAAE,uCACd/S,KAAK,WACL2jC,QAAQ,0BACRzX,WAAS,EACTvZ,MAAOwwB,EAAQv+B,UAAYsrB,QAAQkT,EAAOx+B,UAC1Co8E,WAAY79C,EAAQv+B,UAAYw+B,EAAOx+B,SACvCH,GAAG,qBACHw9B,UAAQ,GAER7iC,IAAAuX,cAACwU,IAAQ,CAACtU,MAAM,SAAQ,aACxBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAM,MAAK,aACrBzX,IAAAuX,cAACwU,IAAQ,CAACtU,MAAM,MAAK,iBAI3BzX,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAIwO,GAAI,EAAG+xC,GAAI,GAC5B3hF,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,0CACd/S,KAAK,cACL2S,MAAOwwB,EAAQx+B,aAAeurB,QAAQkT,EAAOz+B,aAC7Cq8E,WAAY79C,EAAQx+B,aAAey+B,EAAOz+B,YAC1CunB,WAAS,EACTnP,QAAQ,WACR3B,OAAO,WAGXhc,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAIwO,GAAI,GAAI+xC,GAAI,IAC7B3hF,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,0CACdrO,KAAK,cACLs3C,WAAS,EAETgG,QAAS,EACT67B,QAAS,EACT3xD,WAAS,EACTlsB,KAAK,cACL2S,MAAOwwB,EAAQt+B,aAAeqrB,QAAQkT,EAAOv+B,aAC7Cm8E,WAAY79C,EAAQt+B,aAAeu+B,EAAOv+B,YAC1CkY,QAAQ,WACR3B,OAAO,aAMG,QAAhB4nB,EAAOt+B,MAAkC,YAAhBs+B,EAAOt+B,OAChCtF,IAAAuX,cAAAvX,IAAAikB,SAAA,KACEjkB,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAIwO,GAAI,EAAG+xC,GAAI,GAC5B3hF,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,mCACd0wB,WAAS,EACTxB,UAAQ,EACRjiC,KAAK,OACL2S,MAAOwwB,EAAQnjC,MAAQkwB,QAAQkT,EAAOpjC,MACtCghF,WAAY79C,EAAQnjC,MAAQojC,EAAOpjC,KACnC+c,QAAQ,WACR3B,OAAO,QACP8Q,WAAS,EACTxP,UAAWR,EAAQ8zB,aAGvB5wC,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAIwO,GAAI,GAAI+xC,GAAI,IAC7B3hF,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,qCACd/S,KAAK,SACL2S,MAAOwwB,EAAQr+B,QAAUorB,QAAQkT,EAAOt+B,QACxCk8E,WAAY79C,EAAQr+B,QAAUs+B,EAAOt+B,OACrCiY,QAAQ,WACR3B,OAAO,QACP6mB,UAAQ,EACR/V,WAAS,EACTxP,UAAWR,EAAQ8zB,cAKT,YAAhBhN,EAAOt+B,MACPtF,IAAAuX,cAAAvX,IAAAikB,SAAA,KACEjkB,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAIwO,GAAI,EAAG+xC,GAAI,GAC5B3hF,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,mCACd0wB,WAAS,EACTzjC,KAAK,OACL2S,MAAOwwB,EAAQnjC,MAAQkwB,QAAQkT,EAAOpjC,MACtCghF,WAAY79C,EAAQnjC,MAAQojC,EAAOpjC,KACnC+c,QAAQ,WACR3B,OAAO,QACP6mB,UAAQ,EACR/V,WAAS,EACTxP,UAAWR,EAAQ8zB,aAGvB5wC,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAIwO,GAAI,GAAI+xC,GAAI,IAC7B3hF,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,qCACd/S,KAAK,SACL2S,MAAOwwB,EAAQr+B,QAAUorB,QAAQkT,EAAOt+B,QACxCk8E,WAAY79C,EAAQr+B,QAAUs+B,EAAOt+B,OACrCiY,QAAQ,WACR3B,OAAO,QACP6mB,UAAQ,EACR/V,WAAS,EACTxP,UAAWR,EAAQ8zB,aAGvB5wC,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAIwO,GAAI,EAAG+xC,GAAI,GAC5B3hF,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,0CACd/S,KAAK,cACL2S,MAAOwwB,EAAQp+B,aAAemrB,QAAQkT,EAAOr+B,aAC7Ci8E,WAAY79C,EAAQp+B,aAAeq+B,EAAOr+B,YAC1Ck9B,UAAQ,EACRllB,QAAQ,WACR3B,OAAO,QACP8Q,WAAS,EACTxP,UAAWR,EAAQ8zB,aAGvB5wC,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAIwO,GAAI,EAAG+xC,GAAI,GAC5B3hF,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,6CACd/S,KAAK,iBACL2S,MAAOwwB,EAAQn+B,gBAAkBkrB,QAAQkT,EAAOp+B,gBAChDg8E,WAAY79C,EAAQn+B,gBAAkBo+B,EAAOp+B,eAC7C+X,QAAQ,WACR3B,OAAO,QACP8Q,WAAS,EACTxP,UAAWR,EAAQ8zB,aAGvB5wC,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAIwO,GAAI,EAAG+xC,GAAI,GAC5B3hF,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,kDACd/S,KAAK,sBACL2S,MAAOwwB,EAAQ99B,qBAAuB6qB,QAAQkT,EAAO/9B,qBACrD27E,WAAY79C,EAAQ99B,qBAAuB+9B,EAAO/9B,oBAClD0X,QAAQ,WACR3B,OAAO,QACP8Q,WAAS,EACTxP,UAAWR,EAAQ8zB,aAGvB5wC,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAIwO,GAAI,EAAG+xC,GAAI,GAC5B3hF,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,mDACd/S,KAAK,uBACL2S,MAAOwwB,EAAQl+B,sBAAwBirB,QAAQkT,EAAOn+B,sBACtD+7E,WAAY79C,EAAQl+B,sBAAwBm+B,EAAOn+B,qBACnD8X,QAAQ,WACR3B,OAAO,QACP8Q,WAAS,EACTxP,UAAWR,EAAQ8zB,aAGvB5wC,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAIwO,GAAI,EAAG+xC,GAAI,GAC5B3hF,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,oDACd/S,KAAK,wBACL2S,MAAOwwB,EAAQj+B,uBAAyBgrB,QAAQkT,EAAOl+B,uBACvD87E,WAAY79C,EAAQj+B,uBAAyBk+B,EAAOl+B,sBACpD6X,QAAQ,WACR3B,OAAO,QACP8Q,WAAS,EACTxP,UAAWR,EAAQ8zB,aAGvB5wC,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAIwO,GAAI,EAAG+xC,GAAI,GAC5B3hF,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,oDACd/S,KAAK,wBACL2S,MAAOwwB,EAAQ/9B,uBAAyB8qB,QAAQkT,EAAOh+B,uBACvD47E,WAAY79C,EAAQ/9B,uBAAyBg+B,EAAOh+B,sBACpD2X,QAAQ,WACR3B,OAAO,QACP8Q,WAAS,EACTxP,UAAWR,EAAQ8zB,aAGvB5wC,IAAAuX,cAACypB,KAAI,CAACE,MAAI,EAACE,GAAI,GAAIwO,GAAI,GAAI+xC,GAAI,IAC7B3hF,IAAAuX,cAAC4sB,KAAK,CACJC,GAAI7mB,KACJ/Q,MAAO+F,KAAKoB,EAAE,oDACd/S,KAAK,wBACL2S,MAAOwwB,EAAQh+B,uBAAyB+qB,QAAQkT,EAAOj+B,uBACvD67E,WAAY79C,EAAQh+B,uBAAyBi+B,EAAOj+B,sBACpD4X,QAAQ,WACR3B,OAAO,QACP8Q,WAAS,EACTxP,UAAWR,EAAQ8zB,iBAUjC5wC,IAAAuX,cAACsT,KAAa,KACK,eAAhB+Y,EAAOt+B,MACNtF,IAAAuX,cAACqG,KACC,CACAC,QAAUmO,GAvUFpV,OAAO6G,EAAOmmB,KACtC,IACE,MAAM,YAAEr+B,EAAW,YAAEE,EAAW,SAAED,GAAao+B,QAEzCtvB,GAAIsE,KAAK,gCAAiC,CAC9CrT,cACAE,cACAD,aAGFkO,IAAMjT,QAAQ8R,KAAKoB,EAAE,+CACrB,MAAOV,GACPD,GAAWC,KA2TmB4uE,CAAkB71D,EAAG4X,GACrCp8B,MAAM,UACN/F,SAAUwiC,EACVrjC,KAAK,cACL+c,QAAQ,WACRL,UAAWR,EAAQwkE,SAElB/uE,KAAKoB,EAAE,uCAGZ3T,IAAAuX,cAACqG,KAAM,CACLC,QAASuN,EACT5jB,MAAM,YACN/F,SAAUwiC,EACVtmB,QAAQ,YAEPpL,KAAKoB,EAAE,yCAEV3T,IAAAuX,cAACqG,KAAM,CACLtY,KAAK,SACLkC,MAAM,UACN/F,SAAUwiC,EACVtmB,QAAQ,YACRL,UAAWR,EAAQ0lB,YAEL,GAAA/uB,OAAb3L,EACMyK,KAAKoB,EAAE,wCACPpB,KAAKoB,EAAE,wCACbswB,GACCjkC,IAAAuX,cAAC6P,KAAgB,CACfC,KAAM,GACN/J,UAAWR,EAAQ+J,yB,UC5bzC,MAAMrR,GAAUA,CAACC,EAAOC,KACtB,GAAoB,sBAAhBA,EAAOpQ,KAA8B,CACvC,MAAM8F,EAAmBsK,EAAOC,QAC1BmsE,EAAkB,GAWxB,OATA12E,EAAiBwV,QAASwmD,IACxB,MAAM2a,EAAmBtsE,EAAMK,UAAWgL,GAAMA,EAAEzb,KAAO+hE,EAAY/hE,KAC3C,IAAtB08E,EACFtsE,EAAMssE,GAAoB3a,EAE1B0a,EAAgBvnE,KAAK6sD,KAIlB,IAAI3xD,KAAUqsE,GAGvB,GAAoB,wBAAhBpsE,EAAOpQ,KAAgC,CACzC,MAAM8F,EAAmBsK,EAAOC,QAC1BosE,EAAmBtsE,EAAMK,UAAWgL,GAAMA,EAAEzb,KAAO+F,EAAiB/F,IAE1E,OAA0B,IAAtB08E,GACFtsE,EAAMssE,GAAoB32E,EACnB,IAAIqK,IAEJ,CAACrK,KAAqBqK,GAIjC,GAAoB,uBAAhBC,EAAOpQ,KAA+B,CACxC,MAAMwC,EAAgB4N,EAAOC,QAEvBosE,EAAmBtsE,EAAMK,UAAWgL,GAAMA,EAAEzb,KAAOyC,GAIzD,OAH0B,IAAtBi6E,GACFtsE,EAAMU,OAAO4rE,EAAkB,GAE1B,IAAItsE,GAGb,GAAoB,UAAhBC,EAAOpQ,KACT,MAAO,IAILoW,GAAYC,YAAYvH,IAAK,CACjC4wB,UAAW,CACT1W,KAAM,EACNhB,QAASlZ,EAAMqpB,QAAQ,GACvBzhB,OAAQ5H,EAAMqpB,QAAQ,GACtBzZ,UAAW,YACR5P,EAAMmZ,iBAEX6H,OAAQ,CACNlZ,MAAO,QACPM,OAAQ,OACRG,aAAc,MAkOH6kE,OA9NUA,KACvB,MAAM1kE,EAAUpB,MAETlF,EAASC,GAAcC,oBAAS,IAChC8L,EAAYC,GAAiB/L,mBAAS,IACtC4Z,EAASC,GAAc7Z,oBAAS,IAChCsrE,EAAqBC,GAA0BvrE,mBAAS,OACxD8rD,EAAcC,GAAmB/rD,mBAAS,OAC1C+xB,EAAeC,GAAoBhyB,oBAAS,IAC5Cy4C,EAAkBC,GAAuB14C,oBAAS,IAClDgM,EAAaovB,GAAkBp7B,mBAAS,KACxCtL,EAAkBkL,GAAYC,qBAAWf,GAAS,KACnD,KAAElK,GAAS6V,qBAAWzG,KACtB,eAAE+E,GAAmBP,KACrBnI,EAAYzL,EAAKyL,UACjBY,EAAUC,wBAEhBjB,oBAAU,MACRC,wBAC4B6I,OAAetL,EAAW4C,IACnC9U,KAAK8gB,kBACpBrP,IAAMH,MAAM,oGACZ8P,WAAW,KACT1L,EAAQ4C,KAAK,MACZ,MAGP4I,IAEC,IAEHxM,oBAAU,KACRL,EAAS,CAAEhR,KAAM,UACjBmd,EAAc,IACb,CAACC,IAEJ/L,oBAAU,KACRF,GAAW,GACX,MAAM2M,EAAkBC,WAAW,KACPzM,WACxB,IACE,MAAM,KAAEtD,SAAegB,GAAIuC,IAAI,qBAAsB,CACnD/B,OAAQ,CAAE4N,cAAaF,gBAEzBlM,EAAS,CAAEhR,KAAM,oBAAqBqQ,QAASrC,EAAKyzD,oBACpDx2C,EAAWjd,EAAKgd,SAChB7Z,GAAW,GACX,MAAOxD,GACPD,GAAWC,KAGfivE,IACC,KACH,MAAO,IAAM3+D,aAAaH,IACzB,CAACV,EAAaF,IAEjB7L,oBAAU,KACR,MAAMI,EAAY/B,aAAaC,QAAQ,aACjC+B,EAASnC,GAAiB,CAAEkC,cAYlC,OAVAC,EAAOC,GAAG,WAADxD,OAAYsD,EAAS,qBAAsBzD,IAC9B,WAAhBA,EAAKoC,QAAuC,WAAhBpC,EAAKoC,QACnCY,EAAS,CAAEhR,KAAM,sBAAuBqQ,QAASrC,EAAKlI,mBAGpC,WAAhBkI,EAAKoC,QACPY,EAAS,CAAEhR,KAAM,qBAAsBqQ,SAAUrC,EAAKxL,kBAInD,KACLkP,EAAOlU,eAER,IA6CH,OACE9C,IAAAuX,cAACw1C,GAAa,KACZ/sD,IAAAuX,cAAC6S,GAAiB,CAChB7pB,MACEiiE,GAAY,GAAA/uD,OACTlB,KAAKoB,EAAE,kDAAiD,KAAAF,OAAI+uD,EAAa5hE,KAAI,KAGlFyI,KAAM8lD,EACN9kC,QAAS+kC,EACT9kC,UAAWA,IAlCe1T,WAC9B,UACQtC,GAAI3S,OAAO,qBAAD8R,OAAsB3L,IACtC4L,IAAMjT,QAAQ8R,KAAKoB,EAAE,oCACrB,MAAOV,GACPD,GAAWC,GAEbwvD,EAAgB,MAChB3wB,EAAe,IACfrvB,EAAc,IAyBO0/D,CAAwB3f,EAAan9D,KAErDkN,KAAKoB,EAAE,qDAEV3T,IAAAuX,cAAC6qE,GAAgB,CACf/4E,KAAMo/B,EACNpe,QAtD8Bg4D,KAClCJ,EAAuB,MACvBv5C,GAAiB,IAqDble,kBAAgB,oBAChB1iB,cAAek6E,GAAuBA,EAAoB38E,KAE5DrF,IAAAuX,cAAC01C,GAAU,KACTjtD,IAAAuX,cAAC+yB,GAAK,KAAE/3B,KAAKoB,EAAE,0BAA0B,KAAGvI,EAAiBqY,OAAO,KACpEzjB,IAAAuX,cAAC21C,GAAwB,KACvBltD,IAAAuX,cAACgG,KAAS,CACRtU,YAAasJ,KAAKoB,EAAE,sCACpBrO,KAAK,SACLmS,MAAOiL,EACPlF,SA5DYC,IACpBq0B,EAAer0B,EAAMC,OAAOjG,MAAMs/B,gBA4D1BzC,WAAY,CACVsuB,eACE5iE,IAAAuX,cAACm1C,KAAc,CAACvoC,SAAS,SACvBnkB,IAAAuX,cAACwiC,KAAU,CAACvyC,MAAM,kBAK1BxH,IAAAuX,cAACqG,KAAM,CACLD,QAAQ,YACRnW,MAAM,UACNqW,QAlFkBwsB,KAC1B43C,EAAuB,MACvBv5C,GAAiB,KAkFRn2B,KAAKoB,EAAE,mCAId3T,IAAAuX,cAAC6uB,KAAK,CACJ9oB,UAAWR,EAAQkoB,UACnBrnB,QAAQ,WACR2V,SAxDgBtH,IACpB,IAAKsE,GAAW9Z,EAAS,OACzB,MAAM,UAAE+c,EAAS,aAAE8S,EAAY,aAAEC,GAAiBta,EAAEsF,cAChD+U,GAAgB9S,EAAY,KAAO+S,GANvC7jB,EAAe+U,GAAcA,EAAY,KA6DrCx3B,IAAAuX,cAACu1B,KAAK,CAACzlB,KAAK,SACVrnB,IAAAuX,cAACw1B,KAAS,KACR/sC,IAAAuX,cAACy1B,KAAQ,KACPhtC,IAAAuX,cAAC01B,KAAS,CAAC3f,QAAQ,aACnBttB,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAU36B,KAAKoB,EAAE,8BAClC3T,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAU36B,KAAKoB,EAAE,kCAGtC3T,IAAAuX,cAAC41B,KAAS,KACRntC,IAAAuX,cAAAvX,IAAAikB,SAAA,KACG7Y,EAAiBiT,IAAK+oD,GACrBpnE,IAAAuX,cAACy1B,KAAQ,CAACxzB,IAAK4tD,EAAY/hE,IACzBrF,IAAAuX,cAAC01B,KAAS,KACc,eAArBm6B,EAAY9hE,MAA0BtF,IAAAuX,cAACge,KAAM,CAC5C9I,IAAK61D,KAAYhlE,UAAWR,EAAQsY,SAChB,QAArBgyC,EAAY9hE,MAAmBtF,IAAAuX,cAACge,KAAM,CACrC9I,IAAK81D,KAAKjlE,UAAWR,EAAQsY,SACT,YAArBgyC,EAAY9hE,MAAuBtF,IAAAuX,cAACge,KAAM,CACzC9I,IAAK+1D,KAAUllE,UAAWR,EAAQsY,SACd,YAArBgyC,EAAY9hE,MAAuBtF,IAAAuX,cAACge,KAAM,CACzC9I,IAAKg2D,KAASnlE,UAAWR,EAAQsY,UAGrCp1B,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAUk6B,EAAY/hE,IACvCrF,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UAAUk6B,EAAYxmE,MACvCZ,IAAAuX,cAAC01B,KAAS,CAACC,MAAM,UACfltC,IAAAuX,cAACsH,IAAU,CACTwI,KAAK,QACLxJ,QAASA,IA3GEzS,KAC7B62E,EAAuB72E,GACvBs9B,GAAiB,IAyGgBg6C,CAAsBtb,IAErCpnE,IAAAuX,cAACk5C,KAAI,CAACjpD,MAAM,eAGdxH,IAAAuX,cAACsH,IAAU,CACTwI,KAAK,QACLxJ,QAAUmO,IACRojC,GAAoB,GACpBqT,EAAgB2E,KAGlBpnE,IAAAuX,cAACwwC,KAAa,CAACvgD,MAAM,kBAK5BgP,GAAWxW,IAAAuX,cAAC61C,GAAgB,CAACC,QAAS,UC3ItCs1B,OA7IAA,KACb,MAAOnhE,EAAeC,GAAoB/K,oBAAS,GASnD,OAPAC,oBAAU,UAEMxC,IADAa,aAAaC,QAAQ,UAEjCwM,GAAiB,IAElB,IAGDzhB,IAAAuX,cAACqrE,IAAa,KACZ5iF,IAAAuX,cAACoD,GAAY,KACX3a,IAAAuX,cAACiR,GAAsB,KACrBxoB,IAAAuX,cAAC+iC,SAAM,KACLt6C,IAAAuX,cAACg6D,GAAK,CAACsR,OAAK,EAACvU,KAAK,SAAS7tD,UAAW2rC,KACtCpsD,IAAAuX,cAACg6D,GAAK,CAACsR,OAAK,EAACvU,KAAK,UAAU7tD,UAAWqiE,KAEvC9iF,IAAAuX,cAACH,GAAiB,KAChBpX,IAAAuX,cAAC4wB,GAAc,KACbnoC,IAAAuX,cAACg6D,GAAK,CAACsR,OAAK,EAACvU,KAAK,IAAI7tD,UAAW0tB,GAAWsjC,WAAS,IACrDzxE,IAAAuX,cAACg6D,GAAK,CACJsR,OAAK,EACLvU,KAAK,sBACL7tD,UAAWsiE,GACXtR,WAAS,IAEXzxE,IAAAuX,cAACg6D,GAAK,CACJsR,OAAK,EACLvU,KAAK,eACL7tD,UAAWmuC,GACX6iB,WAAS,IAEXzxE,IAAAuX,cAACg6D,GAAK,CACJsR,OAAK,EACLvU,KAAK,kBACL7tD,UAAWuiE,GACXvR,WAAS,IAEXzxE,IAAAuX,cAACg6D,GAAK,CACJsR,OAAK,EACLvU,KAAK,YACL7tD,UAAW5D,GACX40D,WAAS,IAEXzxE,IAAAuX,cAACg6D,GAAK,CACJsR,OAAK,EACLvU,KAAK,aACL7tD,UAAWqxD,GACXL,WAAS,IAEXzxE,IAAAuX,cAACg6D,GAAK,CAACsR,OAAK,EAACvU,KAAK,QAAQ7tD,UAAWmoD,GAAM6I,WAAS,IACpDzxE,IAAAuX,cAACg6D,GAAK,CAACsR,OAAK,EAACvU,KAAK,YAAY7tD,UAAWuiD,GAAUyO,WAAS,IAC5DzxE,IAAAuX,cAACg6D,GAAK,CAACsR,OAAK,EAACvU,KAAK,SAAS7tD,UAAWsqD,GAAO0G,WAAS,IACtDzxE,IAAAuX,cAACg6D,GAAK,CAACsR,OAAK,EAACvU,KAAK,SAAS7tD,UAAW8hD,GAAOkP,WAAS,IACtDzxE,IAAAuX,cAACg6D,GAAK,CAACsR,OAAK,EAACvU,KAAK,SAAS7tD,UAAWwiE,GAAOxR,WAAS,IACtDzxE,IAAAuX,cAACg6D,GAAK,CAACsR,OAAK,EAACvU,KAAK,WAAW7tD,UAAWsgE,GAAStP,WAAS,IAC1DzxE,IAAAuX,cAACg6D,GAAK,CAACsR,OAAK,EAACvU,KAAK,qBAAqB7tD,UAAW+gE,GAAkB/P,WAAS,IAE7EzxE,IAAAuX,cAACg6D,GAAK,CACJsR,OAAK,EACLvU,KAAK,gBACL7tD,UAAWkpD,GACX8H,WAAS,IAEXzxE,IAAAuX,cAACg6D,GAAK,CACJsR,OAAK,EACLvU,KAAK,YACL7tD,UAAW64C,GACXmY,WAAS,IAEfzxE,IAAAuX,cAACg6D,GAAK,CACAsR,OAAK,EACLvU,KAAK,UACL7tD,UAAW0vD,GACXsB,WAAS,IAEXzxE,IAAAuX,cAACg6D,GAAK,CACJsR,OAAK,EACLvU,KAAK,cACL7tD,UAAWyiE,GACXzR,WAAS,IAEXzxE,IAAAuX,cAACg6D,GAAK,CAACsR,OAAK,EAACvU,KAAK,UAAU7tD,UAAW8mD,GAAQkK,WAAS,IACxDzxE,IAAAuX,cAACg6D,GAAK,CACJsR,OAAK,EACLvU,KAAK,iBACL7tD,UAAW0iE,GACX1R,WAAS,IAEXzxE,IAAAuX,cAACg6D,GAAK,CACJsR,OAAK,EACLvU,KAAK,gBACL7tD,UAAW2iE,GACX3R,WAAS,IAEXzxE,IAAAuX,cAACg6D,GAAK,CAACsR,OAAK,EAACvU,KAAK,cAAc7tD,UAAW4iE,GAAM5R,WAAS,IACzDjwD,GACCxhB,IAAAuX,cAAAvX,IAAAikB,SAAA,KACEjkB,IAAAuX,cAACg6D,GAAK,CACJsR,OAAK,EACLvU,KAAK,iBACL7tD,UAAW2rD,GACXqF,WAAS,IAEXzxE,IAAAuX,cAACg6D,GAAK,CACJsR,OAAK,EACLvU,KAAK,yCACL7tD,UAAWgtD,GACXgE,WAAS,IAEXzxE,IAAAuX,cAACg6D,GAAK,CACJsR,OAAK,EACLvU,KAAK,aACL7tD,UAAWy0D,GACXzD,WAAS,IAEXzxE,IAAAuX,cAACg6D,GAAK,CACJsR,OAAK,EACLvU,KAAK,+BACL7tD,UAAW+2D,GACX/F,WAAS,IAEXzxE,IAAAuX,cAACg6D,GAAK,CACJsR,OAAK,EACLvU,KAAK,oBACL7tD,UAAW+1D,GACX/E,WAAS,QAOrBzxE,IAAAuX,cAAC+rE,IAAc,CAACzvE,UAAW,UCjKrC,MAAM0vE,GAAc,IAAIC,cAmGTC,OAjGHA,KACR,MAAO/pE,EAAQgqE,GAAahtE,qBAEtBitE,EAAkBz6C,YAAc,gCAChC06C,EAAiBl6D,OAAO1U,aAAaC,QAAQ,mBAC5CkY,EAAM02D,GAAWntE,mBAASktE,IAAkCD,EAAkB,OAAS,UAExF36C,EAAYhpC,IAAMggB,QACpB,MACI9f,gBAAiBA,KACb2jF,EAASC,GAA2B,UAAbA,EAAuB,OAAS,YAG/D,IAGE1vE,EAAQ40C,YACV,CACIz7B,gBAAiB,CACb,uBAAwB,CACpBrR,MAAO,MACPM,OAAQ,OAEZ,6BAA8B,CAC1B0R,UAAW,mCACXxR,gBAAiB,YAGzBkrB,oBAAqB,CACjB,uBAAwB,CACpB1rB,MAAO,OAEX,6BAA8B,CAC1BQ,gBAA0B,UAATyQ,EAAmB,UAAY,YAGxDsI,QAAS,CACLnwB,KAAM6nB,EACN1O,QAAS,CAAE4oB,KAAM,WACjB08C,YAAsB,UAAT52D,EAAmB,UAAY,UAC5C62D,cAAwB,UAAT72D,EAAmB,UAAY,UAC9Cia,KAAM,CAAEC,KAAe,UAATla,EAAmB,UAAY,WAC7C82D,MAAO,CAAE58C,KAAe,UAATla,EAAmB,UAAY,WAC9CuI,oBAA8B,UAATvI,EAAmB,OAAS,OACjDqqB,kBAA4B,UAATrqB,EAAmB,UAAY,OAC9D9d,QAAkB,UAAT8d,EAAmB,UAAY,OACxC6nC,SAAmB,UAAT7nC,EAAmB,UAAY,OAC7B+Z,gBAA0B,UAAT/Z,EAAmB,UAAY,OAC5DqxB,SAAmB,UAATrxB,EAAmB,OAAS,OACtCuxB,cAAwB,UAATvxB,EAAmB,OAAS,OAC3CyxB,YAAsB,UAATzxB,EAAmB,OAAS,OACzC4vB,cAAwB,UAAT5vB,EAAmB,OAAS,OAC3Cxe,cAAwB,UAATwe,EAAmB,UAAY,OAC9ClsB,MAAgB,UAATksB,EAAmB,OAAS,UACnC+2D,qBAA+B,UAAT/2D,EAAmB,OAAS,OAClD0tD,SAAmB,UAAT1tD,EAAmB,OAAS,OACtC2sD,QAAkB,UAAT3sD,EAAmB,UAAY,OACxCg3D,YAAsB,UAATh3D,EAAmB,UAAY,OAChCwqB,MAAgB,UAATxqB,EAAmB,OAAS,OACnCi3D,aAAuB,UAATj3D,EAAmB,OAAS,UAC1Ck3D,gBAA0B,UAATl3D,EAAmB,UAAY,OAChDma,cAAwB,UAATna,EAAmB,uDAAyD,OACvGi9B,UAAoB,UAATj9B,EAAmB,OAAS,OACvC0lD,YAAsB,UAAT1lD,EAAmB,UAAY,QAEpCA,QAEJzT,GAmBJ,OAhBA/C,oBAAU,KACN,MAAM2tE,EAAatvE,aAAaC,QAAQ,cAIlB,SAFlBqvE,EAAWluD,UAAU,EAAG,GAAKkuD,EAAWluD,UAAU,EAAG,IAGrDstD,EAAUa,SAEf,IAEH5tE,oBAAU,KACN+S,OAAO1U,aAAa6D,QAAQ,iBAAkBsU,IAC/C,CAACA,IAKAntB,IAAAuX,cAACxX,EAAiByX,SAAQ,CAACC,MAAO,CAAEuxB,cAChChpC,IAAAuX,cAAC6xC,IAAa,CAACh1C,MAAOA,GAClBpU,IAAAuX,cAACitE,sBAAmB,CAACC,OAAQlB,IACzBvjF,IAAAuX,cAACorE,GAAM,UClG3B+B,IAAStzB,OACRpxD,IAAAuX,cAACk0C,IAAW,KACXzrD,IAAAuX,cAACksE,GAAG,OAELjwD,SAASC,eAAe,U,kBCVzBkxD,EAAOC,QAAU,80N,oBCAjBD,EAAOC,QAAU,IAA0B,uC,oBCA3CD,EAAOC,QAAU,IAA0B,2C,oBCA3CD,EAAOC,QAAU,IAA0B,gD,oBCA3CD,EAAOC,QAAU,IAA0B,mC,oBCA3CD,EAAOC,QAAU,IAA0B,yC,oBCA3CD,EAAOC,QAAU,IAA0B,iC,kBCA3CD,EAAOC,QAAU,spK,oBCAjBD,EAAOC,QAAU,IAA0B,qC,kBCA3CD,EAAOC,QAAU,msY","file":"static/js/main.3002b8e1.chunk.js","sourcesContent":["import React from \"react\";\n\nconst ColorModeContext = React.createContext({ toggleColorMode: () => {} });\n\nexport default ColorModeContext;","const messages = {\n  pt: {\n    translations: {\n      signup: {\n        title: \"Cadastre-se\",\n        toasts: {\n          success: \"Usuário criado com sucesso! Faça seu login!!!.\",\n          fail: \"Erro ao criar usuário. Verifique os dados informados.\",\n        },\n        form: {\n          name: \"Nome\",\n          email: \"Email\",\n          password: \"Senha\",\n        },\n        buttons: {\n          submit: \"Cadastrar\",\n          login: \"Já tem uma conta? Entre!\",\n        },\n      },\n      login: {\n        title: \"Login\",\n        form: {\n          email: \"Email\",\n          password: \"Senha\",\n        },\n        buttons: {\n          submit: \"Entrar\",\n          register: \"Não tem um conta? Cadastre-se!\",\n        },\n      },\n      plans: {\n        form: {\n          name: \"Nome\",\n          users: \"Usuários\",\n          connections: \"Conexões\",\n          campaigns: \"Campanhas\",\n          schedules: \"Agendamentos\",\n          enabled: \"Habilitadas\",\n          disabled: \"Desabilitadas\",\n          clear: \"Cancelar\",\n          delete: \"Excluir\",\n          save: \"Salvar\",\n          yes: \"Sim\",\n          no: \"Não\",\n          money: \"R$\",\n        },\n      },\n      companies: {\n        title: \"Cadastrar Empresa\",\n        form: {\n          name: \"Nome da Empresa\",\n          plan: \"Plano\",\n          token: \"Token\",\n          submit: \"Cadastrar\",\n          success: \"Empresa criada com sucesso!\",\n        },\n      },\n      auth: {\n        toasts: {\n          success: \"Login efetuado com sucesso!\",\n        },\n        token: \"Token\",\n      },\n      dashboard: {\n        charts: {\n          perDay: {\n            title: \"Atendimentos hoje: \",\n          },\n        },\n      },\n      connections: {\n        title: \"Conexões\",\n        toasts: {\n          deleted: \"Conexão com o WhatsApp excluída com sucesso!\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Deletar\",\n          deleteMessage: \"Você tem certeza? Essa ação não pode ser revertida.\",\n          disconnectTitle: \"Desconectar\",\n          disconnectMessage:\n            \"Tem certeza? Você precisará ler o QR Code novamente.\",\n        },\n        buttons: {\n          add: \"Adicionar WhatsApp\",\n          disconnect: \"desconectar\",\n          tryAgain: \"Tentar novamente\",\n          qrcode: \"QR CODE\",\n          newQr: \"Novo QR CODE\",\n          connecting: \"Conectando\",\n        },\n        toolTips: {\n          disconnected: {\n            title: \"Falha ao iniciar sessão do WhatsApp\",\n            content:\n              \"Certifique-se de que seu celular esteja conectado à internet e tente novamente, ou solicite um novo QR Code\",\n          },\n          qrcode: {\n            title: \"Esperando leitura do QR Code\",\n            content:\n              \"Clique no botão 'QR CODE' e leia o QR Code com o seu celular para iniciar a sessão\",\n          },\n          connected: {\n            title: \"Conexão estabelecida!\",\n          },\n          timeout: {\n            title: \"A conexão com o celular foi perdida\",\n            content:\n              \"Certifique-se de que seu celular esteja conectado à internet e o WhatsApp esteja aberto, ou clique no botão 'Desconectar' para obter um novo QR Code\",\n          },\n        },\n        table: {\n          name: \"Nome\",\n          status: \"Status\",\n          lastUpdate: \"Última atualização\",\n          default: \"Padrão\",\n          actions: \"Ações\",\n          session: \"Sessão\",\n        },\n      },\n      whatsappModal: {\n        title: {\n          add: \"Adicionar WhatsApp\",\n          edit: \"Editar WhatsApp\",\n        },\n        form: {\n          name: \"Nome\",\n          default: \"Padrão\",\n          sendIdQueue: \"Fila\",\n          timeSendQueue: \"Redirecionar para fila em X minutos\",\n          queueRedirection: \"Redirecionamento de Fila\",\n          queueRedirectionDesc: \"Selecione uma fila para os contatos que não possuem fila serem redirecionados\",\n          prompt: \"Prompt\",\n          maxUseBotQueues: \"Enviar bot x vezes\",\n          timeUseBotQueues: \"Intervalo em minutos entre envio de bot\",\n          expiresTicket: \"Encerrar chats abertos após x minutos\",\n          expiresInactiveMessage: \"Mensagem de encerramento por inatividade\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"WhatsApp salvo com sucesso.\",\n      },\n      qrCode: {\n        message: \"Leia o QrCode para iniciar a sessão\",\n      },\n      contacts: {\n        title: \"Contatos\",\n        toasts: {\n          deleted: \"Contato excluído com sucesso!\",\n        },\n        searchPlaceholder: \"Pesquisar...\",\n        confirmationModal: {\n          deleteTitle: \"Deletar \",\n          importTitlte: \"Importar contatos\",\n          deleteMessage:\n            \"Tem certeza que deseja deletar este contato? Todos os atendimentos relacionados serão perdidos.\",\n          importMessage: \"Deseja importar todos os contatos do telefone?\",\n        },\n        buttons: {\n          import: \"Importar Contatos\",\n          add: \"Adicionar Contato\",\n        },\n        table: {\n          name: \"Nome\",\n          whatsapp: \"WhatsApp\",\n          email: \"Email\",\n          actions: \"Ações\",\n        },\n      },\n      queueIntegrationModal: {\n        title: {\n          add: \"Adicionar projeto\",\n          edit: \"Editar projeto\",\n        },\n        form: {\n          id: \"ID\",\n          type: \"Tipo\",\n          name: \"Nome\",\n          projectName: \"Nome do Projeto\",\n          language: \"Linguagem\",\n          jsonContent: \"JsonContent\",\n          urlN8N: \"URL\",\n          typebotSlug: \"Typebot - Slug\",\n          typebotExpires: \"Tempo em minutos para expirar uma conversa\",\n          typebotKeywordFinish: \"Palavra para finalizar o ticket\",\n          typebotKeywordRestart: \"Palavra para reiniciar o fluxo\",\n          typebotRestartMessage: \"Mensagem ao reiniciar a conversa\",\n          typebotUnknownMessage: \"Mensagem de opção inválida\",\n          typebotDelayMessage: \"Intervalo (ms) entre mensagens\",   \n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n          test: \"Testar Bot\",\n        },\n        messages: {\n          testSuccess: \"Integração testada com sucesso!\",\n          addSuccess: \"Integração adicionada com sucesso.\",\n          editSuccess: \"Integração editada com sucesso.\",\n        },\n      },\n      promptModal: {\n        form: {\n          name: \"Nome\",\n          prompt: \"Prompt\",\n          voice: \"Voz\",\n          max_tokens: \"Máximo de Tokens na resposta\",\n          temperature: \"Temperatura\",\n          apikey: \"API Key\",\n          max_messages: \"Máximo de mensagens no Histórico\",\n          voiceKey: \"Chave da API de Voz\",\n          voiceRegion: \"Região de Voz\",\n        },\n        success: \"Prompt salvo com sucesso!\",\n        title: {\n          add: \"Adicionar Prompt\",\n          edit: \"Editar Prompt\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      prompts: {\n        title: \"Prompts\",\n        table: {\n          name: \"Nome\",\n          queue: \"Setor/Fila\",\n          max_tokens: \"Máximo Tokens Resposta\",\n          actions: \"Ações\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Você tem certeza? Essa ação não pode ser revertida!\",\n        },\n        buttons: {\n          add: \"Adicionar Prompt\",\n        },\n      },\n      contactModal: {\n        title: {\n          add: \"Adicionar contato\",\n          edit: \"Editar contato\",\n        },\n        form: {\n          mainInfo: \"Dados do contato\",\n          extraInfo: \"Informações adicionais\",\n          name: \"Nome\",\n          number: \"Número do Whatsapp\",\n          email: \"Email\",\n          extraName: \"Nome do campo\",\n          extraValue: \"Valor\",\n          whatsapp: \"Conexão Origem: \"\n        },\n        buttons: {\n          addExtraInfo: \"Adicionar informação\",\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Contato salvo com sucesso.\",\n      },\n      queueModal: {\n        title: {\n          add: \"Adicionar fila\",\n          edit: \"Editar fila\",\n        },\n        form: {\n          name: \"Nome\",\n          color: \"Cor\",\n          greetingMessage: \"Mensagem de saudação\",\n          complationMessage: \"Mensagem de conclusão\",\n          outOfHoursMessage: \"Mensagem de fora de expediente\",\n          ratingMessage: \"Mensagem de avaliação\",\n          token: \"Token\",\n          orderQueue: \"Ordem da fila (Bot)\",\n          integrationId: \"Integração\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n\t\t  attach: \"Anexar Arquivo\",\n        },\n      },\n      userModal: {\n        title: {\n          add: \"Adicionar usuário\",\n          edit: \"Editar usuário\",\n        },\n        form: {\n          name: \"Nome\",\n          email: \"Email\",\n          password: \"Senha\",\n          profile: \"Perfil\",\n          whatsapp: \"Conexão Padrão\"\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Usuário salvo com sucesso.\",\n      },\n      scheduleModal: {\n        title: {\n          add: \"Novo Agendamento\",\n          edit: \"Editar Agendamento\",\n        },\n        form: {\n          body: \"Mensagem\",\n          contact: \"Contato\",\n          sendAt: \"Data de Agendamento\",\n          sentAt: \"Data de Envio\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Agendamento salvo com sucesso.\",\n      },\n      tagModal: {\n        title: {\n          add: \"Nova Tag\",\n          edit: \"Editar Tag\",\n        },\n        form: {\n          name: \"Nome\",\n          color: \"Cor\",\n        },\n        buttons: {\n          okAdd: \"Adicionar\",\n          okEdit: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n        success: \"Tag salvo com sucesso.\",\n      },\n      chat: {\n        noTicketMessage: \"Selecione um ticket para começar a conversar.\",\n      },\n      uploads: {\n        titles: {\n          titleUploadMsgDragDrop: \"ARRASTE E SOLTE ARQUIVOS NO CAMPO ABAIXO\",\n          titleFileList: \"Lista de arquivo(s)\"\n        },\n      },\n      ticketsManager: {\n        buttons: {\n          newTicket: \"Novo\",\n        },\n      },\n      ticketsQueueSelect: {\n        placeholder: \"Filas\",\n      },\n      tickets: {\n        toasts: {\n          deleted: \"O atendimento que você estava foi deletado.\",\n        },\n        notification: {\n          message: \"Mensagem de\",\n        },\n        tabs: {\n          open: { title: \"Abertas\" },\n          closed: { title: \"Resolvidos\" },\n          search: { title: \"Busca\" },\n        },\n        search: {\n          placeholder: \"Buscar atendimento e mensagens\",\n        },\n        buttons: {\n          showAll: \"Todos\",\n        },\n      },\n      transferTicketModal: {\n        title: \"Transferir Ticket\",\n        fieldLabel: \"Digite para buscar usuários\",\n        fieldQueueLabel: \"Transferir para fila\",\n        fieldQueuePlaceholder: \"Selecione uma fila\",\n        noOptions: \"Nenhum usuário encontrado com esse nome\",\n        buttons: {\n          ok: \"Transferir\",\n          cancel: \"Cancelar\",\n        },\n      },\n      ticketsList: {\n        pendingHeader: \"Aguardando\",\n        assignedHeader: \"Atendendo\",\n        noTicketsTitle: \"Nada aqui!\",\n        noTicketsMessage:\n          \"Nenhum atendimento encontrado com esse status ou termo pesquisado\",\n        buttons: {\n          accept: \"Aceitar\",\n          closed: \"Finalizar\",\n          reopen: \"Reabrir\"\n        },\n      },\n      newTicketModal: {\n        title: \"Criar Ticket\",\n        fieldLabel: \"Digite para pesquisar o contato\",\n        add: \"Adicionar\",\n        buttons: {\n          ok: \"Salvar\",\n          cancel: \"Cancelar\",\n        },\n      },\n      mainDrawer: {\n        listItems: {\n          dashboard: \"Dashboard\",\n          connections: \"Conexões\",\n          tickets: \"Atendimentos\",\n          quickMessages: \"Respostas Rápidas\",\n          contacts: \"Contatos\",\n          queues: \"Filas & Chatbot\",\n          tags: \"Tags\",\n          administration: \"Administração\",\n          users: \"Usuários\",\n          settings: \"Configurações\",\n          helps: \"Ajuda\",\n          messagesAPI: \"API\",\n          schedules: \"Agendamentos\",\n          campaigns: \"Campanhas\",\n          annoucements: \"Informativos\",\n          chats: \"Chat Interno\",\n          financeiro: \"Financeiro\",\n          files: \"Lista de arquivos\",\n          prompts: \"Open.Ai\",\n          queueIntegration: \"Integrações\",\n        },\n        appBar: {\n          user: {\n            profile: \"Perfil\",\n            logout: \"Sair\",\n          },\n        },\n      },\n      queueIntegration: {\n        title: \"Integrações\",\n        table: {\n          id: \"ID\",\n          type: \"Tipo\",\n          name: \"Nome\",\n          projectName: \"Nome do Projeto\",\n          language: \"Linguagem\",\n          lastUpdate: \"Ultima atualização\",\n          actions: \"Ações\",\n        },\n        buttons: {\n          add: \"Adicionar Projeto\",\n        },\n        searchPlaceholder: \"Pesquisar...\",\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage:\n            \"Você tem certeza? Essa ação não pode ser revertida! e será removida das filas e conexões vinculadas\",\n        },\n      },\n      files: {\n        title: \"Lista de arquivos\",\n        table: {\n          name: \"Nome\",\n          contacts: \"Contatos\",\n          actions: \"Ação\",\n        },\n        toasts: {\n          deleted: \"Lista excluída com sucesso!\",\n          deletedAll: \"Todas as listas foram excluídas com sucesso!\",\n        },\n        buttons: {\n          add: \"Adicionar\",\n          deleteAll: \"Deletar Todos\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Deletar\",\n          deleteAllTitle: \"Deletar Todos\",\n          deleteMessage: \"Tem certeza que deseja deletar esta lista?\",\n          deleteAllMessage: \"Tem certeza que deseja deletar todas as listas?\",\n        },\n      },\n      messagesAPI: {\n        title: \"API\",\n        textMessage: {\n          number: \"Número\",\n          body: \"Mensagem\",\n          token: \"Token cadastrado\",\n        },\n        mediaMessage: {\n          number: \"Número\",\n          body: \"Nome do arquivo\",\n          media: \"Arquivo\",\n          token: \"Token cadastrado\",\n        },\n      },\n      notifications: {\n        noTickets: \"Nenhuma notificação.\",\n      },\n      quickMessages: {\n        title: \"Respostas Rápidas\",\n        searchPlaceholder: \"Pesquisar...\",\n        noAttachment: \"Sem anexo\",\n        confirmationModal: {\n          deleteTitle: \"Exclusão\",\n          deleteMessage: \"Esta ação é irreversível! Deseja prosseguir?\",\n        },\n        buttons: {\n          add: \"Adicionar\",\n          attach: \"Anexar Arquivo\",\n          cancel: \"Cancelar\",\n          edit: \"Editar\",\n        },\n        toasts: {\n          success: \"Atalho adicionado com sucesso!\",\n          deleted: \"Atalho removido com sucesso!\",\n        },\n        dialog: {\n          title: \"Mensagem Rápida\",\n          shortcode: \"Atalho\",\n          message: \"Resposta\",\n          save: \"Salvar\",\n          cancel: \"Cancelar\",\n          geral: \"Permitir editar\",\n          add: \"Adicionar\",\n          edit: \"Editar\",\n          visao: \"Permitir visão\",\n        },\n        table: {\n          shortcode: \"Atalho\",\n          message: \"Mensagem\",\n          actions: \"Ações\",\n          mediaName: \"Nome do Arquivo\",\n          status: \"Status\",\n        },\n      },\n      messageVariablesPicker: {\n        label: \"Variavéis disponíveis\",\n        vars: {\n          contactFirstName: \"Primeiro Nome\",\n          contactName: \"Nome\",\n          greeting: \"Saudação\",\n          protocolNumber: \"Protocolo\",\n          date: \"Data\",\n          hour: \"Hora\",\n        },\n      },\n      contactLists: {\n        title: \"Listas de Contatos\",\n        table: {\n          name: \"Nome\",\n          contacts: \"Contatos\",\n          actions: \"Ações\",\n        },\n        buttons: {\n          add: \"Nova Lista\",\n        },\n        dialog: {\n          name: \"Nome\",\n          company: \"Empresa\",\n          okEdit: \"Editar\",\n          okAdd: \"Adicionar\",\n          add: \"Adicionar\",\n          edit: \"Editar\",\n          cancel: \"Cancelar\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Esta ação não pode ser revertida.\",\n        },\n        toasts: {\n          deleted: \"Registro excluído\",\n        },\n      },\n      contactListItems: {\n        title: \"Contatos\",\n        searchPlaceholder: \"Pesquisa\",\n        buttons: {\n          add: \"Novo\",\n          lists: \"Listas\",\n          import: \"Importar\",\n        },\n        dialog: {\n          name: \"Nome\",\n          number: \"Número\",\n          whatsapp: \"Whatsapp\",\n          email: \"E-mail\",\n          okEdit: \"Editar\",\n          okAdd: \"Adicionar\",\n          add: \"Adicionar\",\n          edit: \"Editar\",\n          cancel: \"Cancelar\",\n        },\n        table: {\n          name: \"Nome\",\n          number: \"Número\",\n          whatsapp: \"Whatsapp\",\n          email: \"E-mail\",\n          actions: \"Ações\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Esta ação não pode ser revertida.\",\n          importMessage: \"Deseja importar os contatos desta planilha? \",\n          importTitlte: \"Importar\",\n        },\n        toasts: {\n          deleted: \"Registro excluído\",\n        },\n      },\n      campaigns: {\n        title: \"Campanhas\",\n        searchPlaceholder: \"Pesquisa\",\n        buttons: {\n          add: \"Nova Campanha\",\n          contactLists: \"Listas de Contatos\",\n        },\n        table: {\n          name: \"Nome\",\n          whatsapp: \"Conexão\",\n          contactList: \"Lista de Contatos\",\n          status: \"Status\",\n          scheduledAt: \"Agendamento\",\n          completedAt: \"Concluída\",\n          confirmation: \"Confirmação\",\n          actions: \"Ações\",\n        },\n        dialog: {\n          new: \"Nova Campanha\",\n          update: \"Editar Campanha\",\n          readonly: \"Apenas Visualização\",\n          form: {\n            name: \"Nome\",\n            message1: \"Mensagem 1\",\n            message2: \"Mensagem 2\",\n            message3: \"Mensagem 3\",\n            message4: \"Mensagem 4\",\n            message5: \"Mensagem 5\",\n            confirmationMessage1: \"Mensagem de Confirmação 1\",\n            confirmationMessage2: \"Mensagem de Confirmação 2\",\n            confirmationMessage3: \"Mensagem de Confirmação 3\",\n            confirmationMessage4: \"Mensagem de Confirmação 4\",\n            confirmationMessage5: \"Mensagem de Confirmação 5\",\n            messagePlaceholder: \"Conteúdo da mensagem\",\n            whatsapp: \"Conexão\",\n            status: \"Status\",\n            scheduledAt: \"Agendamento\",\n            confirmation: \"Confirmação\",\n            contactList: \"Lista de Contato\",\n            tagList: \"Lista de Tags\",\n            fileList: \"Lista de Arquivos\"\n          },\n          buttons: {\n            add: \"Adicionar\",\n            edit: \"Atualizar\",\n            okadd: \"Ok\",\n            cancel: \"Cancelar Disparos\",\n            restart: \"Reiniciar Disparos\",\n            close: \"Fechar\",\n            attach: \"Anexar Arquivo\",\n          },\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Esta ação não pode ser revertida.\",\n        },\n        toasts: {\n          success: \"Operação realizada com sucesso\",\n          cancel: \"Campanha cancelada\",\n          restart: \"Campanha reiniciada\",\n          deleted: \"Registro excluído\",\n        },\n      },\n      announcements: {\n        active: 'Ativo',\n        inactive: 'Inativo',\n        title: \"Informativos\",\n        searchPlaceholder: \"Pesquisa\",\n        buttons: {\n          add: \"Novo Informativo\",\n          contactLists: \"Listas de Informativos\",\n        },\n        table: {\n          priority: \"Prioridade\",\n          title: \"Title\",\n          text: \"Texto\",\n          mediaName: \"Arquivo\",\n          status: \"Status\",\n          actions: \"Ações\",\n        },\n        dialog: {\n          edit: \"Edição de Informativo\",\n          add: \"Novo Informativo\",\n          update: \"Editar Informativo\",\n          readonly: \"Apenas Visualização\",\n          form: {\n            priority: \"Prioridade\",\n            title: \"Title\",\n            text: \"Texto\",\n            mediaPath: \"Arquivo\",\n            status: \"Status\",\n          },\n          buttons: {\n            add: \"Adicionar\",\n            edit: \"Atualizar\",\n            okadd: \"Ok\",\n            cancel: \"Cancelar\",\n            close: \"Fechar\",\n            attach: \"Anexar Arquivo\",\n          },\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage: \"Esta ação não pode ser revertida.\",\n        },\n        toasts: {\n          success: \"Operação realizada com sucesso\",\n          deleted: \"Registro excluído\",\n        },\n      },\n      campaignsConfig: {\n        title: \"Configurações de Campanhas\",\n      },\n      queues: {\n        title: \"Filas & Chatbot\",\n        table: {\n          name: \"Nome\",\n          color: \"Cor\",\n          greeting: \"Mensagem de saudação\",\n          actions: \"Ações\",\n          orderQueue: \"Ordenação da fila (bot)\",\n        },\n        buttons: {\n          add: \"Adicionar fila\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage:\n            \"Você tem certeza? Essa ação não pode ser revertida! Os atendimentos dessa fila continuarão existindo, mas não terão mais nenhuma fila atribuída.\",\n        },\n      },\n      queueSelect: {\n        inputLabel: \"Filas\",\n      },\n      users: {\n        title: \"Usuários\",\n        table: {\n          name: \"Nome\",\n          email: \"Email\",\n          profile: \"Perfil\",\n          actions: \"Ações\",\n        },\n        buttons: {\n          add: \"Adicionar usuário\",\n        },\n        toasts: {\n          deleted: \"Usuário excluído com sucesso.\",\n        },\n        confirmationModal: {\n          deleteTitle: \"Excluir\",\n          deleteMessage:\n            \"Todos os dados do usuário serão perdidos. Os atendimento abertos deste usuário serão movidos para a fila.\",\n        },\n      },\n      helps: {\n        title: \"Central de Ajuda\",\n      },\n      schedules: {\n        title: \"Agendamentos\",\n        confirmationModal: {\n          deleteTitle: \"Você tem certeza que quer excluir este Agendamento?\",\n          deleteMessage: \"Esta ação não pode ser revertida.\",\n        },\n        table: {\n          contact: \"Contato\",\n          body: \"Mensagem\",\n          sendAt: \"Data de Agendamento\",\n          sentAt: \"Data de Envio\",\n          status: \"Status\",\n          actions: \"Ações\",\n        },\n        buttons: {\n          add: \"Novo Agendamento\",\n        },\n        toasts: {\n          deleted: \"Agendamento excluído com sucesso.\",\n        },\n      },\n      tags: {\n        title: \"Tags\",\n        confirmationModal: {\n          deleteTitle: \"Você tem certeza que quer excluir esta Tag?\",\n          deleteMessage: \"Esta ação não pode ser revertida.\",\n        },\n        table: {\n          name: \"Nome\",\n          color: \"Cor\",\n          tickets: \"Registros Tagdos\",\n          actions: \"Ações\",\n        },\n        buttons: {\n          add: \"Nova Tag\",\n        },\n        toasts: {\n          deleted: \"Tag excluído com sucesso.\",\n        },\n      },\n      settings: {\n        success: \"Configurações salvas com sucesso.\",\n        title: \"Configurações\",\n        settings: {\n          userCreation: {\n            name: \"Criação de usuário\",\n            options: {\n              enabled: \"Ativado\",\n              disabled: \"Desativado\",\n            },\n          },\n        },\n      },\n      messagesList: {\n        header: {\n          assignedTo: \"Atribuído à:\",\n          buttons: {\n            return: \"Retornar\",\n            resolve: \"Resolver\",\n            reopen: \"Reabrir\",\n            accept: \"Aceitar\",\n          },\n        },\n      },\n      messagesInput: {\n        placeholderOpen: \"Digite uma mensagem\",\n        placeholderClosed:\n          \"Reabra ou aceite esse ticket para enviar uma mensagem.\",\n        signMessage: \"Assinar\",\n      },\n      contactDrawer: {\n        header: \"Dados do contato\",\n        buttons: {\n          edit: \"Editar contato\",\n        },\n        extraInfo: \"Outras informações\",\n      },\n      fileModal: {\n        title: {\n          add: \"Adicionar lista de arquivos\",\n          edit: \"Editar lista de arquivos\",\n        },\n        buttons: {\n          okAdd: \"Salvar\",\n          okEdit: \"Editar\",\n          cancel: \"Cancelar\",\n          fileOptions: \"Adicionar arquivo\",\n        },\n        form: {\n          name: \"Nome da lista de arquivos\",\n          message: \"Detalhes da lista\",\n          fileOptions: \"Lista de arquivos\",\n          extraName: \"Mensagem para enviar com arquivo\",\n          extraValue: \"Valor da opção\",\n        },\n        success: \"Lista de arquivos salva com sucesso!\",\n      },\n      ticketOptionsMenu: {\n        schedule: \"Agendamento\",\n        delete: \"Deletar\",\n        transfer: \"Transferir\",\n        registerAppointment: \"Observações do Contato\",\n        appointmentsModal: {\n          title: \"Observações do Contato\",\n          textarea: \"Observação\",\n          placeholder: \"Insira aqui a informação que deseja registrar\",\n        },\n        confirmationModal: {\n          title: \"Deletar o ticket do contato\",\n          message:\n            \"Atenção! Todas as mensagens relacionadas ao ticket serão perdidas.\",\n        },\n        buttons: {\n          delete: \"Excluir\",\n          cancel: \"Cancelar\",\n        },\n      },\n      confirmationModal: {\n        buttons: {\n          confirm: \"Ok\",\n          cancel: \"Cancelar\",\n        },\n      },\n      messageOptionsMenu: {\n        delete: \"Deletar\",\n        reply: \"Responder\",\n        confirmationModal: {\n          title: \"Apagar mensagem?\",\n          message: \"Esta ação não pode ser revertida.\",\n        },\n      },\n      backendErrors: {\n        ERR_NO_OTHER_WHATSAPP: \"Deve haver pelo menos um WhatsApp padrão.\",\n        ERR_NO_DEF_WAPP_FOUND:\n          \"Nenhum WhatsApp padrão encontrado. Verifique a página de conexões.\",\n        ERR_WAPP_NOT_INITIALIZED:\n          \"Esta sessão do WhatsApp não foi inicializada. Verifique a página de conexões.\",\n        ERR_WAPP_CHECK_CONTACT:\n          \"Não foi possível verificar o contato do WhatsApp. Verifique a página de conexões\",\n        ERR_WAPP_INVALID_CONTACT: \"Este não é um número de Whatsapp válido.\",\n        ERR_WAPP_DOWNLOAD_MEDIA:\n          \"Não foi possível baixar mídia do WhatsApp. Verifique a página de conexões.\",\n        ERR_INVALID_CREDENTIALS:\n          \"Erro de autenticação. Por favor, tente novamente.\",\n        ERR_SENDING_WAPP_MSG:\n          \"Erro ao enviar mensagem do WhatsApp. Verifique a página de conexões.\",\n        ERR_DELETE_WAPP_MSG: \"Não foi possível excluir a mensagem do WhatsApp.\",\n        ERR_OTHER_OPEN_TICKET: \"Já existe um tíquete aberto para este contato.\",\n        ERR_SESSION_EXPIRED: \"Sessão expirada. Por favor entre.\",\n        ERR_USER_CREATION_DISABLED:\n          \"A criação do usuário foi desabilitada pelo administrador.\",\n        ERR_NO_PERMISSION: \"Você não tem permissão para acessar este recurso.\",\n        ERR_DUPLICATED_CONTACT: \"Já existe um contato com este número.\",\n        ERR_NO_SETTING_FOUND: \"Nenhuma configuração encontrada com este ID.\",\n        ERR_NO_CONTACT_FOUND: \"Nenhum contato encontrado com este ID.\",\n        ERR_NO_TICKET_FOUND: \"Nenhum tíquete encontrado com este ID.\",\n        ERR_NO_USER_FOUND: \"Nenhum usuário encontrado com este ID.\",\n        ERR_NO_WAPP_FOUND: \"Nenhum WhatsApp encontrado com este ID.\",\n        ERR_CREATING_MESSAGE: \"Erro ao criar mensagem no banco de dados.\",\n        ERR_CREATING_TICKET: \"Erro ao criar tíquete no banco de dados.\",\n        ERR_FETCH_WAPP_MSG:\n          \"Erro ao buscar a mensagem no WhtasApp, talvez ela seja muito antiga.\",\n        ERR_QUEUE_COLOR_ALREADY_EXISTS:\n          \"Esta cor já está em uso, escolha outra.\",\n        ERR_WAPP_GREETING_REQUIRED:\n          \"A mensagem de saudação é obrigatório quando há mais de uma fila.\",\n      },\n    },\n  },\n};\n\nexport { messages };","import { messages as portugueseMessages } from \"./pt\";\nimport { messages as englishMessages } from \"./en\";\nimport { messages as spanishMessages } from \"./es\";\n\nconst messages = {\n\t...portugueseMessages,\n\t...englishMessages,\n\t...spanishMessages,\n};\n\nexport { messages };\n","const messages = {\n\ten: {\n\t\ttranslations: {\n\t\t\tsignup: {\n\t\t\t\ttitle: \"Sign up\",\n\t\t\t\ttoasts: {\n\t\t\t\t\tsuccess: \"User created successfully! Please login!\",\n\t\t\t\t\tfail: \"Error creating user. Check the reported data.\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tpassword: \"Password\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tsubmit: \"Register\",\n\t\t\t\t\tlogin: \"Already have an account? Log in!\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tlogin: {\n\t\t\t\ttitle: \"Login\",\n\t\t\t\tform: {\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tpassword: \"Password\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tsubmit: \"Enter\",\n\t\t\t\t\tregister: \"Don't have an account? Register!\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tauth: {\n\t\t\t\ttoasts: {\n\t\t\t\t\tsuccess: \"Login successfully!\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tdashboard: {\n\t\t\t\tcharts: {\n\t\t\t\t\tperDay: {\n\t\t\t\t\t\ttitle: \"Tickets today: \",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tconnections: {\n\t\t\t\ttitle: \"Connections\",\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"WhatsApp connection deleted sucessfully!\",\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Delete\",\n\t\t\t\t\tdeleteMessage: \"Are you sure? It cannot be reverted.\",\n\t\t\t\t\tdisconnectTitle: \"Disconnect\",\n\t\t\t\t\tdisconnectMessage: \"Are you sure? You'll need to read QR Code again.\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Add WhatsApp\",\n\t\t\t\t\tdisconnect: \"Disconnect\",\n\t\t\t\t\ttryAgain: \"Try Again\",\n\t\t\t\t\tqrcode: \"QR CODE\",\n\t\t\t\t\tnewQr: \"New QR CODE\",\n\t\t\t\t\tconnecting: \"Connectiing\",\n\t\t\t\t},\n\t\t\t\ttoolTips: {\n\t\t\t\t\tdisconnected: {\n\t\t\t\t\t\ttitle: \"Failed to start WhatsApp session\",\n\t\t\t\t\t\tcontent:\n\t\t\t\t\t\t\t\"Make sure your cell phone is connected to the internet and try again, or request a new QR Code\",\n\t\t\t\t\t},\n\t\t\t\t\tqrcode: {\n\t\t\t\t\t\ttitle: \"Waiting for QR Code read\",\n\t\t\t\t\t\tcontent:\n\t\t\t\t\t\t\t\"Click on 'QR CODE' button and read the QR Code with your cell phone to start session\",\n\t\t\t\t\t},\n\t\t\t\t\tconnected: {\n\t\t\t\t\t\ttitle: \"Connection established\",\n\t\t\t\t\t},\n\t\t\t\t\ttimeout: {\n\t\t\t\t\t\ttitle: \"Connection with cell phone has been lost\",\n\t\t\t\t\t\tcontent:\n\t\t\t\t\t\t\t\"Make sure your cell phone is connected to the internet and WhatsApp is open, or click on 'Disconnect' button to get a new QRcode\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\tstatus: \"Status\",\n\t\t\t\t\tlastUpdate: \"Last Update\",\n\t\t\t\t\tdefault: \"Default\",\n\t\t\t\t\tactions: \"Actions\",\n\t\t\t\t\tsession: \"Session\",\n\t\t\t\t},\n\t\t\t},\n\t\t\twhatsappModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Add WhatsApp\",\n\t\t\t\t\tedit: \"Edit WhatsApp\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\tdefault: \"Default\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tokAdd: \"Add\",\n\t\t\t\t\tokEdit: \"Save\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t\tsuccess: \"WhatsApp saved successfully.\",\n\t\t\t},\n\t\t\tqrCode: {\n\t\t\t\tmessage: \"Read QrCode to start the session\",\n\t\t\t},\n\t\t\tcontacts: {\n\t\t\t\ttitle: \"Contacts\",\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"Contact deleted sucessfully!\",\n\t\t\t\t},\n\t\t\t\tsearchPlaceholder: \"Search ...\",\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Delete\",\n\t\t\t\t\timportTitlte: \"Import contacts\",\n\t\t\t\t\tdeleteMessage:\n\t\t\t\t\t\t\"Are you sure you want to delete this contact? All related tickets will be lost.\",\n\t\t\t\t\timportMessage: \"Do you want to import all contacts from the phone?\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\timport: \"Import Contacts\",\n\t\t\t\t\tadd: \"Add Contact\",\n\t\t\t\t},\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\twhatsapp: \"WhatsApp\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tactions: \"Actions\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tcontactModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Add contact\",\n\t\t\t\t\tedit: \"Edit contact\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tmainInfo: \"Contact details\",\n\t\t\t\t\textraInfo: \"Additional information\",\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\tnumber: \"Whatsapp number\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\textraName: \"Field name\",\n\t\t\t\t\textraValue: \"Value\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\taddExtraInfo: \"Add information\",\n\t\t\t\t\tokAdd: \"Add\",\n\t\t\t\t\tokEdit: \"Save\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t\tsuccess: \"Contact saved successfully.\",\n\t\t\t},\n\t\t\tqueueModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Add queue\",\n\t\t\t\t\tedit: \"Edit queue\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\tcolor: \"Color\",\n\t\t\t\t\tgreetingMessage: \"Greeting Message\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tokAdd: \"Add\",\n\t\t\t\t\tokEdit: \"Save\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tuserModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Add user\",\n\t\t\t\t\tedit: \"Edit user\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tpassword: \"Password\",\n\t\t\t\t\tprofile: \"Profile\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tokAdd: \"Add\",\n\t\t\t\t\tokEdit: \"Save\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t\tsuccess: \"User saved successfully.\",\n\t\t\t},\n\t\t\tchat: {\n\t\t\t\tnoTicketMessage: \"Select a ticket to start chatting.\",\n\t\t\t},\n\t\t\tticketsManager: {\n\t\t\t\tbuttons: {\n\t\t\t\t\tnewTicket: \"New\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tticketsQueueSelect: {\n\t\t\t\tplaceholder: \"Queues\",\n\t\t\t},\n\t\t\ttickets: {\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"The ticket you were on has been deleted.\",\n\t\t\t\t},\n\t\t\t\tnotification: {\n\t\t\t\t\tmessage: \"Message from\",\n\t\t\t\t},\n\t\t\t\ttabs: {\n\t\t\t\t\topen: { title: \"Inbox\" },\n\t\t\t\t\tclosed: { title: \"Resolved\" },\n\t\t\t\t\tsearch: { title: \"Search\" },\n\t\t\t\t},\n\t\t\t\tsearch: {\n\t\t\t\t\tplaceholder: \"Search tickets and messages.\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tshowAll: \"All\",\n\t\t\t\t},\n\t\t\t},\n\t\t\ttransferTicketModal: {\n\t\t\t\ttitle: \"Transfer Ticket\",\n\t\t\t\tfieldLabel: \"Type to search for users\",\n\t\t\t\tnoOptions: \"No user found with this name\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tok: \"Transfer\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tticketsList: {\n\t\t\t\tpendingHeader: \"Queue\",\n\t\t\t\tassignedHeader: \"Working on\",\n\t\t\t\tnoTicketsTitle: \"Nothing here!\",\n\t\t\t\tnoTicketsMessage: \"No tickets found with this status or search term.\",\n\t\t\t\tbuttons: {\n\t\t\t\t\taccept: \"Accept\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tnewTicketModal: {\n\t\t\t\ttitle: \"Create Ticket\",\n\t\t\t\tfieldLabel: \"Type to search for a contact\",\n\t\t\t\tadd: \"Add\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tok: \"Save\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tmainDrawer: {\n\t\t\t\tlistItems: {\n\t\t\t\t\tdashboard: \"Dashboard\",\n\t\t\t\t\tconnections: \"Connections\",\n\t\t\t\t\ttickets: \"Tickets\",\n\t\t\t\t\tcontacts: \"Contacts\",\n\t\t\t\t\tqueues: \"Queues\",\n\t\t\t\t\tadministration: \"Administration\",\n\t\t\t\t\tusers: \"Users\",\n\t\t\t\t\tsettings: \"Settings\",\n\t\t\t\t},\n\t\t\t\tappBar: {\n\t\t\t\t\tuser: {\n\t\t\t\t\t\tprofile: \"Profile\",\n\t\t\t\t\t\tlogout: \"Logout\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tnotifications: {\n\t\t\t\tnoTickets: \"No notifications.\",\n\t\t\t},\n\t\t\tqueues: {\n\t\t\t\ttitle: \"Queues\",\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\tcolor: \"Color\",\n\t\t\t\t\tgreeting: \"Greeting message\",\n\t\t\t\t\tactions: \"Actions\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Add queue\",\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Delete\",\n\t\t\t\t\tdeleteMessage:\n\t\t\t\t\t\t\"Are you sure? It cannot be reverted! Tickets in this queue will still exist, but will not have any queues assigned.\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tqueueSelect: {\n\t\t\t\tinputLabel: \"Queues\",\n\t\t\t},\n\t\t\tusers: {\n\t\t\t\ttitle: \"Users\",\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Name\",\n\t\t\t\t\temail: \"Email\",\n\t\t\t\t\tprofile: \"Profile\",\n\t\t\t\t\tactions: \"Actions\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Add user\",\n\t\t\t\t},\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"User deleted sucessfully.\",\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Delete\",\n\t\t\t\t\tdeleteMessage:\n\t\t\t\t\t\t\"All user data will be lost. Users' open tickets will be moved to queue.\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tsettings: {\n\t\t\t\tsuccess: \"Settings saved successfully.\",\n\t\t\t\ttitle: \"Settings\",\n\t\t\t\tsettings: {\n\t\t\t\t\tuserCreation: {\n\t\t\t\t\t\tname: \"User creation\",\n\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\tenabled: \"Enabled\",\n\t\t\t\t\t\t\tdisabled: \"Disabled\",\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tmessagesList: {\n\t\t\t\theader: {\n\t\t\t\t\tassignedTo: \"Assigned to:\",\n\t\t\t\t\tbuttons: {\n\t\t\t\t\t\treturn: \"Return\",\n\t\t\t\t\t\tresolve: \"Resolve\",\n\t\t\t\t\t\treopen: \"Reopen\",\n\t\t\t\t\t\taccept: \"Accept\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tmessagesInput: {\n\t\t\t\tplaceholderOpen: \"Type a message\",\n\t\t\t\tplaceholderClosed: \"Reopen or accept this ticket to send a message.\",\n\t\t\t\tsignMessage: \"Sign\",\n\t\t\t},\n\t\t\tcontactDrawer: {\n\t\t\t\theader: \"Contact details\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tedit: \"Edit contact\",\n\t\t\t\t},\n\t\t\t\textraInfo: \"Other information\",\n\t\t\t},\n\t\t\tticketOptionsMenu: {\n\t\t\t\tdelete: \"Delete\",\n\t\t\t\ttransfer: \"Transfer\",\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\ttitle: \"Delete ticket #\",\n\t\t\t\t\ttitleFrom: \"from contact \",\n\t\t\t\t\tmessage: \"Attention! All ticket's related messages will be lost.\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tdelete: \"Delete\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tconfirmationModal: {\n\t\t\t\tbuttons: {\n\t\t\t\t\tconfirm: \"Ok\",\n\t\t\t\t\tcancel: \"Cancel\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tmessageOptionsMenu: {\n\t\t\t\tdelete: \"Delete\",\n\t\t\t\treply: \"Reply\",\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\ttitle: \"Delete message?\",\n\t\t\t\t\tmessage: \"This action cannot be reverted.\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tbackendErrors: {\n\t\t\t\tERR_NO_OTHER_WHATSAPP:\n\t\t\t\t\t\"There must be at lest one default WhatsApp connection.\",\n\t\t\t\tERR_NO_DEF_WAPP_FOUND:\n\t\t\t\t\t\"No default WhatsApp found. Check connections page.\",\n\t\t\t\tERR_WAPP_NOT_INITIALIZED:\n\t\t\t\t\t\"This WhatsApp session is not initialized. Check connections page.\",\n\t\t\t\tERR_WAPP_CHECK_CONTACT:\n\t\t\t\t\t\"Could not check WhatsApp contact. Check connections page.\",\n\t\t\t\tERR_WAPP_INVALID_CONTACT: \"This is not a valid whatsapp number.\",\n\t\t\t\tERR_WAPP_DOWNLOAD_MEDIA:\n\t\t\t\t\t\"Could not download media from WhatsApp. Check connections page.\",\n\t\t\t\tERR_INVALID_CREDENTIALS: \"Authentication error. Please try again.\",\n\t\t\t\tERR_SENDING_WAPP_MSG:\n\t\t\t\t\t\"Error sending WhatsApp message. Check connections page.\",\n\t\t\t\tERR_DELETE_WAPP_MSG: \"Couldn't delete message from WhatsApp.\",\n\t\t\t\tERR_OTHER_OPEN_TICKET:\n\t\t\t\t\t\"There's already an open ticket for this contact.\",\n\t\t\t\tERR_SESSION_EXPIRED: \"Session expired. Please login.\",\n\t\t\t\tERR_USER_CREATION_DISABLED:\n\t\t\t\t\t\"User creation was disabled by administrator.\",\n\t\t\t\tERR_NO_PERMISSION: \"You don't have permission to access this resource.\",\n\t\t\t\tERR_DUPLICATED_CONTACT: \"A contact with this number already exists.\",\n\t\t\t\tERR_NO_SETTING_FOUND: \"No setting found with this ID.\",\n\t\t\t\tERR_NO_CONTACT_FOUND: \"No contact found with this ID.\",\n\t\t\t\tERR_NO_TICKET_FOUND: \"No ticket found with this ID.\",\n\t\t\t\tERR_NO_USER_FOUND: \"No user found with this ID.\",\n\t\t\t\tERR_NO_WAPP_FOUND: \"No WhatsApp found with this ID.\",\n\t\t\t\tERR_CREATING_MESSAGE: \"Error while creating message on database.\",\n\t\t\t\tERR_CREATING_TICKET: \"Error while creating ticket on database.\",\n\t\t\t\tERR_FETCH_WAPP_MSG:\n\t\t\t\t\t\"Error fetching the message in WhtasApp, maybe it is too old.\",\n\t\t\t\tERR_QUEUE_COLOR_ALREADY_EXISTS:\n\t\t\t\t\t\"This color is already in use, pick another one.\",\n\t\t\t\tERR_WAPP_GREETING_REQUIRED:\n\t\t\t\t\t\"Greeting message is required if there is more than one queue.\",\n\t\t\t},\n\t\t},\n\t},\n};\n\nexport { messages };\n","const messages = {\n\tes: {\n\t\ttranslations: {\n\t\t\tsignup: {\n\t\t\t\ttitle: \"Registro\",\n\t\t\t\ttoasts: {\n\t\t\t\t\tsuccess:\n\t\t\t\t\t\t\"¡El usuario ha sido creado satisfactoriamente! ¡Ahora inicia sesión!\",\n\t\t\t\t\tfail: \"Error creando el usuario. Verifica la data reportada.\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\temail: \"Correo Electrónico\",\n\t\t\t\t\tpassword: \"Contraseña\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tsubmit: \"Regístrate\",\n\t\t\t\t\tlogin: \"¿Ya tienes una cuenta? ¡Inicia sesión!\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tlogin: {\n\t\t\t\ttitle: \"Inicio de Sesión\",\n\t\t\t\tform: {\n\t\t\t\t\temail: \"Correo Electrónico\",\n\t\t\t\t\tpassword: \"Contraseña\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tsubmit: \"Ingresa\",\n\t\t\t\t\tregister: \"¿No tienes cuenta? ¡Regístrate!\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tauth: {\n\t\t\t\ttoasts: {\n\t\t\t\t\tsuccess: \"¡Inicio de sesión exitoso!\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tdashboard: {\n\t\t\t\tcharts: {\n\t\t\t\t\tperDay: {\n\t\t\t\t\t\ttitle: \"Tickets hoy: \",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tconnections: {\n\t\t\t\ttitle: \"Conexiones\",\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted:\n\t\t\t\t\t\t\"¡La conexión de WhatsApp ha sido borrada satisfactoriamente!\",\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Borrar\",\n\t\t\t\t\tdeleteMessage: \"¿Estás seguro? Este proceso no puede ser revertido.\",\n\t\t\t\t\tdisconnectTitle: \"Desconectar\",\n\t\t\t\t\tdisconnectMessage: \"Estás seguro? Deberá volver a leer el código QR\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Agrega WhatsApp\",\n\t\t\t\t\tdisconnect: \"Desconectar\",\n\t\t\t\t\ttryAgain: \"Inténtalo de nuevo\",\n\t\t\t\t\tqrcode: \"QR CODE\",\n\t\t\t\t\tnewQr: \"Nuevo QR CODE\",\n\t\t\t\t\tconnecting: \"Conectando\",\n\t\t\t\t},\n\t\t\t\ttoolTips: {\n\t\t\t\t\tdisconnected: {\n\t\t\t\t\t\ttitle: \"No se pudo iniciar la sesión de WhatsApp\",\n\t\t\t\t\t\tcontent:\n\t\t\t\t\t\t\t\"Asegúrese de que su teléfono celular esté conectado a Internet y vuelva a intentarlo o solicite un nuevo código QR\",\n\t\t\t\t\t},\n\t\t\t\t\tqrcode: {\n\t\t\t\t\t\ttitle: \"Esperando la lectura del código QR\",\n\t\t\t\t\t\tcontent:\n\t\t\t\t\t\t\t\"Haga clic en el botón 'CÓDIGO QR' y lea el Código QR con su teléfono celular para iniciar la sesión\",\n\t\t\t\t\t},\n\t\t\t\t\tconnected: {\n\t\t\t\t\t\ttitle: \"Conexión establecida\",\n\t\t\t\t\t},\n\t\t\t\t\ttimeout: {\n\t\t\t\t\t\ttitle: \"Se perdió la conexión con el teléfono celular\",\n\t\t\t\t\t\tcontent:\n\t\t\t\t\t\t\t\"Asegúrese de que su teléfono celular esté conectado a Internet y que WhatsApp esté abierto, o haga clic en el botón 'Desconectar' para obtener un nuevo código QR\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\tstatus: \"Estado\",\n\t\t\t\t\tlastUpdate: \"Última Actualización\",\n\t\t\t\t\tdefault: \"Por Defecto\",\n\t\t\t\t\tactions: \"Acciones\",\n\t\t\t\t\tsession: \"Sesión\",\n\t\t\t\t},\n\t\t\t},\n\t\t\twhatsappModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Agrega WhatsApp\",\n\t\t\t\t\tedit: \"Edita WhatsApp\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\tdefault: \"Por Defecto\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tokAdd: \"Agregar\",\n\t\t\t\t\tokEdit: \"Guardar\",\n\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t},\n\t\t\t\tsuccess: \"WhatsApp guardado satisfactoriamente.\",\n\t\t\t},\n\t\t\tqrCode: {\n\t\t\t\tmessage: \"Lée el código QR para empezar la sesión.\",\n\t\t\t},\n\t\t\tcontacts: {\n\t\t\t\ttitle: \"Contactos\",\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"¡Contacto borrado satisfactoriamente!\",\n\t\t\t\t},\n\t\t\t\tsearchPlaceholder: \"Buscar...\",\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Borrar\",\n\t\t\t\t\timportTitlte: \"Importar contactos\",\n\t\t\t\t\tdeleteMessage:\n\t\t\t\t\t\t\"¿Estás seguro que deseas borrar este contacto? Todos los tickets relacionados se perderán.\",\n\t\t\t\t\timportMessage:\n\t\t\t\t\t\t\"¿Quieres importar todos los contactos desde tu teléfono?\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\timport: \"Importar Contactos\",\n\t\t\t\t\tadd: \"Agregar Contacto\",\n\t\t\t\t},\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\twhatsapp: \"WhatsApp\",\n\t\t\t\t\temail: \"Correo Electrónico\",\n\t\t\t\t\tactions: \"Acciones\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tcontactModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Agregar contacto\",\n\t\t\t\t\tedit: \"Editar contacto\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tmainInfo: \"Detalles del contacto\",\n\t\t\t\t\textraInfo: \"Información adicional\",\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\tnumber: \"Número de Whatsapp\",\n\t\t\t\t\temail: \"Correo Electrónico\",\n\t\t\t\t\textraName: \"Nombre del Campo\",\n\t\t\t\t\textraValue: \"Valor\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\taddExtraInfo: \"Agregar información\",\n\t\t\t\t\tokAdd: \"Agregar\",\n\t\t\t\t\tokEdit: \"Guardar\",\n\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t},\n\t\t\t\tsuccess: \"Contacto guardado satisfactoriamente.\",\n\t\t\t},\n\t\t\tqueueModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Agregar cola\",\n\t\t\t\t\tedit: \"Editar cola\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\tcolor: \"Color\",\n\t\t\t\t\tgreetingMessage: \"Mensaje de saludo\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tokAdd: \"Añadir\",\n\t\t\t\t\tokEdit: \"Ahorrar\",\n\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t\tattach: \"Anexar Arquivo\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tuserModal: {\n\t\t\t\ttitle: {\n\t\t\t\t\tadd: \"Agregar usuario\",\n\t\t\t\t\tedit: \"Editar usuario\",\n\t\t\t\t},\n\t\t\t\tform: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\temail: \"Correo Electrónico\",\n\t\t\t\t\tpassword: \"Contraseña\",\n\t\t\t\t\tprofile: \"Perfil\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tokAdd: \"Agregar\",\n\t\t\t\t\tokEdit: \"Guardar\",\n\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t},\n\t\t\t\tsuccess: \"Usuario guardado satisfactoriamente.\",\n\t\t\t},\n\t\t\tchat: {\n\t\t\t\tnoTicketMessage: \"Selecciona un ticket para empezar a chatear.\",\n\t\t\t},\n\t\t\tticketsManager: {\n\t\t\t\tbuttons: {\n\t\t\t\t\tnewTicket: \"Nuevo\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tticketsQueueSelect: {\n\t\t\t\tplaceholder: \"Linhas\",\n\t\t\t},\n\t\t\ttickets: {\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"El ticket en el que estabas ha sido borrado.\",\n\t\t\t\t},\n\t\t\t\tnotification: {\n\t\t\t\t\tmessage: \"Mensaje de\",\n\t\t\t\t},\n\t\t\t\ttabs: {\n\t\t\t\t\topen: { title: \"Bandeja\" },\n\t\t\t\t\tclosed: { title: \"Resueltos\" },\n\t\t\t\t\tsearch: { title: \"Buscar\" },\n\t\t\t\t},\n\t\t\t\tsearch: {\n\t\t\t\t\tplaceholder: \"Buscar tickets y mensajes.\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tshowAll: \"Todos\",\n\t\t\t\t},\n\t\t\t},\n\t\t\ttransferTicketModal: {\n\t\t\t\ttitle: \"Transferir Ticket\",\n\t\t\t\tfieldLabel: \"Escriba para buscar usuarios\",\n\t\t\t\tnoOptions: \"No se encontraron usuarios con ese nombre\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tok: \"Transferir\",\n\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tticketsList: {\n\t\t\t\tpendingHeader: \"Cola\",\n\t\t\t\tassignedHeader: \"Trabajando en\",\n\t\t\t\tnoTicketsTitle: \"¡Nada acá!\",\n\t\t\t\tnoTicketsMessage:\n\t\t\t\t\t\"No se encontraron tickets con este estado o término de búsqueda\",\n\t\t\t\tbuttons: {\n\t\t\t\t\taccept: \"Acceptar\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tnewTicketModal: {\n\t\t\t\ttitle: \"Crear Ticket\",\n\t\t\t\tfieldLabel: \"Escribe para buscar un contacto\",\n\t\t\t\tadd: \"Añadir\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tok: \"Guardar\",\n\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tmainDrawer: {\n\t\t\t\tlistItems: {\n\t\t\t\t\tdashboard: \"Dashboard\",\n\t\t\t\t\tconnections: \"Conexiones\",\n\t\t\t\t\ttickets: \"Tickets\",\n\t\t\t\t\tcontacts: \"Contactos\",\n\t\t\t\t\tqueues: \"Linhas\",\n\t\t\t\t\tadministration: \"Administración\",\n\t\t\t\t\tusers: \"Usuarios\",\n\t\t\t\t\tsettings: \"Configuración\",\n\t\t\t\t},\n\t\t\t\tappBar: {\n\t\t\t\t\tuser: {\n\t\t\t\t\t\tprofile: \"Perfil\",\n\t\t\t\t\t\tlogout: \"Cerrar Sesión\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tnotifications: {\n\t\t\t\tnoTickets: \"Sin notificaciones.\",\n\t\t\t},\n\t\t\tqueues: {\n\t\t\t\ttitle: \"Linhas\",\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\tcolor: \"Color\",\n\t\t\t\t\tgreeting: \"Mensaje de saludo\",\n\t\t\t\t\tactions: \"Comportamiento\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Agregar cola\",\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Eliminar\",\n\t\t\t\t\tdeleteMessage:\n\t\t\t\t\t\t\"¿Estás seguro? ¡Esta acción no se puede revertir! Los tickets en esa cola seguirán existiendo, pero ya no tendrán ninguna cola asignada.\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tqueueSelect: {\n\t\t\t\tinputLabel: \"Linhas\",\n\t\t\t},\n\t\t\tusers: {\n\t\t\t\ttitle: \"Usuarios\",\n\t\t\t\ttable: {\n\t\t\t\t\tname: \"Nombre\",\n\t\t\t\t\temail: \"Correo Electrónico\",\n\t\t\t\t\tprofile: \"Perfil\",\n\t\t\t\t\tactions: \"Acciones\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tadd: \"Agregar usuario\",\n\t\t\t\t},\n\t\t\t\ttoasts: {\n\t\t\t\t\tdeleted: \"Usuario borrado satisfactoriamente.\",\n\t\t\t\t},\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\tdeleteTitle: \"Borrar\",\n\t\t\t\t\tdeleteMessage:\n\t\t\t\t\t\t\"Toda la información del usuario se perderá. Los tickets abiertos de los usuarios se moverán a la cola.\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tsettings: {\n\t\t\t\tsuccess: \"Configuración guardada satisfactoriamente.\",\n\t\t\t\ttitle: \"Configuración\",\n\t\t\t\tsettings: {\n\t\t\t\t\tuserCreation: {\n\t\t\t\t\t\tname: \"Creación de usuarios\",\n\t\t\t\t\t\toptions: {\n\t\t\t\t\t\t\tenabled: \"Habilitado\",\n\t\t\t\t\t\t\tdisabled: \"Deshabilitado\",\n\t\t\t\t\t\t},\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tmessagesList: {\n\t\t\t\theader: {\n\t\t\t\t\tassignedTo: \"Asignado a:\",\n\t\t\t\t\tbuttons: {\n\t\t\t\t\t\treturn: \"Devolver\",\n\t\t\t\t\t\tresolve: \"Resolver\",\n\t\t\t\t\t\treopen: \"Reabrir\",\n\t\t\t\t\t\taccept: \"Aceptar\",\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t\tmessagesInput: {\n\t\t\t\tplaceholderOpen: \"Escribe un mensaje\",\n\t\t\t\tplaceholderClosed:\n\t\t\t\t\t\"Vuelva a abrir o acepte este ticket para enviar un mensaje.\",\n\t\t\t\tsignMessage: \"Firmar\",\n\t\t\t},\n\t\t\tcontactDrawer: {\n\t\t\t\theader: \"Detalles del contacto\",\n\t\t\t\tbuttons: {\n\t\t\t\t\tedit: \"Editar contacto\",\n\t\t\t\t},\n\t\t\t\textraInfo: \"Otra información\",\n\t\t\t},\n\t\t\tticketOptionsMenu: {\n\t\t\t\tdelete: \"Borrar\",\n\t\t\t\ttransfer: \"Transferir\",\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\ttitle: \"¿Borrar ticket #\",\n\t\t\t\t\ttitleFrom: \"del contacto \",\n\t\t\t\t\tmessage:\n\t\t\t\t\t\t\"¡Atención! Todos los mensajes Todos los mensajes relacionados con el ticket se perderán.\",\n\t\t\t\t},\n\t\t\t\tbuttons: {\n\t\t\t\t\tdelete: \"Borrar\",\n\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tconfirmationModal: {\n\t\t\t\tbuttons: {\n\t\t\t\t\tconfirm: \"Ok\",\n\t\t\t\t\tcancel: \"Cancelar\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tmessageOptionsMenu: {\n\t\t\t\tdelete: \"Borrar\",\n\t\t\t\treply: \"Responder\",\n\t\t\t\tconfirmationModal: {\n\t\t\t\t\ttitle: \"¿Borrar mensaje?\",\n\t\t\t\t\tmessage: \"Esta acción no puede ser revertida.\",\n\t\t\t\t},\n\t\t\t},\n\t\t\tbackendErrors: {\n\t\t\t\tERR_NO_OTHER_WHATSAPP:\n\t\t\t\t\t\"Debe haber al menos una conexión de WhatsApp predeterminada.\",\n\t\t\t\tERR_NO_DEF_WAPP_FOUND:\n\t\t\t\t\t\"No se encontró WhatsApp predeterminado. Verifique la página de conexiones.\",\n\t\t\t\tERR_WAPP_NOT_INITIALIZED:\n\t\t\t\t\t\"Esta sesión de WhatsApp no ​​está inicializada. Verifique la página de conexiones.\",\n\t\t\t\tERR_WAPP_CHECK_CONTACT:\n\t\t\t\t\t\"No se pudo verificar el contacto de WhatsApp. Verifique la página de conexiones.\",\n\t\t\t\tERR_WAPP_INVALID_CONTACT: \"Este no es un número de whatsapp válido.\",\n\t\t\t\tERR_WAPP_DOWNLOAD_MEDIA:\n\t\t\t\t\t\"No se pudieron descargar los medios de WhatsApp. Verifique la página de conexiones.\",\n\t\t\t\tERR_INVALID_CREDENTIALS: \"Error de autenticación. Vuelva a intentarlo.\",\n\t\t\t\tERR_SENDING_WAPP_MSG:\n\t\t\t\t\t\"Error al enviar el mensaje de WhatsApp. Verifique la página de conexiones.\",\n\t\t\t\tERR_DELETE_WAPP_MSG: \"No se pudo borrar el mensaje de WhatsApp.\",\n\t\t\t\tERR_OTHER_OPEN_TICKET: \"Ya hay un ticket abierto para este contacto.\",\n\t\t\t\tERR_SESSION_EXPIRED: \"Sesión caducada. Inicie sesión.\",\n\t\t\t\tERR_USER_CREATION_DISABLED:\n\t\t\t\t\t\"La creación de usuarios fue deshabilitada por el administrador.\",\n\t\t\t\tERR_NO_PERMISSION: \"No tienes permiso para acceder a este recurso.\",\n\t\t\t\tERR_DUPLICATED_CONTACT: \"Ya existe un contacto con este número.\",\n\t\t\t\tERR_NO_SETTING_FOUND:\n\t\t\t\t\t\"No se encontró ninguna configuración con este ID.\",\n\t\t\t\tERR_NO_CONTACT_FOUND: \"No se encontró ningún contacto con este ID.\",\n\t\t\t\tERR_NO_TICKET_FOUND: \"No se encontró ningún ticket con este ID.\",\n\t\t\t\tERR_NO_USER_FOUND: \"No se encontró ningún usuario con este ID.\",\n\t\t\t\tERR_NO_WAPP_FOUND: \"No se encontró WhatsApp con este ID.\",\n\t\t\t\tERR_CREATING_MESSAGE: \"Error al crear el mensaje en la base de datos.\",\n\t\t\t\tERR_CREATING_TICKET: \"Error al crear el ticket en la base de datos.\",\n\t\t\t\tERR_FETCH_WAPP_MSG:\n\t\t\t\t\t\"Error al obtener el mensaje en WhtasApp, tal vez sea demasiado antiguo.\",\n\t\t\t\tERR_QUEUE_COLOR_ALREADY_EXISTS:\n\t\t\t\t\t\"Este color ya está en uso, elija otro.\",\n\t\t\t\tERR_WAPP_GREETING_REQUIRED:\n\t\t\t\t\t\"El mensaje de saludo es obligatorio cuando hay más de una cola.\",\n\t\t\t},\n\t\t},\n\t},\n};\n\nexport { messages };\n","import i18n from \"i18next\";\nimport LanguageDetector from \"i18next-browser-languagedetector\";\n\nimport { messages } from \"./languages\";\n\ni18n.use(LanguageDetector).init({\n\tdebug: false,\n\tdefaultNS: [\"translations\"],\n\tfallbackLng: \"pt\",\n\tns: [\"translations\"],\n\tresources: messages,\n});\n\nexport { i18n };\n","import { toast } from \"react-toastify\";\nimport { i18n } from \"../translate/i18n\";\nimport { isString } from 'lodash';\n\nconst toastError = err => {\n\tconst errorMsg = err.response?.data?.error;\n\tif (errorMsg) {\n\t\tif (i18n.exists(`backendErrors.${errorMsg}`)) {\n\t\t\ttoast.error(i18n.t(`backendErrors.${errorMsg}`), {\n\t\t\t\ttoastId: errorMsg,\n\t\t\t\tautoClose: 2000,\n\t\t\t\thideProgressBar: false,\n\t\t\t\tcloseOnClick: true,\n\t\t\t\tpauseOnHover: false,\n\t\t\t\tdraggable: true,\n\t\t\t\tprogress: undefined,\n\t\t\t\ttheme: \"light\",\n\t\t\t});\n\t\t\treturn\n\t\t} else {\n\t\t\ttoast.error(errorMsg, {\n\t\t\t\ttoastId: errorMsg,\n\t\t\t\tautoClose: 2000,\n\t\t\t\thideProgressBar: false,\n\t\t\t\tcloseOnClick: true,\n\t\t\t\tpauseOnHover: false,\n\t\t\t\tdraggable: true,\n\t\t\t\tprogress: undefined,\n\t\t\t\ttheme: \"light\",\n\t\t\t});\n\t\t\treturn\n\t\t}\n\t} if (isString(err)) {\n\t\ttoast.error(err);\n\t\treturn\n\t} else {\n\t\ttoast.error(\"An error occurred!\");\n\t\treturn\n\t}\n};\n\nexport default toastError;\n","import axios from \"axios\";\n\nconst api = axios.create({\n\tbaseURL: process.env.REACT_APP_BACKEND_URL,\n\twithCredentials: true,\n});\n\nexport const openApi = axios.create({\n\tbaseURL: process.env.REACT_APP_BACKEND_URL\n});\n\nexport default api;\n","import openSocket from \"socket.io-client\";\nimport { isObject } from \"lodash\";\n\nexport function socketConnection(params) {\n  let userId = null;\n  if (localStorage.getItem(\"userId\")) {\n    userId = localStorage.getItem(\"userId\");\n  }\n  return openSocket(process.env.REACT_APP_BACKEND_URL, {\n    transports: [\"websocket\", \"polling\", \"flashsocket\"],\n    pingTimeout: 18000,\n    pingInterval: 18000,\n    query: isObject(params) ? { ...params} : { userId: params.userId },\n  });\n}\n","import { useState, useEffect, useReducer } from \"react\";\nimport toastError from \"../../errors/toastError\";\n\nimport api from \"../../services/api\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_WHATSAPPS\") {\n    const whatsApps = action.payload;\n\n    return [...whatsApps];\n  }\n\n  if (action.type === \"UPDATE_WHATSAPPS\") {\n    const whatsApp = action.payload;\n    const whatsAppIndex = state.findIndex((s) => s.id === whatsApp.id);\n\n    if (whatsAppIndex !== -1) {\n      state[whatsAppIndex] = whatsApp;\n      return [...state];\n    } else {\n      return [whatsApp, ...state];\n    }\n  }\n\n  if (action.type === \"UPDATE_SESSION\") {\n    const whatsApp = action.payload;\n    const whatsAppIndex = state.findIndex((s) => s.id === whatsApp.id);\n\n    if (whatsAppIndex !== -1) {\n      state[whatsAppIndex].status = whatsApp.status;\n      state[whatsAppIndex].updatedAt = whatsApp.updatedAt;\n      state[whatsAppIndex].qrcode = whatsApp.qrcode;\n      state[whatsAppIndex].retries = whatsApp.retries;\n      return [...state];\n    } else {\n      return [...state];\n    }\n  }\n\n  if (action.type === \"DELETE_WHATSAPPS\") {\n    const whatsAppId = action.payload;\n\n    const whatsAppIndex = state.findIndex((s) => s.id === whatsAppId);\n    if (whatsAppIndex !== -1) {\n      state.splice(whatsAppIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useWhatsApps = () => {\n  const [whatsApps, dispatch] = useReducer(reducer, []);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    setLoading(true);\n    const fetchSession = async () => {\n      try {\n        const { data } = await api.get(\"/whatsapp/?session=0\");\n        dispatch({ type: \"LOAD_WHATSAPPS\", payload: data });\n        setLoading(false);\n      } catch (err) {\n        setLoading(false);\n        toastError(err);\n      }\n    };\n    fetchSession();\n  }, []);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-whatsapp`, (data) => {\n      if (data.action === \"update\") {\n        dispatch({ type: \"UPDATE_WHATSAPPS\", payload: data.whatsapp });\n      }\n    });\n\n    socket.on(`company-${companyId}-whatsapp`, (data) => {\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_WHATSAPPS\", payload: data.whatsappId });\n      }\n    });\n\n    socket.on(`company-${companyId}-whatsappSession`, (data) => {\n      if (data.action === \"update\") {\n        dispatch({ type: \"UPDATE_SESSION\", payload: data.session });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  return { whatsApps, loading };\n};\n\nexport default useWhatsApps;\n","import React, { createContext } from \"react\";\n\nimport useWhatsApps from \"../../hooks/useWhatsApps\";\n\nconst WhatsAppsContext = createContext();\n\nconst WhatsAppsProvider = ({ children }) => {\n\tconst { loading, whatsApps } = useWhatsApps();\n\n\treturn (\n\t\t<WhatsAppsContext.Provider value={{ whatsApps, loading }}>\n\t\t\t{children}\n\t\t</WhatsAppsContext.Provider>\n\t);\n};\n\nexport { WhatsAppsContext, WhatsAppsProvider };\n","import { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { has, isArray } from \"lodash\";\n\nimport { toast } from \"react-toastify\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { socketConnection } from \"../../services/socket\";\nimport moment from \"moment\";\nconst useAuth = () => {\n  const history = useHistory();\n  const [isAuth, setIsAuth] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [user, setUser] = useState({});\n\n  api.interceptors.request.use(\n    (config) => {\n      const token = localStorage.getItem(\"token\");\n      if (token) {\n        config.headers[\"Authorization\"] = `Bearer ${JSON.parse(token)}`;\n        setIsAuth(true);\n      }\n      return config;\n    },\n    (error) => {\n      Promise.reject(error);\n    }\n  );\n\n  api.interceptors.response.use(\n    (response) => {\n      return response;\n    },\n    async (error) => {\n      const originalRequest = error.config;\n      if (error?.response?.status === 403 && !originalRequest._retry) {\n        originalRequest._retry = true;\n\n        const { data } = await api.post(\"/auth/refresh_token\");\n        if (data) {\n          localStorage.setItem(\"token\", JSON.stringify(data.token));\n          api.defaults.headers.Authorization = `Bearer ${data.token}`;\n        }\n        return api(originalRequest);\n      }\n      if (error?.response?.status === 401) {\n        localStorage.removeItem(\"token\");\n        localStorage.removeItem(\"companyId\");\n        api.defaults.headers.Authorization = undefined;\n        setIsAuth(false);\n      }\n      return Promise.reject(error);\n    }\n  );\n\n  useEffect(() => {\n    const token = localStorage.getItem(\"token\");\n    (async () => {\n      if (token) {\n        try {\n          const { data } = await api.post(\"/auth/refresh_token\");\n          api.defaults.headers.Authorization = `Bearer ${data.token}`;\n          setIsAuth(true);\n          setUser(data.user);\n        } catch (err) {\n          toastError(err);\n        }\n      }\n      setLoading(false);\n    })();\n  }, []);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    if (companyId) {\n   \n    const socket = socketConnection({ companyId });\n\n      socket.on(`company-${companyId}-user`, (data) => {\n        if (data.action === \"update\" && data.user.id === user.id) {\n          setUser(data.user);\n        }\n      });\n    \n    \n    return () => {\n      socket.disconnect();\n    };\n  }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [user]);\n\n  const handleLogin = async (userData) => {\n    setLoading(true);\n\n    try {\n      const { data } = await api.post(\"/auth/login\", userData);\n      const {\n        user: { companyId, id, company },\n      } = data;\n\n      if (has(company, \"settings\") && isArray(company.settings)) {\n        const setting = company.settings.find(\n          (s) => s.key === \"campaignsEnabled\"\n        );\n        if (setting && setting.value === \"true\") {\n          localStorage.setItem(\"cshow\", null); //regra pra exibir campanhas\n        }\n      }\n\n      moment.locale('pt-br');\n      const dueDate = data.user.company.dueDate;\n      const hoje = moment(moment()).format(\"DD/MM/yyyy\");\n      const vencimento = moment(dueDate).format(\"DD/MM/yyyy\");\n\n      var diff = moment(dueDate).diff(moment(moment()).format());\n\n      var before = moment(moment().format()).isBefore(dueDate);\n      var dias = moment.duration(diff).asDays();\n\n      if (before === true) {\n        localStorage.setItem(\"token\", JSON.stringify(data.token));\n        localStorage.setItem(\"companyId\", companyId);\n        localStorage.setItem(\"userId\", id);\n        localStorage.setItem(\"companyDueDate\", vencimento);\n        api.defaults.headers.Authorization = `Bearer ${data.token}`;\n        setUser(data.user);\n        setIsAuth(true);\n        toast.success(i18n.t(\"auth.toasts.success\"));\n        if (Math.round(dias) < 5) {\n          toast.warn(`Sua assinatura vence em ${Math.round(dias)} ${Math.round(dias) === 1 ? 'dia' : 'dias'} `);\n        }\n        history.push(\"/tickets\");\n        setLoading(false);\n      } else {\n        toastError(`Opss! Sua assinatura venceu ${vencimento}.\nEntre em contato com o Suporte para mais informações! `);\n        setLoading(false);\n      }\n\n      //quebra linha \n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n  };\n\n  const handleLogout = async () => {\n    setLoading(true);\n\n    try {\n      await api.delete(\"/auth/logout\");\n      setIsAuth(false);\n      setUser({});\n      localStorage.removeItem(\"token\");\n      localStorage.removeItem(\"companyId\");\n      localStorage.removeItem(\"userId\");\n      localStorage.removeItem(\"cshow\");\n      api.defaults.headers.Authorization = undefined;\n      setLoading(false);\n      history.push(\"/login\");\n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n  };\n\n  const getCurrentUserInfo = async () => {\n    try {\n      const { data } = await api.get(\"/auth/me\");\n      return data;\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  return {\n    isAuth,\n    user,\n    loading,\n    handleLogin,\n    handleLogout,\n    getCurrentUserInfo,\n  };\n};\n\nexport default useAuth;\n","import React, { createContext } from \"react\";\n\nimport useAuth from \"../../hooks/useAuth.js\";\n\nconst AuthContext = createContext();\n\nconst AuthProvider = ({ children }) => {\n\tconst { loading, user, isAuth, handleLogin, handleLogout } = useAuth();\n\n\treturn (\n\t\t<AuthContext.Provider\n\t\t\tvalue={{ loading, user, isAuth, handleLogin, handleLogout }}\n\t\t>\n\t\t\t{children}\n\t\t</AuthContext.Provider>\n\t);\n};\n\nexport { AuthContext, AuthProvider };\n","const rules = {\n\tuser: {\n\t\tstatic: [],\n\t},\n\n\tadmin: {\n\t\tstatic: [\n\t\t\t\"dashboard:view\",\n\t\t\t\"drawer-admin-items:view\",\n\t\t\t\"tickets-manager:showall\",\n\t\t\t\"user-modal:editProfile\",\n\t\t\t\"user-modal:editQueues\",\n\t\t\t\"ticket-options:deleteTicket\",\n\t\t\t\"contacts-page:deleteContact\",\n\t\t\t\"connections-page:actionButtons\",\n\t\t\t\"connections-page:addConnection\",\n\t\t\t\"connections-page:editOrDeleteConnection\"\n\t\t],\n\t},\n};\n\nexport default rules;\n","import rules from \"../../rules\";\n\nconst check = (role, action, data) => {\n\tconst permissions = rules[role];\n\tif (!permissions) {\n\t\t// role is not present in the rules\n\t\treturn false;\n\t}\n\n\tconst staticPermissions = permissions.static;\n\n\tif (staticPermissions && staticPermissions.includes(action)) {\n\t\t// static rule not provided for action\n\t\treturn true;\n\t}\n\n\tconst dynamicPermissions = permissions.dynamic;\n\n\tif (dynamicPermissions) {\n\t\tconst permissionCondition = dynamicPermissions[action];\n\t\tif (!permissionCondition) {\n\t\t\t// dynamic rule not provided for action\n\t\t\treturn false;\n\t\t}\n\n\t\treturn permissionCondition(data);\n\t}\n\treturn false;\n};\n\nconst Can = ({ role, perform, data, yes, no }) =>\n\tcheck(role, perform, data) ? yes() : no();\n\nCan.defaultProps = {\n\tyes: () => null,\n\tno: () => null,\n};\n\nexport { Can };\n","import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport EditIcon from '@material-ui/icons/Edit';\n\nconst useStyles = makeStyles({\n  root: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    margin: '2rem'\n  },\n  inputContainer: {\n    display: 'flex',\n    width: '100%',\n    marginBottom: '1rem'\n  },\n  input: {\n    flexGrow: 1,\n    marginRight: '1rem'\n  },\n  listContainer: {\n    width: '100%',\n    height: '100%',\n    marginTop: '1rem',\n    backgroundColor: '#f5f5f5',\n    borderRadius: '5px',\n  },\n  list: {\n    marginBottom: '5px'\n  }\n});\n\nconst ToDoList = () => {\n  const classes = useStyles();\n\n  const [task, setTask] = useState('');\n  const [tasks, setTasks] = useState([]);\n  const [editIndex, setEditIndex] = useState(-1);\n\n  useEffect(() => {\n    const savedTasks = localStorage.getItem('tasks');\n    if (savedTasks) {\n      setTasks(JSON.parse(savedTasks));\n    }\n  }, []);\n\n  useEffect(() => {\n    localStorage.setItem('tasks', JSON.stringify(tasks));\n  }, [tasks]);\n\n  const handleTaskChange = (event) => {\n    setTask(event.target.value);\n  };\n\n  const handleAddTask = () => {\n    if (!task.trim()) {\n      // Impede que o usuário crie uma tarefa sem texto\n      return;\n    }\n\n    const now = new Date();\n    if (editIndex >= 0) {\n      // Editar tarefa existente\n      const newTasks = [...tasks];\n      newTasks[editIndex] = {text: task, updatedAt: now, createdAt: newTasks[editIndex].createdAt};\n      setTasks(newTasks);\n      setTask('');\n      setEditIndex(-1);\n    } else {\n      // Adicionar nova tarefa\n      setTasks([...tasks, {text: task, createdAt: now, updatedAt: now}]);\n      setTask('');\n    }\n  };\n\n  const handleEditTask = (index) => {\n    setTask(tasks[index].text);\n    setEditIndex(index);\n  };\n\n  const handleDeleteTask = (index) => {\n    const newTasks = [...tasks];\n    newTasks.splice(index, 1);\n    setTasks(newTasks);\n  };\n\n  return (\n    <div className={classes.root}>\n      <div className={classes.inputContainer}>\n        <TextField\n          className={classes.input}\n          label=\"Nova tarefa\"\n          value={task}\n          onChange={handleTaskChange}\n          variant=\"outlined\"\n        />\n        <Button variant=\"contained\" color=\"primary\" onClick={handleAddTask}>\n          {editIndex >= 0 ? 'Salvar' : 'Adicionar'}\n        </Button>\n      </div>\n      <div className={classes.listContainer}>\n        <List>\n          {tasks.map((task, index) => (\n            <ListItem key={index} className={classes.list}>\n              <ListItemText primary={task.text} secondary={task.updatedAt.toLocaleString()} />\n              <ListItemSecondaryAction>\n                <IconButton onClick={() => handleEditTask(index)}>\n                  <EditIcon />\n                </IconButton>\n                <IconButton onClick={() => handleDeleteTask(index)}>\n                  <DeleteIcon />\n                </IconButton>\n              </ListItemSecondaryAction>\n            </ListItem>\n          ))}\n        </List>\n      </div>\n    </div>\n  );\n};\n\n\nexport default ToDoList;\n","import api, { openApi } from \"../../services/api\";\n\nconst usePlans = () => {\n\n    const getPlanList = async (params) => {\n        const { data } = await openApi.request({\n            url: '/plans/list',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    const list = async (params) => {\n        const { data } = await api.request({\n            url: '/plans/all',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    const finder = async (id) => {\n        const { data } = await api.request({\n            url: `/plans/${id}`,\n            method: 'GET'\n        });\n        return data;\n    }\n\n    const save = async (data) => {\n        const { data: responseData } = await api.request({\n            url: '/plans',\n            method: 'POST',\n            data\n        });\n        return responseData;\n    }\n\n    const update = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/plans/${data.id}`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    const remove = async (id) => {\n        const { data } = await api.request({\n            url: `/plans/${id}`,\n            method: 'DELETE'\n        });\n        return data;\n    }\n\n    const getPlanCompany = async (params, id) => {\n        const { data } = await api.request({\n            url: `/companies/listPlan/${id}`,\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    return {\n        getPlanList,\n        list,\n        save,\n        update,\n        finder,\n        remove,\n        getPlanCompany\n    }\n}\n\nexport default usePlans;","import React, { useContext, useEffect, useReducer, useState } from \"react\";\nimport { Link as RouterLink, useHistory } from \"react-router-dom\";\n\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { Badge, Collapse, List } from \"@material-ui/core\";\nimport DashboardOutlinedIcon from \"@material-ui/icons/DashboardOutlined\";\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport SyncAltIcon from \"@material-ui/icons/SyncAlt\";\nimport SettingsOutlinedIcon from \"@material-ui/icons/SettingsOutlined\";\nimport PeopleAltOutlinedIcon from \"@material-ui/icons/PeopleAltOutlined\";\nimport ContactPhoneOutlinedIcon from \"@material-ui/icons/ContactPhoneOutlined\";\nimport AccountTreeOutlinedIcon from \"@material-ui/icons/AccountTreeOutlined\";\nimport FlashOnIcon from \"@material-ui/icons/FlashOn\";\nimport HelpOutlineIcon from \"@material-ui/icons/HelpOutline\";\nimport CodeRoundedIcon from \"@material-ui/icons/CodeRounded\";\nimport EventIcon from \"@material-ui/icons/Event\";\nimport LocalOfferIcon from \"@material-ui/icons/LocalOffer\";\nimport EventAvailableIcon from \"@material-ui/icons/EventAvailable\";\nimport ExpandLessIcon from \"@material-ui/icons/ExpandLess\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport PeopleIcon from \"@material-ui/icons/People\";\nimport ListIcon from \"@material-ui/icons/ListAlt\";\nimport AnnouncementIcon from \"@material-ui/icons/Announcement\";\nimport ForumIcon from \"@material-ui/icons/Forum\";\nimport LocalAtmIcon from '@material-ui/icons/LocalAtm';\nimport RotateRight from \"@material-ui/icons/RotateRight\";\nimport { i18n } from \"../translate/i18n\";\nimport { WhatsAppsContext } from \"../context/WhatsApp/WhatsAppsContext\";\nimport { AuthContext } from \"../context/Auth/AuthContext\";\nimport LoyaltyRoundedIcon from '@material-ui/icons/LoyaltyRounded';\nimport { Can } from \"../components/Can\";\nimport { socketConnection } from \"../services/socket\";\nimport { isArray } from \"lodash\";\nimport api from \"../services/api\";\nimport BorderColorIcon from '@material-ui/icons/BorderColor';\nimport ToDoList from \"../pages/ToDoList/\";\nimport toastError from \"../errors/toastError\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { AllInclusive, AttachFile, BlurCircular, DeviceHubOutlined, Schedule } from '@material-ui/icons';\nimport usePlans from \"../hooks/usePlans\";\n\nconst useStyles = makeStyles((theme) => ({\n  ListSubheader: {\n    height: 26,\n    marginTop: \"-15px\",\n    marginBottom: \"-10px\",\n  },\n}));\n\n\nfunction ListItemLink(props) {\n  const { icon, primary, to, className } = props;\n\n  const renderLink = React.useMemo(\n    () =>\n      React.forwardRef((itemProps, ref) => (\n        <RouterLink to={to} ref={ref} {...itemProps} />\n      )),\n    [to]\n  );\n\n  return (\n    <li>\n      <ListItem button dense component={renderLink} className={className}>\n        {icon ? <ListItemIcon>{icon}</ListItemIcon> : null}\n        <ListItemText primary={primary} />\n      </ListItem>\n    </li>\n  );\n}\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CHATS\") {\n    const chats = action.payload;\n    const newChats = [];\n\n    if (isArray(chats)) {\n      chats.forEach((chat) => {\n        const chatIndex = state.findIndex((u) => u.id === chat.id);\n        if (chatIndex !== -1) {\n          state[chatIndex] = chat;\n        } else {\n          newChats.push(chat);\n        }\n      });\n    }\n\n    return [...state, ...newChats];\n  }\n\n  if (action.type === \"UPDATE_CHATS\") {\n    const chat = action.payload;\n    const chatIndex = state.findIndex((u) => u.id === chat.id);\n\n    if (chatIndex !== -1) {\n      state[chatIndex] = chat;\n      return [...state];\n    } else {\n      return [chat, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CHAT\") {\n    const chatId = action.payload;\n\n    const chatIndex = state.findIndex((u) => u.id === chatId);\n    if (chatIndex !== -1) {\n      state.splice(chatIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n\n  if (action.type === \"CHANGE_CHAT\") {\n    const changedChats = state.map((chat) => {\n      if (chat.id === action.payload.chat.id) {\n        return action.payload.chat;\n      }\n      return chat;\n    });\n    return changedChats;\n  }\n};\n\nconst MainListItems = (props) => {\n  const classes = useStyles();\n  const { drawerClose, collapsed } = props;\n  const { whatsApps } = useContext(WhatsAppsContext);\n  const { user, handleLogout } = useContext(AuthContext);\n  const [connectionWarning, setConnectionWarning] = useState(false);\n  const [openCampaignSubmenu, setOpenCampaignSubmenu] = useState(false);\n  const [showCampaigns, setShowCampaigns] = useState(false);\n  const [showKanban, setShowKanban] = useState(false);\n  const [showOpenAi, setShowOpenAi] = useState(false);\n  const [showIntegrations, setShowIntegrations] = useState(false); const history = useHistory();\n  const [showSchedules, setShowSchedules] = useState(false);\n  const [showInternalChat, setShowInternalChat] = useState(false);\n  const [showExternalApi, setShowExternalApi] = useState(false);\n\n  const [invisible, setInvisible] = useState(true);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [searchParam] = useState(\"\");\n  const [chats, dispatch] = useReducer(reducer, []);\n  const { getPlanCompany } = usePlans();\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    async function fetchData() {\n      const companyId = user.companyId;\n      const planConfigs = await getPlanCompany(undefined, companyId);\n\n      setShowCampaigns(planConfigs.plan.useCampaigns);\n      setShowKanban(planConfigs.plan.useKanban);\n      setShowOpenAi(planConfigs.plan.useOpenAi);\n      setShowIntegrations(planConfigs.plan.useIntegrations);\n      setShowSchedules(planConfigs.plan.useSchedules);\n      setShowInternalChat(planConfigs.plan.useInternalChat);\n      setShowExternalApi(planConfigs.plan.useExternalApi);\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n\n  useEffect(() => {\n    const delayDebounceFn = setTimeout(() => {\n      fetchChats();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-chat`, (data) => {\n      if (data.action === \"new-message\") {\n        dispatch({ type: \"CHANGE_CHAT\", payload: data });\n      }\n      if (data.action === \"update\") {\n        dispatch({ type: \"CHANGE_CHAT\", payload: data });\n      }\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  useEffect(() => {\n    let unreadsCount = 0;\n    if (chats.length > 0) {\n      for (let chat of chats) {\n        for (let chatUser of chat.users) {\n          if (chatUser.userId === user.id) {\n            unreadsCount += chatUser.unreads;\n          }\n        }\n      }\n    }\n    if (unreadsCount > 0) {\n      setInvisible(false);\n    } else {\n      setInvisible(true);\n    }\n  }, [chats, user.id]);\n\n  useEffect(() => {\n    if (localStorage.getItem(\"cshow\")) {\n      setShowCampaigns(true);\n    }\n  }, []);\n\n  useEffect(() => {\n    const delayDebounceFn = setTimeout(() => {\n      if (whatsApps.length > 0) {\n        const offlineWhats = whatsApps.filter((whats) => {\n          return (\n            whats.status === \"qrcode\" ||\n            whats.status === \"PAIRING\" ||\n            whats.status === \"DISCONNECTED\" ||\n            whats.status === \"TIMEOUT\" ||\n            whats.status === \"OPENING\"\n          );\n        });\n        if (offlineWhats.length > 0) {\n          setConnectionWarning(true);\n        } else {\n          setConnectionWarning(false);\n        }\n      }\n    }, 2000);\n    return () => clearTimeout(delayDebounceFn);\n  }, [whatsApps]);\n\n  const fetchChats = async () => {\n    try {\n      const { data } = await api.get(\"/chats/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_CHATS\", payload: data.records });\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleClickLogout = () => {\n    //handleCloseMenu();\n    handleLogout();\n  };\n\n  return (\n    <div onClick={drawerClose}>\n      <Can\n        role={user.profile}\n        perform={\"drawer-service-items:view\"}\n        style={{\n          overflowY: \"scroll\",\n        }}\n        no={() => (\n          <>\n            <ListSubheader\n              hidden={collapsed}\n              style={{\n                position: \"relative\",\n                fontSize: \"17px\",\n                textAlign: \"left\",\n                paddingLeft: 20\n              }}\n              inset\n              color=\"inherit\">\n              {i18n.t(\"Atendimento\")}\n            </ListSubheader>\n            <>\n\n              <ListItemLink\n                to=\"/tickets\"\n                primary={i18n.t(\"mainDrawer.listItems.tickets\")}\n                icon={<WhatsAppIcon />}\n              />\n              <ListItemLink\n                to=\"/quick-messages\"\n                primary={i18n.t(\"mainDrawer.listItems.quickMessages\")}\n                icon={<FlashOnIcon />}\n              />\n              {showKanban && (\n                <ListItemLink\n                  to=\"/kanban\"\n                  primary=\"Kanban\"\n                  icon={<LoyaltyRoundedIcon />}\n                />\n              )}\n              <ListItemLink\n                to=\"/todolist\"\n                primary={i18n.t(\"Tarefas\")}\n                icon={<BorderColorIcon />}\n              />\n              <ListItemLink\n                to=\"/contacts\"\n                primary={i18n.t(\"mainDrawer.listItems.contacts\")}\n                icon={<ContactPhoneOutlinedIcon />}\n              />\n              {showSchedules && (\n                <>\n                  <ListItemLink\n                    to=\"/schedules\"\n                    primary={i18n.t(\"mainDrawer.listItems.schedules\")}\n                    icon={<Schedule />}\n                  />\n                </>\n              )}\n              <ListItemLink\n                to=\"/tags\"\n                primary={i18n.t(\"mainDrawer.listItems.tags\")}\n                icon={<LocalOfferIcon />}\n              />\n              {showInternalChat && (\n                <>\n                  <ListItemLink\n                    to=\"/chats\"\n                    primary={i18n.t(\"mainDrawer.listItems.chats\")}\n                    icon={\n                      <Badge color=\"secondary\" variant=\"dot\" invisible={invisible}>\n                        <ForumIcon />\n                      </Badge>\n                    }\n                  />\n                </>\n              )}\n              <ListItemLink\n                to=\"/helps\"\n                primary={i18n.t(\"mainDrawer.listItems.helps\")}\n                icon={<HelpOutlineIcon />}\n              />\n            </>\n          </>\n        )}\n      />\n\n      <Can\n        role={user.profile}\n        perform={\"drawer-admin-items:view\"}\n        yes={() => (\n          <>\n            <Divider />\n            <ListSubheader\n              hidden={collapsed}\n              style={{\n                position: \"relative\",\n                fontSize: \"17px\",\n                textAlign: \"left\",\n                paddingLeft: 20\n              }}\n              inset\n              color=\"inherit\">\n              {i18n.t(\"Gerência\")}\n            </ListSubheader>\n            <ListItemLink\n              small\n              to=\"/\"\n              primary=\"Dashboard\"\n              icon={<DashboardOutlinedIcon />}\n            />\n          </>\n        )}\n      />\n      <Can\n        role={user.profile}\n        perform=\"drawer-admin-items:view\"\n        yes={() => (\n          <>\n            <Divider />\n            <ListSubheader\n              hidden={collapsed}\n              style={{\n                position: \"relative\",\n                fontSize: \"17px\",\n                textAlign: \"left\",\n                paddingLeft: 20\n              }}\n              inset\n              color=\"inherit\">\n              {i18n.t(\"mainDrawer.listItems.administration\")}\n            </ListSubheader>\n\n            {showCampaigns && (\n              <>\n                <ListItem\n                  button\n                  onClick={() => setOpenCampaignSubmenu((prev) => !prev)}\n                >\n                  <ListItemIcon>\n                    <EventAvailableIcon />\n                  </ListItemIcon>\n                  <ListItemText\n                    primary={i18n.t(\"mainDrawer.listItems.campaigns\")}\n                  />\n                  {openCampaignSubmenu ? (\n                    <ExpandLessIcon />\n                  ) : (\n                    <ExpandMoreIcon />\n                  )}\n                </ListItem>\n                <Collapse\n                  style={{ paddingLeft: 15 }}\n                  in={openCampaignSubmenu}\n                  timeout=\"auto\"\n                  unmountOnExit\n                >\n                  <List component=\"div\" disablePadding>\n                    <ListItem onClick={() => history.push(\"/campaigns\")} button>\n                      <ListItemIcon>\n                        <ListIcon />\n                      </ListItemIcon>\n                      <ListItemText primary=\"Listagem\" />\n                    </ListItem>\n                    <ListItem\n                      onClick={() => history.push(\"/contact-lists\")}\n                      button\n                    >\n                      <ListItemIcon>\n                        <PeopleIcon />\n                      </ListItemIcon>\n                      <ListItemText primary=\"Listas de Contatos\" />\n                    </ListItem>\n                    <ListItem\n                      onClick={() => history.push(\"/campaigns-config\")}\n                      button\n                    >\n                      <ListItemIcon>\n                        <SettingsOutlinedIcon />\n                      </ListItemIcon>\n                      <ListItemText primary=\"Configurações\" />\n                    </ListItem>\n                  </List>\n                </Collapse>\n              </>\n            )}\n            {user.super && (\n              <ListItemLink\n                to=\"/announcements\"\n                primary={i18n.t(\"mainDrawer.listItems.annoucements\")}\n                icon={<AnnouncementIcon />}\n              />\n            )}\n            {showOpenAi && (\n              <ListItemLink\n                to=\"/prompts\"\n                primary={i18n.t(\"mainDrawer.listItems.prompts\")}\n                icon={<AllInclusive />}\n              />\n            )}\n\n            {showIntegrations && (\n              <ListItemLink\n                to=\"/queue-integration\"\n                primary={i18n.t(\"mainDrawer.listItems.queueIntegration\")}\n                icon={<DeviceHubOutlined />}\n              />\n            )}\n            <ListItemLink\n              to=\"/connections\"\n              primary={i18n.t(\"mainDrawer.listItems.connections\")}\n              icon={\n                <Badge badgeContent={connectionWarning ? \"!\" : 0} color=\"error\">\n                  <SyncAltIcon />\n                </Badge>\n              }\n            />\n            <ListItemLink\n              to=\"/files\"\n              primary={i18n.t(\"mainDrawer.listItems.files\")}\n              icon={<AttachFile />}\n            />\n            <ListItemLink\n              to=\"/queues\"\n              primary={i18n.t(\"mainDrawer.listItems.queues\")}\n              icon={<AccountTreeOutlinedIcon />}\n            />\n            <ListItemLink\n              to=\"/users\"\n              primary={i18n.t(\"mainDrawer.listItems.users\")}\n              icon={<PeopleAltOutlinedIcon />}\n            />\n            {showExternalApi && (\n              <>\n                <ListItemLink\n                  to=\"/messages-api\"\n                  primary={i18n.t(\"mainDrawer.listItems.messagesAPI\")}\n                  icon={<CodeRoundedIcon />}\n                />\n              </>\n            )}\n            <ListItemLink\n              to=\"/financeiro\"\n              primary={i18n.t(\"mainDrawer.listItems.financeiro\")}\n              icon={<LocalAtmIcon />}\n            />\n\n            <ListItemLink\n              to=\"/settings\"\n              primary={i18n.t(\"mainDrawer.listItems.settings\")}\n              icon={<SettingsOutlinedIcon />}\n            />\n            { }\n\n          </>\n        )}\n      />\n      <Divider />\n      <li>\n        <ListItem\n          button\n          dense\n          onClick={handleClickLogout}>\n          <ListItemIcon><RotateRight /></ListItemIcon>\n          <ListItemText primary={i18n.t(\"Sair\")} />\n        </ListItem>\n      </li>\n    </div>\n  );\n};\n\nexport default MainListItems;","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport { CircularProgress, Button } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n\tbutton: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n}));\n\nconst ButtonWithSpinner = ({ loading, children, ...rest }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Button className={classes.button} disabled={loading} {...rest}>\n\t\t\t{children}\n\t\t\t{loading && (\n\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\n\t\t\t)}\n\t\t</Button>\n\t);\n};\n\nexport default ButtonWithSpinner;\n","import React from \"react\";\nimport Markdown from \"markdown-to-jsx\";\n\nconst elements = [\n\t\"a\",\n\t\"abbr\",\n\t\"address\",\n\t\"area\",\n\t\"article\",\n\t\"aside\",\n\t\"audio\",\n\t\"b\",\n\t\"base\",\n\t\"bdi\",\n\t\"bdo\",\n\t\"big\",\n\t\"blockquote\",\n\t\"body\",\n\t\"br\",\n\t\"button\",\n\t\"canvas\",\n\t\"caption\",\n\t\"cite\",\n\t\"code\",\n\t\"col\",\n\t\"colgroup\",\n\t\"data\",\n\t\"datalist\",\n\t\"dd\",\n\t\"del\",\n\t\"details\",\n\t\"dfn\",\n\t\"dialog\",\n\t\"div\",\n\t\"dl\",\n\t\"dt\",\n\t\"em\",\n\t\"embed\",\n\t\"fieldset\",\n\t\"figcaption\",\n\t\"figure\",\n\t\"footer\",\n\t\"form\",\n\t\"h1\",\n\t\"h2\",\n\t\"h3\",\n\t\"h4\",\n\t\"h5\",\n\t\"h6\",\n\t\"head\",\n\t\"header\",\n\t\"hgroup\",\n\t\"hr\",\n\t\"html\",\n\t\"i\",\n\t\"iframe\",\n\t\"img\",\n\t\"input\",\n\t\"ins\",\n\t\"kbd\",\n\t\"keygen\",\n\t\"label\",\n\t\"legend\",\n\t\"li\",\n\t\"link\",\n\t\"main\",\n\t\"map\",\n\t\"mark\",\n\t\"marquee\",\n\t\"menu\",\n\t\"menuitem\",\n\t\"meta\",\n\t\"meter\",\n\t\"nav\",\n\t\"noscript\",\n\t\"object\",\n\t\"ol\",\n\t\"optgroup\",\n\t\"option\",\n\t\"output\",\n\t\"p\",\n\t\"param\",\n\t\"picture\",\n\t\"pre\",\n\t\"progress\",\n\t\"q\",\n\t\"rp\",\n\t\"rt\",\n\t\"ruby\",\n\t\"s\",\n\t\"samp\",\n\t\"script\",\n\t\"section\",\n\t\"select\",\n\t\"small\",\n\t\"source\",\n\t\"span\",\n\t\"strong\",\n\t\"style\",\n\t\"sub\",\n\t\"summary\",\n\t\"sup\",\n\t\"table\",\n\t\"tbody\",\n\t\"td\",\n\t\"textarea\",\n\t\"tfoot\",\n\t\"th\",\n\t\"thead\",\n\t\"time\",\n\t\"title\",\n\t\"tr\",\n\t\"track\",\n\t\"u\",\n\t\"ul\",\n\t\"var\",\n\t\"video\",\n\t\"wbr\",\n\n\t// SVG\n\t\"circle\",\n\t\"clipPath\",\n\t\"defs\",\n\t\"ellipse\",\n\t\"foreignObject\",\n\t\"g\",\n\t\"image\",\n\t\"line\",\n\t\"linearGradient\",\n\t\"marker\",\n\t\"mask\",\n\t\"path\",\n\t\"pattern\",\n\t\"polygon\",\n\t\"polyline\",\n\t\"radialGradient\",\n\t\"rect\",\n\t\"stop\",\n\t\"svg\",\n\t\"text\",\n\t\"tspan\",\n];\n\nconst allowedElements = [\"a\", \"b\", \"strong\", \"em\", \"u\", \"code\", \"del\"];\n\nconst CustomLink = ({ children, ...props }) => (\n\t<a {...props} target=\"_blank\" rel=\"noopener noreferrer\">\n\t\t{children}\n\t</a>\n);\n\nconst MarkdownWrapper = ({ children }) => {\n\tconst boldRegex = /\\*(.*?)\\*/g;\n\tconst tildaRegex = /~(.*?)~/g;\n\n\tif (children && boldRegex.test(children)) {\n\t\tchildren = children.replace(boldRegex, \"**$1**\");\n\t}\n\tif (children && tildaRegex.test(children)) {\n\t\tchildren = children.replace(tildaRegex, \"~~$1~~\");\n\t}\n\n\tconst options = React.useMemo(() => {\n\t\tconst markdownOptions = {\n\t\t\tdisableParsingRawHTML: true,\n\t\t\tforceInline: true,\n\t\t\toverrides: {\n\t\t\t\ta: { component: CustomLink },\n\t\t\t},\n\t\t};\n\n\t\telements.forEach(element => {\n\t\t\tif (!allowedElements.includes(element)) {\n\t\t\t\tmarkdownOptions.overrides[element] = el => el.children || null;\n\t\t\t}\n\t\t});\n\n\t\treturn markdownOptions;\n\t}, []);\n\n\tif (!children) return null;\n\n\treturn <Markdown options={options}>{children}</Markdown>;\n};\n\nexport default MarkdownWrapper;\n","import React, { useState, useEffect, createContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nconst TicketsContext = createContext();\n\nconst TicketsContextProvider = ({ children }) => {\n\tconst [currentTicket, setCurrentTicket] = useState({ id: null, code: null });\n    const history = useHistory();\n\n    useEffect(() => {\n        if (currentTicket.id !== null) {\n            history.push(`/tickets/${currentTicket.uuid}`);\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [currentTicket])\n\n\treturn (\n\t\t<TicketsContext.Provider\n\t\t\tvalue={{ currentTicket, setCurrentTicket }}\n\t\t>\n\t\t\t{children}\n\t\t</TicketsContext.Provider>\n\t);\n};\n\nexport { TicketsContext, TicketsContextProvider };\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport ModalImage from \"react-modal-image\";\nimport api from \"../../services/api\";\n\nconst useStyles = makeStyles(theme => ({\n\tmessageMedia: {\n\t\tobjectFit: \"cover\",\n\t\twidth: 250,\n\t\theight: 200,\n\t\tborderTopLeftRadius: 8,\n\t\tborderTopRightRadius: 8,\n\t\tborderBottomLeftRadius: 8,\n\t\tborderBottomRightRadius: 8,\n\t},\n}));\n\nconst ModalImageCors = ({ imageUrl }) => {\n\tconst classes = useStyles();\n\tconst [fetching, setFetching] = useState(true);\n\tconst [blobUrl, setBlobUrl] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tif (!imageUrl) return;\n\t\tconst fetchImage = async () => {\n\t\t\tconst { data, headers } = await api.get(imageUrl, {\n\t\t\t\tresponseType: \"blob\",\n\t\t\t});\n\t\t\tconst url = window.URL.createObjectURL(\n\t\t\t\tnew Blob([data], { type: headers[\"content-type\"] })\n\t\t\t);\n\t\t\tsetBlobUrl(url);\n\t\t\tsetFetching(false);\n\t\t};\n\t\tfetchImage();\n\t}, [imageUrl]);\n\n\treturn (\n\t\t<ModalImage\n\t\t\tclassName={classes.messageMedia}\n\t\t\tsmallSrcSet={fetching ? imageUrl : blobUrl}\n\t\t\tmedium={fetching ? imageUrl : blobUrl}\n\t\t\tlarge={fetching ? imageUrl : blobUrl}\n\t\t\talt=\"image\"\n\t\t/>\n\t);\n};\n\nexport default ModalImageCors;\n","import React from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nconst ConfirmationModal = ({ title, children, open, onClose, onConfirm }) => {\n\treturn (\n\t\t<Dialog\n\t\t\topen={open}\n\t\t\tonClose={() => onClose(false)}\n\t\t\taria-labelledby=\"confirm-dialog\"\n\t\t>\n\t\t\t<DialogTitle id=\"confirm-dialog\">{title}</DialogTitle>\n\t\t\t<DialogContent dividers>\n\t\t\t\t<Typography>{children}</Typography>\n\t\t\t</DialogContent>\n\t\t\t<DialogActions>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tonClick={() => onClose(false)}\n\t\t\t\t\tcolor=\"default\"\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"confirmationModal.buttons.cancel\")}\n\t\t\t\t</Button>\n\t\t\t\t<Button\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\tonClose(false);\n\t\t\t\t\t\tonConfirm();\n\t\t\t\t\t}}\n\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"confirmationModal.buttons.confirm\")}\n\t\t\t\t</Button>\n\t\t\t</DialogActions>\n\t\t</Dialog>\n\t);\n};\n\nexport default ConfirmationModal;\n","import React, { useState, createContext } from \"react\";\n\nconst ReplyMessageContext = createContext();\n\nconst ReplyMessageProvider = ({ children }) => {\n\tconst [replyingMessage, setReplyingMessage] = useState(null);\n\n\treturn (\n\t\t<ReplyMessageContext.Provider\n\t\t\tvalue={{ replyingMessage, setReplyingMessage }}\n\t\t>\n\t\t\t{children}\n\t\t</ReplyMessageContext.Provider>\n\t);\n};\n\nexport { ReplyMessageContext, ReplyMessageProvider };\n","import React, { useState, useContext } from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport { Menu } from \"@material-ui/core\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport toastError from \"../../errors/toastError\";\n\nconst MessageOptionsMenu = ({ message, menuOpen, handleClose, anchorEl }) => {\n\tconst { setReplyingMessage } = useContext(ReplyMessageContext);\n\tconst [confirmationOpen, setConfirmationOpen] = useState(false);\n\n\tconst handleDeleteMessage = async () => {\n\t\ttry {\n\t\t\tawait api.delete(`/messages/${message.id}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst hanldeReplyMessage = () => {\n\t\tsetReplyingMessage(message);\n\t\thandleClose();\n\t};\n\n\tconst handleOpenConfirmationModal = e => {\n\t\tsetConfirmationOpen(true);\n\t\thandleClose();\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<ConfirmationModal\n\t\t\t\ttitle={i18n.t(\"messageOptionsMenu.confirmationModal.title\")}\n\t\t\t\topen={confirmationOpen}\n\t\t\t\tonClose={setConfirmationOpen}\n\t\t\t\tonConfirm={handleDeleteMessage}\n\t\t\t>\n\t\t\t\t{i18n.t(\"messageOptionsMenu.confirmationModal.message\")}\n\t\t\t</ConfirmationModal>\n\t\t\t<Menu\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\tgetContentAnchorEl={null}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\ttransformOrigin={{\n\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\topen={menuOpen}\n\t\t\t\tonClose={handleClose}\n\t\t\t>\n\t\t\t\t{message.fromMe && (\n\t\t\t\t\t<MenuItem onClick={handleOpenConfirmationModal}>\n\t\t\t\t\t\t{i18n.t(\"messageOptionsMenu.delete\")}\n\t\t\t\t\t</MenuItem>\n\t\t\t\t)}\n\t\t\t\t<MenuItem onClick={hanldeReplyMessage}>\n\t\t\t\t\t{i18n.t(\"messageOptionsMenu.reply\")}\n\t\t\t\t</MenuItem>\n\t\t\t</Menu>\n\t\t</>\n\t);\n};\n\nexport default MessageOptionsMenu;\n","import React, { useEffect } from 'react';\nimport toastError from \"../../errors/toastError\";\n\nimport { Button, Divider, Typography} from \"@material-ui/core\";\n\nconst LocationPreview = ({ image, link, description }) => {\n    useEffect(() => {}, [image, link, description]);\n\n    const handleLocation = async() => {\n        try {\n            window.open(link);\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    return (\n\t\t<>\n\t\t\t<div style={{\n\t\t\t\tminWidth: \"250px\",\n\t\t\t}}>\n\t\t\t\t<div>\n\t\t\t\t\t<div style={{ float: \"left\" }}>\n\t\t\t\t\t\t<img src={image} alt=\"loc\" onClick={handleLocation} style={{ width: \"100px\" }} />\n\t\t\t\t\t</div>\n\t\t\t\t\t{ description && (\n\t\t\t\t\t<div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\n\t\t\t\t\t\t<Typography style={{ marginTop: \"12px\", marginLeft: \"15px\", marginRight: \"15px\", float: \"left\" }} variant=\"subtitle1\" color=\"primary\" gutterBottom>\n\t\t\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: description.replace('\\\\n', '<br />') }}></div>\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t\t<div style={{ display: \"block\", content: \"\", clear: \"both\" }}></div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Divider />\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={handleLocation}\n\t\t\t\t\t\t\tdisabled={!link}\n\t\t\t\t\t\t>Visualizar</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n\n};\n\nexport default LocationPreview;","import React, { useState, useEffect, useReducer, useRef } from \"react\";\n\nimport { isSameDay, parseISO, format } from \"date-fns\";\nimport clsx from \"clsx\";\n\nimport { green } from \"@material-ui/core/colors\";\nimport {\n  Button,\n  CircularProgress,\n  Divider,\n  IconButton,\n  makeStyles,\n} from \"@material-ui/core\";\n\nimport {\n  AccessTime,\n  Block,\n  Done,\n  DoneAll,\n  ExpandMore,\n  GetApp,\n} from \"@material-ui/icons\";\n\nimport MarkdownWrapper from \"../MarkdownWrapper\";\nimport ModalImageCors from \"../ModalImageCors\";\nimport MessageOptionsMenu from \"../MessageOptionsMenu\";\nimport whatsBackground from \"../../assets/wa-background.png\";\nimport LocationPreview from \"../LocationPreview\";\n\nimport whatsBackgroundDark from \"../../assets/wa-background-dark.png\"; //DARK MODE PLW DESIGN//\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst useStyles = makeStyles((theme) => ({\n  messagesListWrapper: {\n    overflow: \"hidden\",\n    position: \"relative\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexGrow: 1,\n    width: \"100%\",\n    minWidth: 300,\n    minHeight: 200,\n  },\n\n  messagesList: {\n    backgroundImage: theme.mode === 'light' ? `url(${whatsBackground})` : `url(${whatsBackgroundDark})`, //DARK MODE PLW DESIGN//\n    display: \"flex\",\n    flexDirection: \"column\",\n    flexGrow: 1,\n    padding: \"20px 20px 20px 20px\",\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n\n  circleLoading: {\n    color: green[500],\n    position: \"absolute\",\n    opacity: \"70%\",\n    top: 0,\n    left: \"50%\",\n    marginTop: 12,\n  },\n\n  messageLeft: {\n    marginRight: 20,\n    marginTop: 2,\n    minWidth: 100,\n    maxWidth: 600,\n    height: \"auto\",\n    display: \"block\",\n    position: \"relative\",\n    \"&:hover #messageActionsButton\": {\n      display: \"flex\",\n      position: \"absolute\",\n      top: 0,\n      right: 0,\n    },\n\n    whiteSpace: \"pre-wrap\",\n    backgroundColor: \"#ffffff\",\n    color: \"#303030\",\n    alignSelf: \"flex-start\",\n    borderTopLeftRadius: 0,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 8,\n    paddingLeft: 5,\n    paddingRight: 5,\n    paddingTop: 5,\n    paddingBottom: 0,\n    boxShadow: \"0 1px 1px #b3b3b3\",\n  },\n\n  quotedContainerLeft: {\n    margin: \"-3px -80px 6px -6px\",\n    overflow: \"hidden\",\n    backgroundColor: \"#f0f0f0\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n\n  quotedMsg: {\n    padding: 10,\n    maxWidth: 300,\n    height: \"auto\",\n    display: \"block\",\n    whiteSpace: \"pre-wrap\",\n    overflow: \"hidden\",\n  },\n\n  quotedSideColorLeft: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#6bcbef\",\n  },\n\n  messageRight: {\n    marginLeft: 20,\n    marginTop: 2,\n    minWidth: 100,\n    maxWidth: 600,\n    height: \"auto\",\n    display: \"block\",\n    position: \"relative\",\n    \"&:hover #messageActionsButton\": {\n      display: \"flex\",\n      position: \"absolute\",\n      top: 0,\n      right: 0,\n    },\n\n    whiteSpace: \"pre-wrap\",\n    backgroundColor: \"#dcf8c6\",\n    color: \"#303030\",\n    alignSelf: \"flex-end\",\n    borderTopLeftRadius: 8,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 0,\n    paddingLeft: 5,\n    paddingRight: 5,\n    paddingTop: 5,\n    paddingBottom: 0,\n    boxShadow: \"0 1px 1px #b3b3b3\",\n  },\n\n  quotedContainerRight: {\n    margin: \"-3px -80px 6px -6px\",\n    overflowY: \"hidden\",\n    backgroundColor: \"#cfe9ba\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n\n  quotedMsgRight: {\n    padding: 10,\n    maxWidth: 300,\n    height: \"auto\",\n    whiteSpace: \"pre-wrap\",\n  },\n\n  quotedSideColorRight: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#35cd96\",\n  },\n\n  messageActionsButton: {\n    display: \"none\",\n    position: \"relative\",\n    color: \"#999\",\n    zIndex: 1,\n    backgroundColor: \"inherit\",\n    opacity: \"90%\",\n    \"&:hover, &.Mui-focusVisible\": { backgroundColor: \"inherit\" },\n  },\n\n  messageContactName: {\n    display: \"flex\",\n    color: \"#6bcbef\",\n    fontWeight: 500,\n  },\n\n  textContentItem: {\n    overflowWrap: \"break-word\",\n    padding: \"3px 80px 6px 6px\",\n  },\n\n  textContentItemDeleted: {\n    fontStyle: \"italic\",\n    color: \"rgba(0, 0, 0, 0.36)\",\n    overflowWrap: \"break-word\",\n    padding: \"3px 80px 6px 6px\",\n  },\n\n  messageMedia: {\n    objectFit: \"cover\",\n    width: 250,\n    height: 200,\n    borderTopLeftRadius: 8,\n    borderTopRightRadius: 8,\n    borderBottomLeftRadius: 8,\n    borderBottomRightRadius: 8,\n  },\n\n  timestamp: {\n    fontSize: 11,\n    position: \"absolute\",\n    bottom: 0,\n    right: 5,\n    color: \"#999\",\n  },\n\n  dailyTimestamp: {\n    alignItems: \"center\",\n    textAlign: \"center\",\n    alignSelf: \"center\",\n    width: \"110px\",\n    backgroundColor: \"#e1f3fb\",\n    margin: \"10px\",\n    borderRadius: \"10px\",\n    boxShadow: \"0 1px 1px #b3b3b3\",\n  },\n\n  dailyTimestampText: {\n    color: \"#808888\",\n    padding: 8,\n    alignSelf: \"center\",\n    marginLeft: \"0px\",\n  },\n\n  ackIcons: {\n    fontSize: 18,\n    verticalAlign: \"middle\",\n    marginLeft: 4,\n  },\n\n  deletedIcon: {\n    fontSize: 18,\n    verticalAlign: \"middle\",\n    marginRight: 4,\n  },\n\n  ackDoneAllIcon: {\n    color: green[500],\n    fontSize: 18,\n    verticalAlign: \"middle\",\n    marginLeft: 4,\n  },\n\n  downloadMedia: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    backgroundColor: \"inherit\",\n    padding: 10,\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_MESSAGES\") {\n    const messages = action.payload;\n    const newMessages = [];\n\n    messages.forEach((message) => {\n      const messageIndex = state.findIndex((m) => m.id === message.id);\n      if (messageIndex !== -1) {\n        state[messageIndex] = message;\n      } else {\n        newMessages.push(message);\n      }\n    });\n\n    return [...newMessages, ...state];\n  }\n\n  if (action.type === \"ADD_MESSAGE\") {\n    const newMessage = action.payload;\n    const messageIndex = state.findIndex((m) => m.id === newMessage.id);\n\n    if (messageIndex !== -1) {\n      state[messageIndex] = newMessage;\n    } else {\n      state.push(newMessage);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_MESSAGE\") {\n    const messageToUpdate = action.payload;\n    const messageIndex = state.findIndex((m) => m.id === messageToUpdate.id);\n\n    if (messageIndex !== -1) {\n      state[messageIndex] = messageToUpdate;\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst MessagesList = ({ ticket, ticketId, isGroup }) => {\n  const classes = useStyles();\n\n  const [messagesList, dispatch] = useReducer(reducer, []);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const lastMessageRef = useRef();\n\n  const [selectedMessage, setSelectedMessage] = useState({});\n  const [anchorEl, setAnchorEl] = useState(null);\n  const messageOptionsMenuOpen = Boolean(anchorEl);\n  const currentTicketId = useRef(ticketId);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n\n    currentTicketId.current = ticketId;\n  }, [ticketId]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchMessages = async () => {\n        if (ticketId === undefined) return;\n        try {\n          const { data } = await api.get(\"/messages/\" + ticketId, {\n            params: { pageNumber },\n          });\n\n          if (currentTicketId.current === ticketId) {\n            dispatch({ type: \"LOAD_MESSAGES\", payload: data.messages });\n            setHasMore(data.hasMore);\n            setLoading(false);\n          }\n\n          if (pageNumber === 1 && data.messages.length > 1) {\n            scrollToBottom();\n          }\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchMessages();\n    }, 500);\n    return () => {\n      clearTimeout(delayDebounceFn);\n    };\n  }, [pageNumber, ticketId]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(\"connect\", () => socket.emit(\"joinChatBox\", `${ticket.id}`));\n\n    socket.on(`company-${companyId}-appMessage`, (data) => {\n      if (data.action === \"create\") {\n        dispatch({ type: \"ADD_MESSAGE\", payload: data.message });\n        scrollToBottom();\n      }\n\n      if (data.action === \"update\") {\n        dispatch({ type: \"UPDATE_MESSAGE\", payload: data.message });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [ticketId, ticket]);\n\n  const loadMore = () => {\n    setPageNumber((prevPageNumber) => prevPageNumber + 1);\n  };\n\n  const scrollToBottom = () => {\n    if (lastMessageRef.current) {\n      lastMessageRef.current.scrollIntoView({});\n    }\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore) return;\n    const { scrollTop } = e.currentTarget;\n\n    if (scrollTop === 0) {\n      document.getElementById(\"messagesList\").scrollTop = 1;\n    }\n\n    if (loading) {\n      return;\n    }\n\n    if (scrollTop < 50) {\n      loadMore();\n    }\n  };\n\n  const handleOpenMessageOptionsMenu = (e, message) => {\n    setAnchorEl(e.currentTarget);\n    setSelectedMessage(message);\n  };\n\n  const handleCloseMessageOptionsMenu = (e) => {\n    setAnchorEl(null);\n  };\n\n  const checkMessageMedia = (message) => {\n    if (message.mediaType === \"locationMessage\" && message.body.split('|').length >= 2) {\n      let locationParts = message.body.split('|')\n      let imageLocation = locationParts[0]\n      let linkLocation = locationParts[1]\n\n      let descriptionLocation = null\n\n      if (locationParts.length > 2)\n        descriptionLocation = message.body.split('|')[2]\n\n      return <LocationPreview image={imageLocation} link={linkLocation} description={descriptionLocation} />\n    }\n    /* else if (message.mediaType === \"vcard\") {\n      let array = message.body.split(\"\\n\");\n      let obj = [];\n      let contact = \"\";\n      for (let index = 0; index < array.length; index++) {\n        const v = array[index];\n        let values = v.split(\":\");\n        for (let ind = 0; ind < values.length; ind++) {\n          if (values[ind].indexOf(\"+\") !== -1) {\n            obj.push({ number: values[ind] });\n          }\n          if (values[ind].indexOf(\"FN\") !== -1) {\n            contact = values[ind + 1];\n          }\n        }\n      }\n      return <VcardPreview contact={contact} numbers={obj[0].number} />\n    } */\n    /*else if (message.mediaType === \"multi_vcard\") {\n      console.log(\"multi_vcard\")\n      console.log(message)\n    \t\n      if(message.body !== null && message.body !== \"\") {\n        let newBody = JSON.parse(message.body)\n        return (\n          <>\n            {\n            newBody.map(v => (\n              <VcardPreview contact={v.name} numbers={v.number} />\n            ))\n            }\n          </>\n        )\n      } else return (<></>)\n    }*/\n    else if (message.mediaType === \"image\") {\n      return <ModalImageCors imageUrl={message.mediaUrl} />;\n    } else if (message.mediaType === \"audio\") {\n      return (\n        <audio controls>\n          <source src={message.mediaUrl} type=\"audio/ogg\"></source>\n        </audio>\n      );\n    } else if (message.mediaType === \"video\") {\n      return (\n        <video\n          className={classes.messageMedia}\n          src={message.mediaUrl}\n          controls\n        />\n      );\n    } else {\n      return (\n        <>\n          <div className={classes.downloadMedia}>\n            <Button\n              startIcon={<GetApp />}\n              color=\"primary\"\n              variant=\"outlined\"\n              target=\"_blank\"\n              href={message.mediaUrl}\n            >\n              Download\n            </Button>\n          </div>\n          <Divider />\n        </>\n      );\n    }\n  };\n\n  const renderMessageAck = (message) => {\n    if (message.ack === 1) {\n      return <AccessTime fontSize=\"small\" className={classes.ackIcons} />;\n    }\n    if (message.ack === 2) {\n      return <Done fontSize=\"small\" className={classes.ackIcons} />;\n    }\n    if (message.ack === 3) {\n      return <DoneAll fontSize=\"small\" className={classes.ackIcons} />;\n    }\n    if (message.ack === 4 || message.ack === 5) {\n      return <DoneAll fontSize=\"small\" className={classes.ackDoneAllIcon} />;\n    }\n  };\n\n  const renderDailyTimestamps = (message, index) => {\n    if (index === 0) {\n      return (\n        <span\n          className={classes.dailyTimestamp}\n          key={`timestamp-${message.id}`}\n        >\n          <div className={classes.dailyTimestampText}>\n            {format(parseISO(messagesList[index].createdAt), \"dd/MM/yyyy\")}\n          </div>\n        </span>\n      );\n    }\n    if (index < messagesList.length - 1) {\n      let messageDay = parseISO(messagesList[index].createdAt);\n      let previousMessageDay = parseISO(messagesList[index - 1].createdAt);\n\n      if (!isSameDay(messageDay, previousMessageDay)) {\n        return (\n          <span\n            className={classes.dailyTimestamp}\n            key={`timestamp-${message.id}`}\n          >\n            <div className={classes.dailyTimestampText}>\n              {format(parseISO(messagesList[index].createdAt), \"dd/MM/yyyy\")}\n            </div>\n          </span>\n        );\n      }\n    }\n    if (index === messagesList.length - 1) {\n      return (\n        <div\n          key={`ref-${message.createdAt}`}\n          ref={lastMessageRef}\n          style={{ float: \"left\", clear: \"both\" }}\n        />\n      );\n    }\n  };\n\n  const renderNumberTicket = (message, index) => {\n    if (index < messagesList.length && index > 0) {\n\n      let messageTicket = message.ticketId;\n      let connectionName = message.ticket?.whatsapp?.name;\n      let previousMessageTicket = messagesList[index - 1].ticketId;\n\n      if (messageTicket !== previousMessageTicket) {\n        return (\n          <center>\n            <div className={classes.ticketNunberClosed}>\n              Conversa encerrada: {format(parseISO(messagesList[index - 1].createdAt), \"dd/MM/yyyy HH:mm:ss\")}\n            </div>\n\n            <div className={classes.ticketNunberOpen}>\n              Conversa iniciada: {format(parseISO(message.createdAt), \"dd/MM/yyyy HH:mm:ss\")}\n            </div>\n          </center>\n        );\n      }\n    }\n  };\n\n  const renderMessageDivider = (message, index) => {\n    if (index < messagesList.length && index > 0) {\n      let messageUser = messagesList[index].fromMe;\n      let previousMessageUser = messagesList[index - 1].fromMe;\n\n      if (messageUser !== previousMessageUser) {\n        return (\n          <span style={{ marginTop: 16 }} key={`divider-${message.id}`}></span>\n        );\n      }\n    }\n  };\n\n  const renderQuotedMessage = (message) => {\n    return (\n      <div\n        className={clsx(classes.quotedContainerLeft, {\n          [classes.quotedContainerRight]: message.fromMe,\n        })}\n      >\n        <span\n          className={clsx(classes.quotedSideColorLeft, {\n            [classes.quotedSideColorRight]: message.quotedMsg?.fromMe,\n          })}\n        ></span>\n        <div className={classes.quotedMsg}>\n          {!message.quotedMsg?.fromMe && (\n            <span className={classes.messageContactName}>\n              {message.quotedMsg?.contact?.name}\n            </span>\n          )}\n\n          {message.quotedMsg.mediaType === \"audio\"\n            && (\n              <div className={classes.downloadMedia}>\n                <audio controls>\n                  <source src={message.quotedMsg.mediaUrl} type=\"audio/ogg\"></source>\n                </audio>\n              </div>\n            )\n          }\n          {message.quotedMsg.mediaType === \"video\"\n            && (\n              <video\n                className={classes.messageMedia}\n                src={message.quotedMsg.mediaUrl}\n                controls\n              />\n            )\n          }\n          {message.quotedMsg.mediaType === \"application\"\n            && (\n              <div className={classes.downloadMedia}>\n                <Button\n                  startIcon={<GetApp />}\n                  color=\"primary\"\n                  variant=\"outlined\"\n                  target=\"_blank\"\n                  href={message.quotedMsg.mediaUrl}\n                >\n                  Download\n                </Button>\n              </div>\n            )\n          }\n\n          {message.quotedMsg.mediaType === \"image\"\n            && (\n              <ModalImageCors imageUrl={message.quotedMsg.mediaUrl} />)\n            || message.quotedMsg?.body}\n\n        </div>\n      </div>\n    );\n  };\n\n  const renderMessages = () => {\n    if (messagesList.length > 0) {\n      const viewMessagesList = messagesList.map((message, index) => {\n\n        if (message.mediaType === \"call_log\") {\n          return (\n            <React.Fragment key={message.id}>\n              {renderDailyTimestamps(message, index)}\n              {renderNumberTicket(message, index)}\n              {renderMessageDivider(message, index)}\n              <div className={classes.messageCenter}>\n                <IconButton\n                  variant=\"contained\"\n                  size=\"small\"\n                  id=\"messageActionsButton\"\n                  disabled={message.isDeleted}\n                  className={classes.messageActionsButton}\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\n                >\n                  <ExpandMore />\n                </IconButton>\n                {isGroup && (\n                  <span className={classes.messageContactName}>\n                    {message.contact?.name}\n                  </span>\n                )}\n                <div>\n                  <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 17\" width=\"20\" height=\"17\">\n                    <path fill=\"#df3333\" d=\"M18.2 12.1c-1.5-1.8-5-2.7-8.2-2.7s-6.7 1-8.2 2.7c-.7.8-.3 2.3.2 2.8.2.2.3.3.5.3 1.4 0 3.6-.7 3.6-.7.5-.2.8-.5.8-1v-1.3c.7-1.2 5.4-1.2 6.4-.1l.1.1v1.3c0 .2.1.4.2.6.1.2.3.3.5.4 0 0 2.2.7 3.6.7.2 0 1.4-2 .5-3.1zM5.4 3.2l4.7 4.6 5.8-5.7-.9-.8L10.1 6 6.4 2.3h2.5V1H4.1v4.8h1.3V3.2z\"></path>\n                  </svg> <span>Chamada de voz/vídeo perdida às {format(parseISO(message.createdAt), \"HH:mm\")}</span>\n                </div>\n              </div>\n            </React.Fragment>\n          );\n        }\n\n        if (!message.fromMe) {\n          return (\n            <React.Fragment key={message.id}>\n              {renderDailyTimestamps(message, index)}\n              {renderNumberTicket(message, index)}\n              {renderMessageDivider(message, index)}\n              <div className={classes.messageLeft}>\n                <IconButton\n                  variant=\"contained\"\n                  size=\"small\"\n                  id=\"messageActionsButton\"\n                  disabled={message.isDeleted}\n                  className={classes.messageActionsButton}\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\n                >\n                  <ExpandMore />\n                </IconButton>\n                {isGroup && (\n                  <span className={classes.messageContactName}>\n                    {message.contact?.name}\n                  </span>\n                )}\n\n                {/* aviso de mensagem apagado pelo contato */}\n                {message.isDeleted && (\n                  <div>\n                    <span className={\"message-deleted\"}\n                    >Essa mensagem foi apagada pelo contato &nbsp;\n                      <Block\n                        color=\"error\"\n                        fontSize=\"small\"\n                        className={classes.deletedIcon}\n                      />\n                    </span>\n                  </div>\n                )}\n\n                {(message.mediaUrl || message.mediaType === \"locationMessage\" || message.mediaType === \"vcard\"\n                  //|| message.mediaType === \"multi_vcard\" \n                ) && checkMessageMedia(message)}\n                <div className={classes.textContentItem}>\n                  {message.quotedMsg && renderQuotedMessage(message)}\n                  <MarkdownWrapper>{message.mediaType === \"locationMessage\" ? null : message.body}</MarkdownWrapper>\n                  <span className={classes.timestamp}>\n                    {format(parseISO(message.createdAt), \"HH:mm\")}\n                  </span>\n                </div>\n              </div>\n            </React.Fragment>\n          );\n        } else {\n          return (\n            <React.Fragment key={message.id}>\n              {renderDailyTimestamps(message, index)}\n              {renderNumberTicket(message, index)}\n              {renderMessageDivider(message, index)}\n              <div className={classes.messageRight}>\n                <IconButton\n                  variant=\"contained\"\n                  size=\"small\"\n                  id=\"messageActionsButton\"\n                  disabled={message.isDeleted}\n                  className={classes.messageActionsButton}\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\n                >\n                  <ExpandMore />\n                </IconButton>\n                {(message.mediaUrl || message.mediaType === \"locationMessage\" || message.mediaType === \"vcard\"\n                  //|| message.mediaType === \"multi_vcard\" \n                ) && checkMessageMedia(message)}\n                <div\n                  className={clsx(classes.textContentItem, {\n                    [classes.textContentItemDeleted]: message.isDeleted,\n                  })}\n                >\n                  {message.isDeleted && (\n                    <Block\n                      color=\"disabled\"\n                      fontSize=\"small\"\n                      className={classes.deletedIcon}\n                    />\n                  )}\n                  {message.quotedMsg && renderQuotedMessage(message)}\n                  <MarkdownWrapper>{message.body}</MarkdownWrapper>\n                  <span className={classes.timestamp}>\n                    {format(parseISO(message.createdAt), \"HH:mm\")}\n                    {renderMessageAck(message)}\n                  </span>\n                </div>\n              </div>\n            </React.Fragment>\n          );\n        }\n      });\n      return viewMessagesList;\n    } else {\n      return <div>Diga olá para seu novo contato!</div>;\n    }\n  };\n\n  return (\n    <div className={classes.messagesListWrapper}>\n      <MessageOptionsMenu\n        message={selectedMessage}\n        anchorEl={anchorEl}\n        menuOpen={messageOptionsMenuOpen}\n        handleClose={handleCloseMessageOptionsMenu}\n      />\n      <div\n        id=\"messagesList\"\n        className={classes.messagesList}\n        onScroll={handleScroll}\n      >\n        {messagesList.length > 0 ? renderMessages() : []}\n      </div>\n      {loading && (\n        <div>\n          <CircularProgress className={classes.circleLoading} />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MessagesList;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { Avatar, Card, CardHeader } from \"@material-ui/core\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nconst useStyles = makeStyles(theme => ({\n\tticketHeader: {\n\t\tdisplay: \"flex\",\n\t\tbackgroundColor: \"#eee\",\n\t\tflex: \"none\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t},\n}));\n\nconst TicketHeaderSkeleton = () => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Card square className={classes.ticketHeader}>\n\t\t\t<CardHeader\n\t\t\t\ttitleTypographyProps={{ noWrap: true }}\n\t\t\t\tsubheaderTypographyProps={{ noWrap: true }}\n\t\t\t\tavatar={\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\">\n\t\t\t\t\t\t<Avatar alt=\"contact_image\" />\n\t\t\t\t\t</Skeleton>\n\t\t\t\t}\n\t\t\t\ttitle={<Skeleton animation=\"wave\" width={80} />}\n\t\t\t\tsubheader={<Skeleton animation=\"wave\" width={140} />}\n\t\t\t/>\n\t\t</Card>\n\t);\n};\n\nexport default TicketHeaderSkeleton;\n","import React from \"react\";\n\nimport { Card } from \"@material-ui/core\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TicketHeaderSkeleton from \"../TicketHeaderSkeleton\";\n\nconst useStyles = makeStyles(theme => ({\n\tticketHeader: {\n\t\tdisplay: \"flex\",\n\t\tbackgroundColor: theme.palette.tabHeaderBackground,\n\t\tflex: \"none\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tflexWrap: \"wrap\"\n\t\t}\n\t},\n}));\n\n\nconst TicketHeader = ({ loading, children }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<>\n\t\t\t{loading ? (\n\t\t\t\t<TicketHeaderSkeleton />\n\t\t\t) : (\n\t\t\t\t<Card square className={classes.ticketHeader}>\n\t\t\t\t\t{children}\n\t\t\t\t</Card>\n\t\t\t)}\n\t\t</>\n\t);\n};\n\nexport default TicketHeader;\n","import React, { useState, useEffect } from \"react\";\n\nimport { Avatar, CardHeader } from \"@material-ui/core\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nconst TicketInfo = ({ contact, ticket, onClick }) => {\n\tconst { user } = ticket\n\tconst [userName, setUserName] = useState('')\n\tconst [contactName, setContactName] = useState('')\n\n\tuseEffect(() => {\n\t\tif (contact) {\n\t\t\tsetContactName(contact.name);\n\t\t\tif(document.body.offsetWidth < 600) {\n\t\t\t\tif (contact.name.length > 10) {\n\t\t\t\t\tconst truncadName = contact.name.substring(0, 10) + '...';\n\t\t\t\t\tsetContactName(truncadName);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (user && contact) {\n\t\t\tsetUserName(`${i18n.t(\"messagesList.header.assignedTo\")} ${user.name}`);\n\n\t\t\tif(document.body.offsetWidth < 600) {\n\t\t\t\tsetUserName(`${user.name}`);\n\t\t\t}\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\treturn (\n\t\t<CardHeader\n\t\t\tonClick={onClick}\n\t\t\tstyle={{ cursor: \"pointer\" }}\n\t\t\ttitleTypographyProps={{ noWrap: true }}\n\t\t\tsubheaderTypographyProps={{ noWrap: true }}\n\t\t\tavatar={<Avatar src={contact.profilePicUrl} alt=\"contact_image\" />}\n\t\t\ttitle={`${contactName} #${ticket.id}`}\n\t\t\tsubheader={ticket.user && `${userName}`}\n\t\t/>\n\t);\n};\n\nexport default TicketInfo;\n","import React, { useContext, useEffect, useState } from \"react\";\n\nimport { toast } from \"react-toastify\";\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nimport {\n  Box,\n  Button,\n  Dialog,\n  DialogActions,\n  makeStyles,\n} from \"@material-ui/core\";\nimport { useHistory } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport MessagesList from \"../MessagesList\";\nimport { ReplyMessageProvider } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport TicketHeader from \"../TicketHeader\";\nimport TicketInfo from \"../TicketInfo\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst drawerWidth = 320;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    height: \"100%\",\n    position: \"relative\",\n    overflow: \"hidden\",\n  },\n\n  mainWrapper: {\n    flex: 1,\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n    borderLeft: \"0\",\n    marginRight: -drawerWidth,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n\n  mainWrapperShift: {\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginRight: 0,\n  },\n}));\n\nexport default function TicketMessagesDialog({ open, handleClose, ticketId }) {\n  const history = useHistory();\n  const classes = useStyles();\n\n  const { user } = useContext(AuthContext);\n\n  const [, setDrawerOpen] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [contact, setContact] = useState({});\n  const [ticket, setTicket] = useState({});\n\n  useEffect(() => {\n    let delayDebounceFn = null;\n    if (open) {\n      setLoading(true);\n      delayDebounceFn = setTimeout(() => {\n        const fetchTicket = async () => {\n          try {\n            const { data } = await api.get(\"/tickets/\" + ticketId);\n            const { queueId } = data;\n            const { queues, profile } = user;\n\n            const queueAllowed = queues.find((q) => q.id === queueId);\n            if (queueAllowed === undefined && profile !== \"admin\") {\n              toast.error(\"Acesso não permitido\");\n              history.push(\"/tickets\");\n              return;\n            }\n\n            setContact(data.contact);\n            setTicket(data);\n            setLoading(false);\n          } catch (err) {\n            setLoading(false);\n            toastError(err);\n          }\n        };\n        fetchTicket();\n      }, 500);\n    }\n    return () => {\n      if (delayDebounceFn !== null) {\n        clearTimeout(delayDebounceFn);\n      }\n    };\n  }, [ticketId, user, history, open]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    let socket = null;\n\n    if (open) {\n      socket = socketConnection({ companyId });\n      socket.on(\"connect\", () => socket.emit(\"joinChatBox\", `${ticket.id}`));\n\n      socket.on(`company-${companyId}-ticket`, (data) => {\n        if (data.action === \"update\") {\n          setTicket(data.ticket);\n        }\n\n        if (data.action === \"delete\") {\n          toast.success(\"Ticket deleted sucessfully.\");\n          history.push(\"/tickets\");\n        }\n      });\n\n      socket.on(`company-${companyId}-contact`, (data) => {\n        if (data.action === \"update\") {\n          setContact((prevState) => {\n            if (prevState.id === data.contact?.id) {\n              return { ...prevState, ...data.contact };\n            }\n            return prevState;\n          });\n        }\n      });\n    }\n\n    return () => {\n      if (socket !== null) {\n        socket.disconnect();\n      }\n    };\n  }, [ticketId, ticket, history, open]);\n\n  const handleDrawerOpen = () => {\n    setDrawerOpen(true);\n  };\n\n  const renderTicketInfo = () => {\n    if (ticket.user !== undefined) {\n      return (\n        <TicketInfo\n          contact={contact}\n          ticket={ticket}\n          onClick={handleDrawerOpen}\n        />\n      );\n    }\n  };\n\n  const renderMessagesList = () => {\n    return (\n      <Box className={classes.root}>\n        <MessagesList\n          ticket={ticket}\n          ticketId={ticket.id}\n          isGroup={ticket.isGroup}\n        ></MessagesList>\n      </Box>\n    );\n  };\n\n  return (\n    <Dialog maxWidth=\"md\" onClose={handleClose} open={open}>\n      <TicketHeader loading={loading}>{renderTicketInfo()}</TicketHeader>\n      <ReplyMessageProvider>{renderMessagesList()}</ReplyMessageProvider>\n      <DialogActions>\n        <Button onClick={handleClose} color=\"primary\">\n          Fechar\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n","function getRGB(c) {\n  return parseInt(c, 16) || c\n}\n\nfunction getsRGB(c) {\n  return getRGB(c) / 255 <= 0.03928\n    ? getRGB(c) / 255 / 12.92\n    : Math.pow((getRGB(c) / 255 + 0.055) / 1.055, 2.4)\n}\n\nfunction getLuminance(hexColor) {\n  return (\n    0.2126 * getsRGB(hexColor.substr(1, 2)) +\n    0.7152 * getsRGB(hexColor.substr(3, 2)) +\n    0.0722 * getsRGB(hexColor.substr(-2))\n  )\n}\n\nfunction getContrast(f, b) {\n  const L1 = getLuminance(f)\n  const L2 = getLuminance(b)\n  return (Math.max(L1, L2) + 0.05) / (Math.min(L1, L2) + 0.05)\n}\n\nfunction getTextColor(bgColor) {\n  const whiteContrast = getContrast(bgColor, '#ffffff')\n  const blackContrast = getContrast(bgColor, '#000000')\n\n  return whiteContrast > blackContrast ? '#ffffff' : '#000000'\n}\n\nconst contrastColor = (color) => {\n    return getTextColor(color);\n}\n\nexport default contrastColor;","import { makeStyles } from \"@material-ui/styles\";\nimport React from \"react\";\n\nconst useStyles = makeStyles(theme => ({\n    tag: {\n        padding: \"1px 5px\",\n        borderRadius: \"3px\",\n        fontSize: \"0.8em\",\n        fontWeight: \"bold\",\n        color: \"#FFF\",\n        marginRight: \"5px\",\n        whiteSpace: \"nowrap\"\n    }\n}));\n\nconst ContactTag = ({ tag }) => {\n    const classes = useStyles();\n\n    return (\n        <div className={classes.tag} style={{ backgroundColor: tag.color, marginTop: \"2px\" }}>\n            {tag.name.toUpperCase()}\n        </div>\n    )\n}\n\nexport default ContactTag;","import React, { useState, useEffect, useRef, useContext } from \"react\";\n\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { parseISO, format, isSameDay } from \"date-fns\";\nimport clsx from \"clsx\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green, grey, red, blue } from \"@material-ui/core/colors\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Badge from \"@material-ui/core/Badge\";\nimport Box from \"@material-ui/core/Box\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport MarkdownWrapper from \"../MarkdownWrapper\";\nimport { Tooltip } from \"@material-ui/core\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\nimport toastError from \"../../errors/toastError\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nimport RoomIcon from '@material-ui/icons/Room';\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport AndroidIcon from \"@material-ui/icons/Android\";\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\nimport TicketMessagesDialog from \"../TicketMessagesDialog\";\nimport DoneIcon from '@material-ui/icons/Done';\nimport ClearOutlinedIcon from '@material-ui/icons/ClearOutlined';\nimport contrastColor from \"../../helpers/contrastColor\";\nimport ContactTag from \"../ContactTag\";\n\nconst useStyles = makeStyles((theme) => ({\n  ticket: {\n    position: \"relative\",\n  },\n\n  pendingTicket: {\n    cursor: \"unset\",\n  },\n  queueTag: {\n    background: \"#FCFCFC\",\n    color: \"#000\",\n    marginRight: 1,\n    padding: 1,\n    fontWeight: 'bold',\n    paddingLeft: 5,\n    paddingRight: 5,\n    borderRadius: 3,\n    fontSize: \"0.8em\",\n    whiteSpace: \"nowrap\"\n  },\n  noTicketsDiv: {\n    display: \"flex\",\n    height: \"100px\",\n    margin: 40,\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n  newMessagesCount: {\n    position: \"absolute\",\n    alignSelf: \"center\",\n    marginRight: 8,\n    marginLeft: \"auto\",\n    top: \"10px\",\n    left: \"20px\",\n    borderRadius: 0,\n  },\n  noTicketsText: {\n    textAlign: \"center\",\n    color: \"rgb(104, 121, 146)\",\n    fontSize: \"14px\",\n    lineHeight: \"1.4\",\n  },\n  connectionTag: {\n    background: \"green\",\n    color: \"#FFF\",\n    marginRight: 1,\n    padding: 1,\n    fontWeight: 'bold',\n    paddingLeft: 5,\n    paddingRight: 5,\n    borderRadius: 3,\n    fontSize: \"0.8em\",\n    whiteSpace: \"nowrap\"\n  },\n  noTicketsTitle: {\n    textAlign: \"center\",\n    fontSize: \"16px\",\n    fontWeight: \"600\",\n    margin: \"0px\",\n  },\n\n  contactNameWrapper: {\n    display: \"flex\",\n    justifyContent: \"space-between\",\n    marginLeft: \"5px\",\n  },\n\n  lastMessageTime: {\n    justifySelf: \"flex-end\",\n    textAlign: \"right\",\n    position: \"relative\",\n    top: -21\n  },\n\n  closedBadge: {\n    alignSelf: \"center\",\n    justifySelf: \"flex-end\",\n    marginRight: 32,\n    marginLeft: \"auto\",\n  },\n\n  contactLastMessage: {\n    paddingRight: \"0%\",\n    marginLeft: \"5px\",\n  },\n\n\n  badgeStyle: {\n    color: \"white\",\n    backgroundColor: green[500],\n  },\n\n  acceptButton: {\n    position: \"absolute\",\n    right: \"108px\",\n  },\n\n\n  acceptButton: {\n    position: \"absolute\",\n    left: \"50%\",\n  },\n\n\n  ticketQueueColor: {\n    flex: \"none\",\n    width: \"8px\",\n    height: \"100%\",\n    position: \"absolute\",\n    top: \"0%\",\n    left: \"0%\",\n  },\n\n  ticketInfo: {\n    position: \"relative\",\n    top: -13\n  },\n  secondaryContentSecond: {\n    display: 'flex',\n    // marginTop: 5,\n    //marginLeft: \"5px\",\n    alignItems: \"flex-start\",\n    flexWrap: \"wrap\",\n    flexDirection: \"row\",\n    alignContent: \"flex-start\",\n  },\n  ticketInfo1: {\n    position: \"relative\",\n    top: 13,\n    right: 0\n  },\n  Radiusdot: {\n    \"& .MuiBadge-badge\": {\n      borderRadius: 2,\n      position: \"inherit\",\n      height: 16,\n      margin: 2,\n      padding: 3\n    },\n    \"& .MuiBadge-anchorOriginTopRightRectangle\": {\n      transform: \"scale(1) translate(0%, -40%)\",\n    },\n\n  }\n}));\n  {/*PLW DESIGN INSERIDO O dentro do const handleChangeTab*/}\n  const TicketListItemCustom = ({ ticket }) => {\n  const classes = useStyles();\n  const history = useHistory();\n  const [loading, setLoading] = useState(false);\n  const [ticketUser, setTicketUser] = useState(null);\n  const [ticketQueueName, setTicketQueueName] = useState(null);\n  const [ticketQueueColor, setTicketQueueColor] = useState(null);\n  const [tag, setTag] = useState([]);\n  const [whatsAppName, setWhatsAppName] = useState(null);\n\n  const [openTicketMessageDialog, setOpenTicketMessageDialog] = useState(false);\n  const { ticketId } = useParams();\n  const isMounted = useRef(true);\n  const { setCurrentTicket } = useContext(TicketsContext);\n  const { user } = useContext(AuthContext);\n  const { profile } = user;\n\n  useEffect(() => {\n    if (ticket.userId && ticket.user) {\n      setTicketUser(ticket.user?.name?.toUpperCase());\n    }\n    setTicketQueueName(ticket.queue?.name?.toUpperCase());\n    setTicketQueueColor(ticket.queue?.color);\n\n    if (ticket.whatsappId && ticket.whatsapp) {\n      setWhatsAppName(ticket.whatsapp.name?.toUpperCase());\n    }\n\n    setTag(ticket?.tags);\n\n    return () => {\n      isMounted.current = false;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  {/*CÓDIGO NOVO SAUDAÇÃO*/}\n  const handleCloseTicket = async (id) => {\n    setTag(ticket?.tags);\n    setLoading(true);\n    try {\n      await api.put(`/tickets/${id}`, {\n        status: \"closed\",\n        userId: user?.id,\n        queueId: ticket?.queue?.id,\n        useIntegration: false,\n        promptId: null,\n        integrationId: null\n      });\n    } catch (err) {\n      setLoading(false);\n      toastError(err);\n    }\n    if (isMounted.current) {\n      setLoading(false);\n    }\n    history.push(`/tickets/`);\n  };\n\n  const handleReopenTicket = async (id) => {\n    setLoading(true);\n    try {\n      await api.put(`/tickets/${id}`, {\n        status: \"open\",\n        userId: user?.id,\n        queueId: ticket?.queue?.id\n      });\n    } catch (err) {\n      setLoading(false);\n      toastError(err);\n    }\n    if (isMounted.current) {\n      setLoading(false);\n    }\n    history.push(`/tickets/${ticket.uuid}`);\n  };\n\n    const handleAcepptTicket = async (id) => {\n        setLoading(true);\n        try {\n            await api.put(`/tickets/${id}`, {\n                status: \"open\",\n                userId: user?.id,\n            });\n            \n            let settingIndex;\n\n            try {\n                const { data } = await api.get(\"/settings/\");\n                \n                settingIndex = data.filter((s) => s.key === \"sendGreetingAccepted\");\n                \n            } catch (err) {\n                toastError(err);\n                   \n            }\n            \n            if (settingIndex[0].value === \"enabled\" && !ticket.isGroup) {\n                handleSendMessage(ticket.id);\n                \n            }\n\n        } catch (err) {\n            setLoading(false);\n            \n            toastError(err);\n        }\n        if (isMounted.current) {\n            setLoading(false);\n        }\n\n        // handleChangeTab(null, \"tickets\");\n        // handleChangeTab(null, \"open\");\n        history.push(`/tickets/${ticket.uuid}`);\n    };\n\t\n\t    const handleSendMessage = async (id) => {\n        \n        const msg = `{{ms}} *{{name}}*, meu nome é *${user?.name}* e agora vou prosseguir com seu atendimento!`;\n        const message = {\n            read: 1,\n            fromMe: true,\n            mediaUrl: \"\",\n            body: `*Mensagem Automática:*\\n${msg.trim()}`,\n        };\n        try {\n            await api.post(`/messages/${id}`, message);\n        } catch (err) {\n            toastError(err);\n            \n        }\n    };\n\t{/*CÓDIGO NOVO SAUDAÇÃO*/}\n\n  const handleSelectTicket = (ticket) => {\n    const code = uuidv4();\n    const { id, uuid } = ticket;\n    setCurrentTicket({ id, uuid, code });\n  };\n\n\n  const renderTicketInfo = () => {\n    if (ticketUser) {\n\n      return (\n        <>\n          {ticket.chatbot && (\n            <Tooltip title=\"Chatbot\">\n              <AndroidIcon\n                fontSize=\"small\"\n                style={{ color: grey[700], marginRight: 5 }}\n              />\n            </Tooltip>\n          )}\n\n          {/* </span> */}\n        </>\n      );\n    } else {\n      return (\n        <>\n          {ticket.chatbot && (\n            <Tooltip title=\"Chatbot\">\n              <AndroidIcon\n                fontSize=\"small\"\n                style={{ color: grey[700], marginRight: 5 }}\n              />\n            </Tooltip>\n          )}\n        </>\n      );\n    }\n  };\n\n  return (\n    <React.Fragment key={ticket.id}>\n      <TicketMessagesDialog\n        open={openTicketMessageDialog}\n\n        handleClose={() => setOpenTicketMessageDialog(false)}\n        ticketId={ticket.id}\n      ></TicketMessagesDialog>\n      <ListItem dense button\n        onClick={(e) => {\n          if (ticket.status === \"pending\") return;\n          handleSelectTicket(ticket);\n        }}\n        selected={ticketId && +ticketId === ticket.id}\n        className={clsx(classes.ticket, {\n          [classes.pendingTicket]: ticket.status === \"pending\",\n        })}\n      >\n        <Tooltip arrow placement=\"right\" title={ticket.queue?.name?.toUpperCase() || \"SEM FILA\"} >\n          <span style={{ backgroundColor: ticket.queue?.color || \"#7C7C7C\" }} className={classes.ticketQueueColor}></span>\n        </Tooltip>\n        <ListItemAvatar>\n          {ticket.status !== \"pending\" ?\n            <Avatar\n              style={{\n                marginTop: \"-20px\",\n                marginLeft: \"-3px\",\n                width: \"55px\",\n                height: \"55px\",\n                borderRadius: \"10%\",\n              }}\n              src={ticket?.contact?.profilePicUrl}\n            />\n            :\n            <Avatar\n              style={{\n                marginTop: \"-30px\",\n                marginLeft: \"0px\",\n                width: \"50px\",\n                height: \"50px\",\n                borderRadius: \"10%\",\n              }}\n              src={ticket?.contact?.profilePicUrl}\n            />\n          }\n        </ListItemAvatar>\n        <ListItemText\n          disableTypography\n\n          primary={\n            <span className={classes.contactNameWrapper}>\n              <Typography\n                noWrap\n                component=\"span\"\n                variant=\"body2\"\n                color=\"textPrimary\"\n              >\n                {ticket.contact.name}\n                {profile === \"admin\" && (\n                  <Tooltip title=\"Espiar Conversa\">\n                    <VisibilityIcon\n                      onClick={() => setOpenTicketMessageDialog(true)}\n                      fontSize=\"small\"\n                      style={{\n                        color: blue[700],\n                        cursor: \"pointer\",\n                        marginLeft: 10,\n                        verticalAlign: \"middle\"\n                      }}\n                    />\n                  </Tooltip>\n                )}\n              </Typography>\n              <ListItemSecondaryAction>\n                <Box className={classes.ticketInfo1}>{renderTicketInfo()}</Box>\n              </ListItemSecondaryAction>\n            </span>\n\n          }\n          secondary={\n            <span className={classes.contactNameWrapper}>\n\n              <Typography\n                className={classes.contactLastMessage}\n                noWrap\n                component=\"span\"\n                variant=\"body2\"\n                color=\"textSecondary\"\n              > {ticket.lastMessage.includes('data:image/png;base64') ? <MarkdownWrapper> Localização</MarkdownWrapper> : <MarkdownWrapper>{ticket.lastMessage}</MarkdownWrapper>}\n                <span className={classes.secondaryContentSecond} >\n                  {ticket?.whatsapp?.name ? <Badge className={classes.connectionTag}>{ticket?.whatsapp?.name?.toUpperCase()}</Badge> : <br></br>}\n                  {ticketUser ? <Badge style={{ backgroundColor: \"#000000\" }} className={classes.connectionTag}>{ticketUser}</Badge> : <br></br>}\n                  <Badge style={{ backgroundColor: ticket.queue?.color || \"#7c7c7c\" }} className={classes.connectionTag}>{ticket.queue?.name?.toUpperCase() || \"SEM FILA\"}</Badge>\n                </span>\n                <span style={{ paddingTop: \"2px\" }} className={classes.secondaryContentSecond} >\n                  {tag?.map((tag) => {\n                    return (\n                      <ContactTag tag={tag} key={`ticket-contact-tag-${ticket.id}-${tag.id}`} />\n                    );\n                  })}\n                </span>\n              </Typography>\n\n              <Badge\n                className={classes.newMessagesCount}\n                badgeContent={ticket.unreadMessages}\n                classes={{\n                  badge: classes.badgeStyle,\n                }}\n              />\n            </span>\n          }\n\n        />\n        <ListItemSecondaryAction>\n          {ticket.lastMessage && (\n            <>\n\n              <Typography\n                className={classes.lastMessageTime}\n                component=\"span\"\n                variant=\"body2\"\n                color=\"textSecondary\"\n              >\n\n                {isSameDay(parseISO(ticket.updatedAt), new Date()) ? (\n                  <>{format(parseISO(ticket.updatedAt), \"HH:mm\")}</>\n                ) : (\n                  <>{format(parseISO(ticket.updatedAt), \"dd/MM/yyyy\")}</>\n                )}\n              </Typography>\n\n              <br />\n\n            </>\n          )}\n\n        </ListItemSecondaryAction>\n        <span className={classes.secondaryContentSecond} >\n          {ticket.status === \"pending\" && (\n            <ButtonWithSpinner\n              //color=\"primary\"\n              style={{ backgroundColor: 'green', color: 'white', padding: '0px', bottom: '17px', borderRadius: '0px', left: '8px', fontSize: '0.6rem' }}\n              variant=\"contained\"\n              className={classes.acceptButton}\n              size=\"small\"\n              loading={loading}\n\t\t\t  //PLW DESIGN INSERIDO O handleChangeTab\n              onClick={e => handleAcepptTicket(ticket.id)}\n            >\n              {i18n.t(\"ticketsList.buttons.accept\")}\n            </ButtonWithSpinner>\n\n          )}\n          {(ticket.status !== \"closed\") && (\n            <ButtonWithSpinner\n              //color=\"primary\"\n              style={{ backgroundColor: 'red', color: 'white', padding: '0px', bottom: '0px', borderRadius: '0px', left: '8px', fontSize: '0.6rem' }}\n              variant=\"contained\"\n              className={classes.acceptButton}\n              size=\"small\"\n              loading={loading}\n              onClick={e => handleCloseTicket(ticket.id)}\n            >\n              {i18n.t(\"ticketsList.buttons.closed\")}\n            </ButtonWithSpinner>\n\n          )}\n          {(ticket.status === \"closed\") && (\n            <ButtonWithSpinner\n              //color=\"primary\"\n              style={{ backgroundColor: 'red', color: 'white', padding: '0px', bottom: '0px', borderRadius: '0px', left: '8px', fontSize: '0.6rem' }}\n              variant=\"contained\"\n              className={classes.acceptButton}\n              size=\"small\"\n              loading={loading}\n              onClick={e => handleReopenTicket(ticket.id)}\n            >\n              {i18n.t(\"ticketsList.buttons.reopen\")}\n            </ButtonWithSpinner>\n\n          )}\n        </span>\n      </ListItem>\n\n      <Divider variant=\"inset\" component=\"li\" />\n    </React.Fragment>\n  );\n};\n\nexport default TicketListItemCustom;","import { useState, useEffect } from \"react\";\nimport toastError from \"../../errors/toastError\";\n\nimport api from \"../../services/api\";\n\nconst useTickets = ({\n  searchParam,\n  tags,\n  users,\n  pageNumber,\n  status,\n  date,\n  updatedAt,\n  showAll,\n  queueIds,\n  withUnreadMessages,\n}) => {\n  const [loading, setLoading] = useState(true);\n  const [hasMore, setHasMore] = useState(false);\n  const [tickets, setTickets] = useState([]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchTickets = async () => {\n        try {\n          const { data } = await api.get(\"/tickets\", {\n            params: {\n              searchParam,\n              pageNumber,\n              tags,\n              users,\n              status,\n              date,\n              updatedAt,\n              showAll,\n              queueIds,\n              withUnreadMessages,\n            },\n          });\n          setTickets(data.tickets);\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchTickets();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [\n    searchParam,\n    tags,\n    users,\n    pageNumber,\n    status,\n    date,\n    updatedAt,\n    showAll,\n    queueIds,\n    withUnreadMessages,\n  ]);\n\n  return { tickets, loading, hasMore };\n};\n\nexport default useTickets;\n","import React, { useState, useRef, useEffect, useContext } from \"react\";\n\nimport { useHistory } from \"react-router-dom\";\nimport { format } from \"date-fns\";\nimport { socketConnection } from \"../../services/socket\";\n\nimport useSound from \"use-sound\";\n\nimport Popover from \"@material-ui/core/Popover\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Badge from \"@material-ui/core/Badge\";\nimport ChatIcon from \"@material-ui/icons/Chat\";\n\nimport TicketListItem from \"../TicketListItemCustom\";\nimport useTickets from \"../../hooks/useTickets\";\nimport alertSound from \"../../assets/sound.mp3\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n\ttabContainer: {\n\t\toverflowY: \"auto\",\n\t\tmaxHeight: 350,\n\t\t...theme.scrollbarStyles,\n\t},\n\tpopoverPaper: {\n\t\twidth: \"100%\",\n\t\tmaxWidth: 350,\n\t\tmarginLeft: theme.spacing(2),\n\t\tmarginRight: theme.spacing(1),\n\t\t[theme.breakpoints.down(\"sm\")]: {\n\t\t\tmaxWidth: 270,\n\t\t},\n\t},\n\tnoShadow: {\n\t\tboxShadow: \"none !important\",\n\t},\n}));\n\nconst NotificationsPopOver = (volume) => {\n\tconst classes = useStyles();\n\n\tconst history = useHistory();\n\tconst { user } = useContext(AuthContext);\n\tconst ticketIdUrl = +history.location.pathname.split(\"/\")[2];\n\tconst ticketIdRef = useRef(ticketIdUrl);\n\tconst anchorEl = useRef();\n\tconst [isOpen, setIsOpen] = useState(false);\n\tconst [notifications, setNotifications] = useState([]);\n\n\tconst [showPendingTickets, setShowPendingTickets] = useState(false);\n\n\tconst [, setDesktopNotifications] = useState([]);\n\n\tconst { tickets } = useTickets({ withUnreadMessages: \"true\" });\n\n\tconst [play] = useSound(alertSound, volume);\n\tconst soundAlertRef = useRef();\n\n\tconst historyRef = useRef(history);\n\n\tuseEffect(() => {\n\t\tconst fetchSettings = async () => {\n\t\t\ttry {\n\n\t\t\t\tif (user.allTicket === \"enable\") {\n\t\t\t\t\tsetShowPendingTickets(true);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t  \ttoastError(err);\n\t\t\t}\n\t\t}\n\t  \n\t\tfetchSettings();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tsoundAlertRef.current = play;\n\n\t\tif (!(\"Notification\" in window)) {\n\t\t\tconsole.log(\"This browser doesn't support notifications\");\n\t\t} else {\n\t\t\tNotification.requestPermission();\n\t\t}\n\t}, [play]);\n\n\tuseEffect(() => {\n\t\tconst processNotifications = () => {\n\t\t\tif (showPendingTickets) {\n\t\t\t\tsetNotifications(tickets);\n\t\t\t} else {\n\t\t\t\tconst newNotifications = tickets.filter(ticket => ticket.status !== \"pending\");\n\n\t\t\t\tsetNotifications(newNotifications);\n\t\t\t}\n\t\t}\n\n\t\tprocessNotifications();\n\t}, [tickets]);\n\n\tuseEffect(() => {\n\t\tticketIdRef.current = ticketIdUrl;\n\t}, [ticketIdUrl]);\n\n\tuseEffect(() => {\n\t\tconst socket = socketConnection({companyId: user.companyId, userId: user.id});\n\t\tsocket.on(\"connect\", () => socket.emit(\"joinNotification\"));\n\n\t\tsocket.on(`company-${user.companyId}-ticket`, data => {\n\t\t\tif (data.action === \"updateUnread\" || data.action === \"delete\") {\n\t\t\t\tsetNotifications(prevState => {\n\t\t\t\t\tconst ticketIndex = prevState.findIndex(t => t.id === data.ticketId);\n\t\t\t\t\tif (ticketIndex !== -1) {\n\t\t\t\t\t\tprevState.splice(ticketIndex, 1);\n\t\t\t\t\t\treturn [...prevState];\n\t\t\t\t\t}\n\t\t\t\t\treturn prevState;\n\t\t\t\t});\n\n\t\t\t\tsetDesktopNotifications(prevState => {\n\t\t\t\t\tconst notfiticationIndex = prevState.findIndex(\n\t\t\t\t\t\tn => n.tag === String(data.ticketId)\n\t\t\t\t\t);\n\t\t\t\t\tif (notfiticationIndex !== -1) {\n\t\t\t\t\t\tprevState[notfiticationIndex].close();\n\t\t\t\t\t\tprevState.splice(notfiticationIndex, 1);\n\t\t\t\t\t\treturn [...prevState];\n\t\t\t\t\t}\n\t\t\t\t\treturn prevState;\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\n\t\tsocket.on(`company-${user.companyId}-appMessage`, data => {\n\t\t\tif (\n\t\t\t\tdata.action === \"create\" && !data.message.fromMe && \n\t\t\t\t(data.ticket.status !== \"pending\" ) &&\n\t\t\t\t(!data.message.read || data.ticket.status === \"pending\") &&\n\t\t\t\t(data.ticket.userId === user?.id || !data.ticket.userId) &&\n\t\t\t\t(user?.queues?.some(queue => (queue.id === data.ticket.queueId)) || !data.ticket.queueId)\n\t\t\t) {\n\t\t\t\tsetNotifications(prevState => {\n\t\t\t\t\tconst ticketIndex = prevState.findIndex(t => t.id === data.ticket.id);\n\t\t\t\t\tif (ticketIndex !== -1) {\n\t\t\t\t\t\tprevState[ticketIndex] = data.ticket;\n\t\t\t\t\t\treturn [...prevState];\n\t\t\t\t\t}\n\t\t\t\t\treturn [data.ticket, ...prevState];\n\t\t\t\t});\n\n\t\t\t\tconst shouldNotNotificate =\n\t\t\t\t\t(data.message.ticketId === ticketIdRef.current &&\n\t\t\t\t\t\tdocument.visibilityState === \"visible\") ||\n\t\t\t\t\t(data.ticket.userId && data.ticket.userId !== user?.id) ||\n\t\t\t\t\tdata.ticket.isGroup;\n\n\t\t\t\tif (shouldNotNotificate) return;\n\n\t\t\t\thandleNotifications(data);\n\t\t\t}\n\t\t});\n\n\t\treturn () => {\n\t\t\tsocket.disconnect();\n\t\t};\n\t}, [user, showPendingTickets]);\n\n\tconst handleNotifications = data => {\n\t\tconst { message, contact, ticket } = data;\n\n\t\tconst options = {\n\t\t\tbody: `${message.body} - ${format(new Date(), \"HH:mm\")}`,\n\t\t\ticon: contact.urlPicture,\n\t\t\ttag: ticket.id,\n\t\t\trenotify: true,\n\t\t};\n\n\t\tconst notification = new Notification(\n\t\t\t`${i18n.t(\"tickets.notification.message\")} ${contact.name}`,\n\t\t\toptions\n\t\t);\n\n\t\tnotification.onclick = e => {\n\t\t\te.preventDefault();\n\t\t\twindow.focus();\n\t\t\thistoryRef.current.push(`/tickets/${ticket.uuid}`);\n\t\t\t// handleChangeTab(null, ticket.isGroup? \"group\" : \"open\");\n\t\t};\n\n\t\tsetDesktopNotifications(prevState => {\n\t\t\tconst notfiticationIndex = prevState.findIndex(\n\t\t\t\tn => n.tag === notification.tag\n\t\t\t);\n\t\t\tif (notfiticationIndex !== -1) {\n\t\t\t\tprevState[notfiticationIndex] = notification;\n\t\t\t\treturn [...prevState];\n\t\t\t}\n\t\t\treturn [notification, ...prevState];\n\t\t});\n\n\t\tsoundAlertRef.current();\n\t};\n\n\tconst handleClick = () => {\n\t\tsetIsOpen(prevState => !prevState);\n\t};\n\n\tconst handleClickAway = () => {\n\t\tsetIsOpen(false);\n\t};\n\n\tconst NotificationTicket = ({ children }) => {\n\t\treturn <div onClick={handleClickAway}>{children}</div>;\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<IconButton\n\t\t\t\tonClick={handleClick}\n\t\t\t\tref={anchorEl}\n\t\t\t\taria-label=\"Open Notifications\"\n\t\t\t\tcolor=\"inherit\"\n\t\t\t\tstyle={{color:\"white\"}}\n\t\t\t>\n\t\t\t\t<Badge overlap=\"rectangular\" badgeContent={notifications.length} color=\"secondary\">\n\t\t\t\t\t<ChatIcon />\n\t\t\t\t</Badge>\n\t\t\t</IconButton>\n\t\t\t<Popover\n\t\t\t\tdisableScrollLock\n\t\t\t\topen={isOpen}\n\t\t\t\tanchorEl={anchorEl.current}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\ttransformOrigin={{\n\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\tclasses={{ paper: classes.popoverPaper }}\n\t\t\t\tonClose={handleClickAway}\n\t\t\t>\n\t\t\t\t<List dense className={classes.tabContainer}>\n\t\t\t\t\t{notifications.length === 0 ? (\n\t\t\t\t\t\t<ListItem>\n\t\t\t\t\t\t\t<ListItemText>{i18n.t(\"notifications.noTickets\")}</ListItemText>\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t) : (\n\t\t\t\t\t\tnotifications.map(ticket => (\n\t\t\t\t\t\t\t<NotificationTicket key={ticket.id}>\n\t\t\t\t\t\t\t\t<TicketListItem ticket={ticket} />\n\t\t\t\t\t\t\t</NotificationTicket>\n\t\t\t\t\t\t))\n\t\t\t\t\t)}\n\t\t\t\t</List>\n\t\t\t</Popover>\n\t\t</>\n\t);\n};\n\nexport default NotificationsPopOver;","import React, { useState, useRef } from \"react\";\n\nimport Popover from \"@material-ui/core/Popover\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport List from \"@material-ui/core/List\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport VolumeUpIcon from \"@material-ui/icons/VolumeUp\";\nimport VolumeDownIcon from \"@material-ui/icons/VolumeDown\";\n\nimport { Grid, Slider } from \"@material-ui/core\";\n\nconst useStyles = makeStyles((theme) => ({\n    tabContainer: {\n        padding: theme.spacing(2),\n    },\n    popoverPaper: {\n        width: \"100%\",\n        maxWidth: 350,\n        marginLeft: theme.spacing(2),\n        marginRight: theme.spacing(1),\n        [theme.breakpoints.down(\"sm\")]: {\n            maxWidth: 270,\n        },\n    },\n    noShadow: {\n        boxShadow: \"none !important\",\n    },\n    icons: {\n        color: \"#fff\",\n    },\n    customBadge: {\n        backgroundColor: \"#f44336\",\n        color: \"#fff\",\n    },\n}));\n\nconst NotificationsVolume = ({ volume, setVolume }) => {\n    const classes = useStyles();\n\n    const anchorEl = useRef();\n    const [isOpen, setIsOpen] = useState(false);\n\n    const handleClick = () => {\n        setIsOpen((prevState) => !prevState);\n    };\n\n    const handleClickAway = () => {\n        setIsOpen(false);\n    };\n\n    const handleVolumeChange = (value) => {\n        setVolume(value);\n        localStorage.setItem(\"volume\", value);\n    };\n\n    return (\n        <>\n            <IconButton\n                className={classes.icons}\n                onClick={handleClick}\n                ref={anchorEl}\n                aria-label=\"Open Notifications\"\n                // color=\"inherit\"\n                // color=\"secondary\"\n            >\n                <VolumeUpIcon color=\"inherit\" />\n            </IconButton>\n            <Popover\n                disableScrollLock\n                open={isOpen}\n                anchorEl={anchorEl.current}\n                anchorOrigin={{\n                    vertical: \"bottom\",\n                    horizontal: \"right\",\n                }}\n                transformOrigin={{\n                    vertical: \"top\",\n                    horizontal: \"right\",\n                }}\n                classes={{ paper: classes.popoverPaper }}\n                onClose={handleClickAway}\n            >\n                <List dense className={classes.tabContainer}>\n                    <Grid container spacing={2}>\n                        <Grid item>\n                            <VolumeDownIcon />\n                        </Grid>\n                        <Grid item xs>\n                            <Slider\n                                value={volume}\n                                aria-labelledby=\"continuous-slider\"\n                                step={0.1}\n                                min={0}\n                                max={1}\n                                onChange={(e, value) =>\n                                    handleVolumeChange(value)\n                                }\n                            />\n                        </Grid>\n                        <Grid item>\n                            <VolumeUpIcon />\n                        </Grid>\n                    </Grid>\n                </List>\n            </Popover>\n        </>\n    );\n};\n\nexport default NotificationsVolume;\n","import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport Chip from \"@material-ui/core/Chip\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles(theme => ({\n\tchips: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tchip: {\n\t\tmargin: 2,\n\t},\n}));\n\nconst QueueSelect = ({ selectedQueueIds, onChange }) => {\n\tconst classes = useStyles();\n\tconst [queues, setQueues] = useState([]);\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(\"/queue\");\n\t\t\t\tsetQueues(data);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t})();\n\t}, []);\n\n\tconst handleChange = e => {\n\t\tonChange(e.target.value);\n\t};\n\n\treturn (\n\t\t<div style={{ marginTop: 6 }}>\n\t\t\t<FormControl fullWidth margin=\"dense\" variant=\"outlined\">\n\t\t\t\t<InputLabel>{i18n.t(\"queueSelect.inputLabel\")}</InputLabel>\n\t\t\t\t<Select\n\t\t\t\t\tmultiple\n\t\t\t\t\tlabelWidth={60}\n\t\t\t\t\tvalue={selectedQueueIds}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t}}\n\t\t\t\t\trenderValue={selected => (\n\t\t\t\t\t\t<div className={classes.chips}>\n\t\t\t\t\t\t\t{selected?.length > 0 &&\n\t\t\t\t\t\t\t\tselected.map(id => {\n\t\t\t\t\t\t\t\t\tconst queue = queues.find(q => q.id === id);\n\t\t\t\t\t\t\t\t\treturn queue ? (\n\t\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: queue.color }}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tlabel={queue.name}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : null;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{queues.map(queue => (\n\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>\n\t\t\t\t\t\t\t{queue.name}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</FormControl>\n\t\t</div>\n\t);\n};\n\nexport default QueueSelect;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Select from \"@material-ui/core/Select\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport QueueSelect from \"../QueueSelect\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../Can\";\nimport useWhatsApps from \"../../hooks/useWhatsApps\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tmultFieldLine: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *:not(:last-child)\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n}));\n\nconst UserSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tpassword: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\").required(\"Required\"),\n});\n\nconst UserModal = ({ open, onClose, userId }) => {\n\tconst classes = useStyles();\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\temail: \"\",\n\t\tpassword: \"\",\n\t\tprofile: \"user\",\n\t};\n\n\tconst { user: loggedInUser } = useContext(AuthContext);\n\n\tconst [user, setUser] = useState(initialState);\n\tconst [selectedQueueIds, setSelectedQueueIds] = useState([]);\n\tconst [whatsappId, setWhatsappId] = useState(false);\n\tconst { loading, whatsApps } = useWhatsApps();\n\n\tuseEffect(() => {\n\t\tconst fetchUser = async () => {\n\t\t\tif (!userId) return;\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/users/${userId}`);\n\t\t\t\tsetUser(prevState => {\n\t\t\t\t\treturn { ...prevState, ...data };\n\t\t\t\t});\n\t\t\t\tconst userQueueIds = data.queues?.map(queue => queue.id);\n\t\t\t\tsetSelectedQueueIds(userQueueIds);\n\t\t\t\tsetWhatsappId(data.whatsappId ? data.whatsappId : '');\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\n\t\tfetchUser();\n\t}, [userId, open]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetUser(initialState);\n\t};\n\n\tconst handleSaveUser = async values => {\n\t\tconst userData = { ...values, whatsappId, queueIds: selectedQueueIds };\n\t\ttry {\n\t\t\tif (userId) {\n\t\t\t\tawait api.put(`/users/${userId}`, userData);\n\t\t\t} else {\n\t\t\t\tawait api.post(\"/users\", userData);\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"userModal.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\thandleClose();\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"xs\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{userId\n\t\t\t\t\t\t? `${i18n.t(\"userModal.title.edit\")}`\n\t\t\t\t\t\t: `${i18n.t(\"userModal.title.add\")}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={user}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={UserSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveUser(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.name\")}\n\t\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.password\")}\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\t\terror={touched.password && Boolean(errors.password)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.password && errors.password}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.email\")}\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\t\t\tperform=\"user-modal:editProfile\"\n\t\t\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"profile-selection-input-label\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.profile\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.profile\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"profile\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"profile-selection-label\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"profile-selection\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"admin\">Admin</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value=\"user\">User</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\tperform=\"user-modal:editQueues\"\n\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t<QueueSelect\n\t\t\t\t\t\t\t\t\t\t\tselectedQueueIds={selectedQueueIds}\n\t\t\t\t\t\t\t\t\t\t\tonChange={values => setSelectedQueueIds(values)}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\trole={loggedInUser.profile}\n\t\t\t\t\t\t\t\t\tperform=\"user-modal:editProfile\"\n\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t<FormControl variant=\"outlined\" margin=\"dense\" className={classes.maxWidth} fullWidth>\n\t\t\t\t\t\t\t\t\t\t\t<InputLabel>\n\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.form.whatsapp\")}\n\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\n\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={whatsappId}\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setWhatsappId(e.target.value)}\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"userModal.form.whatsapp\")}\n\n\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={''}>&nbsp;</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t{whatsApps.map((whatsapp) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={whatsapp.id} value={whatsapp.id}>{whatsapp.name}</MenuItem>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"userModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{userId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"userModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"userModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default UserModal;\n","import React from \"react\";\n\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tbackdrop: {\n\t\tzIndex: theme.zIndex.drawer + 1,\n\t\tcolor: \"#fff\",\n\t},\n}));\n\nconst BackdropLoading = () => {\n\tconst classes = useStyles();\n\treturn (\n\t\t<Backdrop className={classes.backdrop} open={true}>\n\t\t\t<CircularProgress color=\"inherit\" />\n\t\t</Backdrop>\n\t);\n};\n\nexport default BackdropLoading;\n","import React, { useState } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { CssBaseline, IconButton } from \"@material-ui/core\";\nimport Brightness4Icon from \"@material-ui/icons/Brightness4\";\nimport Brightness7Icon from \"@material-ui/icons/Brightness7\";\n\nconst useStyles = makeStyles((theme) => ({\n    icons: {\n        color: \"#fff\",\n    },\n    switch: {\n        color: \"#fff\",\n    },\n    visible: {\n        display: \"none\",\n    },\n    btnHeader: {\n        color: \"#fff\",\n    },\n}));\n\nconst DarkMode = (props) => {\n    const classes = useStyles();\n\n    const [theme, setTheme] = useState(\"light\");\n\n    const themeToggle = () => {\n        theme === \"light\" ? setTheme(\"dark\") : setTheme(\"light\");\n    };\n\n    const handleClick = () => {\n        props.themeToggle();\n        themeToggle();\n    };\n\n    return (\n        <>\n            {theme === \"light\" ? (\n                <>\n                    <CssBaseline />\n                    <IconButton\n                        className={classes.icons}\n                        onClick={handleClick}\n                        // ref={anchorEl}\n                        aria-label=\"Dark Mode\"\n                        color=\"inherit\"\n                    >\n                        <Brightness4Icon />\n                    </IconButton>\n                </>\n            ) : (\n                <>\n                    <CssBaseline />\n                    <IconButton\n                        className={classes.icons}\n                        onClick={handleClick}\n                        // ref={anchorEl}\n                        aria-label=\"Dark Mode\"\n                        color=\"inherit\"\n                    >\n                        <Brightness7Icon />\n                    </IconButton>\n                </>\n            )}\n        </>\n    );\n};\n\nexport default DarkMode;\n","import React, { useEffect, useReducer, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport toastError from \"../../errors/toastError\";\nimport Popover from \"@material-ui/core/Popover\";\nimport AnnouncementIcon from \"@material-ui/icons/Announcement\";\nimport Notifications from \"@material-ui/icons/Notifications\"\n\nimport {\n  Avatar,\n  Badge,\n  IconButton,\n  List,\n  ListItem,\n  ListItemAvatar,\n  ListItemText,\n  Dialog,\n  Paper,\n  Typography,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n  DialogContentText,\n} from \"@material-ui/core\";\nimport api from \"../../services/api\";\nimport { isArray } from \"lodash\";\nimport moment from \"moment\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    maxHeight: 3000,\n    maxWidth: 5000,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nfunction AnnouncementDialog({ announcement, open, handleClose }) {\n  const getMediaPath = (filename) => {\n    return `${process.env.REACT_APP_BACKEND_URL}/public/${filename}`;\n  };\n  return (\n    <Dialog\n      open={open}\n      onClose={() => handleClose()}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\">{announcement.title}</DialogTitle>\n      <DialogContent>\n        {announcement.mediaPath && (\n          <div\n            style={{\n              border: \"1px solid #f1f1f1\",\n              margin: \"0 auto 20px\",\n              textAlign: \"center\",\n              width: \"400px\",\n              height: 300,\n              backgroundImage: `url(${getMediaPath(announcement.mediaPath)})`,\n              backgroundRepeat: \"no-repeat\",\n              backgroundSize: \"contain\",\n              backgroundPosition: \"center\",\n            }}\n          ></div>\n        )}\n        <DialogContentText id=\"alert-dialog-description\">\n          {announcement.text}\n        </DialogContentText>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={() => handleClose()} color=\"primary\" autoFocus>\n          Fechar\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_ANNOUNCEMENTS\") {\n    const announcements = action.payload;\n    const newAnnouncements = [];\n\n    if (isArray(announcements)) {\n      announcements.forEach((announcement) => {\n        const announcementIndex = state.findIndex(\n          (u) => u.id === announcement.id\n        );\n        if (announcementIndex !== -1) {\n          state[announcementIndex] = announcement;\n        } else {\n          newAnnouncements.push(announcement);\n        }\n      });\n    }\n\n    return [...state, ...newAnnouncements];\n  }\n\n  if (action.type === \"UPDATE_ANNOUNCEMENTS\") {\n    const announcement = action.payload;\n    const announcementIndex = state.findIndex((u) => u.id === announcement.id);\n\n    if (announcementIndex !== -1) {\n      state[announcementIndex] = announcement;\n      return [...state];\n    } else {\n      return [announcement, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_ANNOUNCEMENT\") {\n    const announcementId = action.payload;\n\n    const announcementIndex = state.findIndex((u) => u.id === announcementId);\n    if (announcementIndex !== -1) {\n      state.splice(announcementIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nexport default function AnnouncementsPopover() {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [searchParam] = useState(\"\");\n  const [announcements, dispatch] = useReducer(reducer, []);\n  const [invisible, setInvisible] = useState(false);\n  const [announcement, setAnnouncement] = useState({});\n  const [showAnnouncementDialog, setShowAnnouncementDialog] = useState(false);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchAnnouncements();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-announcement`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_ANNOUNCEMENTS\", payload: data.record });\n        setInvisible(false);\n      }\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_ANNOUNCEMENT\", payload: +data.id });\n      }\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const fetchAnnouncements = async () => {\n    try {\n      const { data } = await api.get(\"/announcements/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_ANNOUNCEMENTS\", payload: data.records });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n    setInvisible(true);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const borderPriority = (priority) => {\n    if (priority === 1) {\n      return \"4px solid #b81111\";\n    }\n    if (priority === 2) {\n      return \"4px solid orange\";\n    }\n    if (priority === 3) {\n      return \"4px solid grey\";\n    }\n  };\n\n  const getMediaPath = (filename) => {\n    return `${process.env.REACT_APP_BACKEND_URL}/public/${filename}`;\n  };\n\n  const handleShowAnnouncementDialog = (record) => {\n    setAnnouncement(record);\n    setShowAnnouncementDialog(true);\n    setAnchorEl(null);\n  };\n\n  const open = Boolean(anchorEl);\n  const id = open ? \"simple-popover\" : undefined;\n\n  return (\n    <div>\n      <AnnouncementDialog\n        announcement={announcement}\n        open={showAnnouncementDialog}\n        handleClose={() => setShowAnnouncementDialog(false)}\n      />\n      <IconButton\n        variant=\"contained\"\n        aria-describedby={id}\n        onClick={handleClick}\n        style={{ color: \"white\" }}\n      >\n        <Badge\n          color=\"secondary\"\n          variant=\"dot\"\n          invisible={invisible || announcements.length < 1}\n        >\n          <Notifications />\n        </Badge>\n      </IconButton>\n      <Popover\n        id={id}\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"center\",\n        }}\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"center\",\n        }}\n      >\n        <Paper\n          variant=\"outlined\"\n          onScroll={handleScroll}\n          className={classes.mainPaper}\n        >\n          <List\n            component=\"nav\"\n            aria-label=\"main mailbox folders\"\n            style={{ minWidth: 300 }}\n          >\n            {isArray(announcements) &&\n              announcements.map((item, key) => (\n                <ListItem\n                  key={key}\n                  style={{\n                    //background: key % 2 === 0 ? \"#ededed\" : \"white\",\n                    border: \"1px solid #eee\",\n                    borderLeft: borderPriority(item.priority),\n                    cursor: \"pointer\",\n                  }}\n                  onClick={() => handleShowAnnouncementDialog(item)}\n                >\n                  {item.mediaPath && (\n                    <ListItemAvatar>\n                      <Avatar\n                        alt={item.mediaName}\n                        src={getMediaPath(item.mediaPath)}\n                      />\n                    </ListItemAvatar>\n                  )}\n                  <ListItemText\n                    primary={item.title}\n                    secondary={\n                      <>\n                        <Typography component=\"span\" style={{ fontSize: 12 }}>\n                          {moment(item.createdAt).format(\"DD/MM/YYYY\")}\n                        </Typography>\n                        <span style={{ marginTop: 5, display: \"block\" }}></span>\n                        <Typography component=\"span\" variant=\"body2\">\n                          {item.text}\n                        </Typography>\n                      </>\n                    }\n                  />\n                </ListItem>\n              ))}\n            {isArray(announcements) && announcements.length === 0 && (\n              <ListItemText primary=\"Nenhum registro\" />\n            )}\n          </List>\n        </Paper>\n      </Popover>\n    </div>\n  );\n}\n","import moment from \"moment\";\n\nexport function useDate() {\n  function dateToClient(strDate) {\n    if (moment(strDate).isValid()) {\n      return moment(strDate).format(\"DD/MM/YYYY\");\n    }\n    return strDate;\n  }\n\n  function datetimeToClient(strDate) {\n    if (moment(strDate).isValid()) {\n      return moment(strDate).format(\"DD/MM/YYYY HH:mm\");\n    }\n    return strDate;\n  }\n\n  function dateToDatabase(strDate) {\n    if (moment(strDate, \"DD/MM/YYYY\").isValid()) {\n      return moment(strDate).format(\"YYYY-MM-DD HH:mm:ss\");\n    }\n    return strDate;\n  }\n\n  return {\n    dateToClient,\n    datetimeToClient,\n    dateToDatabase,\n  };\n}\n","import React, {\n  useContext,\n  useEffect,\n  useReducer,\n  useRef,\n  useState,\n} from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport toastError from \"../../errors/toastError\";\nimport Popover from \"@material-ui/core/Popover\";\nimport ForumIcon from \"@material-ui/icons/Forum\";\nimport {\n  Badge,\n  IconButton,\n  List,\n  ListItem,\n  ListItemText,\n  Paper,\n  Typography,\n} from \"@material-ui/core\";\nimport api from \"../../services/api\";\nimport { isArray } from \"lodash\";\nimport { socketConnection } from \"../../services/socket\";\nimport { useDate } from \"../../hooks/useDate\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport notifySound from \"../../assets/chat_notify.mp3\";\nimport useSound from \"use-sound\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    maxHeight: 300,\n    maxWidth: 500,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CHATS\") {\n    const chats = action.payload;\n    const newChats = [];\n\n    if (isArray(chats)) {\n      chats.forEach((chat) => {\n        const chatIndex = state.findIndex((u) => u.id === chat.id);\n        if (chatIndex !== -1) {\n          state[chatIndex] = chat;\n        } else {\n          newChats.push(chat);\n        }\n      });\n    }\n\n    return [...state, ...newChats];\n  }\n\n  if (action.type === \"UPDATE_CHATS\") {\n    const chat = action.payload;\n    const chatIndex = state.findIndex((u) => u.id === chat.id);\n\n    if (chatIndex !== -1) {\n      state[chatIndex] = chat;\n      return [...state];\n    } else {\n      return [chat, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CHAT\") {\n    const chatId = action.payload;\n\n    const chatIndex = state.findIndex((u) => u.id === chatId);\n    if (chatIndex !== -1) {\n      state.splice(chatIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n\n  if (action.type === \"CHANGE_CHAT\") {\n    const changedChats = state.map((chat) => {\n      if (chat.id === action.payload.chat.id) {\n        return action.payload.chat;\n      }\n      return chat;\n    });\n    return changedChats;\n  }\n};\n\nexport default function ChatPopover() {\n  const classes = useStyles();\n\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [searchParam] = useState(\"\");\n  const [chats, dispatch] = useReducer(reducer, []);\n  const [invisible, setInvisible] = useState(true);\n  const { datetimeToClient } = useDate();\n  const [play] = useSound(notifySound);\n  const soundAlertRef = useRef();\n\n  useEffect(() => {\n    soundAlertRef.current = play;\n\n    if (!(\"Notification\" in window)) {\n      console.log(\"This browser doesn't support notifications\");\n    } else {\n      Notification.requestPermission();\n    }\n  }, [play]);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchChats();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n    \n    socket.on(`company-${companyId}-chat`, (data) => {\n      if (data.action === \"new-message\") {\n        dispatch({ type: \"CHANGE_CHAT\", payload: data });\n        const userIds = data.newMessage.chat.users.map(userObj => userObj.userId);\n\n        if (userIds.includes(user.id) && data.newMessage.senderId !== user.id) {\n          soundAlertRef.current();\n        }\n      }\n      if (data.action === \"update\") {\n        dispatch({ type: \"CHANGE_CHAT\", payload: data });\n      }\n    });\n    return () => {\n      socket.disconnect();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    let unreadsCount = 0;\n    if (chats.length > 0) {\n      for (let chat of chats) {\n        for (let chatUser of chat.users) {\n          if (chatUser.userId === user.id) {\n            unreadsCount += chatUser.unreads;\n          }\n        }\n      }\n    }\n    if (unreadsCount > 0) {\n      setInvisible(false);\n    } else {\n      setInvisible(true);\n    }\n  }, [chats, user.id]);\n\n  const fetchChats = async () => {\n    try {\n      const { data } = await api.get(\"/chats/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_CHATS\", payload: data.records });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const handleClick = (event) => {\n    setAnchorEl(event.currentTarget);\n    setInvisible(true);\n  };\n\n  const handleClose = () => {\n    setAnchorEl(null);\n  };\n\n  const goToMessages = (chat) => {\n    window.location.href = `/chats/${chat.uuid}`;\n  };\n\n  const open = Boolean(anchorEl);\n  const id = open ? \"simple-popover\" : undefined;\n\n  return (\n    <div>\n      <IconButton\n        aria-describedby={id}\n        variant=\"contained\"\n        color={invisible ? \"default\" : \"inherit\"}\n        onClick={handleClick}\n        style={{ color: \"white\" }}\n      >\n        <Badge color=\"secondary\" variant=\"dot\" invisible={invisible}>\n          <ForumIcon />\n        </Badge>\n      </IconButton>\n      <Popover\n        id={id}\n        open={open}\n        anchorEl={anchorEl}\n        onClose={handleClose}\n        anchorOrigin={{\n          vertical: \"bottom\",\n          horizontal: \"center\",\n        }}\n        transformOrigin={{\n          vertical: \"top\",\n          horizontal: \"center\",\n        }}\n      >\n        <Paper\n          variant=\"outlined\"\n          onScroll={handleScroll}\n          className={classes.mainPaper}\n        >\n          <List\n            component=\"nav\"\n            aria-label=\"main mailbox folders\"\n            style={{ minWidth: 300 }}\n          >\n            {isArray(chats) &&\n              chats.map((item, key) => (\n                <ListItem\n                  key={key}\n                  style={{\n                    background: key % 2 === 0 ? \"#ededed\" : \"white\",\n                    border: \"1px solid #eee\",\n                    cursor: \"pointer\",\n                  }}\n                  onClick={() => goToMessages(item)}\n                  button\n                >\n                  <ListItemText\n                    primary={item.lastMessage}\n                    secondary={\n                      <>\n                        <Typography component=\"span\" style={{ fontSize: 12 }}>\n                          {datetimeToClient(item.updatedAt)}\n                        </Typography>\n                        <span style={{ marginTop: 5, display: \"block\" }}></span>\n                      </>\n                    }\n                  />\n                </ListItem>\n              ))}\n            {isArray(chats) && chats.length === 0 && (\n              <ListItemText primary={i18n.t(\"mainDrawer.appBar.notRegister\")} />\n            )}\n          </List>\n        </Paper>\n      </Popover>\n    </div>\n  );\n}\n","import React, { useState, useContext, useEffect } from \"react\";\nimport clsx from \"clsx\";\nimport moment from \"moment\";\nimport {\n  makeStyles,\n  Drawer,\n  AppBar,\n  Toolbar,\n  List,\n  Typography,\n  Divider,\n  MenuItem,\n  IconButton,\n  Menu,\n  useTheme,\n  useMediaQuery,\n} from \"@material-ui/core\";\n\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\nimport AccountCircle from \"@material-ui/icons/AccountCircle\";\nimport CachedIcon from \"@material-ui/icons/Cached\";\n\nimport MainListItems from \"./MainListItems\";\nimport NotificationsPopOver from \"../components/NotificationsPopOver\";\nimport NotificationsVolume from \"../components/NotificationsVolume\";\nimport UserModal from \"../components/UserModal\";\nimport { AuthContext } from \"../context/Auth/AuthContext\";\nimport BackdropLoading from \"../components/BackdropLoading\";\nimport DarkMode from \"../components/DarkMode\";\nimport { i18n } from \"../translate/i18n\";\nimport toastError from \"../errors/toastError\";\nimport AnnouncementsPopover from \"../components/AnnouncementsPopover\";\n\nimport logo from \"../assets/logo.png\";\nimport { socketConnection } from \"../services/socket\";\nimport ChatPopover from \"../pages/Chat/ChatPopover\";\n\nimport { useDate } from \"../hooks/useDate\";\n\nimport ColorModeContext from \"../layout/themeContext\";\nimport Brightness4Icon from '@material-ui/icons/Brightness4';\nimport Brightness7Icon from '@material-ui/icons/Brightness7';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    height: \"100vh\",\n    [theme.breakpoints.down(\"sm\")]: {\n      height: \"calc(100vh - 56px)\",\n    },\n    backgroundColor: theme.palette.fancyBackground,\n    '& .MuiButton-outlinedPrimary': {\n      color: theme.mode === 'light' ? '#00BFFF' : '#FFF',\n      border: theme.mode === 'light' ? '1px solid rgba(0 124 102)' : '1px solid rgba(255, 255, 255, 0.5)',\n    },\n    '& .MuiTab-textColorPrimary.Mui-selected': {\n      color: theme.mode === 'light' ? '#00BFFF' : '#FFF',\n    }\n  },\n  avatar: {\n    width: \"100%\",\n  },\n  toolbar: {\n    paddingRight: 24, // keep right padding when drawer closed\n    color: theme.palette.dark.main,\n    background: theme.palette.barraSuperior,\n  },\n  toolbarIcon: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n    padding: \"0 8px\",\n    minHeight: \"48px\",\n    [theme.breakpoints.down(\"sm\")]: {\n      height: \"48px\"\n    }\n  },\n  appBar: {\n    zIndex: theme.zIndex.drawer + 1,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    marginLeft: drawerWidth,\n    width: `calc(100% - ${drawerWidth}px)`,\n    transition: theme.transitions.create([\"width\", \"margin\"], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    [theme.breakpoints.down(\"sm\")]: {\n      display: \"none\"\n    }\n  },\n  menuButton: {\n    marginRight: 36,\n  },\n  menuButtonHidden: {\n    display: \"none\",\n  },\n  title: {\n    flexGrow: 1,\n    fontSize: 14,\n    color: \"white\",\n  },\n  drawerPaper: {\n    position: \"relative\",\n    whiteSpace: \"nowrap\",\n    width: drawerWidth,\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    [theme.breakpoints.down(\"sm\")]: {\n      width: \"100%\"\n    },\n    ...theme.scrollbarStylesSoft\n  },\n  drawerPaperClose: {\n    overflowX: \"hidden\",\n    transition: theme.transitions.create(\"width\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    width: theme.spacing(7),\n    [theme.breakpoints.up(\"sm\")]: {\n      width: theme.spacing(9),\n    },\n    [theme.breakpoints.down(\"sm\")]: {\n      width: \"100%\"\n    }\n  },\n  appBarSpacer: {\n    minHeight: \"48px\",\n  },\n  content: {\n    flex: 1,\n    overflow: \"auto\",\n\n  },\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\"\n  },\n  containerWithScroll: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  NotificationsPopOver: {\n    // color: theme.barraSuperior.secondary.main,\n  },\n  logo: {\n    width: \"80%\",\n    height: \"auto\",\n    maxWidth: 180,\n    [theme.breakpoints.down(\"sm\")]: {\n      width: \"auto\",\n      height: \"80%\",\n      maxWidth: 180,\n    },\n    logo: theme.logo\n  },\n}));\n\nconst LoggedInLayout = ({ children, themeToggle }) => {\n  const classes = useStyles();\n  const [userModalOpen, setUserModalOpen] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const [menuOpen, setMenuOpen] = useState(false);\n  const { handleLogout, loading } = useContext(AuthContext);\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [drawerVariant, setDrawerVariant] = useState(\"permanent\");\n  // const [dueDate, setDueDate] = useState(\"\");\n  const { user } = useContext(AuthContext);\n\n  const theme = useTheme();\n  const { colorMode } = useContext(ColorModeContext);\n  const greaterThenSm = useMediaQuery(theme.breakpoints.up(\"sm\"));\n\n  const [volume, setVolume] = useState(localStorage.getItem(\"volume\") || 1);\n\n  const { dateToClient } = useDate();\n\n\n  //################### CODIGOS DE TESTE #########################################\n  // useEffect(() => {\n  //   navigator.getBattery().then((battery) => {\n  //     console.log(`Battery Charging: ${battery.charging}`);\n  //     console.log(`Battery Level: ${battery.level * 100}%`);\n  //     console.log(`Charging Time: ${battery.chargingTime}`);\n  //     console.log(`Discharging Time: ${battery.dischargingTime}`);\n  //   })\n  // }, []);\n\n  // useEffect(() => {\n  //   const geoLocation = navigator.geolocation\n\n  //   geoLocation.getCurrentPosition((position) => {\n  //     let lat = position.coords.latitude;\n  //     let long = position.coords.longitude;\n\n  //     console.log('latitude: ', lat)\n  //     console.log('longitude: ', long)\n  //   })\n  // }, []);\n\n  // useEffect(() => {\n  //   const nucleos = window.navigator.hardwareConcurrency;\n\n  //   console.log('Nucleos: ', nucleos)\n  // }, []);\n\n  // useEffect(() => {\n  //   console.log('userAgent', navigator.userAgent)\n  //   if (\n  //     navigator.userAgent.match(/Android/i)\n  //     || navigator.userAgent.match(/webOS/i)\n  //     || navigator.userAgent.match(/iPhone/i)\n  //     || navigator.userAgent.match(/iPad/i)\n  //     || navigator.userAgent.match(/iPod/i)\n  //     || navigator.userAgent.match(/BlackBerry/i)\n  //     || navigator.userAgent.match(/Windows Phone/i)\n  //   ) {\n  //     console.log('é mobile ', true) //celular\n  //   }\n  //   else {\n  //     console.log('não é mobile: ', false) //nao é celular\n  //   }\n  // }, []);\n  //##############################################################################\n\n  useEffect(() => {\n    if (document.body.offsetWidth > 600) {\n      setDrawerOpen(true);\n    }\n  }, []);\n\n  useEffect(() => {\n    if (document.body.offsetWidth < 600) {\n      setDrawerVariant(\"temporary\");\n    } else {\n      setDrawerVariant(\"permanent\");\n    }\n  }, [drawerOpen]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const userId = localStorage.getItem(\"userId\");\n\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-auth`, (data) => {\n      if (data.user.id === +userId) {\n        toastError(\"Sua conta foi acessada em outro computador.\");\n        setTimeout(() => {\n          localStorage.clear();\n          window.location.reload();\n        }, 1000);\n      }\n    });\n\n    socket.emit(\"userStatus\");\n    const interval = setInterval(() => {\n      socket.emit(\"userStatus\");\n    }, 1000 * 60 * 5);\n\n    return () => {\n      socket.disconnect();\n      clearInterval(interval);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleMenu = (event) => {\n    setAnchorEl(event.currentTarget);\n    setMenuOpen(true);\n  };\n\n  const handleCloseMenu = () => {\n    setAnchorEl(null);\n    setMenuOpen(false);\n  };\n\n  const handleOpenUserModal = () => {\n    setUserModalOpen(true);\n    handleCloseMenu();\n  };\n\n  const handleClickLogout = () => {\n    handleCloseMenu();\n    handleLogout();\n  };\n\n  const drawerClose = () => {\n    if (document.body.offsetWidth < 600) {\n      setDrawerOpen(false);\n    }\n  };\n\n  const handleRefreshPage = () => {\n    window.location.reload(false);\n  }\n\n  const handleMenuItemClick = () => {\n    const { innerWidth: width } = window;\n    if (width <= 600) {\n      setDrawerOpen(false);\n    }\n  };\n\n  const toggleColorMode = () => {\n    colorMode.toggleColorMode();\n  }\n\n  if (loading) {\n    return <BackdropLoading />;\n  }\n\n  return (\n    <div className={classes.root}>\n      <Drawer\n        variant={drawerVariant}\n        className={drawerOpen ? classes.drawerPaper : classes.drawerPaperClose}\n        classes={{\n          paper: clsx(\n            classes.drawerPaper,\n            !drawerOpen && classes.drawerPaperClose\n          ),\n        }}\n        open={drawerOpen}\n      >\n        <div className={classes.toolbarIcon}>\n          <img src={logo} className={classes.logo} alt=\"logo\" />\n          <IconButton onClick={() => setDrawerOpen(!drawerOpen)}>\n            <ChevronLeftIcon />\n          </IconButton>\n        </div>\n        <Divider />\n        <List className={classes.containerWithScroll}>\n          <MainListItems drawerClose={drawerClose} collapsed={!drawerOpen} />\n        </List>\n        <Divider />\n      </Drawer>\n      <UserModal\n        open={userModalOpen}\n        onClose={() => setUserModalOpen(false)}\n        userId={user?.id}\n      />\n      <AppBar\n        position=\"absolute\"\n        className={clsx(classes.appBar, drawerOpen && classes.appBarShift)}\n        color=\"primary\"\n      >\n        <Toolbar variant=\"dense\" className={classes.toolbar}>\n          <IconButton\n            edge=\"start\"\n            variant=\"contained\"\n            aria-label=\"open drawer\"\n            onClick={() => setDrawerOpen(!drawerOpen)}\n            className={clsx(\n              classes.menuButton,\n              drawerOpen && classes.menuButtonHidden\n            )}\n          >\n            <MenuIcon />\n          </IconButton>\n\n          <Typography\n            component=\"h2\"\n            variant=\"h6\"\n            color=\"inherit\"\n            noWrap\n            className={classes.title}\n          >\n            {/* {greaterThenSm && user?.profile === \"admin\" && getDateAndDifDays(user?.company?.dueDate).difData < 7 ? ( */}\n            {greaterThenSm && user?.profile === \"admin\" && user?.company?.dueDate ? (\n              <>\n                Olá <b>{user.name}</b>, Bem vindo a <b>{user?.company?.name}</b>! (Ativo até {dateToClient(user?.company?.dueDate)})\n              </>\n            ) : (\n              <>\n                Olá  <b>{user.name}</b>, Bem vindo a <b>{user?.company?.name}</b>!\n              </>\n            )}\n          </Typography>\n\n          <IconButton edge=\"start\" onClick={toggleColorMode}>\n            {theme.mode === 'dark' ? <Brightness7Icon style={{ color: \"white\" }} /> : <Brightness4Icon style={{ color: \"white\" }} />}\n          </IconButton>\n\n          <NotificationsVolume\n            setVolume={setVolume}\n            volume={volume}\n          />\n\n          <IconButton\n            onClick={handleRefreshPage}\n            aria-label={i18n.t(\"mainDrawer.appBar.refresh\")}\n            color=\"inherit\"\n          >\n            <CachedIcon style={{ color: \"white\" }} />\n          </IconButton>\n\n          {user.id && <NotificationsPopOver volume={volume} />}\n\n          <AnnouncementsPopover />\n\n          <ChatPopover />\n\n          <div>\n            <IconButton\n              aria-label=\"account of current user\"\n              aria-controls=\"menu-appbar\"\n              aria-haspopup=\"true\"\n              onClick={handleMenu}\n              variant=\"contained\"\n              style={{ color: \"white\" }}\n            >\n              <AccountCircle />\n            </IconButton>\n            <Menu\n              id=\"menu-appbar\"\n              anchorEl={anchorEl}\n              getContentAnchorEl={null}\n              anchorOrigin={{\n                vertical: \"bottom\",\n                horizontal: \"right\",\n              }}\n              transformOrigin={{\n                vertical: \"top\",\n                horizontal: \"right\",\n              }}\n              open={menuOpen}\n              onClose={handleCloseMenu}\n            >\n              <MenuItem onClick={handleOpenUserModal}>\n                {i18n.t(\"mainDrawer.appBar.user.profile\")}\n              </MenuItem>\n\n            </Menu>\n          </div>\n        </Toolbar>\n      </AppBar>\n      <main className={classes.content}>\n        <div className={classes.appBarSpacer} />\n\n        {children ? children : null}\n      </main>\n    </div>\n  );\n};\n\nexport default LoggedInLayout;","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst Title = props => {\n\treturn (\n\t\t<Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\n\t\t\t{props.children}\n\t\t</Typography>\n\t);\n};\n\nexport default Title;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { useTheme } from \"@material-ui/core/styles\";\nimport {\n\tBarChart,\n\tCartesianGrid,\n\tBar,\n\tXAxis,\n\tYAxis,\n\tLabel,\n\tResponsiveContainer,\n} from \"recharts\";\nimport { startOfHour, parseISO, format } from \"date-fns\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport Title from \"./Title\";\nimport useTickets from \"../../hooks/useTickets\";\n\nconst Chart = () => {\n\tconst theme = useTheme();\n\n\tconst date = useRef(new Date().toISOString());\n\tconst { tickets } = useTickets({ date: date.current });\n\n\tconst [chartData, setChartData] = useState([\n\t\t{ time: \"01:00\", amount: 0 },\n\t\t{ time: \"02:00\", amount: 0 },\n\t\t{ time: \"03:00\", amount: 0 },\n\t\t{ time: \"04:00\", amount: 0 },\n\t\t{ time: \"05:00\", amount: 0 },\n\t\t{ time: \"06:00\", amount: 0 },\n\t\t{ time: \"07:00\", amount: 0 },\n\t\t{ time: \"08:00\", amount: 0 },\n\t\t{ time: \"09:00\", amount: 0 },\n\t\t{ time: \"10:00\", amount: 0 },\n\t\t{ time: \"11:00\", amount: 0 },\n\t\t{ time: \"12:00\", amount: 0 },\n\t\t{ time: \"13:00\", amount: 0 },\n\t\t{ time: \"14:00\", amount: 0 },\n\t\t{ time: \"15:00\", amount: 0 },\n\t\t{ time: \"16:00\", amount: 0 },\n\t\t{ time: \"17:00\", amount: 0 },\n\t\t{ time: \"18:00\", amount: 0 },\n\t\t{ time: \"19:00\", amount: 0 },\n\t\t{ time: \"20:00\", amount: 0 },\n\t\t{ time: \"21:00\", amount: 0 },\n\t\t{ time: \"22:00\", amount: 0 },\n\t\t{ time: \"23:00\", amount: 0 },\n\t\t{ time: \"00:00\", amount: 0 },\n\t]);\n\n\tuseEffect(() => {\n\t\tsetChartData(prevState => {\n\t\t\tlet aux = [...prevState];\n\n\t\t\taux.forEach(a => {\n\t\t\t\ttickets.forEach(ticket => {\n\t\t\t\t\tformat(startOfHour(parseISO(ticket.createdAt)), \"HH:mm\") === a.time &&\n\t\t\t\t\t\ta.amount++;\n\t\t\t\t});\n\t\t\t});\n\n\t\t\treturn aux;\n\t\t});\n\t}, [tickets]);\n\n\treturn (\n\t\t<React.Fragment>\n\t\t\t<Title>{`${i18n.t(\"dashboard.charts.perDay.title\")}${\n\t\t\t\ttickets.length\n\t\t\t}`}</Title>\n\t\t\t<ResponsiveContainer>\n\t\t\t\t<BarChart\n\t\t\t\t\tdata={chartData}\n\t\t\t\t\tbarSize={40}\n\t\t\t\t\twidth={730}\n\t\t\t\t\theight={250}\n\t\t\t\t\tmargin={{\n\t\t\t\t\t\ttop: 16,\n\t\t\t\t\t\tright: 16,\n\t\t\t\t\t\tbottom: 0,\n\t\t\t\t\t\tleft: 24,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<CartesianGrid strokeDasharray=\"3 3\" />\n\t\t\t\t\t<XAxis dataKey=\"time\" stroke={theme.palette.text.secondary} />\n\t\t\t\t\t<YAxis\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tallowDecimals={false}\n\t\t\t\t\t\tstroke={theme.palette.text.secondary}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Label\n\t\t\t\t\t\t\tangle={270}\n\t\t\t\t\t\t\tposition=\"left\"\n\t\t\t\t\t\t\tstyle={{ textAnchor: \"middle\", fill: theme.palette.text.primary }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tTickets\n\t\t\t\t\t\t</Label>\n\t\t\t\t\t</YAxis>\n\t\t\t\t\t<Bar dataKey=\"amount\" fill={theme.palette.primary.main} />\n\t\t\t\t</BarChart>\n\t\t\t</ResponsiveContainer>\n\t\t</React.Fragment>\n\t);\n};\n\nexport default Chart;\n","import React from \"react\";\n\nimport { Avatar, Card, CardHeader, Typography } from \"@material-ui/core\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { grey } from '@material-ui/core/colors';\n\nconst useStyles = makeStyles(theme => ({\n\tcardAvatar: {\n\t\tfontSize: '55px',\n\t\tcolor: grey[500],\n\t\tbackgroundColor: '#ffffff',\n\t\twidth: theme.spacing(7),\n\t\theight: theme.spacing(7)\n\t},\n\tcardTitle: {\n\t\tfontSize: '18px',\n\t\tcolor: theme.palette.text.primary\n\t},\n\tcardSubtitle: {\n\t\tcolor: grey[600],\n\t\tfontSize: '14px'\n\t}\n}));\n\nexport default function CardCounter(props) {\n    const { icon, title, value, loading } = props\n\tconst classes = useStyles();\n    return ( !loading ? \n        <Card>\n            <CardHeader\n                avatar={\n                    <Avatar className={classes.cardAvatar}>\n                        {icon}\n                    </Avatar>\n                }\n                title={\n                    <Typography variant=\"h6\" component=\"h2\" className={classes.cardTitle}>\n                        { title }\n                    </Typography>\n                }\n                subheader={\n                    <Typography variant=\"subtitle1\" component=\"p\" className={classes.cardSubtitle}>\n                        { value }\n                    </Typography>\n                }\n            />\n        </Card>\n        : <Skeleton variant=\"rect\" height={80} />\n    )\n    \n}","import React from \"react\";\n\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green, red } from '@material-ui/core/colors';\n\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport ErrorIcon from '@material-ui/icons/Error';\nimport moment from 'moment';\n\nimport Rating from '@material-ui/lab/Rating';\n\nconst useStyles = makeStyles(theme => ({\n\ton: {\n\t\tcolor: green[600],\n\t\tfontSize: '20px'\n\t},\n\toff: {\n\t\tcolor: red[600],\n\t\tfontSize: '20px'\n\t},\n    pointer: {\n        cursor: \"pointer\"\n    }\n}));\n\nexport function RatingBox ({ rating }) {\n    const ratingTrunc = rating === null ? 0 : Math.trunc(rating);\n    return <Rating\n        defaultValue={ratingTrunc}\n        max={3}\n        readOnly\n    />\n}\n\nexport default function TableAttendantsStatus(props) {\n    const { loading, attendants } = props\n\tconst classes = useStyles();\n\n    function renderList () {\n        return attendants.map((a, k) => (\n            <TableRow key={k}>\n                <TableCell>{a.name}</TableCell>\n                <TableCell align=\"center\" title=\"1 - Insatisfeito, 2 - Satisfeito, 3 - Muito Satisfeito\" className={classes.pointer}>\n                    <RatingBox rating={a.rating} />\n                </TableCell>\n                <TableCell align=\"center\">{formatTime(a.avgSupportTime, 2)}</TableCell>\n                <TableCell align=\"center\">\n                    { a.online ?\n                        <CheckCircleIcon className={classes.on} />\n                        : <ErrorIcon className={classes.off} />\n                    }\n                </TableCell>\n            </TableRow>\n        ))\n    }\n\n\tfunction formatTime(minutes){\n\t\treturn moment().startOf('day').add(minutes, 'minutes').format('HH[h] mm[m]');\n\t}\n\n    return ( !loading ?\n        <TableContainer component={Paper}>\n            <Table>\n                <TableHead>\n                    <TableRow>\n                        <TableCell>Nome</TableCell>\n                        <TableCell align=\"center\">Avaliações</TableCell>\n                        <TableCell align=\"center\">T.M. de Atendimento</TableCell>\n                        <TableCell align=\"center\">Status (Atual)</TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    { renderList() }\n                    {/* <TableRow>\n                        <TableCell>Nome 4</TableCell>\n                        <TableCell align=\"center\">10</TableCell>\n                        <TableCell align=\"center\">10 minutos</TableCell>\n                        <TableCell align=\"center\">\n                            <CheckCircleIcon className={classes.off} />\n                        </TableCell>\n                    </TableRow>\n                    <TableRow>\n                        <TableCell>Nome 5</TableCell>\n                        <TableCell align=\"center\">10</TableCell>\n                        <TableCell align=\"center\">10 minutos</TableCell>\n                        <TableCell align=\"center\">\n                            <CheckCircleIcon className={classes.on} />\n                        </TableCell>\n                    </TableRow> */}\n                </TableBody>\n            </Table>\n        </TableContainer>\n        : <Skeleton variant=\"rect\" height={150} />\n    )\n}","import api from \"../../services/api\";\n\nconst useDashboard = () => {\n\n    const find = async (params) => {\n        const { data } = await api.request({\n            url: `/dashboard`,\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    return {\n        find\n    }\n}\n\nexport default useDashboard;","import api from \"../../services/api\";\n\nconst useCompanies = () => {\n\n    const save = async (data) => {\n        const { data: responseData } = await api.request({\n            url: '/companies',\n            method: 'POST',\n            data\n        });\n        return responseData;\n    }\n\n    const findAll = async (id) => {\n        const { data } = await api.request({\n            url: `/companies`,\n            method: 'GET'\n        });\n        return data;\n    }\n\n    const list = async (id) => {\n        const { data } = await api.request({\n            url: `/companies/list`,\n            method: 'GET'\n        });\n        return data;\n    }\n\n    const find = async (id) => {\n        const { data } = await api.request({\n            url: `/companies/${id}`,\n            method: 'GET'\n        });\n        return data;\n    }\n\n    const finding = async (id) => {\n        const { data } = await api.request({\n            url: `/companies/${id}`,\n            method: 'GET'\n        });\n        return data;\n    }\n\n\n    const update = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/companies/${data.id}`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    const remove = async (id) => {\n        const { data } = await api.request({\n            url: `/companies/${id}`,\n            method: 'DELETE'\n        });\n        return data;\n    }\n\n    const updateSchedules = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/companies/${data.id}/schedules`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    return {\n        save,\n        update,\n        remove,\n        list,\n        find,\n        finding,\n        findAll,\n        updateSchedules\n    }\n}\n\nexport default useCompanies;","import React, { useState, useEffect } from \"react\";\n\nimport Paper from \"@material-ui/core/Paper\";\nimport Container from \"@material-ui/core/Container\";\nimport Grid from \"@material-ui/core/Grid\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Select from \"@material-ui/core/Select\";\nimport TextField from \"@material-ui/core/TextField\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\n\nimport SpeedIcon from \"@material-ui/icons/Speed\";\nimport GroupIcon from \"@material-ui/icons/Group\";\nimport AssignmentIcon from \"@material-ui/icons/Assignment\";\nimport PersonIcon from \"@material-ui/icons/Person\";\nimport TodayIcon from '@material-ui/icons/Today';\nimport BlockIcon from '@material-ui/icons/Block';\nimport DoneIcon from '@material-ui/icons/Done';\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { grey, blue } from \"@material-ui/core/colors\";\nimport { toast } from \"react-toastify\";\n\nimport Chart from \"./Chart\";\nimport ButtonWithSpinner from \"../../components/ButtonWithSpinner\";\n\nimport CardCounter from \"../../components/Dashboard/CardCounter\";\nimport TableAttendantsStatus from \"../../components/Dashboard/TableAttendantsStatus\";\nimport { isArray } from \"lodash\";\n\nimport useDashboard from \"../../hooks/useDashboard\";\nimport useCompanies from \"../../hooks/useCompanies\";\n\nimport { isEmpty } from \"lodash\";\nimport moment from \"moment\";\n\nconst useStyles = makeStyles((theme) => ({\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  fixedHeightPaper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    flexDirection: \"column\",\n    height: 240,\n    overflowY: \"auto\",\n    ...theme.scrollbarStyles,\n  },\n  cardAvatar: {\n    fontSize: \"55px\",\n    color: grey[500],\n    backgroundColor: \"#ffffff\",\n    width: theme.spacing(7),\n    height: theme.spacing(7),\n  },\n  cardTitle: {\n    fontSize: \"18px\",\n    color: blue[700],\n  },\n  cardSubtitle: {\n    color: grey[600],\n    fontSize: \"14px\",\n  },\n  alignRight: {\n    textAlign: \"right\",\n  },\n  fullWidth: {\n    width: \"100%\",\n  },\n  selectContainer: {\n    width: \"100%\",\n    textAlign: \"left\",\n  },\n}));\n\nconst Dashboard = () => {\n  const classes = useStyles();\n  const [counters, setCounters] = useState({});\n  const [attendants, setAttendants] = useState([]);\n  const [filterType, setFilterType] = useState(1);\n  const [period, setPeriod] = useState(0);\n  const [companyDueDate, setCompanyDueDate] = useState();\n  const [dateFrom, setDateFrom] = useState(\n    moment(\"1\", \"D\").format(\"YYYY-MM-DD\")\n  );\n  const [dateTo, setDateTo] = useState(moment().format(\"YYYY-MM-DD\"));\n  const [loading, setLoading] = useState(false);\n  const { find } = useDashboard();\n  const { finding } = useCompanies();\n  useEffect(() => {\n    async function firstLoad() {\n      await fetchData();\n    }\n    setTimeout(() => {\n      firstLoad();\n    }, 1000);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  async function handleChangePeriod(value) {\n    setPeriod(value);\n  }\n\n  async function handleChangeFilterType(value) {\n    setFilterType(value);\n    if (value === 1) {\n      setPeriod(0);\n    } else {\n      setDateFrom(\"\");\n      setDateTo(\"\");\n    }\n  }\n\n  async function fetchData() {\n    setLoading(true);\n\n    let params = {};\n\n    if (period > 0) {\n      params = {\n        days: period,\n      };\n    }\n\n    if (!isEmpty(dateFrom) && moment(dateFrom).isValid()) {\n      params = {\n        ...params,\n        date_from: moment(dateFrom).format(\"YYYY-MM-DD\"),\n      };\n    }\n\n    if (!isEmpty(dateTo) && moment(dateTo).isValid()) {\n      params = {\n        ...params,\n        date_to: moment(dateTo).format(\"YYYY-MM-DD\"),\n      };\n    }\n\n    if (Object.keys(params).length === 0) {\n      toast.error(\"Parametrize o filtro\");\n      setLoading(false);\n      return;\n    }\n\n    const data = await find(params);\n\n\n\n    setCounters(data.counters);\n    if (isArray(data.attendants)) {\n      setAttendants(data.attendants);\n    } else {\n      setAttendants([]);\n    }\n\n    setLoading(false);\n  }\n\n  useEffect(() => {\n    async function fetchData() {\n      await loadCompanies();\n    }\n    fetchData();\n  }, [])\n  //let companyDueDate = localStorage.getItem(\"companyDueDate\");\n  //const companyDueDate = localStorage.getItem(\"companyDueDate\").toString();\n  const companyId = localStorage.getItem(\"companyId\");\n  const loadCompanies = async () => {\n    setLoading(true);\n    try {\n      const companiesList = await finding(companyId);\n      setCompanyDueDate(moment(companiesList.dueDate).format(\"DD/MM/yyyy\"));\n    } catch (e) {\n      console.log(\"🚀 Console Log : e\", e);\n      // toast.error(\"Não foi possível carregar a lista de registros\");\n    }\n    setLoading(false);\n  };\n\n  function formatTime(minutes) {\n    return moment()\n      .startOf(\"day\")\n      .add(minutes, \"minutes\")\n      .format(\"HH[h] mm[m]\");\n  }\n\n  function renderFilters() {\n    if (filterType === 1) {\n      return (\n        <>\n          <Grid item xs={12} sm={6} md={4}>\n            <TextField\n              label=\"Data Inicial\"\n              type=\"date\"\n              value={dateFrom}\n              onChange={(e) => setDateFrom(e.target.value)}\n              className={classes.fullWidth}\n              InputLabelProps={{\n                shrink: true,\n              }}\n            />\n          </Grid>\n          <Grid item xs={12} sm={6} md={4}>\n            <TextField\n              label=\"Data Final\"\n              type=\"date\"\n              value={dateTo}\n              onChange={(e) => setDateTo(e.target.value)}\n              className={classes.fullWidth}\n              InputLabelProps={{\n                shrink: true,\n              }}\n            />\n          </Grid>\n        </>\n      );\n    } else {\n      return (\n        <Grid item xs={12} sm={6} md={4}>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"period-selector-label\">Período</InputLabel>\n            <Select\n              labelId=\"period-selector-label\"\n              id=\"period-selector\"\n              value={period}\n              onChange={(e) => handleChangePeriod(e.target.value)}\n            >\n              <MenuItem value={0}>Nenhum selecionado</MenuItem>\n              <MenuItem value={3}>Últimos 3 dias</MenuItem>\n              <MenuItem value={7}>Últimos 7 dias</MenuItem>\n              <MenuItem value={15}>Últimos 15 dias</MenuItem>\n              <MenuItem value={30}>Últimos 30 dias</MenuItem>\n              <MenuItem value={60}>Últimos 60 dias</MenuItem>\n              <MenuItem value={90}>Últimos 90 dias</MenuItem>\n            </Select>\n            <FormHelperText>Selecione o período desejado</FormHelperText>\n          </FormControl>\n        </Grid>\n      );\n    }\n  }\n\n  return (\n    <div>\n      <Container maxWidth=\"lg\" className={classes.container}>\n        <Grid container spacing={3} justifyContent=\"flex-end\">\n          <Grid item xs={12} sm={6} md={3}>\n            <CardCounter\n              icon={<TodayIcon fontSize=\"inherit\" />}\n              title=\"Data Vencimento\"\n              value={companyDueDate}\n              loading={loading}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <Paper className={classes.fixedHeightPaper}>\n              <Chart />\n            </Paper>\n          </Grid>\n          <Grid item xs={12} sm={6} md={4}>\n            <FormControl className={classes.selectContainer}>\n              <InputLabel id=\"period-selector-label\">Tipo de Filtro</InputLabel>\n              <Select\n                labelId=\"period-selector-label\"\n                value={filterType}\n                onChange={(e) => handleChangeFilterType(e.target.value)}\n              >\n                <MenuItem value={1}>Filtro por Data</MenuItem>\n                <MenuItem value={2}>Filtro por Período</MenuItem>\n              </Select>\n              <FormHelperText>Selecione o período desejado</FormHelperText>\n            </FormControl>\n          </Grid>\n\n          {renderFilters()}\n\n          <Grid item xs={12} className={classes.alignRight}>\n            <ButtonWithSpinner\n              loading={loading}\n              onClick={() => fetchData()}\n              variant=\"contained\"\n              color=\"primary\"\n            >\n              Filtrar\n            </ButtonWithSpinner>\n          </Grid>\n          <Grid item xs={12} sm={6} md={4}>\n            <CardCounter\n              icon={<GroupIcon fontSize=\"inherit\" />}\n              title=\"Atd. Pendentes\"\n              value={counters.supportPending}\n              loading={loading}\n            />\n          </Grid>\n          <Grid item xs={12} sm={6} md={4}>\n            <CardCounter\n              icon={<GroupIcon fontSize=\"inherit\" />}\n              title=\"Atd. Acontecendo\"\n              value={counters.supportHappening}\n              loading={loading}\n            />\n          </Grid>\n          <Grid item xs={12} sm={6} md={4}>\n            <CardCounter\n              icon={<AssignmentIcon fontSize=\"inherit\" />}\n              title=\"Atd. Realizados\"\n              value={counters.supportFinished}\n              loading={loading}\n            />\n          </Grid>\n          <Grid item xs={12} sm={6} md={4}>\n            <CardCounter\n              icon={<PersonIcon fontSize=\"inherit\" />}\n              title=\"Leads\"\n              value={counters.leads}\n              loading={loading}\n            />\n          </Grid>\n          <Grid item xs={12} sm={6} md={4}>\n            <CardCounter\n              icon={<SpeedIcon fontSize=\"inherit\" />}\n              title=\"T.M. de Atendimento\"\n              value={formatTime(counters.avgSupportTime)}\n              loading={loading}\n            />\n          </Grid>\n          <Grid item xs={12} sm={6} md={4}>\n            <CardCounter\n              icon={<SpeedIcon fontSize=\"inherit\" />}\n              title=\"T.M. de Espera\"\n              value={formatTime(counters.avgWaitTime)}\n              loading={loading}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            {attendants.length ? (\n              <TableAttendantsStatus\n                attendants={attendants}\n                loading={loading}\n              />\n            ) : null}\n          </Grid>\n        </Grid>\n      </Container>\n    </div>\n  );\n};\n\nexport default Dashboard;\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, FieldArray, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\ttextField: {\n\t\tmarginRight: theme.spacing(1),\n\t\tflex: 1,\n\t},\n\n\textraAttr: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n}));\n\nconst ContactSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tnumber: Yup.string().min(8, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\"),\n});\n\nconst ContactModal = ({ open, onClose, contactId, initialValues, onSave }) => {\n\tconst classes = useStyles();\n\tconst isMounted = useRef(true);\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\tnumber: \"\",\n\t\temail: \"\",\n\t};\n\n\tconst [contact, setContact] = useState(initialState);\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tisMounted.current = false;\n\t\t};\n\t}, []);\n\n\tuseEffect(() => {\n\t\tconst fetchContact = async () => {\n\t\t\tif (initialValues) {\n\t\t\t\tsetContact(prevState => {\n\t\t\t\t\treturn { ...prevState, ...initialValues };\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (!contactId) return;\n\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(`/contacts/${contactId}`);\n\t\t\t\tif (isMounted.current) {\n\t\t\t\t\tconsole.log(data)\n\t\t\t\t\tsetContact(data);\n\t\t\t\t}\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t};\n\n\t\tfetchContact();\n\t}, [contactId, open, initialValues]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetContact(initialState);\n\t};\n\n\tconst handleSaveContact = async values => {\n\t\ttry {\n\t\t\tif (contactId) {\n\t\t\t\tawait api.put(`/contacts/${contactId}`, values);\n\t\t\t\thandleClose();\n\t\t\t} else {\n\t\t\t\tconst { data } = await api.post(\"/contacts\", values);\n\t\t\t\tif (onSave) {\n\t\t\t\t\tonSave(data);\n\t\t\t\t}\n\t\t\t\thandleClose();\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"contactModal.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog open={open} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{contactId\n\t\t\t\t\t\t? `${i18n.t(\"contactModal.title.edit\")}`\n\t\t\t\t\t\t: `${i18n.t(\"contactModal.title.add\")}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={contact}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={ContactSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveContact(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ values, errors, touched, isSubmitting }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" gutterBottom>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.mainInfo\")}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.name\")}\n\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\tautoFocus\n\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.number\")}\n\t\t\t\t\t\t\t\t\tname=\"number\"\n\t\t\t\t\t\t\t\t\terror={touched.number && Boolean(errors.number)}\n\t\t\t\t\t\t\t\t\thelperText={touched.number && errors.number}\n\t\t\t\t\t\t\t\t\tplaceholder=\"5513912344321\"\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.email\")}\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Email address\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: 8, marginTop: 12 }}\n\t\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.whatsapp\")} {contact?.whatsapp ? contact?.whatsapp.name : \"\"}\n\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t<Typography\n\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: 8, marginTop: 12 }}\n\t\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.extraInfo\")}\n\t\t\t\t\t\t\t\t</Typography>\n\n\t\t\t\t\t\t\t\t<FieldArray name=\"extraInfo\">\n\t\t\t\t\t\t\t\t\t{({ push, remove }) => (\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t\t{values.extraInfo &&\n\t\t\t\t\t\t\t\t\t\t\t\tvalues.extraInfo.length > 0 &&\n\t\t\t\t\t\t\t\t\t\t\t\tvalues.extraInfo.map((info, index) => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.extraAttr}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={`${index}-info`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.extraName\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`extraInfo[${index}].name`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.extraValue\")}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`extraInfo[${index}].value`}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => remove(index)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteOutlineIcon />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t\t\t<div className={classes.extraAttr}>\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ flex: 1, marginTop: 8 }}\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => push({ name: \"\", value: \"\" })}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t{`+ ${i18n.t(\"contactModal.buttons.addExtraInfo\")}`}\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</FieldArray>\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{contactId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"contactModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"contactModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default ContactModal;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\n\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Autocomplete, {\n\tcreateFilterOptions,\n} from \"@material-ui/lab/Autocomplete\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ContactModal from \"../ContactModal\";\nimport toastError from \"../../errors/toastError\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport {  WhatsApp } from \"@material-ui/icons\";\nimport { Grid, ListItemText, MenuItem, Select } from \"@material-ui/core\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { toast } from \"react-toastify\";\n//import ShowTicketOpen from \"../ShowTicketOpenModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  online: {\n    fontSize: 11,\n    color: \"#25d366\"\n  },\n  offline: {\n    fontSize: 11,\n    color: \"#e1306c\"\n  }\n}));\n\nconst filter = createFilterOptions({\n  trim: true,\n});\n\nconst NewTicketModal = ({ modalOpen, onClose, initialContact }) => {\n  const classes = useStyles();\n  const [options, setOptions] = useState([]);\n\n  const [loading, setLoading] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [selectedContact, setSelectedContact] = useState(null);\n  const [selectedQueue, setSelectedQueue] = useState(\"\");\n  const [selectedWhatsapp, setSelectedWhatsapp] = useState(\"\");\n  const [newContact, setNewContact] = useState({});\n  const [whatsapps, setWhatsapps] = useState([]);\n  const [contactModalOpen, setContactModalOpen] = useState(false);\n  const { user } = useContext(AuthContext);\n  const { companyId, whatsappId } = user;\n\n  const [ openAlert, setOpenAlert ] = useState(false);\n\tconst [ userTicketOpen, setUserTicketOpen] = useState(\"\");\n\tconst [ queueTicketOpen, setQueueTicketOpen] = useState(\"\");\n\n  useEffect(() => {\n    if (initialContact?.id !== undefined) {\n      setOptions([initialContact]);\n      setSelectedContact(initialContact);\n    }\n  }, [initialContact]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        api\n          .get(`/whatsapp`, { params: { companyId, session: 0 } })\n          .then(({ data }) => setWhatsapps(data));\n      };\n\n      if (whatsappId !== null && whatsappId!== undefined) {\n        setSelectedWhatsapp(whatsappId)\n      }\n\n      if (user.queues.length === 1) {\n        setSelectedQueue(user.queues[0].id)\n      }\n      fetchContacts();\n      setLoading(false);\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [])\n\n  useEffect(() => {\n    if (!modalOpen || searchParam.length < 3) {\n      setLoading(false);\n      return;\n    }\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        try {\n          const { data } = await api.get(\"contacts\", {\n            params: { searchParam },\n          });\n          setOptions(data.contacts);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchContacts();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, modalOpen]);\n\n  // const IconChannel = (channel) => {\n  //   switch (channel) {\n  //     case \"facebook\":\n  //       return <Facebook style={{ color: \"#3b5998\", verticalAlign: \"middle\" }} />;\n  //     case \"instagram\":\n  //       return <Instagram style={{ color: \"#e1306c\", verticalAlign: \"middle\" }} />;\n  //     case \"whatsapp\":\n  //       return <WhatsApp style={{ color: \"#25d366\", verticalAlign: \"middle\" }} />\n  //     default:\n  //       return \"error\";\n  //   }\n  // };\n\n  const handleClose = () => {\n    onClose();\n    setSearchParam(\"\");\n    setOpenAlert(false);\n    setUserTicketOpen(\"\");\n    setQueueTicketOpen(\"\");\n    setSelectedContact(null);\n  };\n\n  const handleCloseAlert = () => {\n    setOpenAlert(false);\n    setLoading(false);\n    setOpenAlert(false);\n    setUserTicketOpen(\"\");\n    setQueueTicketOpen(\"\");\n  };\n\n  const handleSaveTicket = async contactId => {\n    if (!contactId) return;\n    if (selectedQueue === \"\" && user.profile !== 'admin') {\n      toast.error(\"Selecione uma fila\");\n      return;\n    }\n    \n    setLoading(true);\n    try {\n      const queueId = selectedQueue !== \"\" ? selectedQueue : null;\n      const whatsappId = selectedWhatsapp !== \"\" ? selectedWhatsapp : null;\n      const { data: ticket } = await api.post(\"/tickets\", {\n        contactId: contactId,\n        queueId,\n        whatsappId,\n        userId: user.id,\n        status: \"open\",\n      });      \n\n      onClose(ticket);\n    } catch (err) {\n      \n      const ticket  = JSON.parse(err.response.data.error);\n\n      if (ticket.userId !== user?.id) {\n        setOpenAlert(true);\n        setUserTicketOpen(ticket.user.name);\n        setQueueTicketOpen(ticket.queue.name);\n      } else {\n        setOpenAlert(false);\n        setUserTicketOpen(\"\");\n        setQueueTicketOpen(\"\");\n        setLoading(false);\n        onClose(ticket);\n      }\n    }  \n    setLoading(false);\n  };\n\n  const handleSelectOption = (e, newValue) => {\n    if (newValue?.number) {\n      setSelectedContact(newValue);\n    } else if (newValue?.name) {\n      setNewContact({ name: newValue.name });\n      setContactModalOpen(true);\n    }\n  };\n\n  const handleCloseContactModal = () => {\n    setContactModalOpen(false);    \n  };\n\n  const handleAddNewContactTicket = contact => {\n    handleSaveTicket(contact.id);\n  };\n\n  const createAddContactOption = (filterOptions, params) => {\n    const filtered = filter(filterOptions, params);\n    if (params.inputValue !== \"\" && !loading && searchParam.length >= 3) {\n      filtered.push({\n        name: `${params.inputValue}`,\n      });\n    }\n    return filtered;\n  };\n\n  const renderOption = option => {\n    if (option.number) {\n      return <>\n        {/* {IconChannel(option.channel)} */}\n        <Typography component=\"span\" style={{ fontSize: 14, marginLeft: \"10px\", display: \"inline-flex\", alignItems: \"center\", lineHeight: \"2\" }}>\n          {option.name} - {option.number}\n        </Typography>\n      </>\n    } else {\n      return `${i18n.t(\"newTicketModal.add\")} ${option.name}`;\n    }\n  };\n\n  const renderOptionLabel = option => {\n    if (option.number) {\n      return `${option.name} - ${option.number}`;\n    } else {\n      return `${option.name}`;\n    }\n  };\n\n  const renderContactAutocomplete = () => {\n    if (initialContact === undefined || initialContact.id === undefined) {\n      return (\n        <Grid xs={12} item>\n          <Autocomplete\n            fullWidth\n            options={options}\n            loading={loading}\n            clearOnBlur\n            autoHighlight\n            freeSolo\n            clearOnEscape\n            getOptionLabel={renderOptionLabel}\n            renderOption={renderOption}\n            filterOptions={createAddContactOption}\n            onChange={(e, newValue) => handleSelectOption(e, newValue)}\n            renderInput={params => (\n              <TextField\n                {...params}\n                label={i18n.t(\"newTicketModal.fieldLabel\")}\n                variant=\"outlined\"\n                autoFocus\n                onChange={e => setSearchParam(e.target.value)}\n                onKeyPress={e => {\n                  if (loading || !selectedContact) return;\n                  else if (e.key === \"Enter\") {\n                    handleSaveTicket(selectedContact.id);\n                  }\n                }}\n                InputProps={{\n                  ...params.InputProps,\n                  endAdornment: (\n                    <React.Fragment>\n                      {loading ? (\n                        <CircularProgress color=\"inherit\" size={20} />\n                      ) : null}\n                      {params.InputProps.endAdornment}\n                    </React.Fragment>\n                  ),\n                }}\n              />\n            )}\n          />\n        </Grid>\n      )\n    }\n    return null;\n  }\n\n  return (\n    <>\n      <ContactModal\n        open={contactModalOpen}\n        initialValues={newContact}\n        onClose={handleCloseContactModal}\n        onSave={handleAddNewContactTicket}\n      ></ContactModal>\n      <Dialog open={modalOpen} onClose={handleClose}>\n        <DialogTitle id=\"form-dialog-title\">\n          {i18n.t(\"newTicketModal.title\")}\n        </DialogTitle>\n        <DialogContent dividers>\n          <Grid style={{ width: 300 }} container spacing={2}>\n            {/* CONTATO */}\n            {renderContactAutocomplete()}\n            {/* FILA */}\n            <Grid xs={12} item>\n              <Select\n                required\n                fullWidth\n                displayEmpty\n                variant=\"outlined\"\n                value={selectedQueue}\n                onChange={(e) => {\n                  setSelectedQueue(e.target.value)\n                }}\n                MenuProps={{\n                  anchorOrigin: {\n                    vertical: \"bottom\",\n                    horizontal: \"left\",\n                  },\n                  transformOrigin: {\n                    vertical: \"top\",\n                    horizontal: \"left\",\n                  },\n                  getContentAnchorEl: null,\n                }}\n                renderValue={() => {\n                  if (selectedQueue === \"\") {\n                    return \"Selecione uma fila\"\n                  }\n                  const queue = user.queues.find(q => q.id === selectedQueue)\n                  return queue.name\n                }}\n              >\n                {user.queues?.length > 0 &&\n                  user.queues.map((queue, key) => (\n                    <MenuItem dense key={key} value={queue.id}>\n                      <ListItemText primary={queue.name} />\n                    </MenuItem>\n                  ))\n                }\n              </Select>\n            </Grid>\n            {/* CONEXAO */}\n            <Grid xs={12} item>\n              <Select\n                required\n                fullWidth\n                displayEmpty\n                variant=\"outlined\"\n                value={selectedWhatsapp}\n                onChange={(e) => {\n                  setSelectedWhatsapp(e.target.value)\n                }}\n                MenuProps={{\n                  anchorOrigin: {\n                    vertical: \"bottom\",\n                    horizontal: \"left\",\n                  },\n                  transformOrigin: {\n                    vertical: \"top\",\n                    horizontal: \"left\",\n                  },\n                  getContentAnchorEl: null,\n                }}\n                renderValue={() => {\n                  if (selectedWhatsapp === \"\") {\n                    return \"Selecione uma Conexão\"\n                  }\n                  const whatsapp = whatsapps.find(w => w.id === selectedWhatsapp)\n                  return whatsapp.name\n                }}\n              >\n                {whatsapps?.length > 0 &&\n                  whatsapps.map((whatsapp, key) => (\n                    <MenuItem dense key={key} value={whatsapp.id}>\n                      <ListItemText\n                        primary={\n                          <>\n                            {/* {IconChannel(whatsapp.channel)} */}\n                            <Typography component=\"span\" style={{ fontSize: 14, marginLeft: \"10px\", display: \"inline-flex\", alignItems: \"center\", lineHeight: \"2\" }}>\n                              {whatsapp.name} &nbsp; <p className={(whatsapp.status) === 'CONNECTED' ? classes.online : classes.offline} >({whatsapp.status})</p>\n                            </Typography>\n                          </>\n                        }\n                      />\n                    </MenuItem>\n                  ))}\n              </Select>\n            </Grid>\n          </Grid>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={handleClose}\n            color=\"secondary\"\n            disabled={loading}\n            variant=\"outlined\"\n          >\n            {i18n.t(\"newTicketModal.buttons.cancel\")}\n          </Button>\n          <ButtonWithSpinner\n            variant=\"contained\"\n            type=\"button\"\n            disabled={!selectedContact}\n            onClick={() => handleSaveTicket(selectedContact.id)}\n            color=\"primary\"\n            loading={loading}\n          >\n            {i18n.t(\"newTicketModal.buttons.ok\")}\n          </ButtonWithSpinner>\n        </DialogActions>\n        {/* <ShowTicketOpen\n          isOpen={openAlert}\n          handleClose={handleCloseAlert}\n          user={userTicketOpen}\n          queue={queueTicketOpen}\n\t\t\t  /> */}\n      </Dialog >\n    </>\n  );\n};\nexport default NewTicketModal;","import React from \"react\";\n\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\n\nconst TicketsSkeleton = () => {\n\treturn (\n\t\t<>\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={60} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={90} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={70} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={120} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t\t<ListItem dense>\n\t\t\t\t<ListItemAvatar>\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n\t\t\t\t</ListItemAvatar>\n\t\t\t\t<ListItemText\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={60} />}\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={90} />}\n\t\t\t\t/>\n\t\t\t</ListItem>\n\t\t\t<Divider variant=\"inset\" />\n\t\t</>\n\t);\n};\n\nexport default TicketsSkeleton;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport List from \"@material-ui/core/List\";\nimport Paper from \"@material-ui/core/Paper\";\n\nimport TicketListItem from \"../TicketListItemCustom\";\nimport TicketsListSkeleton from \"../TicketsListSkeleton\";\n\nimport useTickets from \"../../hooks/useTickets\";\nimport { i18n } from \"../../translate/i18n\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst useStyles = makeStyles((theme) => ({\n  ticketsListWrapper: {\n    position: \"relative\",\n    display: \"flex\",\n    height: \"100%\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n  },\n\n  ticketsList: {\n    flex: 1,\n    maxHeight: \"100%\",\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n    borderTop: \"2px solid rgba(0, 0, 0, 0.12)\",\n  },\n\n  ticketsListHeader: {\n    color: \"rgb(67, 83, 105)\",\n    zIndex: 2,\n    backgroundColor: \"white\",\n    borderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n  },\n\n  ticketsCount: {\n    fontWeight: \"normal\",\n    color: \"rgb(104, 121, 146)\",\n    marginLeft: \"8px\",\n    fontSize: \"14px\",\n  },\n\n  noTicketsText: {\n    textAlign: \"center\",\n    color: \"rgb(104, 121, 146)\",\n    fontSize: \"14px\",\n    lineHeight: \"1.4\",\n  },\n\n  noTicketsTitle: {\n    textAlign: \"center\",\n    fontSize: \"16px\",\n    fontWeight: \"600\",\n    margin: \"0px\",\n  },\n\n  noTicketsDiv: {\n    display: \"flex\",\n    height: \"100px\",\n    margin: 40,\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_TICKETS\") {\n    const newTickets = action.payload;\n\n    newTickets.forEach((ticket) => {\n      const ticketIndex = state.findIndex((t) => t.id === ticket.id);\n      if (ticketIndex !== -1) {\n        state[ticketIndex] = ticket;\n        if (ticket.unreadMessages > 0) {\n          state.unshift(state.splice(ticketIndex, 1)[0]);\n        }\n      } else {\n        state.push(ticket);\n      }\n    });\n\n    return [...state];\n  }\n\n  if (action.type === \"RESET_UNREAD\") {\n    const ticketId = action.payload;\n\n    const ticketIndex = state.findIndex((t) => t.id === ticketId);\n    if (ticketIndex !== -1) {\n      state[ticketIndex].unreadMessages = 0;\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_TICKET\") {\n    const ticket = action.payload;\n\n    const ticketIndex = state.findIndex((t) => t.id === ticket.id);\n    if (ticketIndex !== -1) {\n      state[ticketIndex] = ticket;\n    } else {\n      state.unshift(ticket);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_TICKET_UNREAD_MESSAGES\") {\n    const ticket = action.payload;\n\n    const ticketIndex = state.findIndex((t) => t.id === ticket.id);\n    if (ticketIndex !== -1) {\n      state[ticketIndex] = ticket;\n      state.unshift(state.splice(ticketIndex, 1)[0]);\n    } else {\n      state.unshift(ticket);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"UPDATE_TICKET_CONTACT\") {\n    const contact = action.payload;\n    const ticketIndex = state.findIndex((t) => t.contactId === contact.id);\n    if (ticketIndex !== -1) {\n      state[ticketIndex].contact = contact;\n    }\n    return [...state];\n  }\n\n  if (action.type === \"DELETE_TICKET\") {\n    const ticketId = action.payload;\n    const ticketIndex = state.findIndex((t) => t.id === ticketId);\n    if (ticketIndex !== -1) {\n      state.splice(ticketIndex, 1);\n    }\n\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst TicketsListCustom = (props) => {\n  const {\n    status,\n    searchParam,\n    tags,\n    users,\n    showAll,\n    selectedQueueIds,\n    updateCount,\n    style,\n  } = props;\n  const classes = useStyles();\n  const [pageNumber, setPageNumber] = useState(1);\n  const [ticketsList, dispatch] = useReducer(reducer, []);\n  const { user } = useContext(AuthContext);\n  const { profile, queues } = user;\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [status, searchParam, dispatch, showAll, tags, users, selectedQueueIds]);\n\n  const { tickets, hasMore, loading } = useTickets({\n    pageNumber,\n    searchParam,\n    status,\n    showAll,\n    tags: JSON.stringify(tags),\n    users: JSON.stringify(users),\n    queueIds: JSON.stringify(selectedQueueIds),\n  });\n\n  useEffect(() => {\n    const queueIds = queues.map((q) => q.id);\n    const filteredTickets = tickets.filter(\n      (t) => queueIds.indexOf(t.queueId) > -1\n    );\n\n    if (profile === \"user\") {\n      dispatch({ type: \"LOAD_TICKETS\", payload: filteredTickets });\n    } else {\n      dispatch({ type: \"LOAD_TICKETS\", payload: tickets });\n    }\n  }, [tickets, status, searchParam, queues, profile]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    const shouldUpdateTicket = (ticket) =>\n      (!ticket.userId || ticket.userId === user?.id || showAll) &&\n      (!ticket.queueId || selectedQueueIds.indexOf(ticket.queueId) > -1);\n\n    const notBelongsToUserQueues = (ticket) =>\n      ticket.queueId && selectedQueueIds.indexOf(ticket.queueId) === -1;\n\n    socket.on(\"connect\", () => {\n      if (status) {\n        socket.emit(\"joinTickets\", status);\n      } else {\n        socket.emit(\"joinNotification\");\n      }\n    });\n\n    socket.on(`company-${companyId}-ticket`, (data) => {\n      \n      if (data.action === \"updateUnread\") {\n        dispatch({\n          type: \"RESET_UNREAD\",\n          payload: data.ticketId,\n        });\n      }\n\n      if (data.action === \"update\" && shouldUpdateTicket(data.ticket)) {\n        dispatch({\n          type: \"UPDATE_TICKET\",\n          payload: data.ticket,\n        });\n      }\n\n      if (data.action === \"update\" && notBelongsToUserQueues(data.ticket)) {\n        dispatch({ type: \"DELETE_TICKET\", payload: data.ticket.id });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_TICKET\", payload: data.ticketId });\n      }\n    });\n\n    socket.on(`company-${companyId}-appMessage`, (data) => {\n      const queueIds = queues.map((q) => q.id);\n      if (\n        profile === \"user\" &&\n        (queueIds.indexOf(data.ticket.queue?.id) === -1 ||\n          data.ticket.queue === null)\n      ) {\n        return;\n      }\n\n      if (data.action === \"create\" && shouldUpdateTicket(data.ticket)) {\n        dispatch({\n          type: \"UPDATE_TICKET_UNREAD_MESSAGES\",\n          payload: data.ticket,\n        });\n      }\n    });\n\n    socket.on(`company-${companyId}-contact`, (data) => {\n      if (data.action === \"update\") {\n        dispatch({\n          type: \"UPDATE_TICKET_CONTACT\",\n          payload: data.contact,\n        });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [status, showAll, user, selectedQueueIds, tags, users, profile, queues]);\n\n  useEffect(() => {\n    if (typeof updateCount === \"function\") {\n      updateCount(ticketsList.length);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [ticketsList]);\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <Paper className={classes.ticketsListWrapper} style={style}>\n      <Paper\n        square\n        name=\"closed\"\n        elevation={0}\n        className={classes.ticketsList}\n        onScroll={handleScroll}\n      >\n        <List style={{ paddingTop: 0 }}>\n          {ticketsList.length === 0 && !loading ? (\n            <div className={classes.noTicketsDiv}>\n              <span className={classes.noTicketsTitle}>\n                {i18n.t(\"ticketsList.noTicketsTitle\")}\n              </span>\n              <p className={classes.noTicketsText}>\n                {i18n.t(\"ticketsList.noTicketsMessage\")}\n              </p>\n            </div>\n          ) : (\n            <>\n              {ticketsList.map((ticket) => (\n                <TicketListItem ticket={ticket} key={ticket.id} />\n              ))}\n            </>\n          )}\n          {loading && <TicketsListSkeleton />}\n        </List>\n      </Paper>\n    </Paper>\n  );\n};\n\nexport default TicketsListCustom;\n","import React from \"react\";\n\nconst TabPanel = ({ children, value, name, ...rest }) => {\n\tif (value === name) {\n\t\treturn (\n\t\t\t<div\n\t\t\t\trole=\"tabpanel\"\n\t\t\t\tid={`simple-tabpanel-${name}`}\n\t\t\t\taria-labelledby={`simple-tab-${name}`}\n\t\t\t\t{...rest}\n\t\t\t>\n\t\t\t\t<>{children}</>\n\t\t\t</div>\n\t\t);\n\t} else return null;\n};\n\nexport default TabPanel;\n","import React from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport { Checkbox, ListItemText } from \"@material-ui/core\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst TicketsQueueSelect = ({\n\tuserQueues,\n\tselectedQueueIds = [],\n\tonChange,\n}) => {\n\tconst handleChange = e => {\n\t\tonChange(e.target.value);\n\t};\n\n\treturn (\n\t\t<div style={{ width: 120, marginTop: -4 }}>\n\t\t\t<FormControl fullWidth margin=\"dense\">\n\t\t\t\t<Select\n\t\t\t\t\tmultiple\n\t\t\t\t\tdisplayEmpty\n\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\tvalue={selectedQueueIds}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t}}\n\t\t\t\t\trenderValue={() => i18n.t(\"ticketsQueueSelect.placeholder\")}\n\t\t\t\t>\n\t\t\t\t\t{userQueues?.length > 0 &&\n\t\t\t\t\t\tuserQueues.map(queue => (\n\t\t\t\t\t\t\t<MenuItem dense key={queue.id} value={queue.id}>\n\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\t\t\tcolor: queue.color,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tchecked={selectedQueueIds.indexOf(queue.id) > -1}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<ListItemText primary={queue.name} />\n\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</FormControl>\n\t\t</div>\n\t);\n};\n\nexport default TicketsQueueSelect;\n","import { Box, Chip, TextField } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport React, { useEffect, useState } from \"react\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\n\nexport function TagsFilter({ onFiltered }) {\n  const [tags, setTags] = useState([]);\n  const [selecteds, setSelecteds] = useState([]);\n\n  useEffect(() => {\n    async function fetchData() {\n      await loadTags();\n    }\n    fetchData();\n  }, []);\n\n  const loadTags = async () => {\n    try {\n      const { data } = await api.get(`/tags/list`);\n      setTags(data);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const onChange = async (value) => {\n    setSelecteds(value);\n    onFiltered(value);\n  };\n\n  return (\n    <Box style={{ padding: 10 }}>\n      <Autocomplete\n        multiple\n        size=\"small\"\n        options={tags}\n        value={selecteds}\n        onChange={(e, v, r) => onChange(v)}\n        getOptionLabel={(option) => option.name}\n        renderTags={(value, getTagProps) =>\n          value.map((option, index) => (\n            <Chip\n              variant=\"outlined\"\n              style={{\n                backgroundColor: option.color || \"#eee\",\n                textShadow: \"1px 1px 1px #000\",\n                color: \"white\",\n              }}\n              label={option.name}\n              {...getTagProps({ index })}\n              size=\"small\"\n            />\n          ))\n        }\n        renderInput={(params) => (\n          <TextField\n            {...params}\n            variant=\"outlined\"\n            placeholder=\"Filtro por Tags\"\n          />\n        )}\n      />\n    </Box>\n  );\n}\n","import { Box, Chip, TextField } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport React, { useEffect, useState } from \"react\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\n\nexport function UsersFilter({ onFiltered, initialUsers }) {\n  const [users, setUsers] = useState([]);\n  const [selecteds, setSelecteds] = useState([]);\n\n  useEffect(() => {\n    async function fetchData() {\n      await loadUsers();\n    }\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    setSelecteds([]);\n    if (\n      Array.isArray(initialUsers) &&\n      Array.isArray(users) &&\n      users.length > 0\n    ) {\n      onChange(initialUsers);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [initialUsers, users]);\n\n  const loadUsers = async () => {\n    try {\n      const { data } = await api.get(`/users/list`);\n      const userList = data.map((u) => ({ id: u.id, name: u.name }));\n      setUsers(userList);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const onChange = async (value) => {\n    setSelecteds(value);\n    onFiltered(value);\n  };\n\n  return (\n    <Box style={{ padding: \"0px 10px 10px\" }}>\n      <Autocomplete\n        multiple\n        size=\"small\"\n        options={users}\n        value={selecteds}\n        onChange={(e, v, r) => onChange(v)}\n        getOptionLabel={(option) => option.name}\n        getOptionSelected={(option, value) => {\n          return (\n            option?.id === value?.id ||\n            option?.name.toLowerCase() === value?.name.toLowerCase()\n          );\n        }}\n        renderTags={(value, getUserProps) =>\n          value.map((option, index) => (\n            <Chip\n              variant=\"outlined\"\n              style={{\n                backgroundColor: \"#bfbfbf\",\n                textShadow: \"1px 1px 1px #000\",\n                color: \"white\",\n              }}\n              label={option.name}\n              {...getUserProps({ index })}\n              size=\"small\"\n            />\n          ))\n        }\n        renderInput={(params) => (\n          <TextField\n            {...params}\n            variant=\"outlined\"\n            placeholder=\"Filtro por Users\"\n          />\n        )}\n      />\n    </Box>\n  );\n}\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Badge from \"@material-ui/core/Badge\";\nimport MoveToInboxIcon from \"@material-ui/icons/MoveToInbox\";\nimport CheckBoxIcon from \"@material-ui/icons/CheckBox\";\n\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Switch from \"@material-ui/core/Switch\";\n\nimport NewTicketModal from \"../NewTicketModal\";\nimport TicketsList from \"../TicketsListCustom\";\nimport TabPanel from \"../TabPanel\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../Can\";\nimport TicketsQueueSelect from \"../TicketsQueueSelect\";\nimport { Button } from \"@material-ui/core\";\nimport { TagsFilter } from \"../TagsFilter\";\nimport { UsersFilter } from \"../UsersFilter\";\n\nconst useStyles = makeStyles(theme => ({\n\tticketsWrapper: {\n\t\tposition: \"relative\",\n\t\tdisplay: \"flex\",\n\t\theight: \"100%\",\n\t\tflexDirection: \"column\",\n\t\toverflow: \"hidden\",\n\t\tborderTopRightRadius: 0,\n\t\tborderBottomRightRadius: 0,\n\t\tborderRadius:0,\n\t},\n\n\ttabsHeader: {\n\t\tflex: \"none\",\n\t\tbackgroundColor: theme.palette.tabHeaderBackground,\n\t},\n\n\ttabsInternal: {\n\t\tflex: \"none\",\n\t\tbackgroundColor: theme.palette.tabHeaderBackground\n\t},\n\n\tsettingsIcon: {\n\t\talignSelf: \"center\",\n\t\tmarginLeft: \"auto\",\n\t\tpadding: 8,\n\t},\n\n\ttab: {\n\t\tminWidth: 120,\n\t\twidth: 120,\n\t},\n\n\tinternalTab: {\n\t\tminWidth: 120,\n\t\twidth: 120,\n\t\tpadding: 5\n\t},\n\n\tticketOptionsBox: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-between\",\n\t\talignItems: \"center\",\n\t\tbackground: theme.palette.optionsBackground,\n\t\tpadding: theme.spacing(1),\n\t},\n\n\tticketSearchLine: {\n\t\tpadding: theme.spacing(1),\n\t},\n\n\tserachInputWrapper: {\n\t\tflex: 1,\n\t\tbackground: theme.palette.total,\n\t\tdisplay: \"flex\",\n\t\tborderRadius: 40,\n\t\tpadding: 4,\n\t\tmarginRight: theme.spacing(1),\n\t},\n\n\tsearchIcon: {\n\t\tcolor: \"grey\",\n\t\tmarginLeft: 6,\n\t\tmarginRight: 6,\n\t\talignSelf: \"center\",\n\t},\n\n\tsearchInput: {\n\t\tflex: 1,\n\t\tborder: \"none\",\n\t\tborderRadius: 30,\n\t},\n\n\tinsiderTabPanel: {\n\t\theight: '100%',\n\t\tmarginTop: \"-72px\",\n\t\tpaddingTop: \"72px\"\n\t},\n\n\tinsiderDoubleTabPanel: {\n\t\tdisplay:\"flex\",\n\t\tflexDirection: \"column\",\n\t\tmarginTop: \"-72px\",\n\t\tpaddingTop: \"72px\",\n\t\theight: \"100%\"\n\t},\n\n\tlabelContainer: {\n\t\twidth: \"auto\",\n\t\tpadding: 0\n\t},\n\ticonLabelWrapper: {\n\t\tflexDirection: \"row\",\n\t\t'& > *:first-child': {\n\t\t\tmarginBottom: '3px !important',\n\t\t\tmarginRight: 16\n\t\t}\n\t},\n\tinsiderTabLabel: {\n\t\t[theme.breakpoints.down(1600)]: {\n\t\t\tdisplay:'none'\n\t\t}\n\t},\n\tsmallFormControl: {\n\t\t'& .MuiOutlinedInput-input': {\n\t\t\tpadding: \"12px 10px\",\n\t\t},\n\t\t'& .MuiInputLabel-outlined': {\n\t\t\tmarginTop: \"-6px\"\n\t\t}\n\t}\n}));\n\nconst TicketsManagerTabs = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [tab, setTab] = useState(\"open\");\n  const [tabOpen, setTabOpen] = useState(\"open\");\n  const [newTicketModalOpen, setNewTicketModalOpen] = useState(false);\n  const [showAllTickets, setShowAllTickets] = useState(false);\n  const searchInputRef = useRef();\n  const { user } = useContext(AuthContext);\n  const { profile } = user;\n\n  const [openCount, setOpenCount] = useState(0);\n  const [pendingCount, setPendingCount] = useState(0);\n\n  const userQueueIds = user.queues.map((q) => q.id);\n  const [selectedQueueIds, setSelectedQueueIds] = useState(userQueueIds || []);\n  const [selectedTags, setSelectedTags] = useState([]);\n  const [selectedUsers, setSelectedUsers] = useState([]);\n\n  useEffect(() => {\n    if (user.profile.toUpperCase() === \"ADMIN\") {\n      setShowAllTickets(true);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (tab === \"search\") {\n      searchInputRef.current.focus();\n    }\n  }, [tab]);\n\n  let searchTimeout;\n\n  const handleSearch = (e) => {\n    const searchedTerm = e.target.value.toLowerCase();\n\n    clearTimeout(searchTimeout);\n\n    if (searchedTerm === \"\") {\n      setSearchParam(searchedTerm);\n      setTab(\"open\");\n      return;\n    }\n\n    searchTimeout = setTimeout(() => {\n      setSearchParam(searchedTerm);\n    }, 500);\n  };\n\n  const handleChangeTab = (e, newValue) => {\n    setTab(newValue);\n  };\n\n  const handleChangeTabOpen = (e, newValue) => {\n    setTabOpen(newValue);\n  };\n\n  const applyPanelStyle = (status) => {\n    if (tabOpen !== status) {\n      return { width: 0, height: 0 };\n    }\n  };\n\n  const handleCloseOrOpenTicket = (ticket) => {\n    setNewTicketModalOpen(false);\n    if (ticket !== undefined && ticket.uuid !== undefined) {\n      history.push(`/tickets/${ticket.uuid}`);\n    }\n  };\n\n  const handleSelectedTags = (selecteds) => {\n    const tags = selecteds.map((t) => t.id);\n    setSelectedTags(tags);\n  };\n\n  const handleSelectedUsers = (selecteds) => {\n    const users = selecteds.map((t) => t.id);\n    setSelectedUsers(users);\n  };\n\n  return (\n    <Paper elevation={0} variant=\"outlined\" className={classes.ticketsWrapper}>\n      <NewTicketModal\n        modalOpen={newTicketModalOpen}\n        onClose={(ticket) => {\n          \n          handleCloseOrOpenTicket(ticket);\n        }}\n      />\n      <Paper elevation={0} square className={classes.tabsHeader}>\n        <Tabs\n          value={tab}\n          onChange={handleChangeTab}\n          variant=\"fullWidth\"\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          aria-label=\"icon label tabs example\"\n        >\n          <Tab\n            value={\"open\"}\n            icon={<MoveToInboxIcon />}\n            label={i18n.t(\"tickets.tabs.open.title\")}\n            classes={{ root: classes.tab }}\n          />\n          <Tab\n            value={\"closed\"}\n            icon={<CheckBoxIcon />}\n            label={i18n.t(\"tickets.tabs.closed.title\")}\n            classes={{ root: classes.tab }}\n          />\n          <Tab\n            value={\"search\"}\n            icon={<SearchIcon />}\n            label={i18n.t(\"tickets.tabs.search.title\")}\n            classes={{ root: classes.tab }}\n          />\n        </Tabs>\n      </Paper>\n      <Paper square elevation={0} className={classes.ticketOptionsBox}>\n        {tab === \"search\" ? (\n          <div className={classes.serachInputWrapper}>\n            <SearchIcon className={classes.searchIcon} />\n            <InputBase\n              className={classes.searchInput}\n              inputRef={searchInputRef}\n              placeholder={i18n.t(\"tickets.search.placeholder\")}\n              type=\"search\"\n              onChange={handleSearch}\n            />\n          </div>\n        ) : (\n          <>\n            <Button\n              variant=\"outlined\"\n              color=\"primary\"\n              onClick={() => setNewTicketModalOpen(true)}\n            >\n              {i18n.t(\"ticketsManager.buttons.newTicket\")}\n            </Button>\n            <Can\n              role={user.profile}\n              perform=\"tickets-manager:showall\"\n              yes={() => (\n                <FormControlLabel\n                  label={i18n.t(\"tickets.buttons.showAll\")}\n                  labelPlacement=\"start\"\n                  control={\n                    <Switch\n                      size=\"small\"\n                      checked={showAllTickets}\n                      onChange={() =>\n                        setShowAllTickets((prevState) => !prevState)\n                      }\n                      name=\"showAllTickets\"\n                      color=\"primary\"\n                    />\n                  }\n                />\n              )}\n            />\n          </>\n        )}\n        <TicketsQueueSelect\n          style={{ marginLeft: 6 }}\n          selectedQueueIds={selectedQueueIds}\n          userQueues={user?.queues}\n          onChange={(values) => setSelectedQueueIds(values)}\n        />\n      </Paper>\n      <TabPanel value={tab} name=\"open\" className={classes.ticketsWrapper}>\n        <Tabs\n          value={tabOpen}\n          onChange={handleChangeTabOpen}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          variant=\"fullWidth\"\n        >\n          <Tab\n            label={\n              <Badge\n                className={classes.badge}\n                badgeContent={openCount}\n                color=\"primary\"\n              >\n                {i18n.t(\"ticketsList.assignedHeader\")}\n              </Badge>\n            }\n            value={\"open\"}\n          />\n          <Tab\n            label={\n              <Badge\n                className={classes.badge}\n                badgeContent={pendingCount}\n                color=\"secondary\"\n              >\n                {i18n.t(\"ticketsList.pendingHeader\")}\n              </Badge>\n            }\n            value={\"pending\"}\n          />\n        </Tabs>\n        <Paper className={classes.ticketsWrapper}>\n          <TicketsList\n            status=\"open\"\n            showAll={showAllTickets}\n            selectedQueueIds={selectedQueueIds}\n            updateCount={(val) => setOpenCount(val)}\n            style={applyPanelStyle(\"open\")}\n          />\n          <TicketsList\n            status=\"pending\"\n            selectedQueueIds={selectedQueueIds}\n            updateCount={(val) => setPendingCount(val)}\n            style={applyPanelStyle(\"pending\")}\n          />\n        </Paper>\n      </TabPanel>\n      <TabPanel value={tab} name=\"closed\" className={classes.ticketsWrapper}>\n        <TicketsList\n          status=\"closed\"\n          showAll={true}\n          selectedQueueIds={selectedQueueIds}\n        />\n      </TabPanel>\n      <TabPanel value={tab} name=\"search\" className={classes.ticketsWrapper}>\n        <TagsFilter onFiltered={handleSelectedTags} />\n        {profile === \"admin\" && (\n          <UsersFilter onFiltered={handleSelectedUsers} />\n        )}\n        <TicketsList\n          searchParam={searchParam}\n          showAll={true}\n          tags={selectedTags}\n          users={selectedUsers}\n          selectedQueueIds={selectedQueueIds}\n        />\n      </TabPanel>\n    </Paper>\n  );\n};\n\nexport default TicketsManagerTabs;\n","import React from \"react\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { i18n } from \"../../translate/i18n\";\nimport { Grid } from \"@material-ui/core\";\n\nconst ContactDrawerSkeleton = ({ classes }) => {\n\treturn (\n\t\t<div className={classes.content}>\n\t\t\t<Paper square variant=\"outlined\" className={classes.contactHeader}>\n\t\t\t\t<Grid container>\n\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\t\t\tvariant=\"circle\"\n\t\t\t\t\t\t\twidth={60}\n\t\t\t\t\t\t\theight={60}\n\t\t\t\t\t\t\tclassName={classes.contactAvatar}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t<Skeleton animation=\"wave\" height={25} width={90} />\n\t\t\t\t\t\t<Skeleton animation=\"wave\" height={25} width={80} />\n\t\t\t\t\t\t<Skeleton animation=\"wave\" height={25} width={80} />\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Paper>\n\t\t\t<Paper square className={classes.contactDetails}>\n\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\t{i18n.t(\"contactDrawer.extraInfo\")}\n\t\t\t\t</Typography>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\n\t\t\t\t</Paper>\n\t\t\t</Paper>\n\t\t</div>\n\t);\n};\n\nexport default ContactDrawerSkeleton;\n","import React, { useState, useEffect } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { Grid } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\ttextField: {\n\t\tmarginRight: theme.spacing(1),\n\t\tflex: 1,\n\t},\n\n\textraAttr: {\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"center\",\n\t\talignItems: \"center\",\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\n    textCenter: {\n        backgroundColor: 'red'\n    }\n}));\n\nconst ContactSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tnumber: Yup.string().min(8, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\"),\n});\n\nexport function ContactForm ({ initialContact, onSave, onCancel }) {\n\tconst classes = useStyles();\n\n\tconst [contact, setContact] = useState(initialContact);\n\n    useEffect(() => {\n        setContact(initialContact);\n    }, [initialContact]);\n\n\tconst handleSaveContact = async values => {\n\t\ttry {\n\t\t\tif (contact.id) {\n\t\t\t\tawait api.put(`/contacts/${contact.id}`, values);\n\t\t\t} else {\n\t\t\t\tconst { data } = await api.post(\"/contacts\", values);\n\t\t\t\tif (onSave) {\n\t\t\t\t\tonSave(data);\n\t\t\t\t}\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"contactModal.success\"));\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n    return (\n        <Formik\n            initialValues={contact}\n            enableReinitialize={true}\n            validationSchema={ContactSchema}\n            onSubmit={(values, actions) => {\n                setTimeout(() => {\n                    handleSaveContact(values);\n                    actions.setSubmitting(false);\n                }, 400);\n            }}\n        >\n            {({ values, errors, touched, isSubmitting }) => (\n                <Form>\n                    <Grid container spacing={1}>\n                        {/* <Grid item xs={12}>\n                            <Typography variant=\"subtitle1\" gutterBottom>\n                                {i18n.t(\"contactModal.form.mainInfo\")}\n                            </Typography>\n                        </Grid> */}\n                        <Grid item xs={12}>\n                            <Field\n                                as={TextField}\n                                label={i18n.t(\"contactModal.form.name\")}\n                                name=\"name\"\n                                autoFocus\n                                error={touched.name && Boolean(errors.name)}\n                                helperText={touched.name && errors.name}\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                className={classes.textField}\n                                fullWidth\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            <Field\n                                as={TextField}\n                                label={i18n.t(\"contactModal.form.number\")}\n                                name=\"number\"\n                                error={touched.number && Boolean(errors.number)}\n                                helperText={touched.number && errors.number}\n                                placeholder=\"5513912344321\"\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                fullWidth\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            <Field\n                                as={TextField}\n                                label={i18n.t(\"contactModal.form.email\")}\n                                name=\"email\"\n                                error={touched.email && Boolean(errors.email)}\n                                helperText={touched.email && errors.email}\n                                placeholder=\"Email address\"\n                                fullWidth\n                                margin=\"dense\"\n                                variant=\"outlined\"\n                            />\n                        </Grid>\n                        <Grid item xs={12} spacing={1}>\n                            <Grid container spacing={1}>\n                                <Grid xs={6} item>\n                                    <Button\n                                        onClick={onCancel}\n                                        color=\"secondary\"\n                                        disabled={isSubmitting}\n                                        variant=\"outlined\"\n                                        fullWidth\n                                    >\n                                        {i18n.t(\"contactModal.buttons.cancel\")}\n                                    </Button>\n                                </Grid>\n                                <Grid classes={classes.textCenter} xs={6} item>\n                                    <Button\n                                        type=\"submit\"\n                                        color=\"primary\"\n                                        disabled={isSubmitting}\n                                        variant=\"contained\"\n                                        className={classes.btnWrapper}\n                                        fullWidth\n                                    >\n                                        {contact.id\n                                            ? `${i18n.t(\"contactModal.buttons.okEdit\")}`\n                                            : `${i18n.t(\"contactModal.buttons.okAdd\")}`}\n                                        {isSubmitting && (\n                                            <CircularProgress\n                                                size={24}\n                                                className={classes.buttonProgress}\n                                            />\n                                        )}\n                                    </Button>\n                                </Grid>\n                            </Grid>\n                        </Grid>\n                    </Grid>\n                </Form>\n            )}\n        </Formik>\n    )\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport IconButton from '@material-ui/core/IconButton';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport moment from 'moment';\n\nconst useStyles = makeStyles((theme) => ({\n    inline: {\n        width: '100%'\n    }\n}));\n\nexport default function ContactNotesDialogListItem (props) {\n    const { note, deleteItem } = props;\n    const classes = useStyles();\n\n    const handleDelete = (item) => {\n        deleteItem(item);\n    }\n\n    return (\n        <ListItem alignItems=\"flex-start\">\n            <ListItemAvatar>\n                <Avatar alt={note.user.name} src=\"/static/images/avatar/1.jpg\" />\n            </ListItemAvatar>\n            <ListItemText\n                primary={\n                    <>\n                        <Typography\n                            component=\"span\"\n                            variant=\"body2\"\n                            className={classes.inline}\n                            color=\"textPrimary\"\n                        >\n                            {note.note}\n                        </Typography>\n                    </>\n                }\n                secondary={\n                    <>\n                        {note.user.name}, {moment(note.createdAt).format('DD/MM/YY HH:mm')}\n                    </>\n                }\n            />\n            <ListItemSecondaryAction>\n                <IconButton onClick={() => handleDelete(note)} edge=\"end\" aria-label=\"delete\">\n                    <DeleteIcon />\n                </IconButton>\n            </ListItemSecondaryAction>\n        </ListItem>\n    )   \n}\n\nContactNotesDialogListItem.propTypes = {\n    note: PropTypes.object.isRequired,\n    deleteItem: PropTypes.func.isRequired\n}","import api from \"../../services/api\";\n\nconst useTicketNotes = () => {\n\n    const saveNote = async (data) => {\n        const { data: responseData } = await api.request({\n            url: '/ticket-notes',\n            method: 'POST',\n            data\n        });\n        return responseData;\n    }\n\n    const deleteNote = async (id) => {\n        const { data } = await api.request({\n            url: `/ticket-notes/${id}`,\n            method: 'DELETE'\n        });\n        return data;\n    }\n\n    const listNotes = async (params) => {\n        const { data } = await api.request({\n            url: '/ticket-notes/list',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    return {\n        saveNote,\n        deleteNote,\n        listNotes\n    }\n}\n\nexport default useTicketNotes;","import React, { useState, useEffect } from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport List from '@material-ui/core/List';\nimport { makeStyles } from '@material-ui/core/styles';\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\n\nimport ContactNotesDialogListItem from '../ContactNotesDialogListItem';\nimport ConfirmationModal from '../ConfirmationModal';\n\nimport { toast } from \"react-toastify\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport ButtonWithSpinner from '../ButtonWithSpinner';\n\nimport useTicketNotes from '../../hooks/useTicketNotes';\nimport { Grid } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        '& .MuiTextField-root': {\n            margin: theme.spacing(1),\n            width: '350px',\n        },\n    },\n    list: {\n        width: '100%',\n        maxWidth: '350px',\n        maxHeight: '200px',\n        backgroundColor: theme.palette.background.paper,\n        overflow: 'auto'\n    },\n    inline: {\n        width: '100%'\n    }\n}));\n\nconst NoteSchema = Yup.object().shape({\n\tnote: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.required(\"Required\")\n});\nexport function ContactNotes ({ ticket }) {\n    const { id: ticketId, contactId } = ticket\n    const classes = useStyles()\n    const [newNote, setNewNote] = useState({ note: \"\" });\n    const [loading, setLoading] = useState(false)\n    const [showOnDeleteDialog, setShowOnDeleteDialog] = useState(false)\n    const [selectedNote, setSelectedNote] = useState({})\n    const [notes, setNotes] = useState([])\n    const { saveNote, deleteNote, listNotes } = useTicketNotes()\n\n    useEffect(() => {\n        async function openAndFetchData () {\n            handleResetState()\n            await loadNotes()\n        }\n        openAndFetchData()\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    const handleResetState = () => {\n        setNewNote({ note: \"\" })\n        setLoading(false)\n    }\n\n    const handleChangeComment = (e) => {\n        setNewNote({ note: e.target.value })\n    }\n\n    const handleSave = async values => {\n        setLoading(true)\n        try {\n            await saveNote({\n                ...values,\n                ticketId,\n                contactId\n            })\n            await loadNotes()\n            setNewNote({ note: '' })\n            toast.success('Observação adicionada com sucesso!')\n        } catch (e) {\n            toast.error(e)\n        }\n        setLoading(false)\n    }\n\n    const handleOpenDialogDelete = (item) => {\n        setSelectedNote(item)\n        setShowOnDeleteDialog(true)\n    }\n\n    const handleDelete = async () => {\n        setLoading(true)\n        try {\n            await deleteNote(selectedNote.id)\n            await loadNotes()\n            setSelectedNote({})\n            toast.success('Observação excluída com sucesso!')\n        } catch (e) {\n            toast.error(e)\n        }\n        setLoading(false)\n    }\n\n    const loadNotes = async () => {\n        setLoading(true)\n        try {\n            const notes = await listNotes({ ticketId, contactId })\n            setNotes(notes)\n        } catch (e) {\n            toast.error(e)\n        }\n        setLoading(false)\n    }\n\n    const renderNoteList = () => {\n        return notes.map((note) => {\n            return <ContactNotesDialogListItem\n                note={note}\n                key={note.id}\n                deleteItem={handleOpenDialogDelete}\n            />\n        })\n    }\n\n    return (\n        <>\n            <ConfirmationModal\n                title=\"Excluir Registro\"\n                open={showOnDeleteDialog}\n                onClose={setShowOnDeleteDialog}\n                onConfirm={handleDelete}\n            >\n                Deseja realmente excluir este registro?\n            </ConfirmationModal>\n            <Formik\n                initialValues={newNote}\n                enableReinitialize={true}\n                validationSchema={NoteSchema}\n                onSubmit={(values, actions) => {\n                    setTimeout(() => {\n                        handleSave(values);\n                        actions.setSubmitting(false);\n                    }, 400);\n                }}\n            >\n\n                {({ touched, errors, setErrors }) => (\n                    <Form>\n                        <Grid container spacing={2}>\n                            <Grid xs={12} item>\n                                <Field\n                                    as={TextField}\n                                    name=\"note\"\n                                    rows={3}\n                                    label={i18n.t(\"ticketOptionsMenu.appointmentsModal.textarea\")}\n                                    placeholder={i18n.t(\"ticketOptionsMenu.appointmentsModal.placeholder\")}\n                                    multiline={true}\n                                    error={touched.note && Boolean(errors.note)}\n                                    helperText={touched.note && errors.note}\n                                    variant=\"outlined\"\n                                    onChange={handleChangeComment}\n                                    fullWidth\n                                />\n                            </Grid>\n                            { notes.length > 0 && (\n                                <Grid xs={12} item>\n                                    <List className={classes.list}>\n                                        { renderNoteList() }\n                                    </List>\n                                </Grid>\n                            ) }\n                            <Grid xs={12} item>\n                                <Grid container spacing={2}>\n                                    <Grid xs={6} item>\n                                        <Button\n                                            onClick={() => {\n                                                setNewNote(\"\");\n                                                setErrors({});\n                                            }}\n                                            color=\"primary\"\n                                            variant=\"outlined\"\n                                            fullWidth\n                                        >\n                                            Cancelar\n                                        </Button>\n                                    </Grid>\n                                    <Grid xs={6} item>\n                                        <ButtonWithSpinner loading={loading} color=\"primary\" type=\"submit\" variant=\"contained\" autoFocus fullWidth>\n                                            Salvar\n                                        </ButtonWithSpinner>\n                                    </Grid>\n                                </Grid>\n                            </Grid>\n                        </Grid>\n                    </Form>\n                )}\n            </Formik>\n        </>\n    );\n}","import React, { useEffect, useState } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Typography from \"@material-ui/core/Typography\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Link from \"@material-ui/core/Link\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport Paper from \"@material-ui/core/Paper\";\nimport CreateIcon from '@material-ui/icons/Create';\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport ContactDrawerSkeleton from \"../ContactDrawerSkeleton\";\nimport MarkdownWrapper from \"../MarkdownWrapper\";\nimport { CardHeader } from \"@material-ui/core\";\nimport { ContactForm } from \"../ContactForm\";\nimport ContactModal from \"../ContactModal\";\nimport { ContactNotes } from \"../ContactNotes\";\n\nconst drawerWidth = 320;\n\nconst useStyles = makeStyles(theme => ({\n\tdrawer: {\n\t\twidth: drawerWidth,\n\t\tflexShrink: 0,\n\t},\n\tdrawerPaper: {\n\t\twidth: drawerWidth,\n\t\tdisplay: \"flex\",\n\t\tborderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderRight: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tborderTopRightRadius: 4,\n\t\tborderBottomRightRadius: 4,\n\t},\n\theader: {\n\t\tdisplay: \"flex\",\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\n\t\tbackgroundColor: theme.palette.contactdrawer, //DARK MODE PLW DESIGN//\n\t\talignItems: \"center\",\n\t\tpadding: theme.spacing(0, 1),\n\t\tminHeight: \"73px\",\n\t\tjustifyContent: \"flex-start\",\n\t},\n\tcontent: {\n\t\tdisplay: \"flex\",\n\t\tbackgroundColor: theme.palette.contactdrawer, //DARK MODE PLW DESIGN//\n\t\tflexDirection: \"column\",\n\t\tpadding: \"8px 0px 8px 8px\",\n\t\theight: \"100%\",\n\t\toverflowY: \"scroll\",\n\t\t...theme.scrollbarStyles,\n\t},\n\n\tcontactAvatar: {\n\t\tmargin: 15,\n\t\twidth: 100,\n\t\theight: 100,\n\t},\n\n\tcontactHeader: {\n\t\tdisplay: \"flex\",\n\t\tpadding: 8,\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t\t\"& > *\": {\n\t\t\tmargin: 4,\n\t\t},\n\t},\n\n\tcontactDetails: {\n\t\tmarginTop: 8,\n\t\tpadding: 8,\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t},\n\tcontactExtraInfo: {\n\t\tmarginTop: 4,\n\t\tpadding: 6,\n\t},\n}));\n\nconst ContactDrawer = ({ open, handleDrawerClose, contact, ticket, loading }) => {\n\tconst classes = useStyles();\n\n\tconst [modalOpen, setModalOpen] = useState(false);\n\tconst [openForm, setOpenForm] = useState(false);\n\n\tuseEffect(() => {\n\t\tsetOpenForm(false);\n\t}, [open, contact]);\n\n\treturn (\n\t\t<>\n\t\t\t<Drawer\n\t\t\t\tclassName={classes.drawer}\n\t\t\t\tvariant=\"persistent\"\n\t\t\t\tanchor=\"right\"\n\t\t\t\topen={open}\n\t\t\t\tPaperProps={{ style: { position: \"absolute\" } }}\n\t\t\t\tBackdropProps={{ style: { position: \"absolute\" } }}\n\t\t\t\tModalProps={{\n\t\t\t\t\tcontainer: document.getElementById(\"drawer-container\"),\n\t\t\t\t\tstyle: { position: \"absolute\" },\n\t\t\t\t}}\n\t\t\t\tclasses={{\n\t\t\t\t\tpaper: classes.drawerPaper,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div className={classes.header}>\n\t\t\t\t\t<IconButton onClick={handleDrawerClose}>\n\t\t\t\t\t\t<CloseIcon />\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<Typography style={{ justifySelf: \"center\" }}>\n\t\t\t\t\t\t{i18n.t(\"contactDrawer.header\")}\n\t\t\t\t\t</Typography>\n\t\t\t\t</div>\n\t\t\t\t{loading ? (\n\t\t\t\t\t<ContactDrawerSkeleton classes={classes} />\n\t\t\t\t) : (\n\t\t\t\t\t<div className={classes.content}>\n\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactHeader}>\n\t\t\t\t\t\t\t<CardHeader\n\t\t\t\t\t\t\t\tonClick={() => {}}\n\t\t\t\t\t\t\t\tstyle={{ cursor: \"pointer\", width: '100%' }}\n\t\t\t\t\t\t\t\ttitleTypographyProps={{ noWrap: true }}\n\t\t\t\t\t\t\t\tsubheaderTypographyProps={{ noWrap: true }}\n\t\t\t\t\t\t\t\tavatar={<Avatar src={contact.profilePicUrl} alt=\"contact_image\" style={{ width: 60, height: 60 }} />}\n\t\t\t\t\t\t\t\ttitle={\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<Typography onClick={() => setOpenForm(true)}>\n\t\t\t\t\t\t\t\t\t\t\t{contact.name}\n\t\t\t\t\t\t\t\t\t\t\t<CreateIcon style={{fontSize: 16, marginLeft: 5}} />\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tsubheader={\n\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<Typography style={{fontSize: 12}}>\n\t\t\t\t\t\t\t\t\t\t\t<Link href={`tel:${contact.number}`}>{contact.number}</Link>\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t\t<Typography style={{fontSize: 12}}>\n\t\t\t\t\t\t\t\t\t\t\t<Link href={`mailto:${contact.email}`}>{contact.email}</Link>\n\t\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tonClick={() => setModalOpen(!openForm)}\n\t\t\t\t\t\t\t\tstyle={{fontSize: 12}}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{i18n.t(\"contactDrawer.buttons.edit\")}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t{(contact.id && openForm) && <ContactForm initialContact={contact} onCancel={() => setOpenForm(false)} />}\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactDetails}>\n\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" style={{marginBottom: 10}}>\n\t\t\t\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.appointmentsModal.title\")}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<ContactNotes ticket={ticket} />\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactDetails}>\n\t\t\t\t\t\t\t<ContactModal\n\t\t\t\t\t\t\t\topen={modalOpen}\n\t\t\t\t\t\t\t\tonClose={() => setModalOpen(false)}\n\t\t\t\t\t\t\t\tcontactId={contact.id}\n\t\t\t\t\t\t\t></ContactModal>\n\t\t\t\t\t\t\t<Typography variant=\"subtitle1\">\n\t\t\t\t\t\t\t\t{i18n.t(\"contactDrawer.extraInfo\")}\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t{contact?.extraInfo?.map(info => (\n\t\t\t\t\t\t\t\t<Paper\n\t\t\t\t\t\t\t\t\tkey={info.id}\n\t\t\t\t\t\t\t\t\tsquare\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\tclassName={classes.contactExtraInfo}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<InputLabel>{info.name}</InputLabel>\n\t\t\t\t\t\t\t\t\t<Typography component=\"div\" noWrap style={{ paddingTop: 2 }}>\n\t\t\t\t\t\t\t\t\t\t<MarkdownWrapper>{info.value}</MarkdownWrapper>\n\t\t\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t</div>\n\t\t\t\t)}\n\t\t\t</Drawer>\n\t\t</>\n\t);\n};\n\nexport default ContactDrawer;\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\ttimerBox: {\n\t\tdisplay: \"flex\",\n\t\tmarginLeft: 10,\n\t\tmarginRight: 10,\n\t\talignItems: \"center\",\n\t},\n}));\n\nconst RecordingTimer = () => {\n\tconst classes = useStyles();\n\tconst initialState = {\n\t\tminutes: 0,\n\t\tseconds: 0,\n\t};\n\tconst [timer, setTimer] = useState(initialState);\n\n\tuseEffect(() => {\n\t\tconst interval = setInterval(\n\t\t\t() =>\n\t\t\t\tsetTimer(prevState => {\n\t\t\t\t\tif (prevState.seconds === 59) {\n\t\t\t\t\t\treturn { ...prevState, minutes: prevState.minutes + 1, seconds: 0 };\n\t\t\t\t\t}\n\t\t\t\t\treturn { ...prevState, seconds: prevState.seconds + 1 };\n\t\t\t\t}),\n\t\t\t1000\n\t\t);\n\t\treturn () => {\n\t\t\tclearInterval(interval);\n\t\t};\n\t}, []);\n\n\tconst addZero = n => {\n\t\treturn n < 10 ? \"0\" + n : n;\n\t};\n\n\treturn (\n\t\t<div className={classes.timerBox}>\n\t\t\t<span>{`${addZero(timer.minutes)}:${addZero(timer.seconds)}`}</span>\n\t\t</div>\n\t);\n};\n\nexport default RecordingTimer;\n","import api from \"../../services/api\";\n\nconst useQuickMessages = () => {\n\n    const save = async (data) => {\n        const { data: responseData } = await api.request({\n            url: '/quick-messages',\n            method: 'POST',\n            data\n        });\n        return responseData;\n    }\n\n    const update = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/quick-messages/${data.id}`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    const deleteRecord = async (id) => {\n        const { data } = await api.request({\n            url: `/quick-messages/${id}`,\n            method: 'DELETE'\n        });\n        return data;\n    }\n\n    const list = async (params) => {\n        const { data } = await api.request({\n            url: '/quick-messages/list',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    return {\n        save,\n        update,\n        deleteRecord,\n        list\n    }\n}\n\nexport default useQuickMessages;","import React, { useState, useEffect, useContext, useRef } from \"react\";\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\nimport \"emoji-mart/css/emoji-mart.css\";\nimport { Picker } from \"emoji-mart\";\nimport MicRecorder from \"mic-recorder-to-mp3\";\nimport clsx from \"clsx\";\nimport { isNil } from \"lodash\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { green } from \"@material-ui/core/colors\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MoodIcon from \"@material-ui/icons/Mood\";\nimport SendIcon from \"@material-ui/icons/Send\";\nimport CancelIcon from \"@material-ui/icons/Cancel\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport MicIcon from \"@material-ui/icons/Mic\";\nimport CheckCircleOutlineIcon from \"@material-ui/icons/CheckCircleOutline\";\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\nimport { FormControlLabel, Switch } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport { isString, isEmpty, isObject, has } from \"lodash\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport axios from \"axios\";\n\nimport RecordingTimer from \"./RecordingTimer\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { useLocalStorage } from \"../../hooks/useLocalStorage\";\nimport toastError from \"../../errors/toastError\";\n\nimport useQuickMessages from \"../../hooks/useQuickMessages\";\n\nconst Mp3Recorder = new MicRecorder({ bitRate: 128 });\n\nconst useStyles = makeStyles((theme) => ({\n  mainWrapper: {\n    backgroundColor: theme.palette.bordabox, //DARK MODE PLW DESIGN//\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n\n  newMessageBox: {\n    backgroundColor: theme.palette.newmessagebox, //DARK MODE PLW DESIGN//\n    width: \"100%\",\n    display: \"flex\",\n    padding: \"7px\",\n    alignItems: \"center\",\n  },\n\n  messageInputWrapper: {\n    padding: 6,\n    marginRight: 7,\n    backgroundColor: theme.palette.inputdigita, //DARK MODE PLW DESIGN//\n    display: \"flex\",\n    borderRadius: 20,\n    flex: 1,\n  },\n\n  messageInput: {\n    paddingLeft: 10,\n    flex: 1,\n    border: \"none\",\n  },\n\n  sendMessageIcons: {\n    color: \"grey\",\n  },\n\n  uploadInput: {\n    display: \"none\",\n  },\n\n  viewMediaInputWrapper: {\n    display: \"flex\",\n    padding: \"10px 13px\",\n    position: \"relative\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    backgroundColor: \"#eee\",\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n\n  emojiBox: {\n    position: \"absolute\",\n    bottom: 63,\n    width: 40,\n    borderTop: \"1px solid #e8e8e8\",\n  },\n\n  circleLoading: {\n    color: green[500],\n    opacity: \"70%\",\n    position: \"absolute\",\n    top: \"20%\",\n    left: \"50%\",\n    marginLeft: -12,\n  },\n\n  audioLoading: {\n    color: green[500],\n    opacity: \"70%\",\n  },\n\n  recorderWrapper: {\n    display: \"flex\",\n    alignItems: \"center\",\n    alignContent: \"middle\",\n  },\n\n  cancelAudioIcon: {\n    color: \"red\",\n  },\n\n  sendAudioIcon: {\n    color: \"green\",\n  },\n\n  replyginMsgWrapper: {\n    display: \"flex\",\n    width: \"100%\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    paddingTop: 8,\n    paddingLeft: 73,\n    paddingRight: 7,\n  },\n\n  replyginMsgContainer: {\n    flex: 1,\n    marginRight: 5,\n    overflowY: \"hidden\",\n    backgroundColor: \"rgba(0, 0, 0, 0.05)\",\n    borderRadius: \"7.5px\",\n    display: \"flex\",\n    position: \"relative\",\n  },\n\n  replyginMsgBody: {\n    padding: 10,\n    height: \"auto\",\n    display: \"block\",\n    whiteSpace: \"pre-wrap\",\n    overflow: \"hidden\",\n  },\n\n  replyginContactMsgSideColor: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#35cd96\",\n  },\n\n  replyginSelfMsgSideColor: {\n    flex: \"none\",\n    width: \"4px\",\n    backgroundColor: \"#6bcbef\",\n  },\n\n  messageContactName: {\n    display: \"flex\",\n    color: \"#6bcbef\",\n    fontWeight: 500,\n  },\n}));\n\nconst EmojiOptions = (props) => {\n  const { disabled, showEmoji, setShowEmoji, handleAddEmoji } = props;\n  const classes = useStyles();\n  return (\n    <>\n      <IconButton\n        aria-label=\"emojiPicker\"\n        component=\"span\"\n        disabled={disabled}\n        onClick={(e) => setShowEmoji((prevState) => !prevState)}\n      >\n        <MoodIcon className={classes.sendMessageIcons} />\n      </IconButton>\n      {showEmoji ? (\n        <div className={classes.emojiBox}>\n          <Picker\n            perLine={16}\n            showPreview={false}\n            showSkinTones={false}\n            onSelect={handleAddEmoji}\n          />\n        </div>\n      ) : null}\n    </>\n  );\n};\n\nconst SignSwitch = (props) => {\n  const { width, setSignMessage, signMessage } = props;\n  if (isWidthUp(\"md\", width)) {\n    return (\n      <FormControlLabel\n        style={{ marginRight: 7, color: \"gray\" }}\n        label={i18n.t(\"messagesInput.signMessage\")}\n        labelPlacement=\"start\"\n        control={\n          <Switch\n            size=\"small\"\n            checked={signMessage}\n            onChange={(e) => {\n              setSignMessage(e.target.checked);\n            }}\n            name=\"showAllTickets\"\n            color=\"primary\"\n          />\n        }\n      />\n    );\n  }\n  return null;\n};\n\nconst FileInput = (props) => {\n  const { handleChangeMedias, disableOption } = props;\n  const classes = useStyles();\n  return (\n    <>\n      <input\n        multiple\n        type=\"file\"\n        id=\"upload-button\"\n        disabled={disableOption()}\n        className={classes.uploadInput}\n        onChange={handleChangeMedias}\n      />\n      <label htmlFor=\"upload-button\">\n        <IconButton\n          aria-label=\"upload\"\n          component=\"span\"\n          disabled={disableOption()}\n        >\n          <AttachFileIcon className={classes.sendMessageIcons} />\n        </IconButton>\n      </label>\n    </>\n  );\n};\n\nconst ActionButtons = (props) => {\n  const {\n    inputMessage,\n    loading,\n    recording,\n    ticketStatus,\n    handleSendMessage,\n    handleCancelAudio,\n    handleUploadAudio,\n    handleStartRecording,\n  } = props;\n  const classes = useStyles();\n  if (inputMessage) {\n    return (\n      <IconButton\n        aria-label=\"sendMessage\"\n        component=\"span\"\n        onClick={handleSendMessage}\n        disabled={loading}\n      >\n        <SendIcon className={classes.sendMessageIcons} />\n      </IconButton>\n    );\n  } else if (recording) {\n    return (\n      <div className={classes.recorderWrapper}>\n        <IconButton\n          aria-label=\"cancelRecording\"\n          component=\"span\"\n          fontSize=\"large\"\n          disabled={loading}\n          onClick={handleCancelAudio}\n        >\n          <HighlightOffIcon className={classes.cancelAudioIcon} />\n        </IconButton>\n        {loading ? (\n          <div>\n            <CircularProgress className={classes.audioLoading} />\n          </div>\n        ) : (\n          <RecordingTimer />\n        )}\n\n        <IconButton\n          aria-label=\"sendRecordedAudio\"\n          component=\"span\"\n          onClick={handleUploadAudio}\n          disabled={loading}\n        >\n          <CheckCircleOutlineIcon className={classes.sendAudioIcon} />\n        </IconButton>\n      </div>\n    );\n  } else {\n    return (\n      <IconButton\n        aria-label=\"showRecorder\"\n        component=\"span\"\n        disabled={loading || ticketStatus !== \"open\"}\n        onClick={handleStartRecording}\n      >\n        <MicIcon className={classes.sendMessageIcons} />\n      </IconButton>\n    );\n  }\n};\n\nconst CustomInput = (props) => {\n  const {\n    loading,\n    inputRef,\n    ticketStatus,\n    inputMessage,\n    setInputMessage,\n    handleSendMessage,\n    handleInputPaste,\n    disableOption,\n    handleQuickAnswersClick,\n  } = props;\n  const classes = useStyles();\n  const [quickMessages, setQuickMessages] = useState([]);\n  const [options, setOptions] = useState([]);\n  const [popupOpen, setPopupOpen] = useState(false);\n\n  const { user } = useContext(AuthContext);\n\n  const { list: listQuickMessages } = useQuickMessages();\n\n  useEffect(() => {\n    async function fetchData() {\n      const companyId = localStorage.getItem(\"companyId\");\n      const messages = await listQuickMessages({ companyId, userId: user.id });\n      const options = messages.map((m) => {\n        let truncatedMessage = m.message;\n        if (isString(truncatedMessage) && truncatedMessage.length > 35) {\n          truncatedMessage = m.message.substring(0, 35) + \"...\";\n        }\n        return {\n          value: m.message,\n          label: `/${m.shortcode} - ${truncatedMessage}`,\n          mediaPath: m.mediaPath,\n        };\n      });\n      setQuickMessages(options);\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (\n      isString(inputMessage) &&\n      !isEmpty(inputMessage) &&\n      inputMessage.length > 1\n    ) {\n      const firstWord = inputMessage.charAt(0);\n      setPopupOpen(firstWord.indexOf(\"/\") > -1);\n\n      const filteredOptions = quickMessages.filter(\n        (m) => m.label.indexOf(inputMessage) > -1\n      );\n      setOptions(filteredOptions);\n    } else {\n      setPopupOpen(false);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [inputMessage]);\n\n  const onKeyPress = (e) => {\n    if (loading || e.shiftKey) return;\n    else if (e.key === \"Enter\") {\n      handleSendMessage();\n    }\n  };\n\n  const onPaste = (e) => {\n    if (ticketStatus === \"open\") {\n      handleInputPaste(e);\n    }\n  };\n\n  const renderPlaceholder = () => {\n    if (ticketStatus === \"open\") {\n      return i18n.t(\"messagesInput.placeholderOpen\");\n    }\n    return i18n.t(\"messagesInput.placeholderClosed\");\n  };\n\n\n  const setInputRef = (input) => {\n    if (input) {\n      input.focus();\n      inputRef.current = input;\n    }\n  };\n\n  return (\n    <div className={classes.messageInputWrapper}>\n      <Autocomplete\n        freeSolo\n        open={popupOpen}\n        id=\"grouped-demo\"\n        value={inputMessage}\n        options={options}\n        closeIcon={null}\n        getOptionLabel={(option) => {\n          if (isObject(option)) {\n            return option.label;\n          } else {\n            return option;\n          }\n        }}\n        onChange={(event, opt) => {\n         \n          if (isObject(opt) && has(opt, \"value\") && isNil(opt.mediaPath)) {\n            setInputMessage(opt.value);\n            setTimeout(() => {\n              inputRef.current.scrollTop = inputRef.current.scrollHeight;\n            }, 200);\n          } else if (isObject(opt) && has(opt, \"value\") && !isNil(opt.mediaPath)) {\n            handleQuickAnswersClick(opt);\n\n            setTimeout(() => {\n              inputRef.current.scrollTop = inputRef.current.scrollHeight;\n            }, 200);\n          }\n        }}\n        onInputChange={(event, opt, reason) => {\n          if (reason === \"input\") {\n            setInputMessage(event.target.value);\n          }\n        }}\n        onPaste={onPaste}\n        onKeyPress={onKeyPress}\n        style={{ width: \"100%\" }}\n        renderInput={(params) => {\n          const { InputLabelProps, InputProps, ...rest } = params;\n          return (\n            <InputBase\n              {...params.InputProps}\n              {...rest}\n              disabled={disableOption()}\n              inputRef={setInputRef}\n              placeholder={renderPlaceholder()}\n              multiline\n              className={classes.messageInput}\n              maxRows={5}\n            />\n          );\n        }}\n      />\n    </div>\n  );\n};\n\nconst MessageInputCustom = (props) => {\n  const { ticketStatus, ticketId } = props;\n  const classes = useStyles();\n\n  const [medias, setMedias] = useState([]);\n  const [inputMessage, setInputMessage] = useState(\"\");\n  const [showEmoji, setShowEmoji] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [recording, setRecording] = useState(false);\n  const inputRef = useRef();\n  const { setReplyingMessage, replyingMessage } =\n    useContext(ReplyMessageContext);\n  const { user } = useContext(AuthContext);\n\n  const [signMessage, setSignMessage] = useLocalStorage(\"signOption\", true);\n\n  useEffect(() => {\n    inputRef.current.focus();\n  }, [replyingMessage]);\n\n  useEffect(() => {\n    inputRef.current.focus();\n    return () => {\n      setInputMessage(\"\");\n      setShowEmoji(false);\n      setMedias([]);\n      setReplyingMessage(null);\n    };\n  }, [ticketId, setReplyingMessage]);\n\n  // const handleChangeInput = e => {\n  // \tif (isObject(e) && has(e, 'value')) {\n  // \t\tsetInputMessage(e.value);\n  // \t} else {\n  // \t\tsetInputMessage(e.target.value)\n  // \t}\n  // };\n\n  const handleAddEmoji = (e) => {\n    let emoji = e.native;\n    setInputMessage((prevState) => prevState + emoji);\n  };\n\n  const handleChangeMedias = (e) => {\n    if (!e.target.files) {\n      return;\n    }\n\n    const selectedMedias = Array.from(e.target.files);\n    setMedias(selectedMedias);\n  };\n\n  const handleInputPaste = (e) => {\n    if (e.clipboardData.files[0]) {\n      setMedias([e.clipboardData.files[0]]);\n    }\n  };\n\n  const handleUploadQuickMessageMedia = async (blob, message) => {\n    setLoading(true);\n    try {\n      const extension = blob.type.split(\"/\")[1];\n\n      const formData = new FormData();\n      const filename = `${new Date().getTime()}.${extension}`;\n      formData.append(\"medias\", blob, filename);\n      formData.append(\"body\",  message);\n      formData.append(\"fromMe\", true);\n\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n    setLoading(false);\n  };\n  \n  const handleQuickAnswersClick = async (value) => {\n    if (value.mediaPath) {\n      try {\n        const { data } = await axios.get(value.mediaPath, {\n          responseType: \"blob\",\n        });\n\n        handleUploadQuickMessageMedia(data, value.value);\n        setInputMessage(\"\");\n        return;\n        //  handleChangeMedias(response)\n      } catch (err) {\n        toastError(err);\n      }\n    }\n\n    setInputMessage(\"\");\n    setInputMessage(value.value);\n  };\n\n  const handleUploadMedia = async (e) => {\n    setLoading(true);\n    e.preventDefault();\n\n    const formData = new FormData();\n    formData.append(\"fromMe\", true);\n    medias.forEach((media) => {\n      formData.append(\"medias\", media);\n      formData.append(\"body\", media.name);\n    });\n\n    try {\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setLoading(false);\n    setMedias([]);\n  };\n\n  const handleSendMessage = async () => {\n    if (inputMessage.trim() === \"\") return;\n    setLoading(true);\n\n    const message = {\n      read: 1,\n      fromMe: true,\n      mediaUrl: \"\",\n      body: signMessage\n        ? `*${user?.name}:*\\n${inputMessage.trim()}`\n        : inputMessage.trim(),\n      quotedMsg: replyingMessage,\n    };\n    try {\n      await api.post(`/messages/${ticketId}`, message);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setInputMessage(\"\");\n    setShowEmoji(false);\n    setLoading(false);\n    setReplyingMessage(null);\n  };\n\n  const handleStartRecording = async () => {\n    setLoading(true);\n    try {\n      await navigator.mediaDevices.getUserMedia({ audio: true });\n      await Mp3Recorder.start();\n      setRecording(true);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n      setLoading(false);\n    }\n  };\n\n  const handleUploadAudio = async () => {\n    setLoading(true);\n    try {\n      const [, blob] = await Mp3Recorder.stop().getMp3();\n      if (blob.size < 10000) {\n        setLoading(false);\n        setRecording(false);\n        return;\n      }\n\n      const formData = new FormData();\n      const filename = `audio-record-site-${new Date().getTime()}.mp3`;\n      formData.append(\"medias\", blob, filename);\n      formData.append(\"body\", filename);\n      formData.append(\"fromMe\", true);\n\n      await api.post(`/messages/${ticketId}`, formData);\n    } catch (err) {\n      toastError(err);\n    }\n\n    setRecording(false);\n    setLoading(false);\n  };\n\n  const handleCancelAudio = async () => {\n    try {\n      await Mp3Recorder.stop().getMp3();\n      setRecording(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const disableOption = () => {\n    return loading || recording || ticketStatus !== \"open\";\n  };\n\n  const renderReplyingMessage = (message) => {\n    return (\n      <div className={classes.replyginMsgWrapper}>\n        <div className={classes.replyginMsgContainer}>\n          <span\n            className={clsx(classes.replyginContactMsgSideColor, {\n              [classes.replyginSelfMsgSideColor]: !message.fromMe,\n            })}\n          ></span>\n          <div className={classes.replyginMsgBody}>\n            {!message.fromMe && (\n              <span className={classes.messageContactName}>\n                {message.contact?.name}\n              </span>\n            )}\n            {message.body}\n          </div>\n        </div>\n        <IconButton\n          aria-label=\"showRecorder\"\n          component=\"span\"\n          disabled={loading || ticketStatus !== \"open\"}\n          onClick={() => setReplyingMessage(null)}\n        >\n          <ClearIcon className={classes.sendMessageIcons} />\n        </IconButton>\n      </div>\n    );\n  };\n\n  if (medias.length > 0)\n    return (\n      <Paper elevation={0} square className={classes.viewMediaInputWrapper}>\n        <IconButton\n          aria-label=\"cancel-upload\"\n          component=\"span\"\n          onClick={(e) => setMedias([])}\n        >\n          <CancelIcon className={classes.sendMessageIcons} />\n        </IconButton>\n\n        {loading ? (\n          <div>\n            <CircularProgress className={classes.circleLoading} />\n          </div>\n        ) : (\n          <span>\n            {medias[0]?.name}\n            {/* <img src={media.preview} alt=\"\"></img> */}\n          </span>\n        )}\n        <IconButton\n          aria-label=\"send-upload\"\n          component=\"span\"\n          onClick={handleUploadMedia}\n          disabled={loading}\n        >\n          <SendIcon className={classes.sendMessageIcons} />\n        </IconButton>\n      </Paper>\n    );\n  else {\n    return (\n      <Paper square elevation={0} className={classes.mainWrapper}>\n        {replyingMessage && renderReplyingMessage(replyingMessage)}\n        <div className={classes.newMessageBox}>\n          <EmojiOptions\n            disabled={disableOption()}\n            handleAddEmoji={handleAddEmoji}\n            showEmoji={showEmoji}\n            setShowEmoji={setShowEmoji}\n          />\n\n          <FileInput\n            disableOption={disableOption}\n            handleChangeMedias={handleChangeMedias}\n          />\n\n          <SignSwitch\n            width={props.width}\n            setSignMessage={setSignMessage}\n            signMessage={signMessage}\n          />\n\n          <CustomInput\n            loading={loading}\n            inputRef={inputRef}\n            ticketStatus={ticketStatus}\n            inputMessage={inputMessage}\n            setInputMessage={setInputMessage}\n            // handleChangeInput={handleChangeInput}\n            handleSendMessage={handleSendMessage}\n            handleInputPaste={handleInputPaste}\n            disableOption={disableOption}\n            handleQuickAnswersClick={handleQuickAnswersClick}\n          />\n\n          <ActionButtons\n            inputMessage={inputMessage}\n            loading={loading}\n            recording={recording}\n            ticketStatus={ticketStatus}\n            handleSendMessage={handleSendMessage}\n            handleCancelAudio={handleCancelAudio}\n            handleUploadAudio={handleUploadAudio}\n            handleStartRecording={handleStartRecording}\n          />\n        </div>\n      </Paper>\n    );\n  }\n};\n\nexport default withWidth()(MessageInputCustom);\n","import { useState } from \"react\";\nimport toastError from \"../../errors/toastError\";\n\nexport function useLocalStorage(key, initialValue) {\n\tconst [storedValue, setStoredValue] = useState(() => {\n\t\ttry {\n\t\t\tconst item = localStorage.getItem(key);\n\t\t\treturn item ? JSON.parse(item) : initialValue;\n\t\t} catch (error) {\n\t\t\ttoastError(error);\n\t\t\treturn initialValue;\n\t\t}\n\t});\n\n\tconst setValue = value => {\n\t\ttry {\n\t\t\tconst valueToStore =\n\t\t\t\tvalue instanceof Function ? value(storedValue) : value;\n\n\t\t\tsetStoredValue(valueToStore);\n\n\t\t\tlocalStorage.setItem(key, JSON.stringify(valueToStore));\n\t\t} catch (error) {\n\t\t\ttoastError(error);\n\t\t}\n\t};\n\n\treturn [storedValue, setValue];\n}\n","import api from \"../../services/api\";\n\nconst useQueues = () => {\n\tconst findAll = async () => {\n        const { data } = await api.get(\"/queue\");\n        return data;\n    }\n\n\treturn { findAll };\n};\n\nexport default useQueues;\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport Select from \"@material-ui/core/Select\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { Grid, ListItemText, Typography, makeStyles } from \"@material-ui/core\";\n\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Autocomplete, {\n  createFilterOptions,\n} from \"@material-ui/lab/Autocomplete\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport toastError from \"../../errors/toastError\";\nimport useQueues from \"../../hooks/useQueues\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  maxWidth: {\n    width: \"100%\",\n  },\n}));\n\nconst filterOptions = createFilterOptions({\n  trim: true,\n});\n\nconst TransferTicketModalCustom = ({ modalOpen, onClose, ticketid }) => {\n  const history = useHistory();\n  const [options, setOptions] = useState([]);\n  const [queues, setQueues] = useState([]);\n  const [allQueues, setAllQueues] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [selectedQueue, setSelectedQueue] = useState(\"\");\n  const classes = useStyles();\n  const { findAll: findAllQueues } = useQueues();\n  const isMounted = useRef(true);\n  const [whatsapps, setWhatsapps] = useState([]);\n  const [selectedWhatsapp, setSelectedWhatsapp] = useState(\"\");\n  const { user } = useContext(AuthContext);\n  const { companyId, whatsappId } = user;\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        api\n          .get(`/whatsapp`, { params: { companyId, session: 0 } })\n          .then(({ data }) => setWhatsapps(data));\n      };\n\n      if (whatsappId !== null && whatsappId !== undefined) {\n        setSelectedWhatsapp(whatsappId)\n      }\n\n      if (user.queues.length === 1) {\n        setSelectedQueue(user.queues[0].id)\n      }\n      fetchContacts();\n      setLoading(false);\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [])\n\n  useEffect(() => {\n    if (isMounted.current) {\n      const loadQueues = async () => {\n        const list = await findAllQueues();\n        setAllQueues(list);\n        setQueues(list);\n      };\n      loadQueues();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (!modalOpen || searchParam.length < 3) {\n      setLoading(false);\n      return;\n    }\n    const delayDebounceFn = setTimeout(() => {\n      setLoading(true);\n      const fetchUsers = async () => {\n        try {\n          const { data } = await api.get(\"/users/\", {\n            params: { searchParam },\n          });\n          setOptions(data.users);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n\n      fetchUsers();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, modalOpen]);\n\n  const handleClose = () => {\n    onClose();\n    setSearchParam(\"\");\n    setSelectedUser(null);\n  };\n\n  const handleSaveTicket = async (e) => {\n    e.preventDefault();\n    if (!ticketid) return;\n    if (!selectedQueue || selectedQueue === \"\") return;\n    setLoading(true);\n    try {\n      let data = {};\n\n      if (selectedUser) {\n        data.userId = selectedUser.id;\n      }\n\n      if (selectedQueue && selectedQueue !== null) {\n        data.queueId = selectedQueue;\n\n        if (!selectedUser) {\n          data.status = \"pending\";\n          data.userId = null;\n        }\n      }\n\n      if (selectedWhatsapp) {\n        data.whatsappId = selectedWhatsapp\n      }\n      await api.put(`/tickets/${ticketid}`, data);\n\n      history.push(`/tickets`);\n    } catch (err) {\n      setLoading(false);\n      toastError(err);\n    }\n  };\n\n  return (\n    <Dialog open={modalOpen} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\n      <form onSubmit={handleSaveTicket}>\n        <DialogTitle id=\"form-dialog-title\">\n          {i18n.t(\"transferTicketModal.title\")}\n        </DialogTitle>\n        <DialogContent dividers>\n          <Autocomplete\n            style={{ width: 300, marginBottom: 20 }}\n            getOptionLabel={(option) => `${option.name}`}\n            onChange={(e, newValue) => {\n              setSelectedUser(newValue);\n              if (newValue != null && Array.isArray(newValue.queues)) {\n                setQueues(newValue.queues);\n              } else {\n                setQueues(allQueues);\n                setSelectedQueue(\"\");\n              }\n            }}\n            options={options}\n            filterOptions={filterOptions}\n            freeSolo\n            autoHighlight\n            noOptionsText={i18n.t(\"transferTicketModal.noOptions\")}\n            loading={loading}\n            renderInput={(params) => (\n              <TextField\n                {...params}\n                label={i18n.t(\"transferTicketModal.fieldLabel\")}\n                variant=\"outlined\"\n                autoFocus\n                onChange={(e) => setSearchParam(e.target.value)}\n                InputProps={{\n                  ...params.InputProps,\n                  endAdornment: (\n                    <React.Fragment>\n                      {loading ? (\n                        <CircularProgress color=\"inherit\" size={20} />\n                      ) : null}\n                      {params.InputProps.endAdornment}\n                    </React.Fragment>\n                  ),\n                }}\n              />\n            )}\n          />\n          <FormControl variant=\"outlined\" className={classes.maxWidth}>\n            <InputLabel>\n              {i18n.t(\"transferTicketModal.fieldQueueLabel\")}\n            </InputLabel>\n            <Select\n              value={selectedQueue}\n              onChange={(e) => setSelectedQueue(e.target.value)}\n              label={i18n.t(\"transferTicketModal.fieldQueuePlaceholder\")}\n            >\n              {queues.map((queue) => (\n                <MenuItem key={queue.id} value={queue.id}>\n                  {queue.name}\n                </MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n          {/* CONEXAO */}\n          <Grid container spacing={2} style={{marginTop: '15px'}}>\n            <Grid xs={12} item>\n              <Select\n                required\n                fullWidth\n                displayEmpty\n                variant=\"outlined\"\n                value={selectedWhatsapp}\n                onChange={(e) => {\n                  setSelectedWhatsapp(e.target.value)\n                }}\n                MenuProps={{\n                  anchorOrigin: {\n                    vertical: \"bottom\",\n                    horizontal: \"left\",\n                  },\n                  transformOrigin: {\n                    vertical: \"top\",\n                    horizontal: \"left\",\n                  },\n                  getContentAnchorEl: null,\n                }}\n                renderValue={() => {\n                  if (selectedWhatsapp === \"\") {\n                    return \"Selecione uma Conexão\"\n                  }\n                  const whatsapp = whatsapps.find(w => w.id === selectedWhatsapp)\n                  return whatsapp.name\n                }}\n              >\n                {whatsapps?.length > 0 &&\n                  whatsapps.map((whatsapp, key) => (\n                    <MenuItem dense key={key} value={whatsapp.id}>\n                      <ListItemText\n                        primary={\n                          <>\n                            {/* {IconChannel(whatsapp.channel)} */}\n                            <Typography component=\"span\" style={{ fontSize: 14, marginLeft: \"10px\", display: \"inline-flex\", alignItems: \"center\", lineHeight: \"2\" }}>\n                              {whatsapp.name} &nbsp; <p className={(whatsapp.status) === 'CONNECTED' ? classes.online : classes.offline} >({whatsapp.status})</p>\n                            </Typography>\n                          </>\n                        }\n                      />\n                    </MenuItem>\n                  ))}\n              </Select>\n            </Grid>\n          </Grid>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={handleClose}\n            color=\"secondary\"\n            disabled={loading}\n            variant=\"outlined\"\n          >\n            {i18n.t(\"transferTicketModal.buttons.cancel\")}\n          </Button>\n          <ButtonWithSpinner\n            variant=\"contained\"\n            type=\"submit\"\n            color=\"primary\"\n            loading={loading}\n          >\n            {i18n.t(\"transferTicketModal.buttons.ok\")}\n          </ButtonWithSpinner>\n        </DialogActions>\n      </form>\n    </Dialog>\n  );\n};\n\nexport default TransferTicketModalCustom;\n","import React from \"react\";\n\nimport TextField from \"@material-ui/core/TextField\";\n\nconst InputComponent = ({ inputRef, ...other }) => <div {...other} />;\n\nconst OutlinedDiv = ({\n  InputProps,\n  children,\n  InputLabelProps,\n  label,\n  ...other\n}) => {\n  return (\n    <TextField\n      {...other}\n      variant=\"outlined\"\n      label={label}\n      multiline\n      InputLabelProps={{ shrink: true, ...InputLabelProps }}\n      InputProps={{\n        inputComponent: InputComponent,\n        ...InputProps\n      }}\n      inputProps={{ children: children }}\n    />\n  );\n};\n\nexport default OutlinedDiv;","import React from \"react\";\nimport { Chip, makeStyles } from \"@material-ui/core\";\nimport { i18n } from \"../../translate/i18n\";\nimport OutlinedDiv from \"../OutlinedDiv\";\n\nconst useStyles = makeStyles(theme => ({\n    chip: {\n        margin: theme.spacing(0.5),\n        cursor: \"pointer\"\n    }\n}));\n\nconst MessageVariablesPicker = ({ onClick, disabled }) => {\n    const classes = useStyles();\n\n    const handleClick = (e, value) => {\n        e.preventDefault();\n        if (disabled) return;\n        onClick(value);\n    };\n\n    const msgVars = [\n        {\n            name: i18n.t(\"messageVariablesPicker.vars.contactFirstName\"),\n            value: \"{{firstName}}\"\n        },\n        {\n            name: i18n.t(\"messageVariablesPicker.vars.contactName\"),\n            value: \"{{name}} \"\n        },\n        {\n            name: i18n.t(\"messageVariablesPicker.vars.greeting\"),\n            value: \"{{ms}} \"\n        },\n        {\n            name: i18n.t(\"messageVariablesPicker.vars.protocolNumber\"),\n            value: \"{{protocol}} \"\n        },\n        {\n            name: i18n.t(\"messageVariablesPicker.vars.date\"),\n            value: \"{{date}} \"\n        },\n        {\n            name: i18n.t(\"messageVariablesPicker.vars.hour\"),\n            value: \"{{hour}} \"\n        },\n    ];\n\n    return (\n        <OutlinedDiv\n            margin=\"dense\"\n            fullWidth\n            label={i18n.t(\"messageVariablesPicker.label\")}\n            disabled={disabled}\n        >\n            {msgVars.map(msgVar => (\n                <Chip\n                    key={msgVar.value}\n                    onMouseDown={e => handleClick(e, msgVar.value)}\n                    label={msgVar.name}\n                    size=\"small\"\n                    className={classes.chip}\n                    color=\"primary\"\n                />\n            ))}\n        </OutlinedDiv>\n    );\n};\n\nexport default MessageVariablesPicker;","import React, { useState, useEffect, useContext, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { FormControl, Grid, IconButton } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport moment from \"moment\"\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { isArray, capitalize } from \"lodash\";\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\nimport AttachFile from \"@material-ui/icons/AttachFile\";\nimport { head } from \"lodash\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport MessageVariablesPicker from \"../MessageVariablesPicker\";\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tmultFieldLine: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *:not(:last-child)\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n}));\n\nconst ScheduleSchema = Yup.object().shape({\n\tbody: Yup.string()\n\t\t.min(5, \"Mensagem muito curta\")\n\t\t.required(\"Obrigatório\"),\n\tcontactId: Yup.number().required(\"Obrigatório\"),\n\tsendAt: Yup.string().required(\"Obrigatório\")\n});\n\nconst ScheduleModal = ({ open, onClose, scheduleId, contactId, cleanContact, reload }) => {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\tconst { user } = useContext(AuthContext);\n\n\tconst initialState = {\n\t\tbody: \"\",\n\t\tcontactId: \"\",\n\t\tsendAt: moment().add(1, 'hour').format('YYYY-MM-DDTHH:mm'),\n\t\tsentAt: \"\"\n\t};\n\n\tconst initialContact = {\n\t\tid: \"\",\n\t\tname: \"\"\n\t}\n\n\tconst [schedule, setSchedule] = useState(initialState);\n\tconst [currentContact, setCurrentContact] = useState(initialContact);\n\tconst [contacts, setContacts] = useState([initialContact]);\n\tconst [attachment, setAttachment] = useState(null);\n\tconst attachmentFile = useRef(null);\n\tconst [confirmationOpen, setConfirmationOpen] = useState(false);\n\tconst messageInputRef = useRef();\n\n\tuseEffect(() => {\n\t\tif (contactId && contacts.length) {\n\t\t\tconst contact = contacts.find(c => c.id === contactId);\n\t\t\tif (contact) {\n\t\t\t\tsetCurrentContact(contact);\n\t\t\t}\n\t\t}\n\t}, [contactId, contacts]);\n\n\tuseEffect(() => {\n\t\tconst { companyId } = user;\n\t\tif (open) {\n\t\t\ttry {\n\t\t\t\t(async () => {\n\t\t\t\t\tconst { data: contactList } = await api.get('/contacts/list', { params: { companyId: companyId } });\n\t\t\t\t\tlet customList = contactList.map((c) => ({ id: c.id, name: c.name }));\n\t\t\t\t\tif (isArray(customList)) {\n\t\t\t\t\t\tsetContacts([{ id: \"\", name: \"\" }, ...customList]);\n\t\t\t\t\t}\n\t\t\t\t\tif (contactId) {\n\t\t\t\t\t\tsetSchedule(prevState => {\n\t\t\t\t\t\t\treturn { ...prevState, contactId }\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!scheduleId) return;\n\n\t\t\t\t\tconst { data } = await api.get(`/schedules/${scheduleId}`);\n\t\t\t\t\tsetSchedule(prevState => {\n\t\t\t\t\t\treturn { ...prevState, ...data, sendAt: moment(data.sendAt).format('YYYY-MM-DDTHH:mm') };\n\t\t\t\t\t});\n\t\t\t\t\tsetCurrentContact(data.contact);\n\t\t\t\t})()\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t}\n\t}, [scheduleId, contactId, open, user]);\n\n\tconst handleClose = () => {\n\t\tonClose();\n\t\tsetAttachment(null);\n\t\tsetSchedule(initialState);\n\t};\n\n\tconst handleAttachmentFile = (e) => {\n\t\tconst file = head(e.target.files);\n\t\tif (file) {\n\t\t\tsetAttachment(file);\n\t\t}\n\t};\n\n\tconst handleSaveSchedule = async values => {\n\t\tconst scheduleData = { ...values, userId: user.id };\n\t\ttry {\n\t\t\tif (scheduleId) {\n\t\t\t\tawait api.put(`/schedules/${scheduleId}`, scheduleData);\n\t\t\t\tif (attachment != null) {\n\t\t\t\t\tconst formData = new FormData();\n\t\t\t\t\tformData.append(\"file\", attachment);\n\t\t\t\t\tawait api.post(\n\t\t\t\t\t\t`/schedules/${scheduleId}/media-upload`,\n\t\t\t\t\t\tformData\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst { data } = await api.post(\"/schedules\", scheduleData);\n\t\t\t\tif (attachment != null) {\n\t\t\t\t\tconst formData = new FormData();\n\t\t\t\t\tformData.append(\"file\", attachment);\n\t\t\t\t\tawait api.post(`/schedules/${data.id}/media-upload`, formData);\n\t\t\t\t}\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"scheduleModal.success\"));\n\t\t\tif (typeof reload == 'function') {\n\t\t\t\treload();\n\t\t\t}\n\t\t\tif (contactId) {\n\t\t\t\tif (typeof cleanContact === 'function') {\n\t\t\t\t\tcleanContact();\n\t\t\t\t\thistory.push('/schedules');\n\t\t\t\t}\n\t\t\t}\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\tsetCurrentContact(initialContact);\n\t\tsetSchedule(initialState);\n\t\thandleClose();\n\t};\n\tconst handleClickMsgVar = async (msgVar, setValueFunc) => {\n\t\tconst el = messageInputRef.current;\n\t\tconst firstHalfText = el.value.substring(0, el.selectionStart);\n\t\tconst secondHalfText = el.value.substring(el.selectionEnd);\n\t\tconst newCursorPos = el.selectionStart + msgVar.length;\n\n\t\tsetValueFunc(\"body\", `${firstHalfText}${msgVar}${secondHalfText}`);\n\n\t\tawait new Promise(r => setTimeout(r, 100));\n\t\tmessageInputRef.current.setSelectionRange(newCursorPos, newCursorPos);\n\t};\n\n\tconst deleteMedia = async () => {\n\t\tif (attachment) {\n\t\t\tsetAttachment(null);\n\t\t\tattachmentFile.current.value = null;\n\t\t}\n\n\t\tif (schedule.mediaPath) {\n\t\t\tawait api.delete(`/schedules/${schedule.id}/media-upload`);\n\t\t\tsetSchedule((prev) => ({\n\t\t\t\t...prev,\n\t\t\t\tmediaPath: null,\n\t\t\t}));\n\t\t\ttoast.success(i18n.t(\"scheduleModal.toasts.deleted\"));\n\t\t\tif (typeof reload == \"function\") {\n\t\t\t\tconsole.log(reload);\n\t\t\t\tconsole.log(\"1\");\n\t\t\t\treload();\n\t\t\t}\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<ConfirmationModal\n\t\t\t\ttitle={i18n.t(\"scheduleModal.confirmationModal.deleteTitle\")}\n\t\t\t\topen={confirmationOpen}\n\t\t\t\tonClose={() => setConfirmationOpen(false)}\n\t\t\t\tonConfirm={deleteMedia}\n\t\t\t>\n\t\t\t\t{i18n.t(\"scheduleModal.confirmationModal.deleteMessage\")}\n\t\t\t</ConfirmationModal>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"xs\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{schedule.status === 'ERRO' ? 'Erro de Envio' : `Mensagem ${capitalize(schedule.status)}`}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<div style={{ display: \"none\" }}>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\taccept=\".png,.jpg,.jpeg\"\n\t\t\t\t\t\tref={attachmentFile}\n\t\t\t\t\t\tonChange={(e) => handleAttachmentFile(e)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={schedule}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={ScheduleSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveSchedule(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting, values, setFieldValue }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<FormControl\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<Autocomplete\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\t\tvalue={currentContact}\n\t\t\t\t\t\t\t\t\t\t\toptions={contacts}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e, contact) => {\n\t\t\t\t\t\t\t\t\t\t\t\tconst contactId = contact ? contact.id : '';\n\t\t\t\t\t\t\t\t\t\t\t\tsetSchedule({ ...schedule, contactId });\n\t\t\t\t\t\t\t\t\t\t\t\tsetCurrentContact(contact ? contact : initialContact);\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\tgetOptionLabel={(option) => option.name}\n\t\t\t\t\t\t\t\t\t\t\tgetOptionSelected={(option, value) => {\n\t\t\t\t\t\t\t\t\t\t\t\treturn value.id === option.id\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => <TextField {...params} variant=\"outlined\" placeholder=\"Contato\" />}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</FormControl>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\trows={9}\n\t\t\t\t\t\t\t\t\t\tmultiline={true}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"scheduleModal.form.body\")}\n\t\t\t\t\t\t\t\t\t\tname=\"body\"\n\t\t\t\t\t\t\t\t\t\tinputRef={messageInputRef}\n\t\t\t\t\t\t\t\t\t\terror={touched.body && Boolean(errors.body)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.body && errors.body}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t<MessageVariablesPicker\n\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\t\tonClick={value => handleClickMsgVar(value, setFieldValue)}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"scheduleModal.form.sendAt\")}\n\t\t\t\t\t\t\t\t\t\ttype=\"datetime-local\"\n\t\t\t\t\t\t\t\t\t\tname=\"sendAt\"\n\t\t\t\t\t\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\terror={touched.sendAt && Boolean(errors.sendAt)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.sendAt && errors.sendAt}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{(schedule.mediaPath || attachment) && (\n\t\t\t\t\t\t\t\t\t<Grid xs={12} item>\n\t\t\t\t\t\t\t\t\t\t<Button startIcon={<AttachFile />}>\n\t\t\t\t\t\t\t\t\t\t\t{attachment ? attachment.name : schedule.mediaName}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => setConfirmationOpen(true)}\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t<DeleteOutline color=\"secondary\" />\n\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t{!attachment && !schedule.mediaPath && (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\tonClick={() => attachmentFile.current.click()}\n\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{i18n.t(\"quickMessages.buttons.attach\")}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"scheduleModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t{(schedule.sentAt === null || schedule.sentAt === \"\") && (\n\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{scheduleId\n\t\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"scheduleModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"scheduleModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default ScheduleModal;","import React, { useContext, useEffect, useRef, useState } from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Menu from \"@material-ui/core/Menu\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport TransferTicketModalCustom from \"../TransferTicketModalCustom\";\nimport toastError from \"../../errors/toastError\";\nimport { Can } from \"../Can\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nimport ScheduleModal from \"../ScheduleModal\";\n\nconst TicketOptionsMenu = ({ ticket, menuOpen, handleClose, anchorEl }) => {\n\tconst [confirmationOpen, setConfirmationOpen] = useState(false);\n\tconst [transferTicketModalOpen, setTransferTicketModalOpen] = useState(false);\n\tconst isMounted = useRef(true);\n\tconst { user } = useContext(AuthContext);\n\n\tconst [scheduleModalOpen, setScheduleModalOpen] = useState(false);\n\tconst [contactId, setContactId] = useState(null);\n\n\tuseEffect(() => {\n\t\treturn () => {\n\t\t\tisMounted.current = false;\n\t\t};\n\t}, []);\n\n\tconst handleDeleteTicket = async () => {\n\t\ttry {\n\t\t\tawait api.delete(`/tickets/${ticket.id}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst handleOpenConfirmationModal = e => {\n\t\tsetConfirmationOpen(true);\n\t\thandleClose();\n\t};\n\n\tconst handleOpenTransferModal = e => {\n\t\tsetTransferTicketModalOpen(true);\n\t\thandleClose();\n\t};\n\n\tconst handleCloseTransferTicketModal = () => {\n\t\tif (isMounted.current) {\n\t\t\tsetTransferTicketModalOpen(false);\n\t\t}\n\t};\n\n\tconst handleOpenScheduleModal = () => {\n\t\thandleClose();\n\t\tsetContactId(ticket.contact.id);\n\t\tsetScheduleModalOpen(true);\n\t}\n\n\tconst handleCloseScheduleModal = () => {\n\t\tsetScheduleModalOpen(false);\n\t\tsetContactId(null);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t<Menu\n\t\t\t\tid=\"menu-appbar\"\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\tgetContentAnchorEl={null}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\tkeepMounted\n\t\t\t\ttransformOrigin={{\n\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\topen={menuOpen}\n\t\t\t\tonClose={handleClose}\n\t\t\t>\n\t\t\t\t<MenuItem onClick={handleOpenScheduleModal}>\n\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.schedule\")}\n\t\t\t\t</MenuItem>\n\t\t\t\t<MenuItem onClick={handleOpenTransferModal}>\n\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.transfer\")}\n\t\t\t\t</MenuItem>\n\t\t\t\t<Can\n\t\t\t\t\trole={user.profile}\n\t\t\t\t\tperform=\"ticket-options:deleteTicket\"\n\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t<MenuItem onClick={handleOpenConfirmationModal}>\n\t\t\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.delete\")}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t)}\n\t\t\t\t/>\n\t\t\t</Menu>\n\t\t\t<ConfirmationModal\n\t\t\t\ttitle={`${i18n.t(\"ticketOptionsMenu.confirmationModal.title\")}${\n\t\t\t\t\tticket.id\n\t\t\t\t} ${i18n.t(\"ticketOptionsMenu.confirmationModal.titleFrom\")} ${\n\t\t\t\t\tticket.contact.name\n\t\t\t\t}?`}\n\t\t\t\topen={confirmationOpen}\n\t\t\t\tonClose={setConfirmationOpen}\n\t\t\t\tonConfirm={handleDeleteTicket}\n\t\t\t>\n\t\t\t\t{i18n.t(\"ticketOptionsMenu.confirmationModal.message\")}\n\t\t\t</ConfirmationModal>\n\t\t\t<TransferTicketModalCustom\n\t\t\t\tmodalOpen={transferTicketModalOpen}\n\t\t\t\tonClose={handleCloseTransferTicketModal}\n\t\t\t\tticketid={ticket.id}\n\t\t\t/>\n\t\t\t<ScheduleModal\n\t\t\t\topen={scheduleModalOpen}\n\t\t\t\tonClose={handleCloseScheduleModal}\n\t\t\t\taria-labelledby=\"form-dialog-title\"\n\t\t\t\tcontactId={contactId}\n\t\t\t/>\n\t\t</>\n\t);\n};\n\nexport default TicketOptionsMenu;","import React, { useContext, useState } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles, createTheme, ThemeProvider } from \"@material-ui/core/styles\";\nimport { IconButton } from \"@material-ui/core\";\nimport { MoreVert, Replay } from \"@material-ui/icons\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport TicketOptionsMenu from \"../TicketOptionsMenu\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport UndoRoundedIcon from '@material-ui/icons/UndoRounded';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport { green } from '@material-ui/core/colors';\n\n\nconst useStyles = makeStyles(theme => ({\n\tactionButtons: {\n\t\tmarginRight: 6,\n\t\tflex: \"none\",\n\t\talignSelf: \"center\",\n\t\tmarginLeft: \"auto\",\n\t\t\"& > *\": {\n\t\t\tmargin: theme.spacing(0.5),\n\t\t},\n\t},\n}));\n\nconst TicketActionButtonsCustom = ({ ticket }) => {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\tconst [anchorEl, setAnchorEl] = useState(null);\n\tconst [loading, setLoading] = useState(false);\n\tconst ticketOptionsMenuOpen = Boolean(anchorEl);\n\tconst { user } = useContext(AuthContext);\n\tconst { setCurrentTicket } = useContext(TicketsContext);\n\n\tconst customTheme = createTheme({\n\t\tpalette: {\n\t\t  \tprimary: green,\n\t\t}\n\t});\n\n\tconst handleOpenTicketOptionsMenu = e => {\n\t\tsetAnchorEl(e.currentTarget);\n\t};\n\n\tconst handleCloseTicketOptionsMenu = e => {\n\t\tsetAnchorEl(null);\n\t};\n\n\tconst handleUpdateTicketStatus = async (e, status, userId) => {\n\t\tsetLoading(true);\n\t\ttry {\n\t\t\tawait api.put(`/tickets/${ticket.id}`, {\n\t\t\t\tstatus: status,\n\t\t\t\tuserId: userId || null,\n\t\t\t\tuseIntegration: status === \"closed\" ? false : ticket.useIntegration,\n\t\t\t\tpromptId: status === \"closed\" ? false : ticket.promptId,\n\t\t\t\tintegrationId: status === \"closed\" ? false : ticket.integrationId\n\t\t\t});\n\n\t\t\tsetLoading(false);\n\t\t\tif (status === \"open\") {\n\t\t\t\tsetCurrentTicket({ ...ticket, code: \"#open\" });\n\t\t\t} else {\n\t\t\t\tsetCurrentTicket({ id: null, code: null })\n\t\t\t\thistory.push(\"/tickets\");\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tsetLoading(false);\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className={classes.actionButtons}>\n\t\t\t{ticket.status === \"closed\" && (\n\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\tloading={loading}\n\t\t\t\t\tstartIcon={<Replay />}\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"open\", user?.id)}\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.reopen\")}\n\t\t\t\t</ButtonWithSpinner>\n\t\t\t)}\n\t\t\t{ticket.status === \"open\" && (\n\t\t\t\t<>\n\t\t\t\t\t<Tooltip title={i18n.t(\"messagesList.header.buttons.return\")}>\n\t\t\t\t\t\t<IconButton onClick={e => handleUpdateTicketStatus(e, \"pending\", null)}>\n\t\t\t\t\t\t\t<UndoRoundedIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</Tooltip>\n\t\t\t\t\t<ThemeProvider theme={customTheme}>\n\t\t\t\t\t\t<Tooltip title={i18n.t(\"messagesList.header.buttons.resolve\")}>\n\t\t\t\t\t\t\t<IconButton onClick={e => handleUpdateTicketStatus(e, \"closed\", user?.id)} color=\"primary\">\n\t\t\t\t\t\t\t\t<CheckCircleIcon />\n\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t</ThemeProvider>\n\t\t\t\t\t{/* <ButtonWithSpinner\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tstartIcon={<Replay />}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"pending\", null)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.return\")}\n\t\t\t\t\t</ButtonWithSpinner>\n\t\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\t\tloading={loading}\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"closed\", user?.id)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.resolve\")}\n\t\t\t\t\t</ButtonWithSpinner> */}\n\t\t\t\t\t<IconButton onClick={handleOpenTicketOptionsMenu}>\n\t\t\t\t\t\t<MoreVert />\n\t\t\t\t\t</IconButton>\n\t\t\t\t\t<TicketOptionsMenu\n\t\t\t\t\t\tticket={ticket}\n\t\t\t\t\t\tanchorEl={anchorEl}\n\t\t\t\t\t\tmenuOpen={ticketOptionsMenuOpen}\n\t\t\t\t\t\thandleClose={handleCloseTicketOptionsMenu}\n\t\t\t\t\t/>\n\t\t\t\t</>\n\t\t\t)}\n\t\t\t{ticket.status === \"pending\" && (\n\t\t\t\t<ButtonWithSpinner\n\t\t\t\t\tloading={loading}\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\tonClick={e => handleUpdateTicketStatus(e, \"open\", user?.id)}\n\t\t\t\t>\n\t\t\t\t\t{i18n.t(\"messagesList.header.buttons.accept\")}\n\t\t\t\t</ButtonWithSpinner>\n\t\t\t)}\n\t\t</div>\n\t);\n};\n\nexport default TicketActionButtonsCustom;\n","import { Chip, Paper, TextField } from \"@material-ui/core\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\nimport React, { useEffect, useRef, useState } from \"react\";\nimport { isArray, isString } from \"lodash\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\n\nexport function TagsContainer({ ticket }) {\n\n    const [tags, setTags] = useState([]);\n    const [selecteds, setSelecteds] = useState([]);\n    const isMounted = useRef(true);\n\n    useEffect(() => {\n        return () => {\n            isMounted.current = false\n        }\n    }, [])\n\n    useEffect(() => {\n        if (isMounted.current) {\n            loadTags().then(() => {\n                if (Array.isArray(ticket.tags)) {\n                    setSelecteds(ticket.tags);\n                } else {\n                    setSelecteds([]);\n                }\n            });\n        }\n    }, [ticket]);\n\n    const createTag = async (data) => {\n        try {\n            const { data: responseData } = await api.post(`/tags`, data);\n            return responseData;\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    const loadTags = async () => {\n        try {\n            const { data } = await api.get(`/tags/list`);\n            setTags(data);\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    const syncTags = async (data) => {\n        try {\n            const { data: responseData } = await api.post(`/tags/sync`, data);\n            return responseData;\n        } catch (err) {\n            toastError(err);\n        }\n    }\n\n    const onChange = async (value, reason) => {\n        let optionsChanged = []\n        if (reason === 'create-option') {\n            if (isArray(value)) {\n                for (let item of value) {\n                    if (isString(item)) {\n                        const newTag = await createTag({ name: item })\n                        optionsChanged.push(newTag);\n                    } else {\n                        optionsChanged.push(item);\n                    }\n                }\n            }\n            await loadTags();\n        } else {\n            optionsChanged = value;\n        }\n        setSelecteds(optionsChanged);\n        await syncTags({ ticketId: ticket.id, tags: optionsChanged });\n    }\n\n    return (\n        <Paper style={{ padding: 12 }}>\n            <Autocomplete\n                multiple\n                size=\"small\"\n                options={tags}\n                value={selecteds}\n                freeSolo\n                onChange={(e, v, r) => onChange(v, r)}\n                getOptionLabel={(option) => option.name}\n                renderTags={(value, getTagProps) =>\n                    value.map((option, index) => (\n                        <Chip\n                            variant=\"outlined\"\n                            style={{\n                                background: option.color || '#eee',\n                                color: \"#FFF\",\n                                marginRight: 1,\n                                fontWeight: 600,\n                                borderRadius: 3,\n                                fontSize: \"0.8em\",\n                                whiteSpace: \"nowrap\"\n                            }}\n                            label={option.name.toUpperCase()}\n                            {...getTagProps({ index })}\n                            size=\"small\"\n                        />\n                    ))\n                }\n                renderInput={(params) => (\n                    <TextField {...params} variant=\"outlined\" placeholder=\"Tags\" />\n                )}\n                PaperComponent={({ children }) => (\n                    <Paper style={{ width: 400, marginLeft: 12 }}>\n                        {children}\n                    </Paper>\n                )}\n            />\n        </Paper>\n    )\n}","import React, { useState, useEffect, useContext } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\n\nimport { toast } from \"react-toastify\";\nimport clsx from \"clsx\";\n\nimport { Paper, makeStyles } from \"@material-ui/core\";\n\nimport ContactDrawer from \"../ContactDrawer\";\nimport MessageInput from \"../MessageInputCustom/\";\nimport TicketHeader from \"../TicketHeader\";\nimport TicketInfo from \"../TicketInfo\";\nimport TicketActionButtons from \"../TicketActionButtonsCustom\";\nimport MessagesList from \"../MessagesList\";\nimport api from \"../../services/api\";\nimport { ReplyMessageProvider } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { TagsContainer } from \"../TagsContainer\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst drawerWidth = 320;\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    height: \"100%\",\n    position: \"relative\",\n    overflow: \"hidden\",\n  },\n\n  mainWrapper: {\n    flex: 1,\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    overflow: \"hidden\",\n    borderTopLeftRadius: 0,\n    borderBottomLeftRadius: 0,\n    borderLeft: \"0\",\n    marginRight: -drawerWidth,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n\n  mainWrapperShift: {\n    borderTopRightRadius: 0,\n    borderBottomRightRadius: 0,\n    transition: theme.transitions.create(\"margin\", {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginRight: 0,\n  },\n}));\n\nconst Ticket = () => {\n  const { ticketId } = useParams();\n  const history = useHistory();\n  const classes = useStyles();\n\n  const { user } = useContext(AuthContext);\n\n  const [drawerOpen, setDrawerOpen] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [contact, setContact] = useState({});\n  const [ticket, setTicket] = useState({});\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchTicket = async () => {\n        try {\n          const { data } = await api.get(\"/tickets/u/\" + ticketId);\n          const { queueId } = data;\n          const { queues, profile } = user;\n\n          const queueAllowed = queues.find((q) => q.id === queueId);\n          if (queueAllowed === undefined && profile !== \"admin\") {\n            toast.error(\"Acesso não permitido\");\n            history.push(\"/tickets\");\n            return;\n          }\n\n          setContact(data.contact);\n          setTicket(data);\n          setLoading(false);\n        } catch (err) {\n          setLoading(false);\n          toastError(err);\n        }\n      };\n      fetchTicket();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [ticketId, user, history]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(\"connect\", () => socket.emit(\"joinChatBox\", `${ticket.id}`));\n\n    socket.on(`company-${companyId}-ticket`, (data) => {\n      if (data.action === \"update\") {\n        setTicket(data.ticket);\n      }\n\n      if (data.action === \"delete\") {\n        toast.success(\"Ticket deleted sucessfully.\");\n        history.push(\"/tickets\");\n      }\n    });\n\n    socket.on(`company-${companyId}-contact`, (data) => {\n      if (data.action === \"update\") {\n        setContact((prevState) => {\n          if (prevState.id === data.contact?.id) {\n            return { ...prevState, ...data.contact };\n          }\n          return prevState;\n        });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [ticketId, ticket, history]);\n\n  const handleDrawerOpen = () => {\n    setDrawerOpen(true);\n  };\n\n  const handleDrawerClose = () => {\n    setDrawerOpen(false);\n  };\n\n  const renderTicketInfo = () => {\n    if (ticket.user !== undefined) {\n      return (\n        <TicketInfo\n          contact={contact}\n          ticket={ticket}\n          onClick={handleDrawerOpen}\n        />\n      );\n    }\n  };\n\n  const renderMessagesList = () => {\n    return (\n      <>\n        <MessagesList\n          ticket={ticket}\n          ticketId={ticket.id}\n          isGroup={ticket.isGroup}\n        ></MessagesList>\n        <MessageInput ticketId={ticket.id} ticketStatus={ticket.status} />\n      </>\n    );\n  };\n\n  return (\n    <div className={classes.root} id=\"drawer-container\">\n      <Paper\n        variant=\"outlined\"\n        elevation={0}\n        className={clsx(classes.mainWrapper, {\n          [classes.mainWrapperShift]: drawerOpen,\n        })}\n      >\n        <TicketHeader loading={loading}>\n          {renderTicketInfo()}\n          <TicketActionButtons ticket={ticket} />\n        </TicketHeader>\n        <Paper>\n          <TagsContainer ticket={ticket} />\n        </Paper>\n        <ReplyMessageProvider>{renderMessagesList()}</ReplyMessageProvider>\n      </Paper>\n      <ContactDrawer\n        open={drawerOpen}\n        handleDrawerClose={handleDrawerClose}\n        contact={contact}\n        loading={loading}\n        ticket={ticket}\n      />\n    </div>\n  );\n};\n\nexport default Ticket;\n","import React from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport TicketsManager from \"../../components/TicketsManagerTabs/\";\nimport Ticket from \"../../components/Ticket/\";\nimport logo from \"../../assets/logo.png\"; //PLW DESIGN LOGO//\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles(theme => ({\n\tchatContainer: {\n\t\tflex: 1,\n\t\t// backgroundColor: \"#eee\",\n\t\tpadding: theme.spacing(1), //Aqui ele ajusta espaço na tela de ticket\n\t\theight: `calc(100% - 48px)`,\n\t\toverflowY: \"hidden\",\n\t},\n\n\tchatPapper: {\n\t\t// backgroundColor: \"red\",\n\t\tdisplay: \"flex\",\n\t\theight: \"100%\",\n\t},\n\n\tcontactsWrapper: {\n\t\tdisplay: \"flex\",\n\t\theight: \"100%\",\n\t\tflexDirection: \"column\",\n\t\toverflowY: \"hidden\",\n\t},\n\tmessagesWrapper: {\n\t\tdisplay: \"flex\",\n\t\theight: \"100%\",\n\t\tflexDirection: \"column\",\n\t},\n\twelcomeMsg: {\n\t\tbackgroundColor: theme.palette.boxticket, //DARK MODE PLW DESIGN//\n\t\tdisplay: \"flex\",\n\t\tjustifyContent: \"space-evenly\",\n\t\talignItems: \"center\",\n\t\theight: \"100%\",\n\t\ttextAlign: \"center\",\n\t},\n}));\n\nconst TicketsCustom = () => {\n\tconst classes = useStyles();\n\tconst { ticketId } = useParams();\n\n\treturn (\n\t\t<div className={classes.chatContainer}>\n\t\t\t<div className={classes.chatPapper}>\n\t\t\t\t<Grid container spacing={0}>\n\t\t\t\t\t<Grid item xs={4} className={classes.contactsWrapper}>\n\t\t\t\t\t\t<TicketsManager />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs={8} className={classes.messagesWrapper}>\n\t\t\t\t\t\t{ticketId ? (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<Ticket />\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.welcomeMsg}>\n\t\t\t\t\t\t\t{/* PLW DESIGN LOGO */}\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t<center><img style={{ margin: \"0 auto\", width: \"70%\" }} src={logo} alt=\"logologin\" /></center>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t{/* PLW DESIGN LOGO */}\n\t\t\t\t\t\t\t{/*<span>{i18n.t(\"chat.noTicketMessage\")}</span>*/}\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default TicketsCustom;\n","import { styled } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\n\nconst TicketAdvancedLayout = styled(Paper)({\n    height: `calc(100% - 48px)`,\n    display: \"grid\",\n    gridTemplateRows: \"56px 1fr\"\n})\n\nexport default TicketAdvancedLayout;","import React, { useState, useEffect, useContext } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Button from '@material-ui/core/Button';\nimport Box from '@material-ui/core/Box';\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\nimport QuestionAnswerIcon from '@material-ui/icons/QuestionAnswer';\nimport ChatIcon from '@material-ui/icons/Chat';\n\nimport TicketsManagerTabs from \"../../components/TicketsManagerTabs/\";\nimport Ticket from \"../../components/Ticket/\";\nimport TicketAdvancedLayout from \"../../components/TicketAdvancedLayout\";\nimport logo from \"../../assets/logo.png\"; //PLW DESIGN LOGO//\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles(theme => ({\n    header: {\n    },\n    content: {\n        overflow: \"auto\"\n    },\n    placeholderContainer: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        height: \"100%\",\n\t\tbackgroundColor: theme.palette.boxticket, //DARK MODE PLW DESIGN//\n    },\n    placeholderItem: {\n    }\n}));\n\nconst TicketAdvanced = (props) => {\n\tconst classes = useStyles();\n\tconst { ticketId } = useParams();\n\tconst [option, setOption] = useState(0);\n    const { currentTicket, setCurrentTicket } = useContext(TicketsContext)\n\n    useEffect(() => {\n        if(currentTicket.id !== null) {\n            setCurrentTicket({ id: currentTicket.id, code: '#open' })\n        }\n        if (!ticketId) {\n            setOption(1)\n        }\n        return () => {\n            setCurrentTicket({ id: null, code: null })\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    useEffect(() => {\n        if (currentTicket.id !== null) {\n            setOption(0)\n        }\n    }, [currentTicket])\n\n\tconst renderPlaceholder = () => {\n\t\treturn <Box className={classes.placeholderContainer}>\n             {/*<div className={classes.placeholderItem}>{i18n.t(\"chat.noTicketMessage\")}</div>*/}\n\t\t\t//LOGO//\n\t\t\t<div>\n\t\t\t<center><img style={{ margin: \"0 auto\", width: \"70%\" }} src={logo} alt=\"logologin\" /></center>\n\t\t\t</div>\n\t\t\t//LOGO//\n\t\t\t<br />\n            <Button onClick={() => setOption(1)} variant=\"contained\" color=\"primary\">\n                Selecionar Ticket\n            </Button>\n        </Box>\n\t}\n\n\tconst renderMessageContext = () => {\n\t\tif (ticketId) {\n\t\t\treturn <Ticket />\n\t\t}\n\t\treturn renderPlaceholder()\n\t}\n\n\tconst renderTicketsManagerTabs = () => {\n\t\treturn <TicketsManagerTabs />\n\t}\n\n\treturn (\n        <TicketAdvancedLayout>\n            <Box className={classes.header}>\n                <BottomNavigation\n                    value={option}\n                    onChange={(event, newValue) => {\n                        setOption(newValue);\n                    }}\n                    showLabels\n                    className={classes.root}\n                >\n                    <BottomNavigationAction label=\"Ticket\" icon={<ChatIcon />} />\n                    <BottomNavigationAction label=\"Atendimentos\" icon={<QuestionAnswerIcon />} />\n                </BottomNavigation>\n            </Box>\n            <Box className={classes.content}>\n                { option === 0 ? renderMessageContext() : renderTicketsManagerTabs() }\n            </Box>\n        </TicketAdvancedLayout>\n\t);\n};\n\nexport default TicketAdvanced;\n","import React from \"react\";\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\n\nimport Tickets from \"../TicketsCustom\"\nimport TicketAdvanced from \"../TicketsAdvanced\";\n\nfunction TicketResponsiveContainer (props) {\n    if (isWidthUp('md', props.width)) {\n        return <Tickets />;    \n    }\n    return <TicketAdvanced />\n}\n\nexport default withWidth()(TicketResponsiveContainer);","import React, { useState, useEffect } from \"react\";\nimport qs from 'query-string'\n\nimport * as Yup from \"yup\";\nimport { useHistory } from \"react-router-dom\";\nimport { Link as RouterLink } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport { Formik, Form, Field } from \"formik\";\nimport usePlans from \"../../hooks/usePlans\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Link from \"@material-ui/core/Link\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Box from \"@material-ui/core/Box\";\nimport {\n\tFormControl,\n\tInputLabel,\n\tMenuItem,\n\tSelect,\n} from \"@material-ui/core\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport logo from \"../../assets/logo.png\";\nimport { i18n } from \"../../translate/i18n\";\n\nimport { openApi } from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport moment from \"moment\";\nconst Copyright = () => {\n\treturn (\n\t\t<Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n\t\t\t{\"Copyright © \"}\n\t\t\t<Link color=\"inherit\" href=\"#\">\n\t\t\t\tPLW\n\t\t\t</Link>{\" \"}\n\t\t   {new Date().getFullYear()}\n\t\t\t{\".\"}\n\t\t</Typography>\n\t);\n};\n\nconst useStyles = makeStyles(theme => ({\n\tpaper: {\n\t\tmarginTop: theme.spacing(8),\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t\talignItems: \"center\",\n\t},\n\tavatar: {\n\t\tmargin: theme.spacing(1),\n\t\tbackgroundColor: theme.palette.secondary.main,\n\t},\n\tform: {\n\t\twidth: \"100%\",\n\t\tmarginTop: theme.spacing(3),\n\t},\n\tsubmit: {\n\t\tmargin: theme.spacing(3, 0, 2),\n\t},\n}));\n\nconst UserSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(2, \"Too Short!\")\n\t\t.max(50, \"Too Long!\")\n\t\t.required(\"Required\"),\n\tpassword: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\n\temail: Yup.string().email(\"Invalid email\").required(\"Required\"),\n});\n\nconst SignUp = () => {\n\tconst classes = useStyles();\n\tconst history = useHistory();\n\tlet companyId = null\n\n\tconst params = qs.parse(window.location.search)\n\tif (params.companyId !== undefined) {\n\t\tcompanyId = params.companyId\n\t}\n\n\tconst initialState = { name: \"\", email: \"\", phone: \"\", password: \"\", planId: \"\", };\n\n\tconst [user] = useState(initialState);\n\tconst dueDate = moment().add(3, \"day\").format();\n\tconst handleSignUp = async values => {\n\t\tObject.assign(values, { recurrence: \"MENSAL\" });\n\t\tObject.assign(values, { dueDate: dueDate });\n\t\tObject.assign(values, { status: \"t\" });\n\t\tObject.assign(values, { campaignsEnabled: true });\n\t\ttry {\n\t\t\tawait openApi.post(\"/companies/cadastro\", values);\n\t\t\ttoast.success(i18n.t(\"signup.toasts.success\"));\n\t\t\thistory.push(\"/login\");\n\t\t} catch (err) {\n\t\t\tconsole.log(err);\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst [plans, setPlans] = useState([]);\n\tconst { list: listPlans } = usePlans();\n\n\tuseEffect(() => {\n\t\tasync function fetchData() {\n\t\t\tconst list = await listPlans();\n\t\t\tsetPlans(list);\n\t\t}\n\t\tfetchData();\n\t}, []);\n\n\n\treturn (\n\t\t<Container component=\"main\" maxWidth=\"xs\">\n\t\t\t<CssBaseline />\n\t\t\t<div className={classes.paper}>\n\t\t\t\t<div>\n\t\t\t\t\t<img style={{ margin: \"0 auto\", height: \"80px\", width: \"100%\" }} src={logo} alt=\"Whats\" />\n\t\t\t\t</div>\n\t\t\t\t{/*<Typography component=\"h1\" variant=\"h5\">\n\t\t\t\t\t{i18n.t(\"signup.title\")}\n\t\t\t\t</Typography>*/}\n\t\t\t\t{/* <form className={classes.form} noValidate onSubmit={handleSignUp}> */}\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={user}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={UserSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSignUp(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting }) => (\n\t\t\t\t\t\t<Form className={classes.form}>\n\t\t\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"name\"\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tid=\"name\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Nome da Empresa\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tid=\"email\"\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"signup.form.email\")}\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"email\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tid=\"phone\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Telefone com (DDD)\"\n\t\t\t\t\t\t\t\t\t\tname=\"phone\"\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"phone\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\t\terror={touched.password && Boolean(errors.password)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.password && errors.password}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"signup.form.password\")}\n\t\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\t\t\t\tautoComplete=\"current-password\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid item xs={12}>\n\t\t\t\t\t\t\t\t\t<InputLabel htmlFor=\"plan-selection\">Plano</InputLabel>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={Select}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tid=\"plan-selection\"\n\t\t\t\t\t\t\t\t\t\tlabel=\"Plano\"\n\t\t\t\t\t\t\t\t\t\tname=\"planId\"\n\t\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{plans.map((plan, key) => (\n\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={key} value={plan.id}>\n\t\t\t\t\t\t\t\t\t\t\t\t{plan.name} - Atendentes: {plan.users} - WhatsApp: {plan.connections} - Filas: {plan.queues} - R$ {plan.value}\n\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t\t</Field>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tclassName={classes.submit}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{i18n.t(\"signup.buttons.submit\")}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t<Grid container justify=\"flex-end\">\n\t\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t\t<Link\n\t\t\t\t\t\t\t\t\t\thref=\"#\"\n\t\t\t\t\t\t\t\t\t\tvariant=\"body2\"\n\t\t\t\t\t\t\t\t\t\tcomponent={RouterLink}\n\t\t\t\t\t\t\t\t\t\tto=\"/login\"\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t{i18n.t(\"signup.buttons.login\")}\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</div>\n\t\t\t<Box mt={5}>{/* <Copyright /> */}</Box>\n\t\t</Container>\n\t);\n};\n\nexport default SignUp;\n","import React, { useState, useContext } from \"react\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport {\r\n  Avatar,\r\n  Button,\r\n  CssBaseline,\r\n  TextField,\r\n  Grid,\r\n  Typography,\r\n  Container,\r\n  InputAdornment,\r\n  IconButton,\r\n  Link\r\n} from '@material-ui/core';\r\nimport { Visibility, VisibilityOff } from '@material-ui/icons';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\n//import loginBackground from \"../../assets/bg.jpg\";\r\nimport chatImage from \"../../assets/logo.png\";\r\nimport WhatsAppIcon from '@material-ui/icons/WhatsApp';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    padding: theme.spacing(2),\r\n    borderRadius: theme.spacing(2),\r\n    //backgroundColor: `rgba(${theme.palette.background.paper}, 0.8)`,\r\n    backgroundColor: theme.palette.background.paper,\r\n    boxShadow: \"0px 3px 6px rgba(0, 0, 0, 0.16)\",\r\n\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  whatsapp: {\r\n    backgroundColor: '#32d951'\r\n  },\r\n  form: {\r\n    width: \"100%\", // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n  containerWrapper: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    gap: theme.spacing(4),\r\n  },\r\n  container: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    height: '100vh',\r\n  },\r\n  mobileContainer: {\r\n    flex: 1,\r\n    display: 'flex', \r\n    justifyContent: 'center', \r\n    alignItems: 'center', \r\n    minHeight: '100vh'\r\n  },\r\n  hideOnMobile: {\r\n    display: 'flex', \r\n    justifyContent: 'center', \r\n    alignItems: 'center', \r\n    minHeight: '100vh',\r\n    [theme.breakpoints.down('sm')]: {\r\n      display: 'none',\r\n    },\r\n  },\r\n}));\r\n\r\nconst Login = () => {\r\n  const classes = useStyles();\r\n\r\n  const [user, setUser] = useState({ email: \"\", password: \"\" });\r\n  const [showPassword, setShowPassword] = useState(false);\r\n\r\n  const { handleLogin } = useContext(AuthContext);\r\n\r\n  const handleChangeInput = (e) => {\r\n    setUser({ ...user, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    handleLogin(user);\r\n  };\r\n\r\n  return (\r\n    <div style={{ display: 'flex', \r\n      flexDirection: 'column', \r\n      minHeight: '100vh', \r\n      // backgroundImage: `url(${loginBackground})`,\r\n      backgroundSize: 'cover',\r\n      backgroundRepeat: 'no-repeat',\r\n      backgroundPosition: 'center'\r\n    }}>\r\n      <Container component=\"main\" maxWidth=\"md\">\r\n        <CssBaseline />\r\n        <div className={classes.containerWrapper}>\r\n          <Container component=\"div\" maxWidth=\"xs\" className={`${classes.mobileContainer} ${classes.hideOnMobile}`}>\r\n            <img src={chatImage} style={{width:'70%'}} alt={process.env.REACT_APP_TITLE} />\r\n          </Container>\r\n          <Container component=\"div\" maxWidth=\"xs\" className={classes.mobileContainer}>\r\n            <div className={classes.paper}>\r\n              <Avatar className={classes.whatsapp}>\r\n                <WhatsAppIcon />\r\n              </Avatar>\r\n              <Typography component=\"h1\" variant=\"h5\">\r\n                {i18n.t(\"login.title\")}\r\n              </Typography>\r\n              <form className={classes.form} noValidate onSubmit={handleSubmit}>\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  margin=\"normal\"\r\n                  required\r\n                  fullWidth\r\n                  id=\"email\"\r\n                  label={i18n.t(\"login.form.email\")}\r\n                  name=\"email\"\r\n                  value={user.email}\r\n                  onChange={handleChangeInput}\r\n                  autoComplete=\"email\"\r\n                  autoFocus\r\n                />\r\n                <TextField\r\n                  variant=\"outlined\"\r\n                  margin=\"normal\"\r\n                  required\r\n                  fullWidth\r\n                  name=\"password\"\r\n                  label={i18n.t(\"login.form.password\")}\r\n                  id=\"password\"\r\n                  value={user.password}\r\n                  onChange={handleChangeInput}\r\n                  autoComplete=\"current-password\"\r\n                  type={showPassword ? 'text' : 'password'}\r\n                  InputProps={{\r\n                    endAdornment: (\r\n                      <InputAdornment position=\"end\">\r\n                        <IconButton\r\n                          aria-label=\"toggle password visibility\"\r\n                          onClick={() => setShowPassword((e) => !e)}\r\n                        >\r\n                          {showPassword ? <VisibilityOff /> : <Visibility />}\r\n                        </IconButton>\r\n                      </InputAdornment>\r\n                    )\r\n                  }}\r\n                />\r\n                <Button\r\n                  type=\"submit\"\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  className={classes.submit}\r\n                >\r\n                  {i18n.t(\"login.buttons.submit\")}\r\n                </Button>\r\n                <Grid container justifyContent=\"flex-end\">\r\n                  <Grid item>\r\n                    <Link\r\n                      variant=\"body2\"\r\n                      component={RouterLink}\r\n                      to=\"/signup\"\r\n                    >\r\n                      {i18n.t(\"login.buttons.register\")}\r\n                    </Link>\r\n                  </Grid>\r\n                </Grid>\r\n              </form>\r\n            </div>\r\n          </Container>       \r\n        </div>\r\n      </Container>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\n\nconst useStyles = makeStyles(theme => ({\n\tmainContainer: {\n\t\tflex: 1,\n\t\tpadding: theme.spacing(2),\n\t\theight: `calc(100% - 48px)`,\n\t},\n\n\tcontentWrapper: {\n\t\theight: \"100%\",\n\t\toverflowY: \"hidden\",\n\t\tdisplay: \"flex\",\n\t\tflexDirection: \"column\",\n\t},\n}));\n\nconst MainContainer = ({ children }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Container className={classes.mainContainer}>\n\t\t\t<div className={classes.contentWrapper}>{children}</div>\n\t\t</Container>\n\t);\n};\n\nexport default MainContainer;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tcontactsHeader: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tpadding: \"0px 6px 6px 6px\",\n\t},\n}));\n\nconst MainHeader = ({ children }) => {\n\tconst classes = useStyles();\n\n\treturn <div className={classes.contactsHeader}>{children}</div>;\n};\n\nexport default MainHeader;\n","import React from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nconst useStyles = makeStyles(theme => ({\n\tMainHeaderButtonsWrapper: {\n\t\tflex: \"none\",\n\t\tmarginLeft: \"auto\",\n\t\t\"& > *\": {\n\t\t\tmargin: theme.spacing(1),\n\t\t},\n\t},\n}));\n\nconst MainHeaderButtonsWrapper = ({ children }) => {\n\tconst classes = useStyles();\n\n\treturn <div className={classes.MainHeaderButtonsWrapper}>{children}</div>;\n};\n\nexport default MainHeaderButtonsWrapper;\n","import React from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\n\nexport default function Title(props) {\n\treturn (\n\t\t<Typography variant=\"h5\" color=\"primary\" gutterBottom>\n\t\t\t{props.children}\n\t\t</Typography>\n\t);\n}\n","import React from \"react\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Skeleton from \"@material-ui/lab/Skeleton\";\nimport { makeStyles } from \"@material-ui/core\";\n\nconst useStyles = makeStyles(theme => ({\n\tcustomTableCell: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t},\n}));\n\nconst TableRowSkeleton = ({ avatar, columns }) => {\n\tconst classes = useStyles();\n\treturn (\n\t\t<>\n\t\t\t<TableRow>\n\t\t\t\t{avatar && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<TableCell style={{ paddingRight: 0 }}>\n\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\t\t\t\tvariant=\"circle\"\n\t\t\t\t\t\t\t\twidth={40}\n\t\t\t\t\t\t\t\theight={40}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t<Skeleton animation=\"wave\" height={30} width={80} />\n\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{Array.from({ length: columns }, (_, index) => (\n\t\t\t\t\t<TableCell align=\"center\" key={index}>\n\t\t\t\t\t\t<div className={classes.customTableCell}>\n\t\t\t\t\t\t\t<Skeleton\n\t\t\t\t\t\t\t\talign=\"center\"\n\t\t\t\t\t\t\t\tanimation=\"wave\"\n\t\t\t\t\t\t\t\theight={30}\n\t\t\t\t\t\t\t\twidth={80}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</TableCell>\n\t\t\t\t))}\n\t\t\t</TableRow>\n\t\t</>\n\t);\n};\n\nexport default TableRowSkeleton;\n","import React, { useState, useEffect } from \"react\";\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\n\nimport {\n  Dialog,\n  DialogContent,\n  DialogTitle,\n  Button,\n  DialogActions,\n  CircularProgress,\n  TextField,\n  Switch,\n  FormControlLabel,\n  Grid,\n  FormControl,\n  InputLabel,\n  Select,\n  MenuItem,\n} from \"@material-ui/core\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport QueueSelect from \"../QueueSelect\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n\n  multFieldLine: {\n    display: \"flex\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n}));\n\nconst SessionSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n});\n\nconst WhatsAppModal = ({ open, onClose, whatsAppId }) => {\n  const classes = useStyles();\n  const initialState = {\n    name: \"\",\n    greetingMessage: \"\",\n    complationMessage: \"\",\n    outOfHoursMessage: \"\",\n    ratingMessage: \"\",\n    isDefault: false,\n    token: \"\",\n    provider: \"beta\",\n    timeSendQueue: 0,\n    sendIdQueue: 0,\n    expiresInactiveMessage: \"\",\n    expiresTicket: 0,\n    timeUseBotQueues: 0,\n    maxUseBotQueues: 3\n  };\n  const [whatsApp, setWhatsApp] = useState(initialState);\n  const [selectedQueueIds, setSelectedQueueIds] = useState([]);\n  const [queues, setQueues] = useState([]);\n  const [selectedPrompt, setSelectedPrompt] = useState(null);\n  const [prompts, setPrompts] = useState([]);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await api.get(\"/prompt\");\n        setPrompts(data.prompts);\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n  }, [whatsAppId]);\n\n  useEffect(() => {\n    const fetchSession = async () => {\n      if (!whatsAppId) return;\n\n      try {\n        const { data } = await api.get(`whatsapp/${whatsAppId}?session=0`);\n        console.log(data)\n        setWhatsApp(data);\n        data.promptId ? setSelectedPrompt(data.promptId) : setSelectedPrompt(null);\n\n        const whatsQueueIds = data.queues?.map((queue) => queue.id);\n        setSelectedQueueIds(whatsQueueIds);\n      } catch (err) {\n        toastError(err);\n      }\n    };\n    fetchSession();\n  }, [whatsAppId]);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await api.get(\"/queue\");\n        setQueues(data);\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n  }, []);\n\n  const handleSaveWhatsApp = async (values) => {\n    const whatsappData = {\n      ...values, queueIds: selectedQueueIds,\n      promptId: selectedPrompt ? selectedPrompt : null\n    };\n    delete whatsappData[\"queues\"];\n    delete whatsappData[\"session\"];\n\n    try {\n      if (whatsAppId) {\n        await api.put(`/whatsapp/${whatsAppId}`, whatsappData);\n      } else {\n        await api.post(\"/whatsapp\", whatsappData);\n      }\n      toast.success(i18n.t(\"whatsappModal.success\"));\n      handleClose();\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleChangeQueue = (e) => {\n    setSelectedQueueIds(e);\n    setSelectedPrompt(null);\n  };\n\n  const handleChangePrompt = (e) => {\n    setSelectedPrompt(e.target.value);\n    setSelectedQueueIds([]);\n  };\n\n  const handleClose = () => {\n    onClose();\n    setWhatsApp(initialState);\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"md\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <DialogTitle>\n          {whatsAppId\n            ? i18n.t(\"whatsappModal.title.edit\")\n            : i18n.t(\"whatsappModal.title.add\")}\n        </DialogTitle>\n        <Formik\n          initialValues={whatsApp}\n          enableReinitialize={true}\n          validationSchema={SessionSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveWhatsApp(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ values, touched, errors, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <div className={classes.multFieldLine}>\n                  <Grid spacing={2} container>\n                    <Grid item>\n                      <Field\n                        as={TextField}\n                        label={i18n.t(\"whatsappModal.form.name\")}\n                        autoFocus\n                        name=\"name\"\n                        error={touched.name && Boolean(errors.name)}\n                        helperText={touched.name && errors.name}\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                        className={classes.textField}\n                      />\n                    </Grid>\n                    <Grid style={{ paddingTop: 15 }} item>\n                      <FormControlLabel\n                        control={\n                          <Field\n                            as={Switch}\n                            color=\"primary\"\n                            name=\"isDefault\"\n                            checked={values.isDefault}\n                          />\n                        }\n                        label={i18n.t(\"whatsappModal.form.default\")}\n                      />\n                    </Grid>\n                  </Grid>\n                </div>\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"queueModal.form.greetingMessage\")}\n                    type=\"greetingMessage\"\n                    multiline\n                    rows={4}\n                    fullWidth\n                    name=\"greetingMessage\"\n                    error={\n                      touched.greetingMessage && Boolean(errors.greetingMessage)\n                    }\n                    helperText={\n                      touched.greetingMessage && errors.greetingMessage\n                    }\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                  />\n                </div>\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"queueModal.form.complationMessage\")}\n                    type=\"complationMessage\"\n                    multiline\n                    rows={4}\n                    fullWidth\n                    name=\"complationMessage\"\n                    error={\n                      touched.complationMessage &&\n                      Boolean(errors.complationMessage)\n                    }\n                    helperText={\n                      touched.complationMessage && errors.complationMessage\n                    }\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                  />\n                </div>\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"queueModal.form.outOfHoursMessage\")}\n                    type=\"outOfHoursMessage\"\n                    multiline\n                    rows={4}\n                    fullWidth\n                    name=\"outOfHoursMessage\"\n                    error={\n                      touched.outOfHoursMessage &&\n                      Boolean(errors.outOfHoursMessage)\n                    }\n                    helperText={\n                      touched.outOfHoursMessage && errors.outOfHoursMessage\n                    }\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                  />\n                </div>\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"queueModal.form.ratingMessage\")}\n                    type=\"ratingMessage\"\n                    multiline\n                    rows={4}\n                    fullWidth\n                    name=\"ratingMessage\"\n                    error={\n                      touched.ratingMessage && Boolean(errors.ratingMessage)\n                    }\n                    helperText={touched.ratingMessage && errors.ratingMessage}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                  />\n                </div>\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"queueModal.form.token\")}\n                    type=\"token\"\n                    fullWidth\n                    name=\"token\"\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                  />\n                </div>\n                <QueueSelect\n                  selectedQueueIds={selectedQueueIds}\n                  onChange={(selectedIds) => handleChangeQueue(selectedIds)}\n                />\n                <FormControl\n                  margin=\"dense\"\n                  variant=\"outlined\"\n                  fullWidth\n                >\n                  <InputLabel>\n                    {i18n.t(\"whatsappModal.form.prompt\")}\n                  </InputLabel>\n                  <Select\n                    labelId=\"dialog-select-prompt-label\"\n                    id=\"dialog-select-prompt\"\n                    name=\"promptId\"\n                    value={selectedPrompt || \"\"}\n                    onChange={handleChangePrompt}\n                    label={i18n.t(\"whatsappModal.form.prompt\")}\n                    fullWidth\n                    MenuProps={{\n                      anchorOrigin: {\n                        vertical: \"bottom\",\n                        horizontal: \"left\",\n                      },\n                      transformOrigin: {\n                        vertical: \"top\",\n                        horizontal: \"left\",\n                      },\n                      getContentAnchorEl: null,\n                    }}\n                  >\n                    {prompts.map((prompt) => (\n                      <MenuItem\n                        key={prompt.id}\n                        value={prompt.id}\n                      >\n                        {prompt.name}\n                      </MenuItem>\n                    ))}\n                  </Select>\n                </FormControl>\n                <div>\n                  <h3>{i18n.t(\"whatsappModal.form.queueRedirection\")}</h3>\n                  <p>{i18n.t(\"whatsappModal.form.queueRedirectionDesc\")}</p>\n                  <Grid spacing={2} container>\n\n                    <Grid xs={6} md={6} item>\n                      <FormControl\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                        className={classes.FormControl}\n                        fullWidth\n                      >\n                        <InputLabel id=\"sendIdQueue-selection-label\">\n                          {i18n.t(\"whatsappModal.form.sendIdQueue\")}\n                        </InputLabel>\n                        <Field\n                          as={Select}\n                          name=\"sendIdQueue\"\n                          id=\"sendIdQueue\"\n                          label={i18n.t(\"whatsappModal.form.sendIdQueue\")}\n                          placeholder={i18n.t(\"whatsappModal.form.sendIdQueue\")}\n                          labelId=\"sendIdQueue-selection-label\"\n                        >\n                          <MenuItem value={0}>&nbsp;</MenuItem>\n                          {queues.map(queue => (\n                            <MenuItem key={queue.id} value={queue.id}>\n                              {queue.name}\n                            </MenuItem>\n                          ))}\n                        </Field>\n                      </FormControl>\n\n                    </Grid>\n\n                    <Grid xs={6} md={6} item>\n                      <Field\n                        as={TextField}\n                        label={i18n.t(\"whatsappModal.form.timeSendQueue\")}\n                        fullWidth\n                        name=\"timeSendQueue\"\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                        error={touched.timeSendQueue && Boolean(errors.timeSendQueue)}\n                        helperText={touched.timeSendQueue && errors.timeSendQueue}\n                      />\n                    </Grid>\n\n                  </Grid>\n                  <Grid spacing={2} container>\n                    {/* QUANTIDADE MÁXIMA DE VEZES QUE O CHATBOT VAI SER ENVIADO */}\n                    <Grid xs={12} md={6} item>\n                      <Field\n                        as={TextField}\n                        label={i18n.t(\"whatsappModal.form.maxUseBotQueues\")}\n                        fullWidth\n                        name=\"maxUseBotQueues\"\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                        error={touched.maxUseBotQueues && Boolean(errors.maxUseBotQueues)}\n                        helperText={touched.maxUseBotQueues && errors.maxUseBotQueues}\n                      />\n                    </Grid>\n                    {/* TEMPO PARA ENVIO DO CHATBOT */}\n                    <Grid xs={12} md={6} item>\n                      <Field\n                        as={TextField}\n                        label={i18n.t(\"whatsappModal.form.timeUseBotQueues\")}\n                        fullWidth\n                        name=\"timeUseBotQueues\"\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                        error={touched.timeUseBotQueues && Boolean(errors.timeUseBotQueues)}\n                        helperText={touched.timeUseBotQueues && errors.timeUseBotQueues}\n                      />\n                    </Grid>\n                  </Grid>\n                  <Grid spacing={2} container>\n                    {/* ENCERRAR CHATS ABERTOS APÓS X HORAS */}\n                    <Grid xs={12} md={12} item>\n                      <Field\n                        as={TextField}\n                        label={i18n.t(\"whatsappModal.form.expiresTicket\")}\n                        fullWidth\n                        name=\"expiresTicket\"\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                        error={touched.expiresTicket && Boolean(errors.expiresTicket)}\n                        helperText={touched.expiresTicket && errors.expiresTicket}\n                      />\n                    </Grid>\n                  </Grid>\n                  {/* MENSAGEM POR INATIVIDADE*/}\n                  <div>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"whatsappModal.form.expiresInactiveMessage\")}\n                      multiline\n                      rows={4}\n                      fullWidth\n                      name=\"expiresInactiveMessage\"\n                      error={touched.expiresInactiveMessage && Boolean(errors.expiresInactiveMessage)}\n                      helperText={touched.expiresInactiveMessage && errors.expiresInactiveMessage}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                    />\n                  </div>\n                </div>\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"whatsappModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {whatsAppId\n                    ? i18n.t(\"whatsappModal.buttons.okEdit\")\n                    : i18n.t(\"whatsappModal.buttons.okAdd\")}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default React.memo(WhatsAppModal);\n","import React, { useEffect, useState } from \"react\";\nimport QRCode from \"qrcode.react\";\nimport toastError from \"../../errors/toastError\";\n\nimport { Dialog, DialogContent, Paper, Typography } from \"@material-ui/core\";\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst QrcodeModal = ({ open, onClose, whatsAppId }) => {\n  const [qrCode, setQrCode] = useState(\"\");\n\n  useEffect(() => {\n    const fetchSession = async () => {\n      if (!whatsAppId) return;\n\n      try {\n        const { data } = await api.get(`/whatsapp/${whatsAppId}`);\n        setQrCode(data.qrcode);\n      } catch (err) {\n        toastError(err);\n      }\n    };\n    fetchSession();\n  }, [whatsAppId]);\n\n  useEffect(() => {\n    if (!whatsAppId) return;\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-whatsappSession`, (data) => {\n      if (data.action === \"update\" && data.session.id === whatsAppId) {\n        setQrCode(data.session.qrcode);\n      }\n\n      if (data.action === \"update\" && data.session.qrcode === \"\") {\n        onClose();\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [whatsAppId, onClose]);\n\n  return (\n    <Dialog open={open} onClose={onClose} maxWidth=\"lg\" scroll=\"paper\">\n      <DialogContent>\n        <Paper elevation={0}>\n          <Typography color=\"primary\" gutterBottom>\n            {i18n.t(\"qrCode.message\")}\n          </Typography>\n          {qrCode ? (\n            <QRCode value={qrCode} size={256} />\n          ) : (\n            <span>Waiting for QR Code</span>\n          )}\n        </Paper>\n      </DialogContent>\n    </Dialog>\n  );\n};\n\nexport default React.memo(QrcodeModal);\n","import React, { useState, useCallback, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { format, parseISO } from \"date-fns\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport {\n\tButton,\n\tTableBody,\n\tTableRow,\n\tTableCell,\n\tIconButton,\n\tTable,\n\tTableHead,\n\tPaper,\n\tTooltip,\n\tTypography,\n\tCircularProgress,\n} from \"@material-ui/core\";\nimport {\n\tEdit,\n\tCheckCircle,\n\tSignalCellularConnectedNoInternet2Bar,\n\tSignalCellularConnectedNoInternet0Bar,\n\tSignalCellular4Bar,\n\tCropFree,\n\tDeleteOutline,\n} from \"@material-ui/icons\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\n\nimport api from \"../../services/api\";\nimport WhatsAppModal from \"../../components/WhatsAppModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport QrcodeModal from \"../../components/QrcodeModal\";\nimport { i18n } from \"../../translate/i18n\";\nimport { WhatsAppsContext } from \"../../context/WhatsApp/WhatsAppsContext\";\nimport toastError from \"../../errors/toastError\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../../components/Can\";\n\nconst useStyles = makeStyles(theme => ({\n\tmainPaper: {\n\t\tflex: 1,\n\t\tpadding: theme.spacing(1),\n\t\toverflowY: \"scroll\",\n\t\t...theme.scrollbarStyles,\n\t},\n\tcustomTableCell: {\n\t\tdisplay: \"flex\",\n\t\talignItems: \"center\",\n\t\tjustifyContent: \"center\",\n\t},\n\ttooltip: {\n\t\tbackgroundColor: \"#f5f5f9\",\n\t\tcolor: \"rgba(0, 0, 0, 0.87)\",\n\t\tfontSize: theme.typography.pxToRem(14),\n\t\tborder: \"1px solid #dadde9\",\n\t\tmaxWidth: 450,\n\t},\n\ttooltipPopper: {\n\t\ttextAlign: \"center\",\n\t},\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t},\n}));\n\nconst CustomToolTip = ({ title, content, children }) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Tooltip\n\t\t\tarrow\n\t\t\tclasses={{\n\t\t\t\ttooltip: classes.tooltip,\n\t\t\t\tpopper: classes.tooltipPopper,\n\t\t\t}}\n\t\t\ttitle={\n\t\t\t\t<React.Fragment>\n\t\t\t\t\t<Typography gutterBottom color=\"inherit\">\n\t\t\t\t\t\t{title}\n\t\t\t\t\t</Typography>\n\t\t\t\t\t{content && <Typography>{content}</Typography>}\n\t\t\t\t</React.Fragment>\n\t\t\t}\n\t\t>\n\t\t\t{children}\n\t\t</Tooltip>\n\t);\n};\n\nconst Connections = () => {\n\tconst classes = useStyles();\n\n\tconst { user } = useContext(AuthContext);\n\tconst { whatsApps, loading } = useContext(WhatsAppsContext);\n\tconst [whatsAppModalOpen, setWhatsAppModalOpen] = useState(false);\n\tconst [qrModalOpen, setQrModalOpen] = useState(false);\n\tconst [selectedWhatsApp, setSelectedWhatsApp] = useState(null);\n\tconst [confirmModalOpen, setConfirmModalOpen] = useState(false);\n\tconst confirmationModalInitialState = {\n\t\taction: \"\",\n\t\ttitle: \"\",\n\t\tmessage: \"\",\n\t\twhatsAppId: \"\",\n\t\topen: false,\n\t};\n\tconst [confirmModalInfo, setConfirmModalInfo] = useState(\n\t\tconfirmationModalInitialState\n\t);\n\n\tconst handleStartWhatsAppSession = async whatsAppId => {\n\t\ttry {\n\t\t\tawait api.post(`/whatsappsession/${whatsAppId}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst handleRequestNewQrCode = async whatsAppId => {\n\t\ttry {\n\t\t\tawait api.put(`/whatsappsession/${whatsAppId}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst handleOpenWhatsAppModal = () => {\n\t\tsetSelectedWhatsApp(null);\n\t\tsetWhatsAppModalOpen(true);\n\t};\n\n\tconst handleCloseWhatsAppModal = useCallback(() => {\n\t\tsetWhatsAppModalOpen(false);\n\t\tsetSelectedWhatsApp(null);\n\t}, [setSelectedWhatsApp, setWhatsAppModalOpen]);\n\n\tconst handleOpenQrModal = whatsApp => {\n\t\tsetSelectedWhatsApp(whatsApp);\n\t\tsetQrModalOpen(true);\n\t};\n\n\tconst handleCloseQrModal = useCallback(() => {\n\t\tsetSelectedWhatsApp(null);\n\t\tsetQrModalOpen(false);\n\t}, [setQrModalOpen, setSelectedWhatsApp]);\n\n\tconst handleEditWhatsApp = whatsApp => {\n\t\tsetSelectedWhatsApp(whatsApp);\n\t\tsetWhatsAppModalOpen(true);\n\t};\n\n\tconst handleOpenConfirmationModal = (action, whatsAppId) => {\n\t\tif (action === \"disconnect\") {\n\t\t\tsetConfirmModalInfo({\n\t\t\t\taction: action,\n\t\t\t\ttitle: i18n.t(\"connections.confirmationModal.disconnectTitle\"),\n\t\t\t\tmessage: i18n.t(\"connections.confirmationModal.disconnectMessage\"),\n\t\t\t\twhatsAppId: whatsAppId,\n\t\t\t});\n\t\t}\n\n\t\tif (action === \"delete\") {\n\t\t\tsetConfirmModalInfo({\n\t\t\t\taction: action,\n\t\t\t\ttitle: i18n.t(\"connections.confirmationModal.deleteTitle\"),\n\t\t\t\tmessage: i18n.t(\"connections.confirmationModal.deleteMessage\"),\n\t\t\t\twhatsAppId: whatsAppId,\n\t\t\t});\n\t\t}\n\t\tsetConfirmModalOpen(true);\n\t};\n\n\tconst handleSubmitConfirmationModal = async () => {\n\t\tif (confirmModalInfo.action === \"disconnect\") {\n\t\t\ttry {\n\t\t\t\tawait api.delete(`/whatsappsession/${confirmModalInfo.whatsAppId}`);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t}\n\n\t\tif (confirmModalInfo.action === \"delete\") {\n\t\t\ttry {\n\t\t\t\tawait api.delete(`/whatsapp/${confirmModalInfo.whatsAppId}`);\n\t\t\t\ttoast.success(i18n.t(\"connections.toasts.deleted\"));\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t}\n\n\t\tsetConfirmModalInfo(confirmationModalInitialState);\n\t};\n\n\tconst renderActionButtons = whatsApp => {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{whatsApp.status === \"qrcode\" && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\tonClick={() => handleOpenQrModal(whatsApp)}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.qrcode\")}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"DISCONNECTED\" && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\tonClick={() => handleStartWhatsAppSession(whatsApp.id)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{i18n.t(\"connections.buttons.tryAgain\")}\n\t\t\t\t\t\t</Button>{\" \"}\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\tonClick={() => handleRequestNewQrCode(whatsApp.id)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{i18n.t(\"connections.buttons.newQr\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{(whatsApp.status === \"CONNECTED\" ||\n\t\t\t\t\twhatsApp.status === \"PAIRING\" ||\n\t\t\t\t\twhatsApp.status === \"TIMEOUT\") && (\n\t\t\t\t\t<Button\n\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\thandleOpenConfirmationModal(\"disconnect\", whatsApp.id);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.disconnect\")}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"OPENING\" && (\n\t\t\t\t\t<Button size=\"small\" variant=\"outlined\" disabled color=\"default\">\n\t\t\t\t\t\t{i18n.t(\"connections.buttons.connecting\")}\n\t\t\t\t\t</Button>\n\t\t\t\t)}\n\t\t\t</>\n\t\t);\n\t};\n\n\tconst renderStatusToolTips = whatsApp => {\n\t\treturn (\n\t\t\t<div className={classes.customTableCell}>\n\t\t\t\t{whatsApp.status === \"DISCONNECTED\" && (\n\t\t\t\t\t<CustomToolTip\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.disconnected.title\")}\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.disconnected.content\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SignalCellularConnectedNoInternet0Bar color=\"secondary\" />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"OPENING\" && (\n\t\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"qrcode\" && (\n\t\t\t\t\t<CustomToolTip\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.qrcode.title\")}\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.qrcode.content\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<CropFree />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t\t{whatsApp.status === \"CONNECTED\" && (\n\t\t\t\t\t<CustomToolTip title={i18n.t(\"connections.toolTips.connected.title\")}>\n\t\t\t\t\t\t<SignalCellular4Bar style={{ color: green[500] }} />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t\t{(whatsApp.status === \"TIMEOUT\" || whatsApp.status === \"PAIRING\") && (\n\t\t\t\t\t<CustomToolTip\n\t\t\t\t\t\ttitle={i18n.t(\"connections.toolTips.timeout.title\")}\n\t\t\t\t\t\tcontent={i18n.t(\"connections.toolTips.timeout.content\")}\n\t\t\t\t\t>\n\t\t\t\t\t\t<SignalCellularConnectedNoInternet2Bar color=\"secondary\" />\n\t\t\t\t\t</CustomToolTip>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t);\n\t};\n\n\treturn (\n\t\t<MainContainer>\n\t\t\t<ConfirmationModal\n\t\t\t\ttitle={confirmModalInfo.title}\n\t\t\t\topen={confirmModalOpen}\n\t\t\t\tonClose={setConfirmModalOpen}\n\t\t\t\tonConfirm={handleSubmitConfirmationModal}\n\t\t\t>\n\t\t\t\t{confirmModalInfo.message}\n\t\t\t</ConfirmationModal>\n\t\t\t<QrcodeModal\n\t\t\t\topen={qrModalOpen}\n\t\t\t\tonClose={handleCloseQrModal}\n\t\t\t\twhatsAppId={!whatsAppModalOpen && selectedWhatsApp?.id}\n\t\t\t/>\n\t\t\t<WhatsAppModal\n\t\t\t\topen={whatsAppModalOpen}\n\t\t\t\tonClose={handleCloseWhatsAppModal}\n\t\t\t\twhatsAppId={!qrModalOpen && selectedWhatsApp?.id}\n\t\t\t/>\n\t\t\t<MainHeader>\n\t\t\t\t<Title>{i18n.t(\"connections.title\")}</Title>\n\t\t\t\t<MainHeaderButtonsWrapper>\n\t\t\t\t\t<Can\n\t\t\t\t\t\trole={user.profile}\n\t\t\t\t\t\tperform=\"connections-page:addConnection\"\n\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\tonClick={handleOpenWhatsAppModal}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.buttons.add\")}\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t)}\n\t\t\t\t\t/>\n\t\t\t\t</MainHeaderButtonsWrapper>\n\t\t\t</MainHeader>\n\t\t\t<Paper className={classes.mainPaper} variant=\"outlined\">\n\t\t\t\t<Table size=\"small\">\n\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.name\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.status\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\trole={user.profile}\n\t\t\t\t\t\t\t\tperform=\"connections-page:actionButtons\"\n\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.session\")}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.lastUpdate\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.default\")}\n\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\trole={user.profile}\n\t\t\t\t\t\t\t\tperform=\"connections-page:editOrDeleteConnection\"\n\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t{i18n.t(\"connections.table.actions\")}\n\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t</TableHead>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{loading ? (\n\t\t\t\t\t\t\t<TableRowSkeleton />\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{whatsApps?.length > 0 &&\n\t\t\t\t\t\t\t\t\twhatsApps.map(whatsApp => (\n\t\t\t\t\t\t\t\t\t\t<TableRow key={whatsApp.id}>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">{whatsApp.name}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{renderStatusToolTips(whatsApp)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\t\t\t\trole={user.profile}\n\t\t\t\t\t\t\t\t\t\t\t\tperform=\"connections-page:actionButtons\"\n\t\t\t\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{renderActionButtons(whatsApp)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{format(parseISO(whatsApp.updatedAt), \"dd/MM/yy HH:mm\")}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t{whatsApp.isDefault && (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className={classes.customTableCell}>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckCircle style={{ color: green[500] }} />\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<Can\n\t\t\t\t\t\t\t\t\t\t\t\trole={user.profile}\n\t\t\t\t\t\t\t\t\t\t\t\tperform=\"connections-page:editOrDeleteConnection\"\n\t\t\t\t\t\t\t\t\t\t\t\tyes={() => (\n\t\t\t\t\t\t\t\t\t\t\t\t\t<TableCell align=\"center\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => handleEditWhatsApp(whatsApp)}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Edit />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={e => {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleOpenConfirmationModal(\"delete\", whatsApp.id);\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteOutline />\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</Paper>\n\t\t</MainContainer>\n\t);\n};\n\nexport default Connections;\n","import React, { useState, useEffect } from \"react\";\nimport { makeStyles, TextField, Grid, Container } from \"@material-ui/core\";\nimport { Formik, Form, FastField, FieldArray } from \"formik\";\nimport { isArray } from \"lodash\";\nimport NumberFormat from \"react-number-format\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n  },\n  fullWidth: {\n    width: \"100%\",\n  },\n  textfield: {\n    width: \"100%\",\n  },\n  row: {\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2),\n  },\n  control: {\n    paddingRight: theme.spacing(1),\n    paddingLeft: theme.spacing(1),\n  },\n  buttonContainer: {\n    textAlign: \"right\",\n    padding: theme.spacing(1),\n  },\n}));\n\nfunction SchedulesForm(props) {\n  const { initialValues, onSubmit, loading, labelSaveButton } = props;\n  const classes = useStyles();\n\n  const [schedules, setSchedules] = useState([\n    { weekday: \"Segunda-feira\", weekdayEn: \"monday\", startTime: \"\", endTime: \"\", },\n    { weekday: \"Terça-feira\", weekdayEn: \"tuesday\", startTime: \"\", endTime: \"\", },\n    { weekday: \"Quarta-feira\", weekdayEn: \"wednesday\", startTime: \"\", endTime: \"\", },\n    { weekday: \"Quinta-feira\", weekdayEn: \"thursday\", startTime: \"\", endTime: \"\", },\n    { weekday: \"Sexta-feira\", weekdayEn: \"friday\", startTime: \"\", endTime: \"\" },\n    { weekday: \"Sábado\", weekdayEn: \"saturday\", startTime: \"\", endTime: \"\" },\n    { weekday: \"Domingo\", weekdayEn: \"sunday\", startTime: \"\", endTime: \"\" },\n  ]);\n\n  useEffect(() => {\n    if (isArray(initialValues) && initialValues.length > 0) {\n      setSchedules(initialValues);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [initialValues]);\n\n  const handleSubmit = (data) => {\n    onSubmit(data);\n  };\n\n  return (\n    <Formik\n      enableReinitialize\n      className={classes.fullWidth}\n      initialValues={{ schedules }}\n      onSubmit={({ schedules }) =>\n        setTimeout(() => {\n          handleSubmit(schedules);\n        }, 500)\n      }\n    >\n      {({ values }) => (\n        <Form className={classes.fullWidth}>\n          <FieldArray\n            name=\"schedules\"\n            render={(arrayHelpers) => (\n              <Grid spacing={4} container>\n                {values.schedules.map((item, index) => {\n                  return (\n                      <Container>\n                          <FastField\n                            as={TextField}\n                            label=\"Dia da Semana\"\n                            name={`schedules[${index}].weekday`}\n                            disabled\n                            variant=\"outlined\"\n                            style={{ marginRight: \"3.2%\", width: \"30%\" }}\n                            margin=\"dense\"\n                          />\n                          <FastField\n                            name={`schedules[${index}].startTime`}\n                            >\n                            {({ field }) => (\n                              <NumberFormat\n                                label=\"Hora de Inicial\"\n                                {...field}\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                customInput={TextField}\n                                format=\"##:##\"\n                                style={{ marginRight: \"3.2%\", width: \"30%\" }}\n                              />\n                            )}\n                          </FastField>\n                          <FastField\n                            name={`schedules[${index}].endTime`}\n                            >\n                            {({ field }) => (\n                              <NumberFormat\n                                label=\"Hora de Final\"\n                                {...field}\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                customInput={TextField}\n                                format=\"##:##\"\n                                style={{ marginRight: \"3.2%\", width: \"30%\" }}\n                              />\n                            )}\n                          </FastField>\n\n                      </Container>\n\n                  );\n                })}\n              </Grid>\n            )}\n          ></FieldArray>\n          <div style={{ textAlign: \"center\", marginTop: \"2%\" }} className={classes.buttonContainer}>\n            <ButtonWithSpinner\n              loading={loading}\n              type=\"submit\"\n              color=\"primary\"\n              variant=\"contained\"\n            >\n              {labelSaveButton ?? \"Salvar\"}\n            </ButtonWithSpinner>\n          </div>\n        </Form>\n      )}\n    </Formik>\n  );\n}\n\nexport default SchedulesForm;\n","import React, { useEffect, useState } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport Chip from \"@material-ui/core/Chip\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\n\nconst useStyles = makeStyles(theme => ({\n\tchips: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tchip: {\n\t\tmargin: 2,\n\t},\n}));\n\nconst QueueSelectCustom = ({ selectedQueueIds, companyId, onChange }) => {\n\tconst classes = useStyles();\n\tconst [queues, setQueues] = useState([]);\n\n\tuseEffect(() => {\n\t\t(async () => {\n\t\t\ttry {\n\t\t\t\tconst { data } = await api.get(\"/queue\", {\n\t\t\t\t\tparams: { companyId }\n\t\t\t\t});\n\t\t\t\tsetQueues(data);\n\t\t\t} catch (err) {\n\t\t\t\ttoastError(err);\n\t\t\t}\n\t\t})();\n\t}, [companyId]);\n\n\tconst handleChange = e => {\n\t\tonChange(e.target.value);\n\t};\n\n\treturn (\n\t\t<div style={{ marginTop: 6 }}>\n\t\t\t<FormControl fullWidth margin=\"dense\" variant=\"outlined\">\n\t\t\t\t<InputLabel>{i18n.t(\"queueSelect.inputLabel\")}</InputLabel>\n\t\t\t\t<Select\n\t\t\t\t\tmultiple\n\t\t\t\t\tlabelWidth={60}\n\t\t\t\t\tvalue={selectedQueueIds}\n\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\tMenuProps={{\n\t\t\t\t\t\tanchorOrigin: {\n\t\t\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttransformOrigin: {\n\t\t\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\t\t\thorizontal: \"left\",\n\t\t\t\t\t\t},\n\t\t\t\t\t\tgetContentAnchorEl: null,\n\t\t\t\t\t}}\n\t\t\t\t\trenderValue={selected => (\n\t\t\t\t\t\t<div className={classes.chips}>\n\t\t\t\t\t\t\t{selected?.length > 0 &&\n\t\t\t\t\t\t\t\tselected.map(id => {\n\t\t\t\t\t\t\t\t\tconst queue = queues.find(q => q.id === id);\n\t\t\t\t\t\t\t\t\treturn queue ? (\n\t\t\t\t\t\t\t\t\t\t<Chip\n\t\t\t\t\t\t\t\t\t\t\tkey={id}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: queue.color }}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tlabel={queue.name}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : null;\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t)}\n\t\t\t\t>\n\t\t\t\t\t{queues.map(queue => (\n\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>\n\t\t\t\t\t\t\t{queue.name}\n\t\t\t\t\t\t</MenuItem>\n\t\t\t\t\t))}\n\t\t\t\t</Select>\n\t\t\t</FormControl>\n\t\t</div>\n\t);\n};\n\nexport default QueueSelectCustom;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Select from \"@material-ui/core/Select\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport QueueSelectCustom from \"../QueueSelectCustom\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../Can\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  multFieldLine: {\n    display: \"flex\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n}));\n\nconst UserSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n  password: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\n  email: Yup.string().email(\"Invalid email\").required(\"Required\"),\n});\n\nconst ModalUsers = ({ open, onClose, userId, companyId }) => {\n  const classes = useStyles();\n\n  const initialState = {\n    name: \"\",\n    email: \"\",\n    password: \"\",\n    profile: \"user\",\n  };\n\n  const { user: loggedInUser } = useContext(AuthContext);\n\n  const [user, setUser] = useState(initialState);\n  const [selectedQueueIds, setSelectedQueueIds] = useState([]);\n\n  useEffect(() => {\n    const fetchUser = async () => {\n      if (!userId) return;\n      if (open) {\n        try {\n          const { data } = await api.get(`/users/${userId}`);\n          setUser((prevState) => {\n            return { ...prevState, ...data };\n          });\n          const userQueueIds = data.queues?.map((queue) => queue.id);\n          setSelectedQueueIds(userQueueIds);\n        } catch (err) {\n          toastError(err);\n        }\n      }\n    };\n\n    fetchUser();\n  }, [userId, open]);\n\n  const handleClose = () => {\n    onClose();\n    setUser(initialState);\n  };\n\n  const handleSaveUser = async (values) => {\n    const userData = { ...values, companyId, queueIds: selectedQueueIds };\n    try {\n      if (userId) {\n        await api.put(`/users/${userId}`, userData);\n      } else {\n        await api.post(\"/users\", userData);\n      }\n      toast.success(i18n.t(\"userModal.success\"));\n    } catch (err) {\n      toastError(err);\n    }\n    handleClose();\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"xs\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          {userId\n            ? `${i18n.t(\"userModal.title.edit\")}`\n            : `${i18n.t(\"userModal.title.add\")}`}\n        </DialogTitle>\n        <Formik\n          initialValues={user}\n          enableReinitialize={true}\n          validationSchema={UserSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveUser(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ touched, errors, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <div className={classes.multFieldLine}>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"userModal.form.name\")}\n                    autoFocus\n                    name=\"name\"\n                    error={touched.name && Boolean(errors.name)}\n                    helperText={touched.name && errors.name}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    fullWidth\n                  />\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"userModal.form.password\")}\n                    type=\"password\"\n                    name=\"password\"\n                    error={touched.password && Boolean(errors.password)}\n                    helperText={touched.password && errors.password}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    fullWidth\n                  />\n                </div>\n                <div className={classes.multFieldLine}>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"userModal.form.email\")}\n                    name=\"email\"\n                    error={touched.email && Boolean(errors.email)}\n                    helperText={touched.email && errors.email}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    fullWidth\n                  />\n                  <FormControl\n                    variant=\"outlined\"\n                    className={classes.formControl}\n                    margin=\"dense\"\n                  >\n                    <Can\n                      role={loggedInUser.profile}\n                      perform=\"user-modal:editProfile\"\n                      yes={() => (\n                        <>\n                          <InputLabel id=\"profile-selection-input-label\">\n                            {i18n.t(\"userModal.form.profile\")}\n                          </InputLabel>\n\n                          <Field\n                            as={Select}\n                            label={i18n.t(\"userModal.form.profile\")}\n                            name=\"profile\"\n                            labelId=\"profile-selection-label\"\n                            id=\"profile-selection\"\n                            required\n                          >\n                            <MenuItem value=\"admin\">Admin</MenuItem>\n                            <MenuItem value=\"user\">User</MenuItem>\n                          </Field>\n                        </>\n                      )}\n                    />\n                  </FormControl>\n                </div>\n                <Can\n                  role={loggedInUser.profile}\n                  perform=\"user-modal:editQueues\"\n                  yes={() => (\n                    <QueueSelectCustom\n                      companyId={companyId}\n                      selectedQueueIds={selectedQueueIds}\n                      onChange={(values) => setSelectedQueueIds(values)}\n                    />\n                  )}\n                />\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"userModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {userId\n                    ? `${i18n.t(\"userModal.buttons.okEdit\")}`\n                    : `${i18n.t(\"userModal.buttons.okAdd\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default ModalUsers;\n","import React, { useState, useEffect } from \"react\";\nimport {\n  makeStyles,\n  Paper,\n  Grid,\n  FormControl,\n  InputLabel,\n  MenuItem,\n  TextField,\n  Table,\n  TableHead,\n  TableBody,\n  TableCell,\n  TableRow,\n  IconButton,\n  Select,\n} from \"@material-ui/core\";\nimport { Formik, Form, Field } from \"formik\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nimport { Edit as EditIcon } from \"@material-ui/icons\";\n\nimport { toast } from \"react-toastify\";\nimport useCompanies from \"../../hooks/useCompanies\";\nimport usePlans from \"../../hooks/usePlans\";\nimport ModalUsers from \"../ModalUsers\";\nimport api from \"../../services/api\";\nimport { head, isArray, has } from \"lodash\";\nimport { useDate } from \"../../hooks/useDate\";\n\nimport moment from \"moment\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n  },\n  mainPaper: {\n    width: \"100%\",\n    flex: 1,\n    padding: theme.spacing(2),\n  },\n  fullWidth: {\n    width: \"100%\",\n  },\n  tableContainer: {\n    width: \"100%\",\n    overflowX: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  textfield: {\n    width: \"100%\",\n  },\n  textRight: {\n    textAlign: \"right\",\n  },\n  row: {\n    paddingTop: theme.spacing(2),\n    paddingBottom: theme.spacing(2),\n  },\n  control: {\n    paddingRight: theme.spacing(1),\n    paddingLeft: theme.spacing(1),\n  },\n  buttonContainer: {\n    textAlign: \"right\",\n    padding: theme.spacing(1),\n  },\n}));\n\nexport function CompanyForm(props) {\n  const { onSubmit, onDelete, onCancel, initialValue, loading } = props;\n  const classes = useStyles();\n  const [plans, setPlans] = useState([]);\n  const [modalUser, setModalUser] = useState(false);\n  const [firstUser, setFirstUser] = useState({});\n\n  const [record, setRecord] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    planId: \"\",\n    status: true,\n    campaignsEnabled: false,\n    dueDate: \"\",\n    recurrence: \"\",\n    ...initialValue,\n  });\n\n  const { list: listPlans } = usePlans();\n\n  useEffect(() => {\n    async function fetchData() {\n      const list = await listPlans();\n      setPlans(list);\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    setRecord((prev) => {\n      if (moment(initialValue).isValid()) {\n        initialValue.dueDate = moment(initialValue.dueDate).format(\n          \"YYYY-MM-DD\"\n        );\n      }\n      return {\n        ...prev,\n        ...initialValue,\n      };\n    });\n  }, [initialValue]);\n\n  const handleSubmit = async (data) => {\n    if (data.dueDate === \"\" || moment(data.dueDate).isValid() === false) {\n      data.dueDate = null;\n    }\n    onSubmit(data);\n    setRecord({ ...initialValue, dueDate: \"\" });\n  };\n\n  const handleOpenModalUsers = async () => {\n    try {\n      const { data } = await api.get(\"/users/list\", {\n        params: {\n          companyId: initialValue.id,\n        },\n      });\n      if (isArray(data) && data.length) {\n        setFirstUser(head(data));\n      }\n      setModalUser(true);\n    } catch (e) {\n      toast.error(e);\n    }\n  };\n\n  const handleCloseModalUsers = () => {\n    setFirstUser({});\n    setModalUser(false);\n  };\n\n  const incrementDueDate = () => {\n    const data = { ...record };\n    if (data.dueDate !== \"\" && data.dueDate !== null) {\n      switch (data.recurrence) {\n        case \"MENSAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(1, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        case \"BIMESTRAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(2, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        case \"TRIMESTRAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(3, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        case \"SEMESTRAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(6, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        case \"ANUAL\":\n          data.dueDate = moment(data.dueDate)\n            .add(12, \"month\")\n            .format(\"YYYY-MM-DD\");\n          break;\n        default:\n          break;\n      }\n    }\n    setRecord(data);\n  };\n\n  return (\n    <>\n      <ModalUsers\n        userId={firstUser.id}\n        companyId={initialValue.id}\n        open={modalUser}\n        onClose={handleCloseModalUsers}\n      />\n      <Formik\n        enableReinitialize\n        className={classes.fullWidth}\n        initialValues={record}\n        onSubmit={(values, { resetForm }) =>\n          setTimeout(() => {\n            handleSubmit(values);\n            resetForm();\n          }, 500)\n        }\n      >\n        {(values, setValues) => (\n          <Form className={classes.fullWidth}>\n            <Grid spacing={2} justifyContent=\"flex-end\" container>\n              <Grid xs={12} sm={6} md={4} item>\n                <Field\n                  as={TextField}\n                  label=\"Nome\"\n                  name=\"name\"\n                  variant=\"outlined\"\n                  className={classes.fullWidth}\n                  margin=\"dense\"\n                />\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <Field\n                  as={TextField}\n                  label=\"E-mail\"\n                  name=\"email\"\n                  variant=\"outlined\"\n                  className={classes.fullWidth}\n                  margin=\"dense\"\n                  required\n                />\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <Field\n                  as={TextField}\n                  label=\"Telefone\"\n                  name=\"phone\"\n                  variant=\"outlined\"\n                  className={classes.fullWidth}\n                  margin=\"dense\"\n                />\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                  <InputLabel htmlFor=\"plan-selection\">Plano</InputLabel>\n                  <Field\n                    as={Select}\n                    id=\"plan-selection\"\n                    label=\"Plano\"\n                    labelId=\"plan-selection-label\"\n                    name=\"planId\"\n                    margin=\"dense\"\n                    required\n                  >\n                    {plans.map((plan, key) => (\n                      <MenuItem key={key} value={plan.id}>\n                        {plan.name}\n                      </MenuItem>\n                    ))}\n                  </Field>\n                </FormControl>\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                  <InputLabel htmlFor=\"status-selection\">Status</InputLabel>\n                  <Field\n                    as={Select}\n                    id=\"status-selection\"\n                    label=\"Status\"\n                    labelId=\"status-selection-label\"\n                    name=\"status\"\n                    margin=\"dense\"\n                  >\n                    <MenuItem value={true}>Sim</MenuItem>\n                    <MenuItem value={false}>Não</MenuItem>\n                  </Field>\n                </FormControl>\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                  <InputLabel htmlFor=\"status-selection\">Campanhas</InputLabel>\n                  <Field\n                    as={Select}\n                    id=\"campaigns-selection\"\n                    label=\"Campanhas\"\n                    labelId=\"campaigns-selection-label\"\n                    name=\"campaignsEnabled\"\n                    margin=\"dense\"\n                  >\n                    <MenuItem value={true}>Habilitadas</MenuItem>\n                    <MenuItem value={false}>Desabilitadas</MenuItem>\n                  </Field>\n                </FormControl>\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <FormControl variant=\"outlined\" fullWidth>\n                  <Field\n                    as={TextField}\n                    label=\"Data de Vencimento\"\n                    type=\"date\"\n                    name=\"dueDate\"\n                    InputLabelProps={{\n                      shrink: true,\n                    }}\n                    variant=\"outlined\"\n                    fullWidth\n                    margin=\"dense\"\n                  />\n                </FormControl>\n              </Grid>\n              <Grid xs={12} sm={6} md={2} item>\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                  <InputLabel htmlFor=\"recorrencia-selection\">\n                    Recorrência\n                  </InputLabel>\n                  <Field\n                    as={Select}\n                    label=\"Recorrência\"\n                    labelId=\"recorrencia-selection-label\"\n                    id=\"recurrence\"\n                    name=\"recurrence\"\n                    margin=\"dense\"\n                  >\n                    <MenuItem value=\"MENSAL\">Mensal</MenuItem>\n                    {/*<MenuItem value=\"BIMESTRAL\">Bimestral</MenuItem>*/}\n                    {/*<MenuItem value=\"TRIMESTRAL\">Trimestral</MenuItem>*/}\n                    {/*<MenuItem value=\"SEMESTRAL\">Semestral</MenuItem>*/}\n                    {/*<MenuItem value=\"ANUAL\">Anual</MenuItem>*/}\n                  </Field>\n                </FormControl>\n              </Grid>\n              <Grid xs={12} item>\n                <Grid justifyContent=\"flex-end\" spacing={1} container>\n                  <Grid xs={4} md={1} item>\n                    <ButtonWithSpinner\n                      className={classes.fullWidth}\n                      style={{ marginTop: 7 }}\n                      loading={loading}\n                      onClick={() => onCancel()}\n                      variant=\"contained\"\n                    >\n                      Limpar\n                    </ButtonWithSpinner>\n                  </Grid>\n                  {record.id !== undefined ? (\n                    <>\n                      <Grid xs={6} md={1} item>\n                        <ButtonWithSpinner\n                          style={{ marginTop: 7 }}\n                          className={classes.fullWidth}\n                          loading={loading}\n                          onClick={() => onDelete(record)}\n                          variant=\"contained\"\n                          color=\"secondary\"\n                        >\n                          Excluir\n                        </ButtonWithSpinner>\n                      </Grid>\n                      <Grid xs={6} md={2} item>\n                        <ButtonWithSpinner\n                          style={{ marginTop: 7 }}\n                          className={classes.fullWidth}\n                          loading={loading}\n                          onClick={() => incrementDueDate()}\n                          variant=\"contained\"\n                          color=\"primary\"\n                        >\n                          + Vencimento\n                        </ButtonWithSpinner>\n                      </Grid>\n                      <Grid xs={6} md={1} item>\n                        <ButtonWithSpinner\n                          style={{ marginTop: 7 }}\n                          className={classes.fullWidth}\n                          loading={loading}\n                          onClick={() => handleOpenModalUsers()}\n                          variant=\"contained\"\n                          color=\"primary\"\n                        >\n                          Usuário\n                        </ButtonWithSpinner>\n                      </Grid>\n                    </>\n                  ) : null}\n                  <Grid xs={6} md={1} item>\n                    <ButtonWithSpinner\n                      className={classes.fullWidth}\n                      style={{ marginTop: 7 }}\n                      loading={loading}\n                      type=\"submit\"\n                      variant=\"contained\"\n                      color=\"primary\"\n                    >\n                      Salvar\n                    </ButtonWithSpinner>\n                  </Grid>\n                </Grid>\n              </Grid>\n            </Grid>\n          </Form>\n        )}\n      </Formik>\n    </>\n  );\n}\n\nexport function CompaniesManagerGrid(props) {\n  const { records, onSelect } = props;\n  const classes = useStyles();\n  const { dateToClient } = useDate();\n\n  const renderStatus = (row) => {\n    return row.status === false ? \"Não\" : \"Sim\";\n  };\n\n  const renderPlan = (row) => {\n    return row.planId !== null ? row.plan.name : \"-\";\n  };\n\n  const renderCampaignsStatus = (row) => {\n    if (\n      has(row, \"settings\") &&\n      isArray(row.settings) &&\n      row.settings.length > 0\n    ) {\n      const setting = row.settings.find((s) => s.key === \"campaignsEnabled\");\n      if (setting) {\n        return setting.value === \"true\" ? \"Habilitadas\" : \"Desabilitadas\";\n      }\n    }\n    return \"Desabilitadas\";\n  };\n\n  const rowStyle = (record) => {\n    if (moment(record.dueDate).isValid()) {\n      const now = moment();\n      const dueDate = moment(record.dueDate);\n      const diff = dueDate.diff(now, \"days\");\n      if (diff === 5) {\n        return { backgroundColor: \"#fffead\" };\n      }\n      if (diff >= -3 && diff <= 4) {\n        return { backgroundColor: \"#f7cc8f\" };\n      }\n      if (diff === -4) {\n        return { backgroundColor: \"#fa8c8c\" };\n      }\n    }\n    return {};\n  };\n\n  return (\n    <Paper className={classes.tableContainer}>\n      <Table\n        className={classes.fullWidth}\n        size=\"small\"\n        aria-label=\"a dense table\"\n      >\n        <TableHead>\n          <TableRow>\n            <TableCell align=\"center\" style={{ width: \"1%\" }}>\n              #\n            </TableCell>\n            <TableCell align=\"left\">Nome</TableCell>\n            <TableCell align=\"left\">E-mail</TableCell>\n            <TableCell align=\"left\">Telefone</TableCell>\n            <TableCell align=\"left\">Plano</TableCell>\n            <TableCell align=\"left\">Campanhas</TableCell>\n            <TableCell align=\"left\">Status</TableCell>\n            <TableCell align=\"left\">Criada Em</TableCell>\n            <TableCell align=\"left\">Vencimento</TableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {records.map((row, key) => (\n            <TableRow style={rowStyle(row)} key={key}>\n              <TableCell align=\"center\" style={{ width: \"1%\" }}>\n                <IconButton onClick={() => onSelect(row)} aria-label=\"delete\">\n                  <EditIcon />\n                </IconButton>\n              </TableCell>\n              <TableCell align=\"left\">{row.name || \"-\"}</TableCell>\n              <TableCell align=\"left\">{row.email || \"-\"}</TableCell>\n              <TableCell align=\"left\">{row.phone || \"-\"}</TableCell>\n              <TableCell align=\"left\">{renderPlan(row)}</TableCell>\n              <TableCell align=\"left\">{renderCampaignsStatus(row)}</TableCell>\n              <TableCell align=\"left\">{renderStatus(row)}</TableCell>\n              <TableCell align=\"left\">{dateToClient(row.createdAt)}</TableCell>\n              <TableCell align=\"left\">\n                {dateToClient(row.dueDate)}\n                <br />\n                <span>{row.recurrence}</span>\n              </TableCell>\n            </TableRow>\n          ))}\n        </TableBody>\n      </Table>\n    </Paper>\n  );\n}\n\nexport default function CompaniesManager() {\n  const classes = useStyles();\n  const { list, save, update, remove } = useCompanies();\n\n  const [showConfirmDialog, setShowConfirmDialog] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [records, setRecords] = useState([]);\n  const [record, setRecord] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    planId: \"\",\n    status: true,\n    campaignsEnabled: false,\n    dueDate: \"\",\n    recurrence: \"\",\n  });\n\n  useEffect(() => {\n    loadPlans();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const loadPlans = async () => {\n    setLoading(true);\n    try {\n      const companyList = await list();\n      setRecords(companyList);\n    } catch (e) {\n      toast.error(\"Não foi possível carregar a lista de registros\");\n    }\n    setLoading(false);\n  };\n\n  const handleSubmit = async (data) => {\n    setLoading(true);\n    try {\n      if (data.id !== undefined) {\n        await update(data);\n      } else {\n        await save(data);\n      }\n      await loadPlans();\n      handleCancel();\n      toast.success(\"Operação realizada com sucesso!\");\n    } catch (e) {\n      toast.error(\n        \"Não foi possível realizar a operação. Verifique se já existe uma empresa com o mesmo nome ou se os campos foram preenchidos corretamente\"\n      );\n    }\n    setLoading(false);\n  };\n\n  const handleDelete = async () => {\n    setLoading(true);\n    try {\n      await remove(record.id);\n      await loadPlans();\n      handleCancel();\n      toast.success(\"Operação realizada com sucesso!\");\n    } catch (e) {\n      toast.error(\"Não foi possível realizar a operação\");\n    }\n    setLoading(false);\n  };\n\n  const handleOpenDeleteDialog = () => {\n    setShowConfirmDialog(true);\n  };\n\n  const handleCancel = () => {\n    setRecord((prev) => ({\n      ...prev,\n      name: \"\",\n      email: \"\",\n      phone: \"\",\n      planId: \"\",\n      status: true,\n      campaignsEnabled: false,\n      dueDate: \"\",\n      recurrence: \"\",\n    }));\n  };\n\n  const handleSelect = (data) => {\n    let campaignsEnabled = false;\n\n    const setting = data.settings.find(\n      (s) => s.key.indexOf(\"campaignsEnabled\") > -1\n    );\n    if (setting) {\n      campaignsEnabled =\n        setting.value === \"true\" || setting.value === \"enabled\";\n    }\n\n    setRecord((prev) => ({\n      ...prev,\n      id: data.id,\n      name: data.name || \"\",\n      phone: data.phone || \"\",\n      email: data.email || \"\",\n      planId: data.planId || \"\",\n      status: data.status === false ? false : true,\n      campaignsEnabled,\n      dueDate: data.dueDate || \"\",\n      recurrence: data.recurrence || \"\",\n    }));\n  };\n\n  return (\n    <Paper className={classes.mainPaper} elevation={0}>\n      <Grid spacing={2} container>\n        <Grid xs={12} item>\n          <CompanyForm\n            initialValue={record}\n            onDelete={handleOpenDeleteDialog}\n            onSubmit={handleSubmit}\n            onCancel={handleCancel}\n            loading={loading}\n          />\n        </Grid>\n        <Grid xs={12} item>\n          <CompaniesManagerGrid records={records} onSelect={handleSelect} />\n        </Grid>\n      </Grid>\n      <ConfirmationModal\n        title=\"Exclusão de Registro\"\n        open={showConfirmDialog}\n        onClose={() => setShowConfirmDialog(false)}\n        onConfirm={() => handleDelete()}\n      >\n        Deseja realmente excluir esse registro?\n      </ConfirmationModal>\n    </Paper>\n  );\n}\n","import React, { useState, useEffect } from \"react\";\nimport {\n    makeStyles,\n    Paper,\n    Grid,\n    TextField,\n    Table,\n    TableHead,\n    TableBody,\n    TableCell,\n    TableRow,\n    IconButton,\n    FormControl,\n    InputLabel,\n    MenuItem,\n    Select\n} from \"@material-ui/core\";\nimport { Formik, Form, Field } from 'formik';\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nimport { Edit as EditIcon } from \"@material-ui/icons\";\n\nimport { toast } from \"react-toastify\";\nimport usePlans from \"../../hooks/usePlans\";\nimport { i18n } from \"../../translate/i18n\";\n\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        width: '100%'\n    },\n    mainPaper: {\n        width: '100%',\n        flex: 1,\n        padding: theme.spacing(2)\n    },\n    fullWidth: {\n        width: '100%'\n    },\n    tableContainer: {\n        width: '100%',\n        overflowX: \"scroll\",\n        ...theme.scrollbarStyles\n    },\n    textfield: {\n        width: '100%'\n    },\n    textRight: {\n        textAlign: 'right'\n    },\n    row: {\n        paddingTop: theme.spacing(2),\n        paddingBottom: theme.spacing(2)\n    },\n    control: {\n        paddingRight: theme.spacing(1),\n        paddingLeft: theme.spacing(1)\n    },\n    buttonContainer: {\n        textAlign: 'right',\n        padding: theme.spacing(1)\n    }\n}));\n\nexport function PlanManagerForm(props) {\n    const { onSubmit, onDelete, onCancel, initialValue, loading } = props;\n    const classes = useStyles()\n\n    const [record, setRecord] = useState({\n        name: '',\n        users: 0,\n        connections: 0,\n        queues: 0,\n        value: 0,\n        useCampaigns: true,\n        useSchedules: true,\n        useInternalChat: true,\n        useExternalApi: true,\n        useKanban: true,\n        useOpenAi: true,\n        useIntegrations: true,\n    });\n\n    useEffect(() => {\n        setRecord(initialValue)\n    }, [initialValue])\n\n    const handleSubmit = async (data) => {\n        onSubmit(data)\n    }\n\n    return (\n        <Formik\n            enableReinitialize\n            className={classes.fullWidth}\n            initialValues={record}\n            onSubmit={(values, { resetForm }) =>\n                setTimeout(() => {\n                    handleSubmit(values)\n                    resetForm()\n                }, 500)\n            }\n        >\n            {(values) => (\n                <Form className={classes.fullWidth}>\n                    <Grid spacing={1} justifyContent=\"flex-start\" container>\n                        {/* NOME */}\n                        <Grid xs={12} sm={6} md={2} item>\n                            <Field\n                                as={TextField}\n                                label={i18n.t(\"plans.form.name\")}\n                                name=\"name\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                            />\n                        </Grid>\n\n                        {/* USUARIOS */}\n                        <Grid xs={12} sm={6} md={1} item>\n                            <Field\n                                as={TextField}\n                                label={i18n.t(\"plans.form.users\")}\n                                name=\"users\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                                type=\"number\"\n                            />\n                        </Grid>\n\n                        {/* CONEXOES */}\n                        <Grid xs={12} sm={6} md={1} item>\n                            <Field\n                                as={TextField}\n                                label={i18n.t(\"plans.form.connections\")}\n                                name=\"connections\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                                type=\"number\"\n                            />\n                        </Grid>\n\n                        {/* FILAS */}\n                        <Grid xs={12} sm={6} md={1} item>\n                            <Field\n                                as={TextField}\n                                label=\"Filas\"\n                                name=\"queues\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                                type=\"number\"\n                            />\n                        </Grid>\n\n                        {/* VALOR */}\n                        <Grid xs={12} sm={6} md={1} item>\n                            <Field\n                                as={TextField}\n                                label=\"Valor\"\n                                name=\"value\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                                type=\"text\"\n                            />\n                        </Grid>\n\n                        {/* CAMPANHAS */}\n                        <Grid xs={12} sm={6} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useCampaigns-selection\">{i18n.t(\"plans.form.campaigns\")}</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useCampaigns-selection\"\n                                    label={i18n.t(\"plans.form.campaigns\")}\n                                    labelId=\"useCampaigns-selection-label\"\n                                    name=\"useCampaigns\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* AGENDAMENTOS */}\n                        <Grid xs={12} sm={8} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useSchedules-selection\">{i18n.t(\"plans.form.schedules\")}</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useSchedules-selection\"\n                                    label={i18n.t(\"plans.form.schedules\")}\n                                    labelId=\"useSchedules-selection-label\"\n                                    name=\"useSchedules\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* CHAT INTERNO */}\n                        <Grid xs={12} sm={8} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useInternalChat-selection\">Chat Interno</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useInternalChat-selection\"\n                                    label=\"Chat Interno\"\n                                    labelId=\"useInternalChat-selection-label\"\n                                    name=\"useInternalChat\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* API Externa */}\n                        <Grid xs={12} sm={8} md={4} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useExternalApi-selection\">API Externa</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useExternalApi-selection\"\n                                    label=\"API Externa\"\n                                    labelId=\"useExternalApi-selection-label\"\n                                    name=\"useExternalApi\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* KANBAN */}\n                        <Grid xs={12} sm={8} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useKanban-selection\">Kanban</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useKanban-selection\"\n                                    label=\"Kanban\"\n                                    labelId=\"useKanban-selection-label\"\n                                    name=\"useKanban\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* OPENAI */}\n                        <Grid xs={12} sm={8} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useOpenAi-selection\">Open.Ai</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useOpenAi-selection\"\n                                    label=\"Talk.Ai\"\n                                    labelId=\"useOpenAi-selection-label\"\n                                    name=\"useOpenAi\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n\n                        {/* INTEGRACOES */}\n                        <Grid xs={12} sm={8} md={2} item>\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\n                                <InputLabel htmlFor=\"useIntegrations-selection\">Integrações</InputLabel>\n                                <Field\n                                    as={Select}\n                                    id=\"useIntegrations-selection\"\n                                    label=\"Integrações\"\n                                    labelId=\"useIntegrations-selection-label\"\n                                    name=\"useIntegrations\"\n                                    margin=\"dense\"\n                                >\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\n                                </Field>\n                            </FormControl>\n                        </Grid>\n                    </Grid>\n                    <Grid spacing={2} justifyContent=\"flex-end\" container>\n\n                        <Grid sm={3} md={2} item>\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onCancel()} variant=\"contained\">\n                                {i18n.t(\"plans.form.clear\")}\n                            </ButtonWithSpinner>\n                        </Grid>\n                        {record.id !== undefined ? (\n                            <Grid sm={3} md={2} item>\n                                <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onDelete(record)} variant=\"contained\" color=\"secondary\">\n                                    {i18n.t(\"plans.form.delete\")}\n                                </ButtonWithSpinner>\n                            </Grid>\n                        ) : null}\n                        <Grid sm={3} md={2} item>\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} type=\"submit\" variant=\"contained\" color=\"primary\">\n                                {i18n.t(\"plans.form.save\")}\n                            </ButtonWithSpinner>\n                        </Grid>\n                    </Grid>\n                </Form>\n            )}\n        </Formik>\n    )\n}\n\nexport function PlansManagerGrid(props) {\n    const { records, onSelect } = props\n    const classes = useStyles()\n    \n    const renderCampaigns = (row) => {\n        return row.useCampaigns === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\n    };\n\n    const renderSchedules = (row) => {\n        return row.useSchedules === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\n    };\n\n    const renderInternalChat = (row) => {\n        return row.useInternalChat === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\n    };\n\n    const renderExternalApi = (row) => {\n        return row.useExternalApi === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\n    };\n\n    const renderKanban = (row) => {\n        return row.useKanban === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\n    };\n\n    const renderOpenAi = (row) => {\n        return row.useOpenAi === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\n    };\n\n    const renderIntegrations = (row) => {\n        return row.useIntegrations === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\n    };\n\n    return (\n        <Paper className={classes.tableContainer}>\n            <Table\n                className={classes.fullWidth}\n                // size=\"small\"\n                padding=\"none\"\n                aria-label=\"a dense table\"\n            >\n                <TableHead>\n                    <TableRow>\n                        <TableCell align=\"center\" style={{ width: '1%' }}>#</TableCell>\n                        <TableCell align=\"left\">{i18n.t(\"plans.form.name\")}</TableCell>\n                        <TableCell align=\"center\">{i18n.t(\"plans.form.users\")}</TableCell>\n                        <TableCell align=\"center\">{i18n.t(\"plans.form.connections\")}</TableCell>\n                        <TableCell align=\"center\">Filas</TableCell>\n                        <TableCell align=\"center\">Valor</TableCell>\n                        <TableCell align=\"center\">{i18n.t(\"plans.form.campaigns\")}</TableCell>\n                        <TableCell align=\"center\">{i18n.t(\"plans.form.schedules\")}</TableCell>\n                        <TableCell align=\"center\">Chat Interno</TableCell>\n                        <TableCell align=\"center\">API Externa</TableCell>\n                        <TableCell align=\"center\">Kanban</TableCell>\n                        <TableCell align=\"center\">Open.Ai</TableCell>\n                        <TableCell align=\"center\">Integrações</TableCell>\n                    </TableRow>\n                </TableHead>\n                <TableBody>\n                    {records.map((row) => (\n                        <TableRow key={row.id}>\n                            <TableCell align=\"center\" style={{ width: '1%' }}>\n                                <IconButton onClick={() => onSelect(row)} aria-label=\"delete\">\n                                    <EditIcon />\n                                </IconButton>\n                            </TableCell>\n                            <TableCell align=\"left\">{row.name || '-'}</TableCell>\n                            <TableCell align=\"center\">{row.users || '-'}</TableCell>\n                            <TableCell align=\"center\">{row.connections || '-'}</TableCell>\n                            <TableCell align=\"center\">{row.queues || '-'}</TableCell>\n                            <TableCell align=\"center\">{i18n.t(\"plans.form.money\")} {row.value ? row.value.toLocaleString('pt-br', { minimumFractionDigits: 2 }) : '00.00'}</TableCell>\n                            <TableCell align=\"center\">{renderCampaigns(row)}</TableCell>\n                            <TableCell align=\"center\">{renderSchedules(row)}</TableCell>\n                            <TableCell align=\"center\">{renderInternalChat(row)}</TableCell>\n                            <TableCell align=\"center\">{renderExternalApi(row)}</TableCell>\n                            <TableCell align=\"center\">{renderKanban(row)}</TableCell>\n                            <TableCell align=\"center\">{renderOpenAi(row)}</TableCell>\n                            <TableCell align=\"center\">{renderIntegrations(row)}</TableCell>\n                        </TableRow>\n                    ))}\n                </TableBody>\n            </Table>\n        </Paper>\n    )\n}\n\nexport default function PlansManager() {\n    const classes = useStyles()\n    const { list, save, update, remove } = usePlans()\n\n    const [showConfirmDialog, setShowConfirmDialog] = useState(false)\n    const [loading, setLoading] = useState(false)\n    const [records, setRecords] = useState([])\n    const [record, setRecord] = useState({\n        name: '',\n        users: 0,\n        connections: 0,\n        queues: 0,\n        value: 0,\n        useCampaigns: true,\n        useSchedules: true,\n        useInternalChat: true,\n        useExternalApi: true,\n        useKanban: true,\n        useOpenAi: true,\n        useIntegrations: true,\n    })\n\n    useEffect(() => {\n        async function fetchData() {\n            await loadPlans()\n        }\n        fetchData()\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [record])\n\n    const loadPlans = async () => {\n        setLoading(true)\n        try {\n            const planList = await list()\n            setRecords(planList)\n        } catch (e) {\n            toast.error('Não foi possível carregar a lista de registros')\n        }\n        setLoading(false)\n    }\n\n    const handleSubmit = async (data) => {\n        setLoading(true)\n        console.log(data)\n        try {\n            if (data.id !== undefined) {\n                await update(data)\n            } else {\n                await save(data)\n            }\n            await loadPlans()\n            handleCancel()\n            toast.success('Operação realizada com sucesso!')\n        } catch (e) {\n            toast.error('Não foi possível realizar a operação. Verifique se já existe uma plano com o mesmo nome ou se os campos foram preenchidos corretamente')\n        }\n        setLoading(false)\n    }\n\n    const handleDelete = async () => {\n        setLoading(true)\n        try {\n            await remove(record.id)\n            await loadPlans()\n            handleCancel()\n            toast.success('Operação realizada com sucesso!')\n        } catch (e) {\n            toast.error('Não foi possível realizar a operação')\n        }\n        setLoading(false)\n    }\n\n    const handleOpenDeleteDialog = () => {\n        setShowConfirmDialog(true)\n    }\n\n    const handleCancel = () => {\n        setRecord({\n            id: undefined,\n            name: '',\n            users: 0,\n            connections: 0,\n            queues: 0,\n            value: 0,\n            useCampaigns: true,\n            useSchedules: true,\n            useInternalChat: true,\n            useExternalApi: true,\n            useKanban: true,\n            useOpenAi: true,\n            useIntegrations: true\n        })\n    }\n\n    const handleSelect = (data) => {\n\n        let useCampaigns = data.useCampaigns === false ? false : true\n        let useSchedules = data.useSchedules === false ? false : true\n        let useInternalChat = data.useInternalChat === false ? false : true\n        let useExternalApi = data.useExternalApi === false ? false : true\n        let useKanban = data.useKanban === false ? false : true\n        let useOpenAi = data.useOpenAi === false ? false : true\n        let useIntegrations = data.useIntegrations === false ? false : true\n\n        setRecord({\n            id: data.id,\n            name: data.name || '',\n            users: data.users || 0,\n            connections: data.connections || 0,\n            queues: data.queues || 0,\n            value: data.value?.toLocaleString('pt-br', { minimumFractionDigits: 0 }) || 0,\n            useCampaigns,\n            useSchedules,\n            useInternalChat,\n            useExternalApi,\n            useKanban,\n            useOpenAi,\n            useIntegrations\n        })\n    }\n\n    return (\n        <Paper className={classes.mainPaper} elevation={0}>\n            <Grid spacing={2} container>\n                <Grid xs={12} item>\n                    <PlanManagerForm\n                        initialValue={record}\n                        onDelete={handleOpenDeleteDialog}\n                        onSubmit={handleSubmit}\n                        onCancel={handleCancel}\n                        loading={loading}\n                    />\n                </Grid>\n                <Grid xs={12} item>\n                    <PlansManagerGrid\n                        records={records}\n                        onSelect={handleSelect}\n                    />\n                </Grid>\n            </Grid>\n            <ConfirmationModal\n                title=\"Exclusão de Registro\"\n                open={showConfirmDialog}\n                onClose={() => setShowConfirmDialog(false)}\n                onConfirm={() => handleDelete()}\n            >\n                Deseja realmente excluir esse registro?\n            </ConfirmationModal>\n        </Paper>\n    )\n}","import api from \"../../services/api\";\n\nconst usePlans = () => {\n\n    const findAll = async (params) => {\n        const { data } = await api.request({\n            url: `/helps`,\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    const list = async (params) => {\n        const { data } = await api.request({\n            url: '/helps/list',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    const save = async (data) => {\n        const { data: responseData } = await api.request({\n            url: '/helps',\n            method: 'POST',\n            data\n        });\n        return responseData;\n    }\n\n    const update = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/helps/${data.id}`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    const remove = async (id) => {\n        const { data } = await api.request({\n            url: `/helps/${id}`,\n            method: 'DELETE'\n        });\n        return data;\n    }\n\n    return {\n        findAll,\n        list,\n        save,\n        update,\n        remove\n    }\n}\n\nexport default usePlans;","import React, { useState, useEffect } from \"react\";\nimport {\n    makeStyles,\n    Paper,\n    Grid,\n    TextField,\n    Table,\n    TableHead,\n    TableBody,\n    TableCell,\n    TableRow,\n    IconButton\n} from \"@material-ui/core\";\nimport { Formik, Form, Field } from 'formik';\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nimport { Edit as EditIcon } from \"@material-ui/icons\";\n\nimport { toast } from \"react-toastify\";\nimport useHelps from \"../../hooks/useHelps\";\n\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\twidth: '100%'\n\t},\n    mainPaper: {\n\t\twidth: '100%',\n\t\tflex: 1,\n\t\tpadding: theme.spacing(2)\n    },\n\tfullWidth: {\n\t\twidth: '100%'\n\t},\n    tableContainer: {\n\t\twidth: '100%',\n\t\toverflowX: \"scroll\",\n\t\t...theme.scrollbarStyles\n    },\n\ttextfield: {\n\t\twidth: '100%'\n\t},\n    textRight: {\n        textAlign: 'right'\n    },\n    row: {\n\t\tpaddingTop: theme.spacing(2),\n\t\tpaddingBottom: theme.spacing(2)\n    },\n    control: {\n\t\tpaddingRight: theme.spacing(1),\n\t\tpaddingLeft: theme.spacing(1)\n\t},\n    buttonContainer: {\n        textAlign: 'right',\n\t\tpadding: theme.spacing(1)\n\t}\n}));\n\nexport function HelpManagerForm (props) {\n    const { onSubmit, onDelete, onCancel, initialValue, loading } = props;\n    const classes = useStyles()\n\n    const [record, setRecord] = useState(initialValue);\n\n    useEffect(() => {\n        setRecord(initialValue)\n    }, [initialValue])\n\n    const handleSubmit = async(data) => {\n        onSubmit(data)\n    }\n\n    return (\n        <Formik\n            enableReinitialize\n            className={classes.fullWidth}\n            initialValues={record}\n            onSubmit={(values, { resetForm }) =>\n                setTimeout(() => {\n                    handleSubmit(values)\n                    resetForm()\n                }, 500)\n            }\n        >\n            {(values) => (\n                <Form className={classes.fullWidth}>\n                    <Grid spacing={2} justifyContent=\"flex-end\" container>\n                        <Grid xs={12} sm={6} md={3} item>\n                            <Field\n                                as={TextField}\n                                label=\"Título\"\n                                name=\"title\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                            />\n                        </Grid>\n                        <Grid xs={12} sm={6} md={3} item>\n                            <Field\n                                as={TextField}\n                                label=\"Código do Vídeo\"\n                                name=\"video\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                            />\n                        </Grid>\n                        <Grid xs={12} sm={12} md={6} item>\n                            <Field\n                                as={TextField}\n                                label=\"Descrição\"\n                                name=\"description\"\n                                variant=\"outlined\"\n                                className={classes.fullWidth}\n                                margin=\"dense\"\n                            />\n                        </Grid>\n                        <Grid sm={3} md={1} item>\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onCancel()} variant=\"contained\">\n                                Limpar\n                            </ButtonWithSpinner>\n                        </Grid>\n                        { record.id !== undefined ? (\n                            <Grid sm={3} md={1} item>\n                                <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onDelete(record)} variant=\"contained\" color=\"secondary\">\n                                    Excluir\n                                </ButtonWithSpinner>\n                            </Grid>\n                        ) : null}\n                        <Grid sm={3} md={1} item>\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} type=\"submit\" variant=\"contained\" color=\"primary\">\n                                Salvar\n                            </ButtonWithSpinner>\n                        </Grid>\n                    </Grid>\n                </Form>\n            )}\n        </Formik>\n    )\n}\n\nexport function HelpsManagerGrid (props) {\n    const { records, onSelect } = props\n    const classes = useStyles()\n\n    return (\n        <Paper className={classes.tableContainer}>\n            <Table className={classes.fullWidth} size=\"small\" aria-label=\"a dense table\">\n                <TableHead>\n                <TableRow>\n                    <TableCell align=\"center\" style={{width: '1%'}}>#</TableCell>\n                    <TableCell align=\"left\">Título</TableCell>\n                    <TableCell align=\"left\">Descrição</TableCell>\n                    <TableCell align=\"left\">Vídeo</TableCell>\n                </TableRow>\n                </TableHead>\n                <TableBody>\n                {records.map((row) => (\n                    <TableRow key={row.id}>\n                        <TableCell align=\"center\" style={{width: '1%'}}>\n                            <IconButton onClick={() => onSelect(row)} aria-label=\"delete\">\n                                <EditIcon />\n                            </IconButton>\n                        </TableCell>\n                        <TableCell align=\"left\">{row.title || '-'}</TableCell>\n                        <TableCell align=\"left\">{row.description || '-'}</TableCell>\n                        <TableCell align=\"left\">{row.video || '-'}</TableCell>\n                    </TableRow>\n                ))}\n                </TableBody>\n            </Table>\n        </Paper>\n    )\n}\n\nexport default function HelpsManager () {\n    const classes = useStyles()\n    const { list, save, update, remove } = useHelps()\n    \n    const [showConfirmDialog, setShowConfirmDialog] = useState(false)\n    const [loading, setLoading] = useState(false)\n    const [records, setRecords] = useState([])\n    const [record, setRecord] = useState({\n        title: '',\n        description: '',\n        video: ''\n    })\n\n    useEffect(() => {\n        async function fetchData () {\n            await loadHelps()\n        }\n        fetchData()\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [])\n\n    const loadHelps = async () => {\n        setLoading(true)\n        try {\n            const helpList = await list()\n            setRecords(helpList)\n        } catch (e) {\n            toast.error('Não foi possível carregar a lista de registros')\n        }\n        setLoading(false)\n    }\n\n    const handleSubmit = async (data) => {\n        setLoading(true)\n        try {\n            if (data.id !== undefined) {\n                await update(data)\n            } else {\n                await save(data)\n            }\n            await loadHelps()\n            handleCancel()\n            toast.success('Operação realizada com sucesso!')\n        } catch (e) {\n            toast.error('Não foi possível realizar a operação. Verifique se já existe uma helpo com o mesmo nome ou se os campos foram preenchidos corretamente')\n        }\n        setLoading(false)\n    }\n\n    const handleDelete = async () => {\n        setLoading(true)\n        try {\n            await remove(record.id)\n            await loadHelps()\n            handleCancel()\n            toast.success('Operação realizada com sucesso!')\n        } catch (e) {\n            toast.error('Não foi possível realizar a operação')\n        }\n        setLoading(false)\n    }\n\n    const handleOpenDeleteDialog = () => {\n        setShowConfirmDialog(true)\n    }\n\n    const handleCancel = () => {\n        setRecord({\n            title: '',\n            description: '',\n            video: ''\n        })\n    }\n\n    const handleSelect = (data) => {\n        setRecord({\n            id: data.id,\n            title: data.title || '',\n            description: data.description || '',\n            video: data.video || ''\n        })\n    }\n\n    return (\n        <Paper className={classes.mainPaper} elevation={0}>\n            <Grid spacing={2} container>\n                <Grid xs={12} item>\n                    <HelpManagerForm \n                        initialValue={record} \n                        onDelete={handleOpenDeleteDialog} \n                        onSubmit={handleSubmit} \n                        onCancel={handleCancel} \n                        loading={loading}\n                    />\n                </Grid>\n                <Grid xs={12} item>\n                    <HelpsManagerGrid \n                        records={records}\n                        onSelect={handleSelect}\n                    />\n                </Grid>\n            </Grid>\n            <ConfirmationModal\n                title=\"Exclusão de Registro\"\n                open={showConfirmDialog}\n                onClose={() => setShowConfirmDialog(false)}\n                onConfirm={() => handleDelete()}\n            >\n                Deseja realmente excluir esse registro?\n            </ConfirmationModal>\n        </Paper>\n    )\n}","import api from \"../../services/api\";\n\nconst useSettings = () => {\n\n    const getAll = async (params) => {\n        const { data } = await api.request({\n            url: '/settings',\n            method: 'GET',\n            params\n        });\n        return data;\n    }\n\n    const update = async (data) => {\n        const { data: responseData } = await api.request({\n            url: `/settings/${data.key}`,\n            method: 'PUT',\n            data\n        });\n        return responseData;\n    }\n\n    return {\n\t\tgetAll,\n        update\n    }\n}\n\nexport default useSettings;","import React, { useEffect, useState } from \"react\";\n\nimport Grid from \"@material-ui/core/Grid\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Select from \"@material-ui/core/Select\";\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Title from \"../Title\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\nimport useSettings from \"../../hooks/useSettings\";\nimport { ToastContainer, toast } from 'react-toastify';\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { grey, blue } from \"@material-ui/core/colors\";\nimport { Tabs, Tab } from \"@material-ui/core\";\n\n//import 'react-toastify/dist/ReactToastify.css';\n \nconst useStyles = makeStyles((theme) => ({\n  container: {\n    paddingTop: theme.spacing(4),\n    paddingBottom: theme.spacing(4),\n  },\n  fixedHeightPaper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    overflow: \"auto\",\n    flexDirection: \"column\",\n    height: 240,\n  },\n  tab: {\n    backgroundColor: theme.palette.options,  //DARK MODE PLW DESIGN//\n    borderRadius: 4,\n    width: \"100%\",\n    \"& .MuiTab-wrapper\": {\n      color: theme.palette.fontecor,\n    },   //DARK MODE PLW DESIGN//\n    \"& .MuiTabs-flexContainer\": {\n      justifyContent: \"center\"\n    }\n\n\n  },\n  paper: {\n    padding: theme.spacing(2),\n    display: \"flex\",\n    alignItems: \"center\",\n    marginBottom: 12,\n    width: \"100%\",\n  },\n  cardAvatar: {\n    fontSize: \"55px\",\n    color: grey[500],\n    backgroundColor: \"#ffffff\",\n    width: theme.spacing(7),\n    height: theme.spacing(7),\n  },\n  cardTitle: {\n    fontSize: \"18px\",\n    color: blue[700],\n  },\n  cardSubtitle: {\n    color: grey[600],\n    fontSize: \"14px\",\n  },\n  alignRight: {\n    textAlign: \"right\",\n  },\n  fullWidth: {\n    width: \"100%\",\n  },\n  selectContainer: {\n    width: \"100%\",\n    textAlign: \"left\",\n  },\n}));\n\nexport default function Options(props) {\n  const { settings, scheduleTypeChanged } = props;\n  const classes = useStyles();\n  const [userRating, setUserRating] = useState(\"disabled\");\n  const [scheduleType, setScheduleType] = useState(\"disabled\");\n  const [callType, setCallType] = useState(\"enabled\");\n  const [chatbotType, setChatbotType] = useState(\"\");\n  const [CheckMsgIsGroup, setCheckMsgIsGroupType] = useState(\"enabled\");\n\n  const [loadingUserRating, setLoadingUserRating] = useState(false);\n  const [loadingScheduleType, setLoadingScheduleType] = useState(false);\n  const [loadingCallType, setLoadingCallType] = useState(false);\n  const [loadingChatbotType, setLoadingChatbotType] = useState(false);\n  const [loadingCheckMsgIsGroup, setCheckMsgIsGroup] = useState(false);\n\n\n  const [ipixcType, setIpIxcType] = useState(\"\");\n  const [loadingIpIxcType, setLoadingIpIxcType] = useState(false);\n  const [tokenixcType, setTokenIxcType] = useState(\"\");\n  const [loadingTokenIxcType, setLoadingTokenIxcType] = useState(false);\n\n  const [ipmkauthType, setIpMkauthType] = useState(\"\");\n  const [loadingIpMkauthType, setLoadingIpMkauthType] = useState(false);\n  const [clientidmkauthType, setClientIdMkauthType] = useState(\"\");\n  const [loadingClientIdMkauthType, setLoadingClientIdMkauthType] = useState(false);\n  const [clientsecretmkauthType, setClientSecrectMkauthType] = useState(\"\");\n  const [loadingClientSecrectMkauthType, setLoadingClientSecrectMkauthType] = useState(false);\n\n  const [asaasType, setAsaasType] = useState(\"\");\n  const [loadingAsaasType, setLoadingAsaasType] = useState(false);\n  \n  // recursos a mais da plw design\n\n  const [SendGreetingAccepted, setSendGreetingAccepted] = useState(\"disabled\");\n  const [loadingSendGreetingAccepted, setLoadingSendGreetingAccepted] = useState(false);\n  \n  const [SettingsTransfTicket, setSettingsTransfTicket] = useState(\"disabled\");\n  const [loadingSettingsTransfTicket, setLoadingSettingsTransfTicket] = useState(false);\n\n  const { update } = useSettings();\n\n  useEffect(() => {\n    if (Array.isArray(settings) && settings.length) {\n      const userRating = settings.find((s) => s.key === \"userRating\");\n      if (userRating) {\n        setUserRating(userRating.value);\n      }\n      const scheduleType = settings.find((s) => s.key === \"scheduleType\");\n      if (scheduleType) {\n        setScheduleType(scheduleType.value);\n      }\n      const callType = settings.find((s) => s.key === \"call\");\n      if (callType) {\n        setCallType(callType.value);\n      }\n      const CheckMsgIsGroup = settings.find((s) => s.key === \"CheckMsgIsGroup\");\n      if (CheckMsgIsGroup) {\n        setCheckMsgIsGroupType(CheckMsgIsGroup.value);\n      }\n\t  \n\t  {/*PLW DESIGN SAUDAÇÃO*/}\n      const SendGreetingAccepted = settings.find((s) => s.key === \"sendGreetingAccepted\");\n      if (SendGreetingAccepted) {\n        setSendGreetingAccepted(SendGreetingAccepted.value);\n      }\t \n\t  {/*PLW DESIGN SAUDAÇÃO*/}\t \n\t  \n\t  {/*TRANSFERIR TICKET*/}\t\n\t  const SettingsTransfTicket = settings.find((s) => s.key === \"sendMsgTransfTicket\");\n      if (SettingsTransfTicket) {\n        setSettingsTransfTicket(SettingsTransfTicket.value);\n      }\n\t  {/*TRANSFERIR TICKET*/}\t\n\t  \n      const chatbotType = settings.find((s) => s.key === \"chatBotType\");\n      if (chatbotType) {\n        setChatbotType(chatbotType.value);\n      }\n\n      const ipixcType = settings.find((s) => s.key === \"ipixc\");\n      if (ipixcType) {\n        setIpIxcType(ipixcType.value);\n      }\n\n      const tokenixcType = settings.find((s) => s.key === \"tokenixc\");\n      if (tokenixcType) {\n        setTokenIxcType(tokenixcType.value);\n      }\n\n      const ipmkauthType = settings.find((s) => s.key === \"ipmkauth\");\n      if (ipmkauthType) {\n        setIpMkauthType(ipmkauthType.value);\n      }\n\n      const clientidmkauthType = settings.find((s) => s.key === \"clientidmkauth\");\n      if (clientidmkauthType) {\n        setClientIdMkauthType(clientidmkauthType.value);\n      }\n\n      const clientsecretmkauthType = settings.find((s) => s.key === \"clientsecretmkauth\");\n      if (clientsecretmkauthType) {\n        setClientSecrectMkauthType(clientsecretmkauthType.value);\n      }\n\n      const asaasType = settings.find((s) => s.key === \"asaas\");\n      if (asaasType) {\n        setAsaasType(asaasType.value);\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [settings]);\n\n  async function handleChangeUserRating(value) {\n    setUserRating(value);\n    setLoadingUserRating(true);\n    await update({\n      key: \"userRating\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingUserRating(false);\n  }\n\n  async function handleScheduleType(value) {\n    setScheduleType(value);\n    setLoadingScheduleType(true);\n    await update({\n      key: \"scheduleType\",\n      value,\n    });\n    //toast.success(\"Oraçãpeo atualizada com sucesso.\");\n    toast.success('Operação atualizada com sucesso.', {\n      position: \"top-right\",\n      autoClose: 2000,\n      hideProgressBar: false,\n      closeOnClick: true,\n      pauseOnHover: false,\n      draggable: true,\n      theme: \"light\",\n      });\n    setLoadingScheduleType(false);\n    if (typeof scheduleTypeChanged === \"function\") {\n      scheduleTypeChanged(value);\n    }\n  }\n\n  async function handleCallType(value) {\n    setCallType(value);\n    setLoadingCallType(true);\n    await update({\n      key: \"call\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingCallType(false);\n  }\n\n  async function handleChatbotType(value) {\n    setChatbotType(value);\n    setLoadingChatbotType(true);\n    await update({\n      key: \"chatBotType\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingChatbotType(false);\n  }\n\n  async function handleGroupType(value) {\n    setCheckMsgIsGroupType(value);\n    setCheckMsgIsGroup(true);\n    await update({\n      key: \"CheckMsgIsGroup\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setCheckMsgIsGroupType(false);\n    /*     if (typeof scheduleTypeChanged === \"function\") {\n          scheduleTypeChanged(value);\n        } */\n  }\n  \n  {/*NOVO CÓDIGO*/}  \n  async function handleSendGreetingAccepted(value) {\n    setSendGreetingAccepted(value);\n    setLoadingSendGreetingAccepted(true);\n    await update({\n      key: \"sendGreetingAccepted\",\n      value,\n    });\n\ttoast.success(\"Operação atualizada com sucesso.\");\n    setLoadingSendGreetingAccepted(false);\n  }  \n  \n  \n  {/*NOVO CÓDIGO*/}    \n\n  async function handleSettingsTransfTicket(value) {\n    setSettingsTransfTicket(value);\n    setLoadingSettingsTransfTicket(true);\n    await update({\n      key: \"sendMsgTransfTicket\",\n      value,\n    });\n\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingSettingsTransfTicket(false);\n  } \n \n  async function handleChangeIPIxc(value) {\n    setIpIxcType(value);\n    setLoadingIpIxcType(true);\n    await update({\n      key: \"ipixc\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingIpIxcType(false);\n  }\n\n  async function handleChangeTokenIxc(value) {\n    setTokenIxcType(value);\n    setLoadingTokenIxcType(true);\n    await update({\n      key: \"tokenixc\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingTokenIxcType(false);\n  }\n\n  async function handleChangeIpMkauth(value) {\n    setIpMkauthType(value);\n    setLoadingIpMkauthType(true);\n    await update({\n      key: \"ipmkauth\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingIpMkauthType(false);\n  }\n\n  async function handleChangeClientIdMkauth(value) {\n    setClientIdMkauthType(value);\n    setLoadingClientIdMkauthType(true);\n    await update({\n      key: \"clientidmkauth\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingClientIdMkauthType(false);\n  }\n\n  async function handleChangeClientSecrectMkauth(value) {\n    setClientSecrectMkauthType(value);\n    setLoadingClientSecrectMkauthType(true);\n    await update({\n      key: \"clientsecretmkauth\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingClientSecrectMkauthType(false);\n  }\n\n  async function handleChangeAsaas(value) {\n    setAsaasType(value);\n    setLoadingAsaasType(true);\n    await update({\n      key: \"asaas\",\n      value,\n    });\n    toast.success(\"Operação atualizada com sucesso.\");\n    setLoadingAsaasType(false);\n  }\n  return (\n    <>\n      <Grid spacing={3} container>\n        {/* <Grid xs={12} item>\n                    <Title>Configurações Gerais</Title>\n                </Grid> */}\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"ratings-label\">Avaliações</InputLabel>\n            <Select\n              labelId=\"ratings-label\"\n              value={userRating}\n              onChange={async (e) => {\n                handleChangeUserRating(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Desabilitadas</MenuItem>\n              <MenuItem value={\"enabled\"}>Habilitadas</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingUserRating && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"schedule-type-label\">\n              Gerenciamento de Expediente\n            </InputLabel>\n            <Select\n              labelId=\"schedule-type-label\"\n              value={scheduleType}\n              onChange={async (e) => {\n                handleScheduleType(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Desabilitado</MenuItem>\n              <MenuItem value={\"queue\"}>Fila</MenuItem>\n              <MenuItem value={\"company\"}>Empresa</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingScheduleType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"group-type-label\">\n              Ignorar Mensagens de Grupos\n            </InputLabel>\n            <Select\n              labelId=\"group-type-label\"\n              value={CheckMsgIsGroup}\n              onChange={async (e) => {\n                handleGroupType(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Desativado</MenuItem>\n              <MenuItem value={\"enabled\"}>Ativado</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingScheduleType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"call-type-label\">\n              Aceitar Chamada\n            </InputLabel>\n            <Select\n              labelId=\"call-type-label\"\n              value={callType}\n              onChange={async (e) => {\n                handleCallType(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Não Aceitar</MenuItem>\n              <MenuItem value={\"enabled\"}>Aceitar</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingCallType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"chatbot-type-label\">\n              Tipo Chatbot\n            </InputLabel>\n            <Select\n              labelId=\"chatbot-type-label\"\n              value={chatbotType}\n              onChange={async (e) => {\n                handleChatbotType(e.target.value);\n              }}\n            >\n              <MenuItem value={\"text\"}>Texto</MenuItem>\n\t\t\t {/*<MenuItem value={\"button\"}>Botão</MenuItem>*/}\n             {/*<MenuItem value={\"list\"}>Lista</MenuItem>*/}\n            </Select>\n            <FormHelperText>\n              {loadingChatbotType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\t\t{/* ENVIAR SAUDAÇÃO AO ACEITAR O TICKET */}\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"sendGreetingAccepted-label\">Enviar saudação ao aceitar o ticket</InputLabel>\n            <Select\n              labelId=\"sendGreetingAccepted-label\"\n              value={SendGreetingAccepted}\n              onChange={async (e) => {\n                handleSendGreetingAccepted(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Desabilitado</MenuItem>\n              <MenuItem value={\"enabled\"}>Habilitado</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingSendGreetingAccepted && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\t\t{/* ENVIAR SAUDAÇÃO AO ACEITAR O TICKET */}\n\t\t\n\t\t{/* ENVIAR MENSAGEM DE TRANSFERENCIA DE SETOR/ATENDENTE */}\n        <Grid xs={12} sm={6} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <InputLabel id=\"sendMsgTransfTicket-label\">Enviar mensagem de transferencia de Fila/agente</InputLabel>\n            <Select\n              labelId=\"sendMsgTransfTicket-label\"\n              value={SettingsTransfTicket}\n              onChange={async (e) => {\n                handleSettingsTransfTicket(e.target.value);\n              }}\n            >\n              <MenuItem value={\"disabled\"}>Desabilitado</MenuItem>\n              <MenuItem value={\"enabled\"}>Habilitado</MenuItem>\n            </Select>\n            <FormHelperText>\n              {loadingSettingsTransfTicket && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n\t\t\n      </Grid>\n      <Grid spacing={3} container>\n        <Tabs\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          scrollButtons=\"on\"\n          variant=\"scrollable\"\n          className={classes.tab}\n          style={{\n            marginBottom: 20,\n            marginTop: 20\n          }}\n        >\n          <Tab\n\n            label=\"INTEGRAÇÕES\" />\n\n        </Tabs>\n\n      </Grid>\n      {/*-----------------IXC-----------------*/}\n      <Grid spacing={3} container\n        style={{ marginBottom: 10 }}>\n        <Tabs\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          scrollButtons=\"on\"\n          variant=\"scrollable\"\n          className={classes.tab}\n        >\n          <Tab\n\n            label=\"IXC\" />\n\n        </Tabs>\n        <Grid xs={12} sm={6} md={6} item>\n          <FormControl className={classes.selectContainer}>\n            <TextField\n              id=\"ipixc\"\n              name=\"ipixc\"\n              margin=\"dense\"\n              label=\"IP do IXC\"\n              variant=\"outlined\"\n              value={ipixcType}\n              onChange={async (e) => {\n                handleChangeIPIxc(e.target.value);\n              }}\n            >\n            </TextField>\n            <FormHelperText>\n              {loadingIpIxcType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid xs={12} sm={6} md={6} item>\n          <FormControl className={classes.selectContainer}>\n            <TextField\n              id=\"tokenixc\"\n              name=\"tokenixc\"\n              margin=\"dense\"\n              label=\"Token do IXC\"\n              variant=\"outlined\"\n              value={tokenixcType}\n              onChange={async (e) => {\n                handleChangeTokenIxc(e.target.value);\n              }}\n            >\n            </TextField>\n            <FormHelperText>\n              {loadingTokenIxcType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n      </Grid>\n      {/*-----------------MK-AUTH-----------------*/}\n      <Grid spacing={3} container\n        style={{ marginBottom: 10 }}>\n        <Tabs\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          scrollButtons=\"on\"\n          variant=\"scrollable\"\n          className={classes.tab}\n        >\n          <Tab label=\"MK-AUTH\" />\n\n        </Tabs>\n        <Grid xs={12} sm={12} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <TextField\n              id=\"ipmkauth\"\n              name=\"ipmkauth\"\n              margin=\"dense\"\n              label=\"Ip Mk-Auth\"\n              variant=\"outlined\"\n              value={ipmkauthType}\n              onChange={async (e) => {\n                handleChangeIpMkauth(e.target.value);\n              }}\n            >\n            </TextField>\n            <FormHelperText>\n              {loadingIpMkauthType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid xs={12} sm={12} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <TextField\n              id=\"clientidmkauth\"\n              name=\"clientidmkauth\"\n              margin=\"dense\"\n              label=\"Client Id\"\n              variant=\"outlined\"\n              value={clientidmkauthType}\n              onChange={async (e) => {\n                handleChangeClientIdMkauth(e.target.value);\n              }}\n            >\n            </TextField>\n            <FormHelperText>\n              {loadingClientIdMkauthType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n        <Grid xs={12} sm={12} md={4} item>\n          <FormControl className={classes.selectContainer}>\n            <TextField\n              id=\"clientsecretmkauth\"\n              name=\"clientsecretmkauth\"\n              margin=\"dense\"\n              label=\"Client Secret\"\n              variant=\"outlined\"\n              value={clientsecretmkauthType}\n              onChange={async (e) => {\n                handleChangeClientSecrectMkauth(e.target.value);\n              }}\n            >\n            </TextField>\n            <FormHelperText>\n              {loadingClientSecrectMkauthType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n      </Grid>\n      {/*-----------------ASAAS-----------------*/}\n      <Grid spacing={3} container\n        style={{ marginBottom: 10 }}>\n        <Tabs\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          scrollButtons=\"on\"\n          variant=\"scrollable\"\n          className={classes.tab}\n        >\n          <Tab label=\"ASAAS\" />\n\n        </Tabs>\n        <Grid xs={12} sm={12} md={12} item>\n          <FormControl className={classes.selectContainer}>\n            <TextField\n              id=\"asaas\"\n              name=\"asaas\"\n              margin=\"dense\"\n              label=\"Token Asaas\"\n              variant=\"outlined\"\n              value={asaasType}\n              onChange={async (e) => {\n                handleChangeAsaas(e.target.value);\n              }}\n            >\n            </TextField>\n            <FormHelperText>\n              {loadingAsaasType && \"Atualizando...\"}\n            </FormHelperText>\n          </FormControl>\n        </Grid>\n      </Grid>\n    </>\n  );\n}\n","const OnlyForSuperUser = ({ user, yes, no }) => user.super ? yes() : no();\n\nOnlyForSuperUser.defaultProps = {\n    user: {},\n\tyes: () => null,\n\tno: () => null,\n};\n\nexport default OnlyForSuperUser;","import React, { useState, useEffect } from \"react\";\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport { makeStyles, Paper, Tabs, Tab } from \"@material-ui/core\";\n\nimport TabPanel from \"../../components/TabPanel\";\n\nimport SchedulesForm from \"../../components/SchedulesForm\";\nimport CompaniesManager from \"../../components/CompaniesManager\";\nimport PlansManager from \"../../components/PlansManager\";\nimport HelpsManager from \"../../components/HelpsManager\";\nimport Options from \"../../components/Settings/Options\";\n\nimport { i18n } from \"../../translate/i18n.js\";\nimport { toast } from \"react-toastify\";\n\nimport useCompanies from \"../../hooks/useCompanies\";\nimport useAuth from \"../../hooks/useAuth.js\";\nimport useSettings from \"../../hooks/useSettings\";\n\nimport OnlyForSuperUser from \"../../components/OnlyForSuperUser\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    flex: 1,\n    backgroundColor: theme.palette.background.paper,\n  },\n  mainPaper: {\n    ...theme.scrollbarStyles,\n    overflowY: \"scroll\",\n    flex: 1,\n  },\n  tab: {\n    backgroundColor: theme.palette.options,\n    borderRadius: 4,\n  },\n  paper: {\n    ...theme.scrollbarStyles,\n    overflowY: \"scroll\",\n    padding: theme.spacing(2),\n    display: \"flex\",\n    alignItems: \"center\",\n    width: \"100%\",\n  },\n  container: {\n    width: \"100%\",\n    maxHeight: \"100%\",\n  },\n  control: {\n    padding: theme.spacing(1),\n  },\n  textfield: {\n    width: \"100%\",\n  },\n}));\n\nconst SettingsCustom = () => {\n  const classes = useStyles();\n  const [tab, setTab] = useState(\"options\");\n  const [schedules, setSchedules] = useState([]);\n  const [company, setCompany] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [currentUser, setCurrentUser] = useState({});\n  const [settings, setSettings] = useState({});\n  const [schedulesEnabled, setSchedulesEnabled] = useState(false);\n\n  const { getCurrentUserInfo } = useAuth();\n  const { find, updateSchedules } = useCompanies();\n  const { getAll: getAllSettings } = useSettings();\n\n  useEffect(() => {\n    async function findData() {\n      setLoading(true);\n      try {\n        const companyId = localStorage.getItem(\"companyId\");\n        const company = await find(companyId);\n        const settingList = await getAllSettings();\n        setCompany(company);\n        setSchedules(company.schedules);\n        setSettings(settingList);\n\n        if (Array.isArray(settingList)) {\n          const scheduleType = settingList.find(\n            (d) => d.key === \"scheduleType\"\n          );\n          if (scheduleType) {\n            setSchedulesEnabled(scheduleType.value === \"company\");\n          }\n        }\n\n        const user = await getCurrentUserInfo();\n        setCurrentUser(user);\n      } catch (e) {\n        toast.error(e);\n      }\n      setLoading(false);\n    }\n    findData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleTabChange = (event, newValue) => {\n      async function findData() {\n        setLoading(true);\n        try {\n          const companyId = localStorage.getItem(\"companyId\");\n          const company = await find(companyId);\n          const settingList = await getAllSettings();\n          setCompany(company);\n          setSchedules(company.schedules);\n          setSettings(settingList);\n  \n          if (Array.isArray(settingList)) {\n            const scheduleType = settingList.find(\n              (d) => d.key === \"scheduleType\"\n            );\n            if (scheduleType) {\n              setSchedulesEnabled(scheduleType.value === \"company\");\n            }\n          }\n  \n          const user = await getCurrentUserInfo();\n          setCurrentUser(user);\n        } catch (e) {\n          toast.error(e);\n        }\n        setLoading(false);\n      }\n      findData();\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n\n    setTab(newValue);\n  };\n\n  const handleSubmitSchedules = async (data) => {\n    setLoading(true);\n    try {\n      setSchedules(data);\n      await updateSchedules({ id: company.id, schedules: data });\n      toast.success(\"Horários atualizados com sucesso.\");\n    } catch (e) {\n      toast.error(e);\n    }\n    setLoading(false);\n  };\n\n  const isSuper = () => {\n    return currentUser.super;\n  };\n\n  return (\n    <MainContainer className={classes.root}>\n      <MainHeader>\n        <Title>{i18n.t(\"settings.title\")}</Title>\n      </MainHeader>\n      <Paper className={classes.mainPaper} elevation={1}>\n        <Tabs\n          value={tab}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          scrollButtons=\"on\"\n          variant=\"scrollable\"\n          onChange={handleTabChange}\n          className={classes.tab}\n        >\n          <Tab label=\"Opções\" value={\"options\"} />\n          {schedulesEnabled && <Tab label=\"Horários\" value={\"schedules\"} />}\n          {isSuper() ? <Tab label=\"Empresas\" value={\"companies\"} /> : null}\n          {isSuper() ? <Tab label=\"Planos\" value={\"plans\"} /> : null}\n          {isSuper() ? <Tab label=\"Ajuda\" value={\"helps\"} /> : null}\n        </Tabs>\n        <Paper className={classes.paper} elevation={0}>\n          <TabPanel\n            className={classes.container}\n            value={tab}\n            name={\"schedules\"}\n          >\n            <SchedulesForm\n              loading={loading}\n              onSubmit={handleSubmitSchedules}\n              initialValues={schedules}\n            />\n          </TabPanel>\n          <OnlyForSuperUser\n            user={currentUser}\n            yes={() => (\n              <TabPanel\n                className={classes.container}\n                value={tab}\n                name={\"companies\"}\n              >\n                <CompaniesManager />\n              </TabPanel>\n            )}\n          />\n          <OnlyForSuperUser\n            user={currentUser}\n            yes={() => (\n              <TabPanel\n                className={classes.container}\n                value={tab}\n                name={\"plans\"}\n              >\n                <PlansManager />\n              </TabPanel>\n            )}\n          />\n          <OnlyForSuperUser\n            user={currentUser}\n            yes={() => (\n              <TabPanel\n                className={classes.container}\n                value={tab}\n                name={\"helps\"}\n              >\n                <HelpsManager />\n              </TabPanel>\n            )}\n          />\n          <TabPanel className={classes.container} value={tab} name={\"options\"}>\n            <Options\n              settings={settings}\n              scheduleTypeChanged={(value) =>\n                setSchedulesEnabled(value === \"company\")\n              }\n            />\n          </TabPanel>\n        </Paper>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default SettingsCustom;\n","import React from 'react';\nimport { at } from 'lodash';\nimport { useField } from 'formik';\nimport { TextField } from '@material-ui/core';\n\nexport default function InputField(props) {\n  const { errorText, ...rest } = props;\n  const [field, meta] = useField(props);\n\n  function _renderHelperText() {\n    const [touched, error] = at(meta, 'touched', 'error');\n    if (touched && error) {\n      return error;\n    }\n  }\n\n  return (\n    <TextField\n      type=\"text\"\n      error={meta.touched && meta.error && true}\n      helperText={_renderHelperText()}\n      {...field}\n      {...rest}\n    />\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { at } from 'lodash';\nimport { useField } from 'formik';\nimport {\n  InputLabel,\n  FormControl,\n  Select,\n  MenuItem,\n  FormHelperText\n} from '@material-ui/core';\n\nfunction SelectField(props) {\n  const { label, data, ...rest } = props;\n  const [field, meta] = useField(props);\n  const { value: selectedValue } = field;\n  const [touched, error] = at(meta, 'touched', 'error');\n  const isError = touched && error && true;\n  function _renderHelperText() {\n    if (isError) {\n      return <FormHelperText>{error}</FormHelperText>;\n    }\n  }\n\n  return (\n    <FormControl {...rest} error={isError}>\n      <InputLabel>{label}</InputLabel>\n      <Select {...field} value={selectedValue ? selectedValue : ''}>\n        {data.map((item, index) => (\n          <MenuItem key={index} value={item.value}>\n            {item.label}\n          </MenuItem>\n        ))}\n      </Select>\n      {_renderHelperText()}\n    </FormControl>\n  );\n}\n\nSelectField.defaultProps = {\n  data: []\n};\n\nSelectField.propTypes = {\n  data: PropTypes.array.isRequired\n};\n\nexport default SelectField;\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { Grid, Typography } from \"@material-ui/core\";\nimport { InputField, SelectField } from \"../../FormFields\";\nimport { AuthContext } from \"../../../context/Auth/AuthContext\";\n\nconst countries = [\n  {\n    value: \"BR\",\n    label: \"Brasil\",\n  },\n  {\n    value: \"usa\",\n    label: \"United States\",\n  },\n];\n\nexport default function AddressForm(props) {\n\n  const { user } = useContext(AuthContext);\n  const [billingName, setBillingName] = useState(user.company.billingName);\n  const [addressZipCode, setAddressZipCode] = useState(user.company.addressZipCode);\n  const [addressStreet, setAddressStreet] = useState(user.company.addressStreet);\n  const [addressState, setAddressState] = useState(user.company.addressState);\n  const [addressCity, setAddressCity] = useState(user.company.addressCity);\n  const [addressDistrict, setAddressDistrict] = useState(user.company.addressDistrict);\n\n  const {\n    formField: {\n      firstName,\n      address1,\n      city,\n      state,\n      zipcode,\n      country,\n    },\n    setFieldValue\n  } = props;\n  useEffect(() => {\n    setFieldValue(\"firstName\", billingName)\n    setFieldValue(\"zipcode\", addressZipCode)\n    setFieldValue(\"address2\", addressStreet)\n    setFieldValue(\"state\", addressState)\n    setFieldValue(\"city\", addressCity)\n    setFieldValue(\"country\", addressDistrict)\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  return (\n    <React.Fragment>\n      <Typography variant=\"h6\" gutterBottom>\n        Vamos precisar de algumas informações\n      </Typography>\n      <Grid container spacing={3}>\n\n        <Grid item xs={6} sm={6}>\n          <InputField name={firstName.name} label={firstName.label} fullWidth\n            value={billingName}\n            onChange={(e) => {\n              setBillingName(e.target.value)\n              setFieldValue(\"firstName\", e.target.value)\n            }}\n          />\n        </Grid>\n        <Grid item xs={6} sm={6}>\n          <SelectField\n            name={country.name}\n            label={country.label}\n            data={countries}\n            fullWidth\n            value={addressDistrict}\n            onChange={(e) => {\n              setAddressDistrict(e.target.value)\n              setFieldValue(\"country\", e.target.value)\n            }\n            }\n          />\n        </Grid>\n\n        <Grid item xs={4}>\n          <InputField\n            name={zipcode.name}\n            label={zipcode.label}\n            fullWidth\n            value={addressZipCode}\n            onChange={(e) => {\n              setAddressZipCode(e.target.value)\n              setFieldValue(\"zipcode\", e.target.value)\n            }}\n          />\n        </Grid>\n        <Grid item xs={8}>\n          <InputField\n            name={address1.name}\n            label={address1.label}\n            fullWidth\n            value={addressStreet}\n            onChange={(e) => {\n              setAddressStreet(e.target.value)\n              setFieldValue(\"address2\", e.target.value)\n\n            }}\n          />\n        </Grid>\n\n        <Grid item xs={4}>\n          <InputField\n            name={state.name}\n            label={state.label}\n            fullWidth\n            value={addressState}\n            onChange={(e) => {\n              setAddressState(e.target.value)\n              setFieldValue(\"state\", e.target.value)\n\n            }}\n          />\n        </Grid>\n        <Grid item xs={8}>\n          <InputField\n            name={city.name}\n            label={city.label}\n            fullWidth\n            value={addressCity}\n            onChange={(e) => {\n              setAddressCity(e.target.value)\n              setFieldValue(\"city\", e.target.value)\n            }}\n          />\n        </Grid>\n\n      </Grid>\n    </React.Fragment>\n  );\n}\n","import React, { useState, useEffect, useReducer } from 'react';\nimport Button from '@material-ui/core/Button';\nimport Card from '@material-ui/core/Card';\nimport CardActions from '@material-ui/core/CardActions';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport Grid from '@material-ui/core/Grid';\nimport StarIcon from '@material-ui/icons/StarBorder';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport IconButton from '@material-ui/core/IconButton';\nimport MinimizeIcon from '@material-ui/icons/Minimize';\nimport AddIcon from '@material-ui/icons/Add';\n\nimport usePlans from \"../../../hooks/usePlans\";\nimport useCompanies from \"../../../hooks/useCompanies\";\n\nconst useStyles = makeStyles((theme) => ({\n  '@global': {\n    ul: {\n      margin: 0,\n      padding: 0,\n      listStyle: 'none',\n    },\n  },\n  margin: {\n    margin: theme.spacing(1),\n  },\n\n\n  cardHeader: {\n    backgroundColor:\n      theme.palette.type === 'light' ? theme.palette.grey[200] : theme.palette.grey[700],\n  },\n  cardPricing: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'baseline',\n    marginBottom: theme.spacing(2),\n  },\n  footer: {\n    borderTop: `1px solid ${theme.palette.divider}`,\n    marginTop: theme.spacing(8),\n    paddingTop: theme.spacing(3),\n    paddingBottom: theme.spacing(3),\n    [theme.breakpoints.up('sm')]: {\n      paddingTop: theme.spacing(6),\n      paddingBottom: theme.spacing(6),\n    },\n  },\n\n  customCard: {\n    display: \"flex\",\n    marginTop: \"16px\",\n    alignItems: \"center\",\n    flexDirection: \"column\",\n  },\n  custom: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"space-between\",\n  }\n}));\n\n\nexport default function Pricing(props) {\n  const {\n    setFieldValue,\n    setActiveStep,\n    activeStep,\n  } = props;\n\n  const handleChangeAdd = (event, newValue) => {\n    if (newValue < 3) return\n\n    const newPrice = 11.00;\n\n    setUsersPlans(newValue);\n    setCustomValuePlans(customValuePlans + newPrice);\n  }\n\n  const handleChangeMin = (event, newValue) => {\n    if (newValue < 3) return\n\n    const newPrice = 11;\n\n    setUsersPlans(newValue);\n    setCustomValuePlans(customValuePlans - newPrice);\n  }\n\n  const handleChangeConnectionsAdd = (event, newValue) => {\n    if (newValue < 3) return\n    const newPrice = 20.00;\n    setConnectionsPlans(newValue);\n    setCustomValuePlans(customValuePlans + newPrice);\n  }\n\n  const handleChangeConnectionsMin = (event, newValue) => {\n    if (newValue < 3) return\n    const newPrice = 20;\n    setConnectionsPlans(newValue);\n    setCustomValuePlans(customValuePlans - newPrice);\n  }\n\n  const { list, finder } = usePlans();\n  const { find } = useCompanies();\n\n  const classes = useStyles();\n  const [usersPlans, setUsersPlans] = React.useState(3);\n  const [companiesPlans, setCompaniesPlans] = useState(0);\n  const [connectionsPlans, setConnectionsPlans] = React.useState(3);\n  const [storagePlans, setStoragePlans] = React.useState([]);\n  const [customValuePlans, setCustomValuePlans] = React.useState(49.00);\n  const [loading, setLoading] = React.useState(false);\n  const companyId = localStorage.getItem(\"companyId\");\n\n  useEffect(() => {\n    async function fetchData() {\n      await loadCompanies();\n    }\n    fetchData();\n  }, [])\n\n  const loadCompanies = async () => {\n    setLoading(true);\n    try {\n      const companiesList = await find(companyId);\n      setCompaniesPlans(companiesList.planId);\n      await loadPlans(companiesList.planId);\n    } catch (e) {\n      console.log(e);\n      // toast.error(\"Não foi possível carregar a lista de registros\");\n    }\n    setLoading(false);\n  };\n  const loadPlans = async (companiesPlans) => {\n    setLoading(true);\n    try {\n      const plansCompanies = await finder(companiesPlans);\n      const plans = []\n\n      //plansCompanies.forEach((plan) => {\n      plans.push({\n        title: plansCompanies.name,\n        planId: plansCompanies.id,\n        price: plansCompanies.value,\n        description: [\n          `${plansCompanies.users} Usuários`,\n          `${plansCompanies.connections} Conexão`,\n          `${plansCompanies.queues} Filas`\n        ],\n        users: plansCompanies.users,\n        connections: plansCompanies.connections,\n        queues: plansCompanies.queues,\n        buttonText: 'SELECIONAR',\n        buttonVariant: 'outlined',\n      })\n\n      // setStoragePlans(data);\n      //});\n      setStoragePlans(plans);\n    } catch (e) {\n      console.log(e);\n      // toast.error(\"Não foi possível carregar a lista de registros\");\n    }\n    setLoading(false);\n  };\n\n\n  const tiers = storagePlans\n  return (\n    <React.Fragment>\n      <Grid container spacing={3}>\n        {tiers.map((tier) => (\n          // Enterprise card is full width at sm breakpoint\n          <Grid item key={tier.title} xs={12} sm={tier.title === 'Enterprise' ? 12 : 12} md={12}>\n            <Card>\n              <CardHeader\n                title={tier.title}\n                subheader={tier.subheader}\n                titleTypographyProps={{ align: 'center' }}\n                subheaderTypographyProps={{ align: 'center' }}\n                action={tier.title === 'Pro' ? <StarIcon /> : null}\n                className={classes.cardHeader}\n              />\n              <CardContent>\n                <div className={classes.cardPricing}>\n                  <Typography component=\"h2\" variant=\"h3\" color=\"textPrimary\">\n                    {\n\n                      <React.Fragment>\n                        R${tier.price.toLocaleString('pt-br', { minimumFractionDigits: 2 })}\n                      </React.Fragment>\n                    }\n                  </Typography>\n                  <Typography variant=\"h6\" color=\"textSecondary\">\n                    /mês\n                  </Typography>\n                </div>\n                <ul>\n                  {tier.description.map((line) => (\n                    <Typography component=\"li\" variant=\"subtitle1\" align=\"center\" key={line}>\n                      {line}\n                    </Typography>\n                  ))}\n                </ul>\n              </CardContent>\n              <CardActions>\n                <Button\n                  fullWidth\n                  variant={tier.buttonVariant}\n                  color=\"primary\"\n                  onClick={() => {\n                    if (tier.custom) {\n                      setFieldValue(\"plan\", JSON.stringify({\n                        users: usersPlans,\n                        connections: connectionsPlans,\n                        price: customValuePlans,\n                      }));\n                    } else {\n                      setFieldValue(\"plan\", JSON.stringify(tier));\n                    }\n                    setActiveStep(activeStep + 1);\n                  }\n                  }\n                >\n                  {tier.buttonText}\n                </Button>\n              </CardActions>\n            </Card>\n          </Grid>\n        ))}\n      </Grid>\n    </React.Fragment>\n  );\n}","import { makeStyles } from '@material-ui/core/styles';\nexport default makeStyles(theme => ({\n  listItem: {\n    padding: theme.spacing(1, 0)\n  },\n  total: {\n    fontWeight: '700'\n  },\n  title: {\n    marginTop: theme.spacing(2)\n  }\n}));\n","import React from 'react';\nimport { Typography, Grid } from '@material-ui/core';\nimport useStyles from './styles';\n\nfunction PaymentDetails(props) {\n  const { formValues } = props;\n  const classes = useStyles();\n  const { plan } = formValues;\n\n  const newPlan = JSON.parse(plan);\n  const { users, connections, price } = newPlan;\n  return (\n    <Grid item xs={12} sm={12}>\n      <Typography variant=\"h6\" gutterBottom className={classes.title}>\n        Detalhes do plano\n      </Typography>\n      <Typography gutterBottom>Usuários: {users}</Typography>\n      <Typography gutterBottom>Whatsapps: {connections}</Typography>\n      <Typography gutterBottom>Cobrança: Mensal</Typography>\n      <Typography gutterBottom>Total: R${price.toLocaleString('pt-br', {minimumFractionDigits: 2})}</Typography>\n    </Grid>\n  );\n}\n\nexport default PaymentDetails;\n","import ReviewOrder from './ReviewOrder';\nexport default ReviewOrder;\n","import React from 'react';\nimport { useFormikContext } from 'formik';\nimport { Typography, Grid } from '@material-ui/core';\nimport ShippingDetails from './ShippingDetails';\nimport PaymentDetails from './PaymentDetails';\n\nexport default function ReviewOrder() {\n  const { values: formValues } = useFormikContext();\n  return (\n    <React.Fragment>\n      <Typography variant=\"h6\" gutterBottom>\n        Resumo da assinatura\n      </Typography>\n      <Grid container spacing={2}>\n        <ShippingDetails formValues={formValues} />\n      </Grid>\n    </React.Fragment>\n  );\n}\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  footer {\n    margin-top: 30px;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    width: 100%;\n\n    @media (max-width: 768px) {\n      flex-direction: column;\n      .checkout-buttons {\n        display: flex;\n        flex-direction: column-reverse;\n        width: 100%;\n\n        button {\n          width: 100%;\n          margin-top: 16px;\n          margin-left: 0;\n        }\n      }\n    }\n\n    button {\n      margin-left: 16px;\n    }\n  }\n`;\nexport const Total = styled.div`\n  display: flex;\n  align-items: baseline;\n\n  span {\n    color: #333;\n    font-weight: bold;\n  }\n\n  strong {\n    color: #333;\n    font-size: 28px;\n    margin-left: 5px;\n  }\n\n  @media (max-width: 768px) {\n    min-width: 100%;\n    justify-content: space-between;\n  }\n`;\n\nexport const SuccessContent = styled.div`\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n\n  > h2 {\n    text-align: center;\n  }\n\n  > svg {\n    margin-top: 16px;\n  }\n\n  > span {\n    margin-top: 24px;\n    text-align: center;\n  }\n\n  > p,\n  strong {\n    margin-top: 8px;\n    font-size: 9px;\n    color: #999;\n  }\n\n  .copy-button {\n    font-size: 14px;\n    cursor: pointer;\n    text-align: center;\n    user-select: none;\n    min-height: 56px;\n    display: inline-flex;\n    -webkit-box-pack: center;\n    justify-content: center;\n    -webkit-box-align: center;\n    align-items: center;\n    background-color: #f9f9f9;\n    color: #000;\n    -webkit-appearance: none !important;\n    outline: none;\n    margin-top: 16px;\n    width: 256px;\n    font-weight: 600;\n    text-transform: uppercase;\n    border: none;\n\n    > span {\n      margin-right: 8px;\n    }\n  }\n`;\n\nexport const CheckoutWrapper = styled.div`\n  width: 100%;\n  margin: 0 auto 0;\n  max-width: 1110px;\n  display: flex;\n  flex-direction: column;\n  -webkit-box-align: center;\n  align-items: center;\n  padding: 50px 95px;\n  background: #fff;\n  @media (max-width: 768px) {\n    padding: 16px 24px;\n`;","import React, { useState, useEffect } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport QRCode from 'react-qr-code';\nimport { SuccessContent, Total } from './style';\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\nimport { FaCopy, FaCheckCircle } from 'react-icons/fa';\nimport { socketConnection } from \"../../../services/socket\";\nimport { useDate } from \"../../../hooks/useDate\";\nimport { toast } from \"react-toastify\";\n\nfunction CheckoutSuccess(props) {\n\n  const { pix } = props;\n  const [pixString,] = useState(pix.qrcode.qrcode);\n  const [copied, setCopied] = useState(false);\n  const history = useHistory();\n\n  const { dateToClient } = useDate();\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n    socket.on(`company-${companyId}-payment`, (data) => {\n\n      if (data.action === \"CONCLUIDA\") {\n        toast.success(`Sua licença foi renovada até ${dateToClient(data.company.dueDate)}!`);\n        setTimeout(() => {\n          history.push(\"/\");\n        }, 4000);\n      }\n    });\n  }, [history]);\n\n  const handleCopyQR = () => {\n    setTimeout(() => {\n      setCopied(false);\n    }, 1 * 1000);\n    setCopied(true);\n  };\n\n  return (\n    <React.Fragment>\n      <Total>\n        <span>TOTAL</span>\n        <strong>R${pix.valor.original.toLocaleString('pt-br', { minimumFractionDigits: 2 })}</strong>\n      </Total>\n      <SuccessContent>\n        <QRCode value={pixString} />\n        <CopyToClipboard text={pixString} onCopy={handleCopyQR}>\n          <button className=\"copy-button\" type=\"button\">\n            {copied ? (\n              <>\n                <span>Copiado</span>\n                <FaCheckCircle size={18} />\n              </>\n            ) : (\n              <>\n                <span>Copiar código QR</span>\n                <FaCopy size={18} />\n              </>\n            )}\n          </button>\n        </CopyToClipboard>\n        <span>\n          Para finalizar, basta realizar o pagamento escaneando ou colando o\n          código Pix acima :)\n        </span>\n      </SuccessContent>\n    </React.Fragment>\n  );\n}\n\nexport default CheckoutSuccess;\n","import CheckoutSuccess from './CheckoutSuccess';\nexport default CheckoutSuccess;\n","export default {\n  formId: 'checkoutForm',\n  formField: {\n    firstName: {\n      name: 'firstName',\n      label: 'Nome completo*',\n      requiredErrorMsg: 'O nome completo é obrigatório'\n    },\n    lastName: {\n      name: 'lastName',\n      label: 'Last name*',\n      requiredErrorMsg: 'Last name is required'\n    },\n    address1: {\n      name: 'address2',\n      label: 'Endereço*',\n      requiredErrorMsg: 'O Endereço é obrigatório'\n    },\n\n    city: {\n      name: 'city',\n      label: 'Cidade*',\n      requiredErrorMsg: 'Cidade é obrigatória'\n    },\n    state: {\n      name: 'state',\n      label: 'Estado*',\n      requiredErrorMsg: 'Cidade é obrigatória'\n    },\n    zipcode: {\n      name: 'zipcode',\n      label: 'CEP*',\n      requiredErrorMsg: 'CEP é obrigatório',\n      invalidErrorMsg: 'Formato de CEP inválido'\n    },\n    country: {\n      name: 'country',\n      label: 'País*',\n      requiredErrorMsg: 'País é obrigatório'\n    },\n    useAddressForPaymentDetails: {\n      name: 'useAddressForPaymentDetails',\n      label: 'Use this address for payment details'\n    },\n    invoiceId: {\n      name: 'invoiceId',\n      label: 'Use this invoiceId'\n    },\n    nameOnCard: {\n      name: 'nameOnCard',\n      label: 'Name on card*',\n      requiredErrorMsg: 'Name on card is required'\n    },\n    cardNumber: {\n      name: 'cardNumber',\n      label: 'Card number*',\n      requiredErrorMsg: 'Card number is required',\n      invalidErrorMsg: 'Card number is not valid (e.g. 4111111111111)'\n    },\n    expiryDate: {\n      name: 'expiryDate',\n      label: 'Expiry date*',\n      requiredErrorMsg: 'Expiry date is required',\n      invalidErrorMsg: 'Expiry date is not valid'\n    },\n    cvv: {\n      name: 'cvv',\n      label: 'CVV*',\n      requiredErrorMsg: 'CVV is required',\n      invalidErrorMsg: 'CVV is invalid (e.g. 357)'\n    }\n  }\n};\n","import * as Yup from 'yup';\nimport checkoutFormModel from './checkoutFormModel';\nconst {\n  formField: {\n    firstName,\n    address1,\n    city,\n    zipcode,\n    country,\n  }\n} = checkoutFormModel;\n\n\nexport default [\n  Yup.object().shape({\n    [firstName.name]: Yup.string().required(`${firstName.requiredErrorMsg}`),\n    [address1.name]: Yup.string().required(`${address1.requiredErrorMsg}`),\n    [city.name]: Yup.string()\n      .nullable()\n      .required(`${city.requiredErrorMsg}`),\n    [zipcode.name]: Yup.string()\n      .required(`${zipcode.requiredErrorMsg}`),\n\n    [country.name]: Yup.string()\n      .nullable()\n      .required(`${country.requiredErrorMsg}`)\n  }),\n\n];\n","import checkoutFormModel from './checkoutFormModel';\nconst {\n  formField: {\n    firstName,\n    lastName,\n    address1,\n    city,\n    state,\n    zipcode,\n    country,\n    useAddressForPaymentDetails,\n    nameOnCard,\n    cardNumber,\n    invoiceId,\n    cvv\n  }\n} = checkoutFormModel;\n\nexport default {\n  [firstName.name]: '',\n  [lastName.name]: '',\n  [address1.name]: '',\n  [city.name]: '',\n  [state.name]: '',\n  [zipcode.name]: '',\n  [country.name]: '',\n  [useAddressForPaymentDetails.name]: false,\n  [nameOnCard.name]: '',\n  [cardNumber.name]: '',\n  [invoiceId.name]: '',\n  [cvv.name]: ''\n};\n","import { makeStyles } from '@material-ui/core/styles';\nexport default makeStyles(theme => ({\n  stepper: {\n    padding: theme.spacing(3, 0, 5)\n  },\n  buttons: {\n    display: 'flex',\n    justifyContent: 'flex-end'\n  },\n  button: {\n    marginTop: theme.spacing(3),\n    marginLeft: theme.spacing(1)\n  },\n  wrapper: {\n    margin: theme.spacing(1),\n    position: 'relative'\n  },\n  buttonProgress: {\n    position: 'absolute',\n    top: '50%',\n    left: '50%'\n  }\n}));\n","import CheckoutPage from './CheckoutPage';\nexport default CheckoutPage;\n","import React, { useContext, useState } from \"react\";\nimport {\n  Stepper,\n  Step,\n  StepLabel,\n  Button,\n  Typography,\n  CircularProgress,\n} from \"@material-ui/core\";\nimport { Formik, Form } from \"formik\";\n\nimport AddressForm from \"./Forms/AddressForm\";\nimport PaymentForm from \"./Forms/PaymentForm\";\nimport ReviewOrder from \"./ReviewOrder\";\nimport CheckoutSuccess from \"./CheckoutSuccess\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { toast } from \"react-toastify\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\n\nimport validationSchema from \"./FormModel/validationSchema\";\nimport checkoutFormModel from \"./FormModel/checkoutFormModel\";\nimport formInitialValues from \"./FormModel/formInitialValues\";\n\nimport useStyles from \"./styles\";\nimport Invoices from \"../../pages/Financeiro\";\n\n\nexport default function CheckoutPage(props) {\n  const steps = [\"Dados\", \"Personalizar\", \"Revisar\"];\n  const { formId, formField } = checkoutFormModel;\n  \n  \n  \n  const classes = useStyles();\n  const [activeStep, setActiveStep] = useState(1);\n  const [datePayment, setDatePayment] = useState(null);\n  const [invoiceId, setinvoiceId] = useState(props.Invoice.id);\n  const currentValidationSchema = validationSchema[activeStep];\n  const isLastStep = activeStep === steps.length - 1;\n  const { user } = useContext(AuthContext);\n\nfunction _renderStepContent(step, setFieldValue, setActiveStep, values ) {\n\n  switch (step) {\n    case 0:\n      return <AddressForm formField={formField} values={values} setFieldValue={setFieldValue}  />;\n    case 1:\n      return <PaymentForm \n      formField={formField} \n      setFieldValue={setFieldValue} \n      setActiveStep={setActiveStep} \n      activeStep={step} \n      invoiceId={invoiceId}\n      values={values}\n      />;\n    case 2:\n      return <ReviewOrder />;\n    default:\n      return <div>Not Found</div>;\n  }\n}\n\n\n  async function _submitForm(values, actions) {\n    try {\n      const plan = JSON.parse(values.plan);\n      const newValues = {\n        firstName: values.firstName,\n        lastName: values.lastName,\n        address2: values.address2,\n        city: values.city,\n        state: values.state,\n        zipcode: values.zipcode,\n        country: values.country,\n        useAddressForPaymentDetails: values.useAddressForPaymentDetails,\n        nameOnCard: values.nameOnCard,\n        cardNumber: values.cardNumber,\n        cvv: values.cvv,\n        plan: values.plan,\n        price: plan.price,\n        users: plan.users,\n        connections: plan.connections,\n        invoiceId: invoiceId\n      }\n\n      const { data } = await api.post(\"/subscription\", newValues);\n      setDatePayment(data)\n      actions.setSubmitting(false);\n      setActiveStep(activeStep + 1);\n      toast.success(\"Assinatura realizada com sucesso!, aguardando a realização do pagamento\");\n    } catch (err) {\n      toastError(err);\n    }\n  }\n\n  function _handleSubmit(values, actions) {\n    if (isLastStep) {\n      _submitForm(values, actions);\n    } else {\n      setActiveStep(activeStep + 1);\n      actions.setTouched({});\n      actions.setSubmitting(false);\n    }\n  }\n\n  function _handleBack() {\n    setActiveStep(activeStep - 1);\n  }\n\n  return (\n    <React.Fragment>\n      <Typography component=\"h1\" variant=\"h4\" align=\"center\">\n        Falta pouco!\n      </Typography>\n      <Stepper activeStep={activeStep} className={classes.stepper}>\n        {steps.map((label) => (\n          <Step key={label}>\n            <StepLabel>{label}</StepLabel>\n          </Step>\n        ))}\n      </Stepper>\n      <React.Fragment>\n        {activeStep === steps.length ? (\n          <CheckoutSuccess pix={datePayment} />\n        ) : (\n          <Formik\n            initialValues={{\n              ...user, \n              ...formInitialValues\n            }}\n            validationSchema={currentValidationSchema}\n            onSubmit={_handleSubmit}\n          >\n            {({ isSubmitting, setFieldValue, values }) => (\n              <Form id={formId}>\n                {_renderStepContent(activeStep, setFieldValue, setActiveStep, values)}\n\n                <div className={classes.buttons}>\n                  {activeStep !== 1 && (\n                    <Button onClick={_handleBack} className={classes.button}>\n                      VOLTAR\n                    </Button>\n                  )}\n                  <div className={classes.wrapper}>\n                    {activeStep !== 1 && (\n                      <Button\n                        disabled={isSubmitting}\n                        type=\"submit\"\n                        variant=\"contained\"\n                        color=\"primary\"\n                        className={classes.button}\n                      >\n                        {isLastStep ? \"PAGAR\" : \"PRÓXIMO\"}\n                      </Button>\n                    )}\n                    {isSubmitting && (\n                      <CircularProgress\n                        size={24}\n                        className={classes.buttonProgress}\n                      />\n                    )}\n                  </div>\n                </div>\n              </Form>\n            )}\n          </Formik>\n        )}\n      </React.Fragment>\n    </React.Fragment>\n  );\n}\n","import React, { useEffect, useRef } from \"react\";\n\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport CheckoutPage from \"../CheckoutPage/\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n\n  extraAttr: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n}));\n\n\nconst ContactModal = ({ open, onClose, Invoice, contactId, initialValues, onSave }) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n\n  const handleClose = () => {\n    onClose();\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog open={open} onClose={handleClose} maxWidth=\"md\" scroll=\"paper\">\n        <DialogContent dividers>\n          <CheckoutPage\n            Invoice={Invoice}\n          />\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default ContactModal;\n","import React, { useState, useEffect, useReducer } from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\nimport SubscriptionModal from \"../../components/SubscriptionModal\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport UserModal from \"../../components/UserModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { socketConnection } from \"../../services/socket\";\n\nimport moment from \"moment\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_INVOICES\") {\n    const invoices = action.payload;\n    const newUsers = [];\n\n    invoices.forEach((user) => {\n      const userIndex = state.findIndex((u) => u.id === user.id);\n      if (userIndex !== -1) {\n        state[userIndex] = user;\n      } else {\n        newUsers.push(user);\n      }\n    });\n\n    return [...state, ...newUsers];\n  }\n\n  if (action.type === \"UPDATE_USERS\") {\n    const user = action.payload;\n    const userIndex = state.findIndex((u) => u.id === user.id);\n\n    if (userIndex !== -1) {\n      state[userIndex] = user;\n      return [...state];\n    } else {\n      return [user, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_USER\") {\n    const userId = action.payload;\n\n    const userIndex = state.findIndex((u) => u.id === userId);\n    if (userIndex !== -1) {\n      state.splice(userIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Invoices = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [invoices, dispatch] = useReducer(reducer, []);\n  const [storagePlans, setStoragePlans] = React.useState([]);\n  const [selectedContactId, setSelectedContactId] = useState(null);\n  const [contactModalOpen, setContactModalOpen] = useState(false);\n\n\n  const handleOpenContactModal = (invoices) => {\n    setStoragePlans(invoices);\n    setSelectedContactId(null);\n    setContactModalOpen(true);\n  };\n\n\n  const handleCloseContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(false);\n  };\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchInvoices = async () => {\n        try {\n          const { data } = await api.get(\"/invoices/all\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_INVOICES\", payload: data });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchInvoices();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n  const rowStyle = (record) => {\n    const hoje = moment(moment()).format(\"DD/MM/yyyy\");\n    const vencimento = moment(record.dueDate).format(\"DD/MM/yyyy\");\n    var diff = moment(vencimento, \"DD/MM/yyyy\").diff(moment(hoje, \"DD/MM/yyyy\"));\n    var dias = moment.duration(diff).asDays();    \n    if (dias < 0 && record.status !== \"paid\") {\n      return { backgroundColor: \"#ffbcbc9c\" };\n    }\n  };\n\n  const rowStatus = (record) => {\n    const hoje = moment(moment()).format(\"DD/MM/yyyy\");\n    const vencimento = moment(record.dueDate).format(\"DD/MM/yyyy\");\n    var diff = moment(vencimento, \"DD/MM/yyyy\").diff(moment(hoje, \"DD/MM/yyyy\"));\n    var dias = moment.duration(diff).asDays();    \n    const status = record.status;\n    if (status === \"paid\") {\n      return \"Pago\";\n    }\n    if (dias < 0) {\n      return \"Vencido\";\n    } else {\n      return \"Em Aberto\"\n    }\n\n  }\n\n  return (\n    <MainContainer>\n      <SubscriptionModal\n        open={contactModalOpen}\n        onClose={handleCloseContactModal}\n        aria-labelledby=\"form-dialog-title\"\n        Invoice={storagePlans}\n        contactId={selectedContactId}\n\n      ></SubscriptionModal>\n      <MainHeader>\n        <Title>Faturas</Title>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">Id</TableCell>\n              <TableCell align=\"center\">Detalhes</TableCell>\n              <TableCell align=\"center\">Valor</TableCell>\n              <TableCell align=\"center\">Data Venc.</TableCell>\n              <TableCell align=\"center\">Status</TableCell>\n              <TableCell align=\"center\">Ação</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {invoices.map((invoices) => (\n                <TableRow style={rowStyle(invoices)} key={invoices.id}>\n                  <TableCell align=\"center\">{invoices.id}</TableCell>\n                  <TableCell align=\"center\">{invoices.detail}</TableCell>\n                  <TableCell style={{ fontWeight: 'bold' }} align=\"center\">{invoices.value.toLocaleString('pt-br', { style: 'currency', currency: 'BRL' })}</TableCell>\n                  <TableCell align=\"center\">{moment(invoices.dueDate).format(\"DD/MM/YYYY\")}</TableCell>\n                  <TableCell style={{ fontWeight: 'bold' }} align=\"center\">{rowStatus(invoices)}</TableCell>\n                  <TableCell align=\"center\">\n                    {rowStatus(invoices) !== \"Pago\" ?\n                      <Button\n                        size=\"small\"\n                        variant=\"outlined\"\n                        color=\"secondary\"\n                        onClick={() => handleOpenContactModal(invoices)}\n                      >\n                        PAGAR\n                      </Button> :\n                      <Button\n                        size=\"small\"\n                        variant=\"outlined\" \n                        /* color=\"secondary\"\n                        disabled */\n                      >\n                        PAGO \n                      </Button>}\n\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Invoices;\n","import React, { useState, useEffect, useReducer } from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport UserModal from \"../../components/UserModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_USERS\") {\n    const users = action.payload;\n    const newUsers = [];\n\n    users.forEach((user) => {\n      const userIndex = state.findIndex((u) => u.id === user.id);\n      if (userIndex !== -1) {\n        state[userIndex] = user;\n      } else {\n        newUsers.push(user);\n      }\n    });\n\n    return [...state, ...newUsers];\n  }\n\n  if (action.type === \"UPDATE_USERS\") {\n    const user = action.payload;\n    const userIndex = state.findIndex((u) => u.id === user.id);\n\n    if (userIndex !== -1) {\n      state[userIndex] = user;\n      return [...state];\n    } else {\n      return [user, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_USER\") {\n    const userId = action.payload;\n\n    const userIndex = state.findIndex((u) => u.id === userId);\n    if (userIndex !== -1) {\n      state.splice(userIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Users = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedUser, setSelectedUser] = useState(null);\n  const [deletingUser, setDeletingUser] = useState(null);\n  const [userModalOpen, setUserModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [users, dispatch] = useReducer(reducer, []);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchUsers = async () => {\n        try {\n          const { data } = await api.get(\"/users/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_USERS\", payload: data.users });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchUsers();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-user`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_USERS\", payload: data.user });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_USER\", payload: +data.userId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleOpenUserModal = () => {\n    setSelectedUser(null);\n    setUserModalOpen(true);\n  };\n\n  const handleCloseUserModal = () => {\n    setSelectedUser(null);\n    setUserModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditUser = (user) => {\n    setSelectedUser(user);\n    setUserModalOpen(true);\n  };\n\n  const handleDeleteUser = async (userId) => {\n    try {\n      await api.delete(`/users/${userId}`);\n      toast.success(i18n.t(\"users.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingUser(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingUser &&\n          `${i18n.t(\"users.confirmationModal.deleteTitle\")} ${\n            deletingUser.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteUser(deletingUser.id)}\n      >\n        {i18n.t(\"users.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <UserModal\n        open={userModalOpen}\n        onClose={handleCloseUserModal}\n        aria-labelledby=\"form-dialog-title\"\n        userId={selectedUser && selectedUser.id}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"users.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenUserModal}\n          >\n            {i18n.t(\"users.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">{i18n.t(\"users.table.name\")}</TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"users.table.email\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"users.table.profile\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"users.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {users.map((user) => (\n                <TableRow key={user.id}>\n                  <TableCell align=\"center\">{user.name}</TableCell>\n                  <TableCell align=\"center\">{user.email}</TableCell>\n                  <TableCell align=\"center\">{user.profile}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditUser(user)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingUser(user);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Users;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\n\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport api from \"../../services/api\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport ContactModal from \"../../components/ContactModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal/\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport MainContainer from \"../../components/MainContainer\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../../components/Can\";\nimport NewTicketModal from \"../../components/NewTicketModal\";\nimport { socketConnection } from \"../../services/socket\";\n\nimport {CSVLink} from \"react-csv\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CONTACTS\") {\n    const contacts = action.payload;\n    const newContacts = [];\n\n    contacts.forEach((contact) => {\n      const contactIndex = state.findIndex((c) => c.id === contact.id);\n      if (contactIndex !== -1) {\n        state[contactIndex] = contact;\n      } else {\n        newContacts.push(contact);\n      }\n    });\n\n    return [...state, ...newContacts];\n  }\n\n  if (action.type === \"UPDATE_CONTACTS\") {\n    const contact = action.payload;\n    const contactIndex = state.findIndex((c) => c.id === contact.id);\n\n    if (contactIndex !== -1) {\n      state[contactIndex] = contact;\n      return [...state];\n    } else {\n      return [contact, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CONTACT\") {\n    const contactId = action.payload;\n\n    const contactIndex = state.findIndex((c) => c.id === contactId);\n    if (contactIndex !== -1) {\n      state.splice(contactIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Contacts = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [contacts, dispatch] = useReducer(reducer, []);\n  const [selectedContactId, setSelectedContactId] = useState(null);\n  const [contactModalOpen, setContactModalOpen] = useState(false);\n  const [newTicketModalOpen, setNewTicketModalOpen] = useState(false);\n  const [contactTicket, setContactTicket] = useState({});\n  const [deletingContact, setDeletingContact] = useState(null);\n  const [confirmOpen, setConfirmOpen] = useState(false);\n  const [hasMore, setHasMore] = useState(false);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        try {\n          const { data } = await api.get(\"/contacts/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_CONTACTS\", payload: data.contacts });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchContacts();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-contact`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_CONTACTS\", payload: data.contact });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_CONTACT\", payload: +data.contactId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleOpenContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(true);\n  };\n\n  const handleCloseContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(false);\n  };\n\n  // const handleSaveTicket = async contactId => {\n  // \tif (!contactId) return;\n  // \tsetLoading(true);\n  // \ttry {\n  // \t\tconst { data: ticket } = await api.post(\"/tickets\", {\n  // \t\t\tcontactId: contactId,\n  // \t\t\tuserId: user?.id,\n  // \t\t\tstatus: \"open\",\n  // \t\t});\n  // \t\thistory.push(`/tickets/${ticket.id}`);\n  // \t} catch (err) {\n  // \t\ttoastError(err);\n  // \t}\n  // \tsetLoading(false);\n  // };\n\n  const handleCloseOrOpenTicket = (ticket) => {\n    setNewTicketModalOpen(false);\n    if (ticket !== undefined && ticket.uuid !== undefined) {\n      history.push(`/tickets/${ticket.uuid}`);\n    }\n  };\n\n  const hadleEditContact = (contactId) => {\n    setSelectedContactId(contactId);\n    setContactModalOpen(true);\n  };\n\n  const handleDeleteContact = async (contactId) => {\n    try {\n      await api.delete(`/contacts/${contactId}`);\n      toast.success(i18n.t(\"contacts.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingContact(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const handleimportContact = async () => {\n    try {\n      await api.post(\"/contacts/import\");\n      history.go(0);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer className={classes.mainContainer}>\n      <NewTicketModal\n        modalOpen={newTicketModalOpen}\n        initialContact={contactTicket}\n        onClose={(ticket) => {\n          handleCloseOrOpenTicket(ticket);\n        }}\n      />\n      <ContactModal\n        open={contactModalOpen}\n        onClose={handleCloseContactModal}\n        aria-labelledby=\"form-dialog-title\"\n        contactId={selectedContactId}\n      ></ContactModal>\n      <ConfirmationModal\n        title={\n          deletingContact\n            ? `${i18n.t(\"contacts.confirmationModal.deleteTitle\")} ${\n                deletingContact.name\n              }?`\n            : `${i18n.t(\"contacts.confirmationModal.importTitlte\")}`\n        }\n        open={confirmOpen}\n        onClose={setConfirmOpen}\n        onConfirm={(e) =>\n          deletingContact\n            ? handleDeleteContact(deletingContact.id)\n            : handleimportContact()\n        }\n      >\n        {deletingContact\n          ? `${i18n.t(\"contacts.confirmationModal.deleteMessage\")}`\n          : `${i18n.t(\"contacts.confirmationModal.importMessage\")}`}\n      </ConfirmationModal>\n      <MainHeader>\n        <Title>{i18n.t(\"contacts.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={(e) => setConfirmOpen(true)}\n          >\n            {i18n.t(\"contacts.buttons.import\")}\n          </Button>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenContactModal}\n          >\n            {i18n.t(\"contacts.buttons.add\")}\n          </Button>\n\n         <CSVLink style={{ textDecoration:'none'}} separator=\";\" filename={'whaticket.csv'} data={contacts.map((contact) => ({ name: contact.name, number: contact.number, email: contact.email }))}>\n          <Button\tvariant=\"contained\" color=\"primary\"> \n          EXPORTAR CONTATOS \n          </Button>\n          </CSVLink>\n\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell padding=\"checkbox\" />\n              <TableCell>{i18n.t(\"contacts.table.name\")}</TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contacts.table.whatsapp\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contacts.table.email\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contacts.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {contacts.map((contact) => (\n                <TableRow key={contact.id}>\n                  <TableCell style={{ paddingRight: 0 }}>\n                    {<Avatar src={contact.profilePicUrl} />}\n                  </TableCell>\n                  <TableCell>{contact.name}</TableCell>\n                  <TableCell align=\"center\">{contact.number}</TableCell>\n                  <TableCell align=\"center\">{contact.email}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => {\n                        setContactTicket(contact);\n                        setNewTicketModalOpen(true);\n                      }}\n                    >\n                      <WhatsAppIcon />\n                    </IconButton>\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => hadleEditContact(contact.id)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n                    <Can\n                      role={user.profile}\n                      perform=\"contacts-page:deleteContact\"\n                      yes={() => (\n                        <IconButton\n                          size=\"small\"\n                          onClick={(e) => {\n                            setConfirmOpen(true);\n                            setDeletingContact(contact);\n                          }}\n                        >\n                          <DeleteOutlineIcon />\n                        </IconButton>\n                      )}\n                    />\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton avatar columns={3} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Contacts;\n","import { Dialog } from \"@material-ui/core\";\nimport React, { useState } from \"react\";\n\nimport { BlockPicker } from \"react-color\";\n\nconst ColorPicker = ({ onChange, currentColor, handleClose, open }) => {\n\tconst [selectedColor, setSelectedColor] = useState(currentColor);\n\n\tconst handleChange = color => {\n\t\tsetSelectedColor(color.hex);\n\t\thandleClose();\n\t};\n\n\tconst colors = [\n\t\t\"#B80000\",\n\t\t\"#DB3E00\",\n\t\t\"#FCCB00\",\n\t\t\"#008B02\",\n\t\t\"#006B76\",\n\t\t\"#1273DE\",\n\t\t\"#004DCF\",\n\t\t\"#5300EB\",\n\t\t\"#EB9694\",\n\t\t\"#FAD0C3\",\n\t\t\"#FEF3BD\",\n\t\t\"#C1E1C5\",\n\t\t\"#BEDADC\",\n\t\t\"#C4DEF6\",\n\t\t\"#BED3F3\",\n\t\t\"#D4C4FB\",\n\t\t\"#4D4D4D\",\n\t\t\"#999999\",\n\t\t\"#F44E3B\",\n\t\t\"#FE9200\",\n\t\t\"#FCDC00\",\n\t\t\"#DBDF00\",\n\t\t\"#A4DD00\",\n\t\t\"#68CCCA\",\n\t\t\"#73D8FF\",\n\t\t\"#AEA1FF\",\n\t\t\"#FDA1FF\",\n\t\t\"#333333\",\n\t\t\"#808080\",\n\t\t\"#cccccc\",\n\t\t\"#D33115\",\n\t\t\"#E27300\",\n\t\t\"#FCC400\",\n\t\t\"#B0BC00\",\n\t\t\"#68BC00\",\n\t\t\"#16A5A5\",\n\t\t\"#009CE0\",\n\t\t\"#7B64FF\",\n\t\t\"#FA28FF\",\n\t\t\"#666666\",\n\t\t\"#B3B3B3\",\n\t\t\"#9F0500\",\n\t\t\"#C45100\",\n\t\t\"#FB9E00\",\n\t\t\"#808900\",\n\t\t\"#194D33\",\n\t\t\"#0C797D\",\n\t\t\"#0062B1\",\n\t\t\"#653294\",\n\t\t\"#AB149E\",\n\t];\n\n\treturn (\n\t\t<Dialog\n\t\t\tonClose={handleClose}\n\t\t\taria-labelledby=\"simple-dialog-title\"\n\t\t\topen={open}\n\t\t>\n\t\t\t<BlockPicker\n\t\t\t\twidth={\"100%\"}\n\t\t\t\ttriangle=\"hide\"\n\t\t\t\tcolor={selectedColor}\n\t\t\t\tcolors={colors}\n\t\t\t\tonChange={handleChange}\n\t\t\t\tonChangeComplete={color => onChange(color.hex)}\n\t\t\t/>\n\t\t</Dialog>\n\t);\n};\n\nexport default ColorPicker;\n","import React, { useState, useEffect, useRef } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Stepper from \"@material-ui/core/Stepper\";\nimport Step from \"@material-ui/core/Step\";\nimport StepLabel from \"@material-ui/core/StepLabel\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { Button, Grid, IconButton, StepContent, TextField } from \"@material-ui/core\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport SaveIcon from \"@material-ui/icons/Save\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { AttachFile, DeleteOutline } from \"@material-ui/icons\";\nimport { head } from \"lodash\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: \"100%\",\n    //height: 400,\n    [theme.breakpoints.down(\"sm\")]: {\n      maxHeight: \"20vh\",\n    },\n  },\n  button: {\n    marginRight: theme.spacing(1),\n  },\n  input: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1),\n  },\n  addButton: {\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n}));\n\nexport function QueueOptionStepper({ queueId, options, updateOptions }) {\n  const classes = useStyles();\n  const [activeOption, setActiveOption] = useState(-1);\n  const [attachment, setAttachment] = useState(null);\n  const attachmentFile = useRef(null);\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n\n  const handleOption = (index) => async () => {\n    setActiveOption(index);\n    const option = options[index];\n\n    if (option !== undefined && option.id !== undefined) {\n      try {\n        const { data } = await api.request({\n          url: \"/queue-options\",\n          method: \"GET\",\n          params: { queueId, parentId: option.id },\n        });\n        const optionList = data.map((option) => {\n          return {\n            ...option,\n            children: [],\n            edition: false,\n          };\n        });\n        option.children = optionList;\n        updateOptions();\n      } catch (e) {\n        toastError(e);\n      }\n    }\n  };\n\n  const handleSave = async (option) => {\n    try {\n      if (option.id) {\n        await api.request({\n          url: `/queue-options/${option.id}`,\n          method: \"PUT\",\n          data: option,\n        });\n       if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(`/queue-options/${option.id}/media-upload`, formData);\n        }\t\t\n      } else {\n        const { data } = await api.request({\n          url: `/queue-options`,\n          method: \"POST\",\n          data: option,\n        });\n        option.id = data.id;\n       if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(`/queue-options/${option.id}/media-upload`, formData);\n        }\n      }\n      option.edition = false;\n      updateOptions();\n      setAttachment(null)\n    } catch (e) {\n      toastError(e);\n    }\n  };\n\n  const handleEdition = (index) => {\n    options[index].edition = !options[index].edition;\n    updateOptions();\n  };\n\n  const handleDeleteOption = async (index) => {\n    const option = options[index];\n    if (option !== undefined && option.id !== undefined) {\n      try {\n        await api.request({\n          url: `/queue-options/${option.id}`,\n          method: \"DELETE\",\n        });\n      } catch (e) {\n        toastError(e);\n      }\n    }\n    options.splice(index, 1);\n    options.forEach(async (option, order) => {\n      option.option = order + 1;\n      await handleSave(option);\n    });\n    updateOptions();\n  };\n\n  const handleOptionChangeTitle = (event, index) => {\n    options[index].title = event.target.value;\n    updateOptions();\n  };\n\n  const handleOptionChangeMessage = (event, index) => {\n    options[index].message = event.target.value;\n    updateOptions();\n  };\n\n  const handleAttachmentFile = (e) => {\n    const file = head(e.target.files);\n    if (file) {\n      setAttachment(file);\n    }\n  };\n\n  const renderTitle = (index) => {\n    const option = options[index];\n    if (option.edition) {\n      return (\n        <>\n          <TextField\n            value={option.title}\n            onChange={(event) => handleOptionChangeTitle(event, index)}\n            size=\"small\"\n            className={classes.input}\n            placeholder=\"Título da opção\"\n          />\n           <div style={{ display: \"none\" }}>\n            <input\n              type=\"file\"\n              ref={attachmentFile}\n              onChange={(e) => handleAttachmentFile(e)}\n            />\n          </div>\n          {option.edition && (\n            <>\n              <IconButton\n                color=\"primary\"\n                variant=\"outlined\"\n                size=\"small\"\n                className={classes.button}\n                onClick={() => handleSave(option)}\n              >\n                <SaveIcon />\n              </IconButton>\n              <IconButton\n                variant=\"outlined\"\n                color=\"secondary\"\n                size=\"small\"\n                className={classes.button}\n                onClick={() => handleDeleteOption(index)}\n              >\n                <DeleteOutlineIcon />\n              </IconButton>\n               {!attachment && !option.mediaPath && (\n                <IconButton\n                  variant=\"outlined\"\n                  color=\"primary\"\n                  size=\"small\"\n                  className={classes.button}\n                    onClick={() => attachmentFile.current.click()}\n                  >\n                  <AttachFile/>\n                </IconButton>\n              )}\n               {(option.mediaPath || attachment) && (\n                    <Grid xs={12} item>\n                      <Button startIcon={<AttachFile />}>\n                        {attachment != null\n                          ? attachment.name\n                          : option.mediaName}\n                      </Button>\n\n                        <IconButton\n                          onClick={() => setConfirmationOpen(true)}\n                          color=\"secondary\"\n                        >\n                          <DeleteOutline />\n                        </IconButton>\n                    </Grid>\n                  )}\n            </>\n          )}\n        </>\n      );\n    }\n    return (\n      <>\n        <Typography>\n          {option.title !== \"\" ? option.title : \"Título não definido\"}\n          <IconButton\n            variant=\"outlined\"\n            size=\"small\"\n            className={classes.button}\n            onClick={() => handleEdition(index)}\n          >\n            <EditIcon />\n          </IconButton>\n        </Typography>\n      </>\n    );\n  };\n\n  const renderMessage = (index) => {\n    const option = options[index];\n    if (option.edition) {\n      return (\n        <>\n          <TextField\n            style={{ width: \"100%\" }}\n            multiline\n            value={option.message}\n            onChange={(event) => handleOptionChangeMessage(event, index)}\n            size=\"small\"\n            className={classes.input}\n            placeholder=\"Digite o texto da opção\"\n          />\n        </>\n      );\n    }\n    return (\n      <>\n        <Typography onClick={() => handleEdition(index)}>\n          {option.message}\n        </Typography>\n      </>\n    );\n  };\n\n  const handleAddOption = (index) => {\n    const optionNumber = options[index].children.length + 1;\n    options[index].children.push({\n      title: \"\",\n      message: \"\",\n      edition: false,\n      option: optionNumber,\n      queueId,\n      parentId: options[index].id,\n      children: [],\n    });\n    updateOptions();\n  };\n\n  const renderStep = (option, index) => {\n    return (\n      <Step key={index}>\n        <StepLabel style={{ cursor: \"pointer\" }} onClick={handleOption(index)}>\n          {renderTitle(index)}\n        </StepLabel>\n        <StepContent>\n          {renderMessage(index)}\n\n          {option.id !== undefined && (\n            <>\n              <Button\n                color=\"primary\"\n                size=\"small\"\n                onClick={() => handleAddOption(index)}\n                startIcon={<AddIcon />}\n                variant=\"outlined\"\n                className={classes.addButton}\n              >\n                Adicionar\n              </Button>\n            </>\n          )}\n          <QueueOptionStepper\n            queueId={queueId}\n            options={option.children}\n            updateOptions={updateOptions}\n          />\n        </StepContent>\n      </Step>\n    );\n  };\n\n  const renderStepper = () => {\n    return (\n      <Stepper\n        style={{ marginBottom: 0, paddingBottom: 0 }}\n        nonLinear\n        activeStep={activeOption}\n        orientation=\"vertical\"\n      >\n        {options.map((option, index) => renderStep(option, index))}\n      </Stepper>\n    );\n  };\n\n  return renderStepper();\n}\n\nexport function QueueOptions({ queueId }) {\n  const classes = useStyles();\n  const [options, setOptions] = useState([]);\n\n  useEffect(() => {\n    if (queueId) {\n      const fetchOptions = async () => {\n        try {\n          const { data } = await api.request({\n            url: \"/queue-options\",\n            method: \"GET\",\n            params: { queueId, parentId: -1 },\n          });\n          const optionList = data.map((option) => {\n            return {\n              ...option,\n              children: [],\n              edition: false,\n            };\n          });\n          setOptions(optionList);\n        } catch (e) {\n          toastError(e);\n        }\n      };\n      fetchOptions();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const renderStepper = () => {\n    if (options.length > 0) {\n      return (\n        <QueueOptionStepper\n          queueId={queueId}\n          updateOptions={updateOptions}\n          options={options}\n        />\n      );\n    }\n  };\n\n  const updateOptions = () => {\n    setOptions([...options]);\n  };\n\n  const addOption = () => {\n    const newOption = {\n      title: \"\",\n      message: \"\",\n      edition: false,\n      option: options.length + 1,\n      queueId,\n      parentId: null,\n      children: [],\n    };\n    setOptions([...options, newOption]);\n  };\n\n  return (\n    <div className={classes.root}>\n      <br />\n      <Typography>\n        Opções\n        <Button\n          color=\"primary\"\n          size=\"small\"\n          onClick={addOption}\n          startIcon={<AddIcon />}\n          style={{ marginLeft: 10 }}\n          variant=\"outlined\"\n        >\n          Adicionar\n        </Button>\n      </Typography>\n      {renderStepper()}\n    </div>\n  );\n}\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\nimport { head } from \"lodash\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport ColorPicker from \"../ColorPicker\";\nimport {\n  FormControl,\n  Grid,\n  IconButton,\n  InputAdornment,\n  InputLabel,\n  MenuItem,\n  Paper,\n  Select,\n  Tab,\n  Tabs,\n} from \"@material-ui/core\";\nimport { AttachFile, Colorize, DeleteOutline } from \"@material-ui/icons\";\nimport { QueueOptions } from \"../QueueOptions\";\nimport SchedulesForm from \"../SchedulesForm\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  colorAdorment: {\n    width: 20,\n    height: 20,\n  },\n}));\n\nconst QueueSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n  color: Yup.string().min(3, \"Too Short!\").max(9, \"Too Long!\").required(),\n  greetingMessage: Yup.string(),\n});\n\nconst QueueModal = ({ open, onClose, queueId }) => {\n  const classes = useStyles();\n\n  const initialState = {\n    name: \"\",\n    color: \"\",\n    greetingMessage: \"\",\n    outOfHoursMessage: \"\",\n    orderQueue: \"\",\n    integrationId: \"\",\n    promptId: \"\"\n  };\n\n  const [colorPickerModalOpen, setColorPickerModalOpen] = useState(false);\n  const [queue, setQueue] = useState(initialState);\n  const [tab, setTab] = useState(0);\n  const [schedulesEnabled, setSchedulesEnabled] = useState(false);\n  const greetingRef = useRef();\n  const [integrations, setIntegrations] = useState([]);\n  const [attachment, setAttachment] = useState(null);\n  const attachmentFile = useRef(null);\n  const [queueEditable, setQueueEditable] = useState(true);\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n\n  const [schedules, setSchedules] = useState([\n    { weekday: \"Segunda-feira\", weekdayEn: \"monday\", startTime: \"08:00\", endTime: \"18:00\", },\n    { weekday: \"Terça-feira\", weekdayEn: \"tuesday\", startTime: \"08:00\", endTime: \"18:00\", },\n    { weekday: \"Quarta-feira\", weekdayEn: \"wednesday\", startTime: \"08:00\", endTime: \"18:00\", },\n    { weekday: \"Quinta-feira\", weekdayEn: \"thursday\", startTime: \"08:00\", endTime: \"18:00\", },\n    { weekday: \"Sexta-feira\", weekdayEn: \"friday\", startTime: \"08:00\", endTime: \"18:00\", },\n    { weekday: \"Sábado\", weekdayEn: \"saturday\", startTime: \"08:00\", endTime: \"12:00\", },\n    { weekday: \"Domingo\", weekdayEn: \"sunday\", startTime: \"00:00\", endTime: \"00:00\", },\n  ]);\n  const [selectedPrompt, setSelectedPrompt] = useState(null);\n  const [prompts, setPrompts] = useState([]);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await api.get(\"/prompt\");\n        setPrompts(data.prompts);\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    api.get(`/settings`).then(({ data }) => {\n      if (Array.isArray(data)) {\n        const scheduleType = data.find((d) => d.key === \"scheduleType\");\n        if (scheduleType) {\n          setSchedulesEnabled(scheduleType.value === \"queue\");\n        }\n      }\n    });\n  }, []);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await api.get(\"/queueIntegration\");\n\n        setIntegrations(data.queueIntegrations);\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    (async () => {\n      if (!queueId) return;\n      try {\n        const { data } = await api.get(`/queue/${queueId}`);\n        setQueue((prevState) => {\n          return { ...prevState, ...data };\n        });\n        data.promptId ? setSelectedPrompt(data.promptId) : setSelectedPrompt(null);\n\n        setSchedules(data.schedules);\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n\n    return () => {\n      setQueue({\n        name: \"\",\n        color: \"\",\n        greetingMessage: \"\",\n        orderQueue: \"\",\n        integrationId: \"\"\n      });\n    };\n  }, [queueId, open]);\n\n  const handleClose = () => {\n    onClose();\n    setQueue(initialState);\n  };\n\n  const handleAttachmentFile = (e) => {\n    const file = head(e.target.files);\n    if (file) {\n      setAttachment(file);\n    }\n  };\n\n  const deleteMedia = async () => {\n    if (attachment) {\n      setAttachment(null);\n      attachmentFile.current.value = null;\n    }\n\n    if (queue.mediaPath) {\n      await api.delete(`/queue/${queue.id}/media-upload`);\n      setQueue((prev) => ({ ...prev, mediaPath: null, mediaName: null }));\n      toast.success(i18n.t(\"queueModal.toasts.deleted\"));\n    }\n  };\n\n\n  const handleSaveQueue = async (values) => {\n    try {\n      if (queueId) {\n        await api.put(`/queue/${queueId}`, {\n          ...values, schedules, promptId: selectedPrompt ? selectedPrompt : null\n        });\n       if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(`/queue/${queueId}/media-upload`, formData);\n        }\n      } else {\n        await api.post(\"/queue\", {\n          ...values, schedules, promptId: selectedPrompt ? selectedPrompt : null\n        });\n       if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(`/queue/${queueId}/media-upload`, formData);\n        }\n      }\n      toast.success(\"Queue saved successfully\");\n      handleClose();\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleSaveSchedules = async (values) => {\n    toast.success(\"Clique em salvar para registar as alterações\");\n    setSchedules(values);\n    setTab(0);\n  };\n\n  const handleChangePrompt = (e) => {\n    setSelectedPrompt(e.target.value);\n  };\n\n  return (\n    <div className={classes.root}>\n     <ConfirmationModal\n        title={i18n.t(\"queueModal.confirmationModal.deleteTitle\")}\n        open={confirmationOpen}\n        onClose={() => setConfirmationOpen(false)}\n        onConfirm={deleteMedia}\n      >\n        {i18n.t(\"queueModal.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <Dialog\n        maxWidth=\"md\"\n        fullWidth={true}\n        open={open}\n        onClose={handleClose}\n        scroll=\"paper\"\n      >\n        <DialogTitle>\n          {queueId\n            ? `${i18n.t(\"queueModal.title.edit\")}`\n            : `${i18n.t(\"queueModal.title.add\")}`}\n            <div style={{ display: \"none\" }}>\n            <input\n              type=\"file\"\n              ref={attachmentFile}\n              onChange={(e) => handleAttachmentFile(e)}\n            />\n          </div>\n        </DialogTitle>\n        <Tabs\n          value={tab}\n          indicatorColor=\"primary\"\n          textColor=\"primary\"\n          onChange={(_, v) => setTab(v)}\n          aria-label=\"disabled tabs example\"\n        >\n          <Tab label=\"Dados da Fila\" />\n          {schedulesEnabled && <Tab label=\"Horários de Atendimento\" />}\n        </Tabs>\n        {tab === 0 && (\n          <Paper>\n            <Formik\n              initialValues={queue}\n              enableReinitialize={true}\n              validationSchema={QueueSchema}\n              onSubmit={(values, actions) => {\n                setTimeout(() => {\n                  handleSaveQueue(values);\n                  actions.setSubmitting(false);\n                }, 400);\n              }}\n            >\n              {({ touched, errors, isSubmitting, values }) => (\n                <Form>\n                  <DialogContent dividers>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"queueModal.form.name\")}\n                      autoFocus\n                      name=\"name\"\n                      error={touched.name && Boolean(errors.name)}\n                      helperText={touched.name && errors.name}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      className={classes.textField}\n                    />\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"queueModal.form.color\")}\n                      name=\"color\"\n                      id=\"color\"\n                      onFocus={() => {\n                        setColorPickerModalOpen(true);\n                        greetingRef.current.focus();\n                      }}\n                      error={touched.color && Boolean(errors.color)}\n                      helperText={touched.color && errors.color}\n                      InputProps={{\n                        startAdornment: (\n                          <InputAdornment position=\"start\">\n                            <div\n                              style={{ backgroundColor: values.color }}\n                              className={classes.colorAdorment}\n                            ></div>\n                          </InputAdornment>\n                        ),\n                        endAdornment: (\n                          <IconButton\n                            size=\"small\"\n                            color=\"default\"\n                            onClick={() => setColorPickerModalOpen(true)}\n                          >\n                            <Colorize />\n                          </IconButton>\n                        ),\n                      }}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      className={classes.textField}\n                    />\n                    <ColorPicker\n                      open={colorPickerModalOpen}\n                      handleClose={() => setColorPickerModalOpen(false)}\n                      onChange={(color) => {\n                        values.color = color;\n                        setQueue(() => {\n                          return { ...values, color };\n                        });\n                      }}\n                    />\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"queueModal.form.orderQueue\")}\n                      name=\"orderQueue\"\n                      type=\"orderQueue\"\n                      error={touched.orderQueue && Boolean(errors.orderQueue)}\n                      helperText={touched.orderQueue && errors.orderQueue}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      className={classes.textField1}\n                    />\n                    <div>\n                      <FormControl\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                        className={classes.FormControl}\n                        fullWidth\n                      >\n                        <InputLabel id=\"integrationId-selection-label\">\n                          {i18n.t(\"queueModal.form.integrationId\")}\n                        </InputLabel>\n                        <Field\n                          as={Select}\n                          label={i18n.t(\"queueModal.form.integrationId\")}\n                          name=\"integrationId\"\n                          id=\"integrationId\"\n                          placeholder={i18n.t(\"queueModal.form.integrationId\")}\n                          labelId=\"integrationId-selection-label\"\n                          value={values.integrationId || \"\"}\n                        >\n                          <MenuItem value={\"\"} >{\"Nenhum\"}</MenuItem>\n                          {integrations.map((integration) => (\n                            <MenuItem key={integration.id} value={integration.id}>\n                              {integration.name}\n                            </MenuItem>\n                          ))}\n                        </Field>\n\n                      </FormControl>\n                      <FormControl\n                        margin=\"dense\"\n                        variant=\"outlined\"\n                        fullWidth\n                      >\n                        <InputLabel>\n                          {i18n.t(\"whatsappModal.form.prompt\")}\n                        </InputLabel>\n                        <Select\n                          labelId=\"dialog-select-prompt-label\"\n                          id=\"dialog-select-prompt\"\n                          name=\"promptId\"\n                          value={selectedPrompt || \"\"}\n                          onChange={handleChangePrompt}\n                          label={i18n.t(\"whatsappModal.form.prompt\")}\n                          fullWidth\n                          MenuProps={{\n                            anchorOrigin: {\n                              vertical: \"bottom\",\n                              horizontal: \"left\",\n                            },\n                            transformOrigin: {\n                              vertical: \"top\",\n                              horizontal: \"left\",\n                            },\n                            getContentAnchorEl: null,\n                          }}\n                        >\n                          {prompts.map((prompt) => (\n                            <MenuItem\n                              key={prompt.id}\n                              value={prompt.id}\n                            >\n                              {prompt.name}\n                            </MenuItem>\n                          ))}\n                        </Select>\n                      </FormControl>\n                    </div>\n                    <div style={{ marginTop: 5 }}>\n                      <Field\n                        as={TextField}\n                        label={i18n.t(\"queueModal.form.greetingMessage\")}\n                        type=\"greetingMessage\"\n                        multiline\n                        inputRef={greetingRef}\n                        rows={5}\n                        fullWidth\n                        name=\"greetingMessage\"\n                        error={\n                          touched.greetingMessage &&\n                          Boolean(errors.greetingMessage)\n                        }\n                        helperText={\n                          touched.greetingMessage && errors.greetingMessage\n                        }\n                        variant=\"outlined\"\n                        margin=\"dense\"\n                      />\n                      {schedulesEnabled && (\n                        <Field\n                          as={TextField}\n                          label={i18n.t(\"queueModal.form.outOfHoursMessage\")}\n                          type=\"outOfHoursMessage\"\n                          multiline\n                          rows={5}\n                          fullWidth\n                          name=\"outOfHoursMessage\"\n                          error={\n                            touched.outOfHoursMessage &&\n                            Boolean(errors.outOfHoursMessage)\n                          }\n                          helperText={\n                            touched.outOfHoursMessage && errors.outOfHoursMessage\n                          }\n                          variant=\"outlined\"\n                          margin=\"dense\"\n                        />\n                      )}\n                    </div>\n                    <QueueOptions queueId={queueId} />\n                     {(queue.mediaPath || attachment) && (\n                    <Grid xs={12} item>\n                      <Button startIcon={<AttachFile />}>\n                        {attachment != null\n                          ? attachment.name\n                          : queue.mediaName}\n                      </Button>\n                      {queueEditable && (\n                        <IconButton\n                          onClick={() => setConfirmationOpen(true)}\n                          color=\"secondary\"\n                        >\n                          <DeleteOutline />\n                        </IconButton>\n                      )}\n                    </Grid>\n                  )}\n                  </DialogContent>\n                  <DialogActions>\n                  {!attachment && !queue.mediaPath && queueEditable && (\n                      <Button\n                        color=\"primary\"\n                        onClick={() => attachmentFile.current.click()}\n                        disabled={isSubmitting}\n                        variant=\"outlined\"\n                      >\n                        {i18n.t(\"queueModal.buttons.attach\")}\n                      </Button>\n                    )}\n                    <Button\n                      onClick={handleClose}\n                      color=\"secondary\"\n                      disabled={isSubmitting}\n                      variant=\"outlined\"\n                    >\n                      {i18n.t(\"queueModal.buttons.cancel\")}\n                    </Button>\n                    <Button\n                      type=\"submit\"\n                      color=\"primary\"\n                      disabled={isSubmitting}\n                      variant=\"contained\"\n                      className={classes.btnWrapper}\n                    >\n                      {queueId\n                        ? `${i18n.t(\"queueModal.buttons.okEdit\")}`\n                        : `${i18n.t(\"queueModal.buttons.okAdd\")}`}\n                      {isSubmitting && (\n                        <CircularProgress\n                          size={24}\n                          className={classes.buttonProgress}\n                        />\n                      )}\n                    </Button>\n                  </DialogActions>\n                </Form>\n              )}\n            </Formik>\n          </Paper>\n        )}\n        {tab === 1 && (\n          <Paper style={{ padding: 20 }}>\n            <SchedulesForm\n              loading={false}\n              onSubmit={handleSaveSchedules}\n              initialValues={schedules}\n              labelSaveButton=\"Adicionar\"\n            />\n          </Paper>\n        )}\n      </Dialog>\n    </div>\n  );\n};\n\nexport default QueueModal;\n","import React, { useEffect, useReducer, useState } from \"react\";\n\nimport {\n  Button,\n  IconButton,\n  makeStyles,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  Typography,\n} from \"@material-ui/core\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport Title from \"../../components/Title\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { DeleteOutline, Edit } from \"@material-ui/icons\";\nimport QueueModal from \"../../components/QueueModal\";\nimport { toast } from \"react-toastify\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  customTableCell: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_QUEUES\") {\n    const queues = action.payload;\n    const newQueues = [];\n\n    queues.forEach((queue) => {\n      const queueIndex = state.findIndex((q) => q.id === queue.id);\n      if (queueIndex !== -1) {\n        state[queueIndex] = queue;\n      } else {\n        newQueues.push(queue);\n      }\n    });\n\n    return [...state, ...newQueues];\n  }\n\n  if (action.type === \"UPDATE_QUEUES\") {\n    const queue = action.payload;\n    const queueIndex = state.findIndex((u) => u.id === queue.id);\n\n    if (queueIndex !== -1) {\n      state[queueIndex] = queue;\n      return [...state];\n    } else {\n      return [queue, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_QUEUE\") {\n    const queueId = action.payload;\n    const queueIndex = state.findIndex((q) => q.id === queueId);\n    if (queueIndex !== -1) {\n      state.splice(queueIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst Queues = () => {\n  const classes = useStyles();\n\n  const [queues, dispatch] = useReducer(reducer, []);\n  const [loading, setLoading] = useState(false);\n\n  const [queueModalOpen, setQueueModalOpen] = useState(false);\n  const [selectedQueue, setSelectedQueue] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n\n  useEffect(() => {\n    (async () => {\n      setLoading(true);\n      try {\n        const { data } = await api.get(\"/queue\");\n        dispatch({ type: \"LOAD_QUEUES\", payload: data });\n\n        setLoading(false);\n      } catch (err) {\n        toastError(err);\n        setLoading(false);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-queue`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_QUEUES\", payload: data.queue });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_QUEUE\", payload: data.queueId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleOpenQueueModal = () => {\n    setQueueModalOpen(true);\n    setSelectedQueue(null);\n  };\n\n  const handleCloseQueueModal = () => {\n    setQueueModalOpen(false);\n    setSelectedQueue(null);\n  };\n\n  const handleEditQueue = (queue) => {\n    setSelectedQueue(queue);\n    setQueueModalOpen(true);\n  };\n\n  const handleCloseConfirmationModal = () => {\n    setConfirmModalOpen(false);\n    setSelectedQueue(null);\n  };\n\n  const handleDeleteQueue = async (queueId) => {\n    try {\n      await api.delete(`/queue/${queueId}`);\n      toast.success(i18n.t(\"Queue deleted successfully!\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setSelectedQueue(null);\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          selectedQueue &&\n          `${i18n.t(\"queues.confirmationModal.deleteTitle\")} ${\n            selectedQueue.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={handleCloseConfirmationModal}\n        onConfirm={() => handleDeleteQueue(selectedQueue.id)}\n      >\n        {i18n.t(\"queues.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <QueueModal\n        open={queueModalOpen}\n        onClose={handleCloseQueueModal}\n        queueId={selectedQueue?.id}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"queues.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenQueueModal}\n          >\n            {i18n.t(\"queues.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\">\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.name\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.color\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.orderQueue\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.greeting\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"queues.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {queues.map((queue) => (\n                <TableRow key={queue.id}>\n                  <TableCell align=\"center\">{queue.name}</TableCell>\n                  <TableCell align=\"center\">\n                    <div className={classes.customTableCell}>\n                      <span\n                        style={{\n                          backgroundColor: queue.color,\n                          width: 60,\n                          height: 20,\n                          alignSelf: \"center\",\n                        }}\n                      />\n                    </div>\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <div className={classes.customTableCell}>\n                      <Typography\n                        style={{ width: 300, align: \"center\" }}\n                        noWrap\n                        variant=\"body2\"\n                      >\n                        {queue.orderQueue}\n                      </Typography>\n                    </div>\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <div className={classes.customTableCell}>\n                      <Typography\n                        style={{ width: 300, align: \"center\" }}\n                        noWrap\n                        variant=\"body2\"\n                      >\n                        {queue.greetingMessage}\n                      </Typography>\n                    </div>\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditQueue(queue)}\n                    >\n                      <Edit />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => {\n                        setSelectedQueue(queue);\n                        setConfirmModalOpen(true);\n                      }}\n                    >\n                      <DeleteOutline />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Queues;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { Colorize } from \"@material-ui/icons\";\nimport { ColorBox } from 'material-ui-color';\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { IconButton, InputAdornment } from \"@material-ui/core\";\nimport { FormControlLabel, Switch } from '@material-ui/core';\nimport Select from \"@material-ui/core/Select\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Checkbox from '@material-ui/core/Checkbox';\n\nconst useStyles = makeStyles(theme => ({\n\troot: {\n\t\tdisplay: \"flex\",\n\t\tflexWrap: \"wrap\",\n\t},\n\tmultFieldLine: {\n\t\tdisplay: \"flex\",\n\t\t\"& > *:not(:last-child)\": {\n\t\t\tmarginRight: theme.spacing(1),\n\t\t},\n\t},\n\n\tbtnWrapper: {\n\t\tposition: \"relative\",\n\t},\n\n\tbuttonProgress: {\n\t\tcolor: green[500],\n\t\tposition: \"absolute\",\n\t\ttop: \"50%\",\n\t\tleft: \"50%\",\n\t\tmarginTop: -12,\n\t\tmarginLeft: -12,\n\t},\n\tformControl: {\n\t\tmargin: theme.spacing(1),\n\t\tminWidth: 120,\n\t},\n\tcolorAdorment: {\n\t\twidth: 20,\n\t\theight: 20,\n\t},\n}));\n\nconst TagSchema = Yup.object().shape({\n\tname: Yup.string()\n\t\t.min(3, \"Mensagem muito curta\")\n\t\t.required(\"Obrigatório\")\n});\n\nconst TagModal = ({ open, onClose, tagId, reload }) => {\n\tconst classes = useStyles();\n\tconst { user } = useContext(AuthContext);\n\tconst [colorPickerModalOpen, setColorPickerModalOpen] = useState(false);\n\n\tconst initialState = {\n\t\tname: \"\",\n\t\tcolor: \"\",\n\t\tkanban: 0\n\t};\n\n\tconst [tag, setTag] = useState(initialState);\n\tconst [ kanban, setKanban] = useState(0);\n\n\tuseEffect(() => {\n\t\ttry {\n\t\t\t(async () => {\n\t\t\t\tif (!tagId) return;\n\n\t\t\t\tconst { data } = await api.get(`/tags/${tagId}`);\n\t\t\t\tsetKanban(data.kanban);\n\t\t\t\tsetTag(prevState => {\n\t\t\t\t\treturn { ...prevState, ...data };\n\t\t\t\t});\n\t\t\t})()\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t}, [tagId, open]);\n\n\tconst handleClose = () => {\n\t\tsetTag(initialState);\n\t\tsetColorPickerModalOpen(false);\n\t\tonClose();\n\t};\n\n\tconst handleKanbanChange = (e) => {\n\t\tsetKanban( e.target.checked ? 1 : 0);\n\t};\n\n\tconst handleSaveTag = async values => {\n\t\tconst tagData = { ...values, userId: user.id, kanban };\n\t\ttry {\n\t\t\tif (tagId) {\n\t\t\t\tawait api.put(`/tags/${tagId}`, tagData);\n\t\t\t} else {\n\t\t\t\tawait api.post(\"/tags\", tagData);\n\t\t\t}\n\t\t\ttoast.success(i18n.t(\"tagModal.success\"));\n\t\t\tif (typeof reload == 'function') {\n\t\t\t\treload();\n\t\t\t}\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t\thandleClose();\n\t};\n\n\treturn (\n\t\t<div className={classes.root}>\n\t\t\t<Dialog\n\t\t\t\topen={open}\n\t\t\t\tonClose={handleClose}\n\t\t\t\tmaxWidth=\"xs\"\n\t\t\t\tfullWidth\n\t\t\t\tscroll=\"paper\"\n\t\t\t>\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\n\t\t\t\t\t{(tagId ? `${i18n.t(\"tagModal.title.edit\")}` : `${i18n.t(\"tagModal.title.add\")}`)}\n\t\t\t\t</DialogTitle>\n\t\t\t\t<Formik\n\t\t\t\t\tinitialValues={tag}\n\t\t\t\t\tenableReinitialize={true}\n\t\t\t\t\tvalidationSchema={TagSchema}\n\t\t\t\t\tonSubmit={(values, actions) => {\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\thandleSaveTag(values);\n\t\t\t\t\t\t\tactions.setSubmitting(false);\n\t\t\t\t\t\t}, 400);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{({ touched, errors, isSubmitting, values }) => (\n\t\t\t\t\t\t<Form>\n\t\t\t\t\t\t\t<DialogContent dividers>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.name\")}\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t\tonChange={(e) => setTag(prev => ({ ...prev, name: e.target.value }))}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n\t\t\t\t\t\t\t\t\t<Field\n\t\t\t\t\t\t\t\t\t\tas={TextField}\n\t\t\t\t\t\t\t\t\t\tfullWidth\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.color\")}\n\t\t\t\t\t\t\t\t\t\tname=\"color\"\n\t\t\t\t\t\t\t\t\t\tid=\"color\"\n\t\t\t\t\t\t\t\t\t\terror={touched.color && Boolean(errors.color)}\n\t\t\t\t\t\t\t\t\t\thelperText={touched.color && errors.color}\n\t\t\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\t\t\tstartAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"start\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: values.color }}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.colorAdorment}\n\t\t\t\t\t\t\t\t\t\t\t\t\t></div>\n\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\n\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setColorPickerModalOpen(!colorPickerModalOpen)}\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Colorize />\n\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t{(user.profile === \"admin\" || user.profile === \"supervisor\") && (\n                                <>\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\n        \t\t\t\t\t\t\t<FormControlLabel\n          \t\t\t\t\t\t\t\tcontrol={\n            \t\t\t\t\t\t\t\t<Checkbox\n             \t\t\t\t\t\t\t\t\tchecked={kanban === 1}\n             \t\t\t\t\t\t\t\t\tonChange={handleKanbanChange}\n              \t\t\t\t\t\t\t\t\tvalue={kanban}\n              \t\t\t\t\t\t\t\t\tcolor=\"primary\"\n            \t\t\t\t\t\t\t\t/>\n          \t\t\t\t\t\t\t\t}\n          \t\t\t\t\t\t\t\tlabel=\"Kanban\"\n          \t\t\t\t\t\t\t\tlabelPlacement=\"start\"\n        \t\t\t\t\t\t\t/>\n      \t\t\t\t\t\t\t</div>\n      \t\t\t\t\t\t\t<br />\n                                </>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t{colorPickerModalOpen && (\n\t\t\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t\t\t<ColorBox\n\t\t\t\t\t\t\t\t\t\t\tdisableAlpha={true}\n\t\t\t\t\t\t\t\t\t\t\thslGradient={false}\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ margin: '20px auto 0' }}\n\t\t\t\t\t\t\t\t\t\t\tvalue={tag.color}\n\t\t\t\t\t\t\t\t\t\t\tonChange={val => {\n\t\t\t\t\t\t\t\t\t\t\t\tsetTag(prev => ({ ...prev, color: `#${val.hex}` }));\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</DialogContent>\n\t\t\t\t\t\t\t<DialogActions>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{i18n.t(\"tagModal.buttons.cancel\")}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{tagId\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"tagModal.buttons.okEdit\")}`\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"tagModal.buttons.okAdd\")}`}\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</DialogActions>\n\t\t\t\t\t\t</Form>\n\t\t\t\t\t)}\n\t\t\t\t</Formik>\n\t\t\t</Dialog>\n\t\t</div>\n\t);\n};\n\nexport default TagModal;\n","import React, {\n  useState,\n  useEffect,\n  useReducer,\n  useCallback,\n  useContext,\n} from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport TagModal from \"../../components/TagModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Chip } from \"@material-ui/core\";\nimport { socketConnection } from \"../../services/socket\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_TAGS\") {\n    const tags = action.payload;\n    const newTags = [];\n\n    tags.forEach((tag) => {\n      const tagIndex = state.findIndex((s) => s.id === tag.id);\n      if (tagIndex !== -1) {\n        state[tagIndex] = tag;\n      } else {\n        newTags.push(tag);\n      }\n    });\n\n    return [...state, ...newTags];\n  }\n\n  if (action.type === \"UPDATE_TAGS\") {\n    const tag = action.payload;\n    const tagIndex = state.findIndex((s) => s.id === tag.id);\n\n    if (tagIndex !== -1) {\n      state[tagIndex] = tag;\n      return [...state];\n    } else {\n      return [tag, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_TAG\") {\n    const tagId = action.payload;\n\n    const tagIndex = state.findIndex((s) => s.id === tagId);\n    if (tagIndex !== -1) {\n      state.splice(tagIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Tags = () => {\n  const classes = useStyles();\n\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedTag, setSelectedTag] = useState(null);\n  const [deletingTag, setDeletingTag] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [tags, dispatch] = useReducer(reducer, []);\n  const [tagModalOpen, setTagModalOpen] = useState(false);\n\n  const fetchTags = useCallback(async () => {\n    try {\n      const { data } = await api.get(\"/tags/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_TAGS\", payload: data.tags });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchTags();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber, fetchTags]);\n\n  useEffect(() => {\n    const socket = socketConnection({ companyId: user.companyId });\n\n    socket.on(\"user\", (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_TAGS\", payload: data.tags });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_USER\", payload: +data.tagId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [user]);\n\n  const handleOpenTagModal = () => {\n    setSelectedTag(null);\n    setTagModalOpen(true);\n  };\n\n  const handleCloseTagModal = () => {\n    setSelectedTag(null);\n    setTagModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditTag = (tag) => {\n    setSelectedTag(tag);\n    setTagModalOpen(true);\n  };\n\n  const handleDeleteTag = async (tagId) => {\n    try {\n      await api.delete(`/tags/${tagId}`);\n      toast.success(i18n.t(\"tags.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingTag(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n    await fetchTags();\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={deletingTag && `${i18n.t(\"tags.confirmationModal.deleteTitle\")}`}\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteTag(deletingTag.id)}\n      >\n        {i18n.t(\"tags.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <TagModal\n        open={tagModalOpen}\n        onClose={handleCloseTagModal}\n        reload={fetchTags}\n        aria-labelledby=\"form-dialog-title\"\n        tagId={selectedTag && selectedTag.id}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"tags.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenTagModal}\n          >\n            {i18n.t(\"tags.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">{i18n.t(\"tags.table.name\")}</TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"tags.table.tickets\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"tags.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {tags.map((tag) => (\n                <TableRow key={tag.id}>\n                  <TableCell align=\"center\">\n                    <Chip\n                      variant=\"outlined\"\n                      style={{\n                        backgroundColor: tag.color,\n                        textShadow: \"1px 1px 1px #000\",\n                        color: \"white\",\n                      }}\n                      label={tag.name}\n                      size=\"small\"\n                    />\n                  </TableCell>\n                  <TableCell align=\"center\">{tag.ticketsCount}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton size=\"small\" onClick={() => handleEditTag(tag)}>\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingTag(tag);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Tags;\n","import React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport { Button, CircularProgress, Grid, TextField, Typography } from \"@material-ui/core\";\nimport { Field, Form, Formik } from \"formik\";\nimport toastError from \"../../errors/toastError\";\nimport { toast } from \"react-toastify\";\nimport api from \"../../services/api\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(2),\n    paddingBottom: 100\n  },\n  mainHeader: {\n    marginTop: theme.spacing(1),\n  },\n  elementMargin: {\n    marginTop: theme.spacing(2),\n  },\n  formContainer: {\n    maxWidth: 500,\n  },\n  textRight: {\n    textAlign: \"right\"\n  }\n}));\n\nconst MessagesAPI = () => {\n  const classes = useStyles();\n\n  const [formMessageTextData,] = useState({ token: '',number: '', body: '' })\n  const [formMessageMediaData,] = useState({ token: '', number: '', medias: '' })\n  const [file, setFile] = useState({})\n\n  const getEndpoint = () => {\n    return process.env.REACT_APP_BACKEND_URL + '/api/messages/send'\n  }\n\n  const handleSendTextMessage = async (values) => {\n    const { number, body } = values;\n    const data = { number, body };\n    var options = {\n      method: 'POST',\n      url: `${process.env.REACT_APP_BACKEND_URL}/api/messages/send`,\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: `Bearer ${values.token}`\n      },\n      data\n    };\n    \n    axios.request(options).then(function (response) {\n      toast.success('Mensagem enviada com sucesso');\n    }).catch(function (error) {\n      toastError(error);\n    });    \n  }\n\n  const handleSendMediaMessage = async (values) => { \n    try {\n      const firstFile =  file[0];\n      const data = new FormData();\n      data.append('number', values.number);\n      data.append('body', firstFile.name);\n      data.append('medias', firstFile);\n      var options = {\n        method: 'POST',\n        url: `${process.env.REACT_APP_BACKEND_URL}/api/messages/send`,\n        headers: {\n          'Content-Type': 'multipart/form-data',\n          Authorization: `Bearer ${values.token}`\n        },\n        data\n      };\n      \n      axios.request(options).then(function (response) {\n        toast.success('Mensagem enviada com sucesso');\n      }).catch(function (error) {\n        toastError(error);\n      });      \n    } catch (err) {\n      toastError(err);\n    }\n  }\n\n  const renderFormMessageText = () => {\n    return (\n      <Formik\n        initialValues={formMessageTextData}\n        enableReinitialize={true}\n        onSubmit={(values, actions) => {\n          setTimeout(async () => {\n            await handleSendTextMessage(values);\n            actions.setSubmitting(false);\n            actions.resetForm()\n          }, 400);\n        }}\n        className={classes.elementMargin}\n      >\n        {({ isSubmitting }) => (\n          <Form className={classes.formContainer}>\n            <Grid container spacing={2}>\n              <Grid item xs={12} md={6}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.textMessage.token\")}\n                  name=\"token\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                  required\n                />\n              </Grid>\n              <Grid item xs={12} md={6}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.textMessage.number\")}\n                  name=\"number\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                  required\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.textMessage.body\")}\n                  name=\"body\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                  required\n                />\n              </Grid>\n              <Grid item xs={12} className={classes.textRight}>\n                <Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{isSubmitting ? (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : 'Enviar'}\n\t\t\t\t\t\t\t\t</Button>\n              </Grid>\n            </Grid>\n          </Form>\n        )}\n      </Formik>\n    )\n  }\n\n  const renderFormMessageMedia = () => {\n    return (\n      <Formik\n        initialValues={formMessageMediaData}\n        enableReinitialize={true}\n        onSubmit={(values, actions) => {\n          setTimeout(async () => {\n           \n            await handleSendMediaMessage(values);\n            actions.setSubmitting(false);\n            actions.resetForm()\n            document.getElementById('medias').files = null\n            document.getElementById('medias').value = null\n          }, 400);\n        }}\n        className={classes.elementMargin}\n      >\n        {({ isSubmitting }) => (\n          <Form className={classes.formContainer}>\n            <Grid container spacing={2}>\n              <Grid item xs={12} md={6}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.mediaMessage.token\")}\n                  name=\"token\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                  required\n                />\n              </Grid>\n              <Grid item xs={12} md={6}>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"messagesAPI.mediaMessage.number\")}\n                  name=\"number\"\n                  autoFocus\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  fullWidth\n                  className={classes.textField}\n                  required\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <input type=\"file\" name=\"medias\" id=\"medias\" required onChange={(e) => setFile(e.target.files)} />\n              </Grid>\n              <Grid item xs={12} className={classes.textRight}>\n                <Button\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t{isSubmitting ? (\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t) : 'Enviar'}\n\t\t\t\t\t\t\t\t</Button>\n              </Grid>\n            </Grid>\n          </Form>\n        )}\n      </Formik>\n    )\n  }\n\n  return (\n    <Paper\n      className={classes.mainPaper}\n      variant=\"outlined\"\n    >\n      <Typography variant=\"h5\">\n        Documentação para envio de mensagens\n      </Typography>\n      <Typography variant=\"h6\" color=\"primary\" className={classes.elementMargin}>\n        Métodos de Envio\n      </Typography>\n      <Typography component=\"div\">\n        <ol>\n          <li>Mensagens de Texto</li>\n          <li>Mensagens de Media</li>\n        </ol>\n      </Typography>\n      <Typography variant=\"h6\" color=\"primary\" className={classes.elementMargin}>\n        Instruções\n      </Typography>\n      <Typography className={classes.elementMargin} component=\"div\">\n        <b>Observações importantes</b><br />\n        <ul>\n          <li>Antes de enviar mensagens, é necessário o cadastro do token vinculado à conexão que enviará as mensagens. <br/>Para realizar o cadastro acesse o menu \"Conexões\", clique no botão editar da conexão e insira o token no devido campo.</li>\n          <li>\n            O número para envio não deve ter mascara ou caracteres especiais e deve ser composto por:\n              <ul>\n                <li>Código do país</li>\n                <li>DDD</li>\n                <li>Número</li>\n              </ul>\n          </li>\n        </ul>\n      </Typography>\n      <Typography variant=\"h6\" color=\"primary\" className={classes.elementMargin}>\n        1. Mensagens de Texto\n      </Typography>\n      <Grid container>\n        <Grid item xs={12} sm={6}>\n          <Typography className={classes.elementMargin} component=\"div\">\n            <p>Seguem abaixo a lista de informações necessárias para envio das mensagens de texto:</p>\n            <b>Endpoint: </b> {getEndpoint()} <br />\n            <b>Método: </b> POST <br />\n            <b>Headers: </b> X_TOKEN (token cadastrado) e Content-Type (application/json) <br />\n            <b>Body: </b> {\"{ \\\"number\\\": \\\"558599999999\\\", \\\"body\\\": \\\"Sua mensagem\\\" }\"}\n          </Typography>\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography className={classes.elementMargin}>\n            <b>Teste de Envio</b>\n          </Typography>\n          {renderFormMessageText()}\n        </Grid>\n      </Grid>\n      <Typography variant=\"h6\" color=\"primary\" className={classes.elementMargin}>\n        2. Mensagens de Media\n      </Typography>\n      <Grid container>\n        <Grid item xs={12} sm={6}>\n          <Typography className={classes.elementMargin} component=\"div\">\n            <p>Seguem abaixo a lista de informações necessárias para envio das mensagens de texto:</p>\n            <b>Endpoint: </b> {getEndpoint()} <br />\n            <b>Método: </b> POST <br />\n            <b>Headers: </b> X_TOKEN (token cadastrado) e Content-Type (multipart/form-data) <br />\n            <b>FormData: </b> <br />\n            <ul>\n              <li>\n                <b>number: </b> 558599999999\n              </li>\n              <li>\n                <b>medias: </b> arquivo\n              </li>\n            </ul>\n          </Typography>\n        </Grid>\n        <Grid item xs={12} sm={6}>\n          <Typography className={classes.elementMargin}>\n            <b>Teste de Envio</b>\n          </Typography>\n          {renderFormMessageMedia()}\n        </Grid>\n      </Grid>\n    </Paper>\n  );\n};\n\nexport default MessagesAPI;","import React, { useState, useEffect, useCallback } from \"react\";\nimport { makeStyles, Paper, Typography, Modal, IconButton } from \"@material-ui/core\";\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\nimport { i18n } from \"../../translate/i18n\";\nimport useHelps from \"../../hooks/useHelps\";\n\nconst useStyles = makeStyles(theme => ({\n  mainPaperContainer: {\n    overflowY: 'auto',\n    maxHeight: 'calc(100vh - 200px)',\n  },\n  mainPaper: {\n    width: '100%',\n    display: 'grid',\n    gridTemplateColumns: 'repeat(auto-fit, minmax(320px, 1fr))',\n    gap: theme.spacing(3),\n    padding: theme.spacing(2),\n    marginBottom: theme.spacing(3),\n  },\n  helpPaper: {\n    position: 'relative',\n    width: '100%',\n    minHeight: '340px',\n    padding: theme.spacing(2),\n    boxShadow: theme.shadows[3],\n    borderRadius: theme.spacing(1),\n    cursor: 'pointer',\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-between',\n    maxWidth: '340px',\n  },\n  paperHover: {\n    transition: 'transform 0.3s, box-shadow 0.3s',\n    '&:hover': {\n      transform: 'scale(1.03)',\n      boxShadow: `0 0 8px`,\n      color: theme.palette.primary.main,\n    },\n  },\n  videoThumbnail: {\n    width: '100%',\n    height: 'calc(100% - 56px)',\n    objectFit: 'cover',\n    borderRadius: `${theme.spacing(1)}px ${theme.spacing(1)}px 0 0`,\n  },\n  videoTitle: {\n    marginTop: theme.spacing(1),\n    flex: 1,\n  },\n  videoDescription: {\n    maxHeight: '100px',\n    overflow: 'hidden',\n  },\n  videoModal: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  videoModalContent: {\n    outline: 'none',\n    width: '90%',\n    maxWidth: 1024,\n    aspectRatio: '16/9',\n    position: 'relative',\n    backgroundColor: 'white',\n    borderRadius: theme.spacing(1),\n    overflow: 'hidden',\n  },\n}));\n\nconst Helps = () => {\n  const classes = useStyles();\n  const [records, setRecords] = useState([]);\n  const { list } = useHelps();\n  const [selectedVideo, setSelectedVideo] = useState(null);\n\n  useEffect(() => {\n    async function fetchData() {\n      const helps = await list();\n      setRecords(helps);\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const openVideoModal = (video) => {\n    setSelectedVideo(video);\n  };\n\n  const closeVideoModal = () => {\n    setSelectedVideo(null);\n  };\n\n  const handleModalClose = useCallback((event) => {\n    if (event.key === \"Escape\") {\n      closeVideoModal();\n    }\n  }, []);\n\n  useEffect(() => {\n    document.addEventListener(\"keydown\", handleModalClose);\n    return () => {\n      document.removeEventListener(\"keydown\", handleModalClose);\n    };\n  }, [handleModalClose]);\n\n  const renderVideoModal = () => {\n    return (\n      <Modal\n        open={Boolean(selectedVideo)}\n        onClose={closeVideoModal}\n        className={classes.videoModal}\n      >\n        <div className={classes.videoModalContent}>\n          {selectedVideo && (\n            <iframe\n              style={{ width: \"100%\", height: \"100%\", position: \"absolute\", top: 0, left: 0 }}\n              src={`https://www.youtube.com/embed/${selectedVideo}`}\n              title=\"YouTube video player\"\n              frameBorder=\"0\"\n              allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n              allowFullScreen\n            />\n          )}\n        </div>\n      </Modal>\n    );\n  };\n\n  const renderHelps = () => {\n    return (\n      <>\n        <div className={`${classes.mainPaper} ${classes.mainPaperContainer}`}>\n          {records.length ? records.map((record, key) => (\n            <Paper key={key} className={`${classes.helpPaper} ${classes.paperHover}`} onClick={() => openVideoModal(record.video)}>\n              <img\n                src={`https://img.youtube.com/vi/${record.video}/mqdefault.jpg`}\n                alt=\"Thumbnail\"\n                className={classes.videoThumbnail}\n              />\n              <Typography variant=\"button\" className={classes.videoTitle}>\n                {record.title}\n              </Typography>\n              <Typography variant=\"caption\" className={classes.videoDescription}>\n                {record.description}\n              </Typography>\n            </Paper>\n          )) : null}\n        </div>\n      </>\n    );\n  };\n\n  return (\n    <MainContainer>\n      <MainHeader>\n        <Title>{i18n.t(\"helps.title\")} ({records.length})</Title>\n        <MainHeaderButtonsWrapper></MainHeaderButtonsWrapper>\n      </MainHeader>\n      <div className={classes.mainPaper}>\n        {renderHelps()}\n      </div>\n      {renderVideoModal()}\n    </MainContainer>\n  );\n};\n\nexport default Helps;","import React, { useState, useEffect } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  multFieldLine: {\n    display: \"flex\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n}));\n\nconst ContactListSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n});\n\nconst ContactListModal = ({ open, onClose, contactListId }) => {\n  const classes = useStyles();\n\n  const initialState = {\n    name: \"\",\n  };\n\n  const [contactList, setContactList] = useState(initialState);\n\n  useEffect(() => {\n    const fetchContactList = async () => {\n      if (!contactListId) return;\n      try {\n        const { data } = await api.get(`/contact-lists/${contactListId}`);\n        setContactList((prevState) => {\n          return { ...prevState, ...data };\n        });\n      } catch (err) {\n        toastError(err);\n      }\n    };\n\n    fetchContactList();\n  }, [contactListId, open]);\n\n  const handleClose = () => {\n    onClose();\n    setContactList(initialState);\n  };\n\n  const handleSaveContactList = async (values) => {\n    const contactListData = { ...values };\n    try {\n      if (contactListId) {\n        await api.put(`/contact-lists/${contactListId}`, contactListData);\n      } else {\n        await api.post(\"/contact-lists\", contactListData);\n      }\n      toast.success(i18n.t(\"contactList.dialog\"));\n    } catch (err) {\n      toastError(err);\n    }\n    handleClose();\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"xs\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          {contactListId\n            ? `${i18n.t(\"contactLists.dialog.edit\")}`\n            : `${i18n.t(\"contactLists.dialog.add\")}`}\n        </DialogTitle>\n        <Formik\n          initialValues={contactList}\n          enableReinitialize={true}\n          validationSchema={ContactListSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveContactList(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ touched, errors, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <div className={classes.multFieldLine}>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"contactLists.dialog.name\")}\n                    autoFocus\n                    name=\"name\"\n                    error={touched.name && Boolean(errors.name)}\n                    helperText={touched.name && errors.name}\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    fullWidth\n                  />\n                </div>\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"contactLists.dialog.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {contactListId\n                    ? `${i18n.t(\"contactLists.dialog.okEdit\")}`\n                    : `${i18n.t(\"contactLists.dialog.okAdd\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default ContactListModal;\n","import React, { useState, useEffect, useReducer } from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport PeopleIcon from \"@material-ui/icons/People\";\nimport DownloadIcon from \"@material-ui/icons/GetApp\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport ContactListDialog from \"../../components/ContactListDialog\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Grid } from \"@material-ui/core\";\n\nimport planilhaExemplo from \"../../assets/planilha.xlsx\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CONTACTLISTS\") {\n    const contactLists = action.payload;\n    const newContactLists = [];\n\n    contactLists.forEach((contactList) => {\n      const contactListIndex = state.findIndex((u) => u.id === contactList.id);\n      if (contactListIndex !== -1) {\n        state[contactListIndex] = contactList;\n      } else {\n        newContactLists.push(contactList);\n      }\n    });\n\n    return [...state, ...newContactLists];\n  }\n\n  if (action.type === \"UPDATE_CONTACTLIST\") {\n    const contactList = action.payload;\n    const contactListIndex = state.findIndex((u) => u.id === contactList.id);\n\n    if (contactListIndex !== -1) {\n      state[contactListIndex] = contactList;\n      return [...state];\n    } else {\n      return [contactList, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CONTACTLIST\") {\n    const contactListId = action.payload;\n\n    const contactListIndex = state.findIndex((u) => u.id === contactListId);\n    if (contactListIndex !== -1) {\n      state.splice(contactListIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst ContactLists = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedContactList, setSelectedContactList] = useState(null);\n  const [deletingContactList, setDeletingContactList] = useState(null);\n  const [contactListModalOpen, setContactListModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [contactLists, dispatch] = useReducer(reducer, []);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContactLists = async () => {\n        try {\n          const { data } = await api.get(\"/contact-lists/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_CONTACTLISTS\", payload: data.records });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchContactLists();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-ContactList`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_CONTACTLIST\", payload: data.record });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_CONTACTLIST\", payload: +data.id });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleOpenContactListModal = () => {\n    setSelectedContactList(null);\n    setContactListModalOpen(true);\n  };\n\n  const handleCloseContactListModal = () => {\n    setSelectedContactList(null);\n    setContactListModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditContactList = (contactList) => {\n    setSelectedContactList(contactList);\n    setContactListModalOpen(true);\n  };\n\n  const handleDeleteContactList = async (contactListId) => {\n    try {\n      await api.delete(`/contact-lists/${contactListId}`);\n      toast.success(i18n.t(\"contactLists.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingContactList(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const goToContacts = (id) => {\n    history.push(`/contact-lists/${id}/contacts`);\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingContactList &&\n          `${i18n.t(\"contactLists.confirmationModal.deleteTitle\")} ${\n            deletingContactList.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteContactList(deletingContactList.id)}\n      >\n        {i18n.t(\"contactLists.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <ContactListDialog\n        open={contactListModalOpen}\n        onClose={handleCloseContactListModal}\n        aria-labelledby=\"form-dialog-title\"\n        contactListId={selectedContactList && selectedContactList.id}\n      />\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} sm={8} item>\n            <Title>{i18n.t(\"contactLists.title\")}</Title>\n          </Grid>\n          <Grid xs={12} sm={4} item>\n            <Grid spacing={2} container>\n              <Grid xs={7} sm={6} item>\n                <TextField\n                  fullWidth\n                  placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n                  type=\"search\"\n                  value={searchParam}\n                  onChange={handleSearch}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon style={{ color: \"gray\" }} />\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid xs={5} sm={6} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={handleOpenContactListModal}\n                >\n                  {i18n.t(\"contactLists.buttons.add\")}\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"contactLists.table.name\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contactLists.table.contacts\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contactLists.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {contactLists.map((contactList) => (\n                <TableRow key={contactList.id}>\n                  <TableCell align=\"center\">{contactList.name}</TableCell>\n                  <TableCell align=\"center\">\n                    {contactList.contactsCount || 0}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <a href={planilhaExemplo} download=\"planilha.xlsx\">\n                      <IconButton size=\"small\" title=\"Baixar Planilha Exemplo\">\n                        <DownloadIcon />\n                      </IconButton>\n                    </a>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => goToContacts(contactList.id)}\n                    >\n                      <PeopleIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditContactList(contactList)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingContactList(contactList);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={3} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default ContactLists;\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { useParams } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n\n  extraAttr: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n}));\n\nconst ContactSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n  number: Yup.string().min(8, \"Too Short!\").max(50, \"Too Long!\"),\n  email: Yup.string().email(\"Invalid email\"),\n});\n\nconst ContactListItemModal = ({\n  open,\n  onClose,\n  contactId,\n  initialValues,\n  onSave,\n}) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n\n  const {\n    user: { companyId },\n  } = useContext(AuthContext);\n  const { contactListId } = useParams();\n\n  const initialState = {\n    name: \"\",\n    number: \"\",\n    email: \"\",\n  };\n\n  const [contact, setContact] = useState(initialState);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    const fetchContact = async () => {\n      if (initialValues) {\n        setContact((prevState) => {\n          return { ...prevState, ...initialValues };\n        });\n      }\n\n      if (!contactId) return;\n\n      try {\n        const { data } = await api.get(`/contact-list-items/${contactId}`);\n        if (isMounted.current) {\n          setContact(data);\n        }\n      } catch (err) {\n        toastError(err);\n      }\n    };\n\n    fetchContact();\n  }, [contactId, open, initialValues]);\n\n  const handleClose = () => {\n    onClose();\n    setContact(initialState);\n  };\n\n  const handleSaveContact = async (values) => {\n    try {\n      if (contactId) {\n        await api.put(`/contact-list-items/${contactId}`, {\n          ...values,\n          companyId,\n          contactListId,\n        });\n        handleClose();\n      } else {\n        const { data } = await api.post(\"/contact-list-items\", {\n          ...values,\n          companyId,\n          contactListId,\n        });\n        if (onSave) {\n          onSave(data);\n        }\n        handleClose();\n      }\n      toast.success(i18n.t(\"contactModal.success\"));\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog open={open} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\n        <DialogTitle id=\"form-dialog-title\">\n          {contactId\n            ? `${i18n.t(\"contactModal.title.edit\")}`\n            : `${i18n.t(\"contactModal.title.add\")}`}\n        </DialogTitle>\n        <Formik\n          initialValues={contact}\n          enableReinitialize={true}\n          validationSchema={ContactSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveContact(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ values, errors, touched, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <Typography variant=\"subtitle1\" gutterBottom>\n                  {i18n.t(\"contactModal.form.mainInfo\")}\n                </Typography>\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"contactModal.form.name\")}\n                  name=\"name\"\n                  autoFocus\n                  error={touched.name && Boolean(errors.name)}\n                  helperText={touched.name && errors.name}\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                  className={classes.textField}\n                />\n                <Field\n                  as={TextField}\n                  label={i18n.t(\"contactModal.form.number\")}\n                  name=\"number\"\n                  error={touched.number && Boolean(errors.number)}\n                  helperText={touched.number && errors.number}\n                  placeholder=\"5513912344321\"\n                  variant=\"outlined\"\n                  margin=\"dense\"\n                />\n                <div>\n                  <Field\n                    as={TextField}\n                    label={i18n.t(\"contactModal.form.email\")}\n                    name=\"email\"\n                    error={touched.email && Boolean(errors.email)}\n                    helperText={touched.email && errors.email}\n                    placeholder=\"Email address\"\n                    fullWidth\n                    margin=\"dense\"\n                    variant=\"outlined\"\n                  />\n                </div>\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"contactModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {contactId\n                    ? `${i18n.t(\"contactModal.buttons.okEdit\")}`\n                    : `${i18n.t(\"contactModal.buttons.okAdd\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default ContactListItemModal;\n","import api from \"../../services/api\";\n\nconst useContactLists = () => {\n  const save = async (data) => {\n    const { data: responseData } = await api.request({\n      url: \"/contact-lists\",\n      method: \"POST\",\n      data,\n    });\n    return responseData;\n  };\n\n  const update = async (data) => {\n    const { data: responseData } = await api.request({\n      url: `/contact-lists/${data.id}`,\n      method: \"PUT\",\n      data,\n    });\n    return responseData;\n  };\n\n  const deleteRecord = async (id) => {\n    const { data } = await api.request({\n      url: `/contact-lists/${id}`,\n      method: \"DELETE\",\n    });\n    return data;\n  };\n\n  const findById = async (id) => {\n    const { data } = await api.request({\n      url: `/contact-lists/${id}`,\n      method: \"GET\",\n    });\n    return data;\n  };\n\n  const list = async (params) => {\n    const { data } = await api.request({\n      url: \"/contact-lists/list\",\n      method: \"GET\",\n      params,\n    });\n    return data;\n  };\n\n  return {\n    findById,\n    save,\n    update,\n    deleteRecord,\n    list,\n  };\n};\n\nexport default useContactLists;\n","import React, {\n  useState,\n  useEffect,\n  useReducer,\n  useContext,\n  useRef,\n} from \"react\";\n\nimport { toast } from \"react-toastify\";\nimport { useParams, useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport BlockIcon from \"@material-ui/icons/Block\";\n\nimport api from \"../../services/api\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport ContactListItemModal from \"../../components/ContactListItemModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal/\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport MainContainer from \"../../components/MainContainer\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { Can } from \"../../components/Can\";\nimport useContactLists from \"../../hooks/useContactLists\";\nimport { Grid } from \"@material-ui/core\";\n\nimport planilhaExemplo from \"../../assets/planilha.xlsx\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CONTACTS\") {\n    const contacts = action.payload;\n    const newContacts = [];\n\n    contacts.forEach((contact) => {\n      const contactIndex = state.findIndex((c) => c.id === contact.id);\n      if (contactIndex !== -1) {\n        state[contactIndex] = contact;\n      } else {\n        newContacts.push(contact);\n      }\n    });\n\n    return [...state, ...newContacts];\n  }\n\n  if (action.type === \"UPDATE_CONTACTS\") {\n    const contact = action.payload;\n    const contactIndex = state.findIndex((c) => c.id === contact.id);\n\n    if (contactIndex !== -1) {\n      state[contactIndex] = contact;\n      return [...state];\n    } else {\n      return [contact, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CONTACT\") {\n    const contactId = action.payload;\n\n    const contactIndex = state.findIndex((c) => c.id === contactId);\n    if (contactIndex !== -1) {\n      state.splice(contactIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst ContactListItems = () => {\n  const classes = useStyles();\n\n  const { user } = useContext(AuthContext);\n  const { contactListId } = useParams();\n  const history = useHistory();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [contacts, dispatch] = useReducer(reducer, []);\n  const [selectedContactId, setSelectedContactId] = useState(null);\n  const [contactListItemModalOpen, setContactListItemModalOpen] =\n    useState(false);\n  const [deletingContact, setDeletingContact] = useState(null);\n  const [confirmOpen, setConfirmOpen] = useState(false);\n  const [hasMore, setHasMore] = useState(false);\n  const [contactList, setContactList] = useState({});\n  const fileUploadRef = useRef(null);\n\n  const { findById: findContactList } = useContactLists();\n\n  useEffect(() => {\n    findContactList(contactListId).then((data) => {\n      setContactList(data);\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [contactListId]);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchContacts = async () => {\n        try {\n          const { data } = await api.get(`contact-list-items`, {\n            params: { searchParam, pageNumber, contactListId },\n          });\n          dispatch({ type: \"LOAD_CONTACTS\", payload: data.contacts });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchContacts();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber, contactListId]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-ContactListItem`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_CONTACTS\", payload: data.record });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_CONTACT\", payload: +data.id });\n      }\n\n      if (data.action === \"reload\") {\n        dispatch({ type: \"LOAD_CONTACTS\", payload: data.records });\n      }\n    });\n\n    socket.on(\n      `company-${companyId}-ContactListItem-${contactListId}`,\n      (data) => {\n        if (data.action === \"reload\") {\n          dispatch({ type: \"LOAD_CONTACTS\", payload: data.records });\n        }\n      }\n    );\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [contactListId]);\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleOpenContactListItemModal = () => {\n    setSelectedContactId(null);\n    setContactListItemModalOpen(true);\n  };\n\n  const handleCloseContactListItemModal = () => {\n    setSelectedContactId(null);\n    setContactListItemModalOpen(false);\n  };\n\n  const hadleEditContact = (contactId) => {\n    setSelectedContactId(contactId);\n    setContactListItemModalOpen(true);\n  };\n\n  const handleDeleteContact = async (contactId) => {\n    try {\n      await api.delete(`/contact-list-items/${contactId}`);\n      toast.success(i18n.t(\"contacts.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingContact(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const handleImportContacts = async () => {\n    try {\n      const formData = new FormData();\n      formData.append(\"file\", fileUploadRef.current.files[0]);\n      await api.request({\n        url: `contact-lists/${contactListId}/upload`,\n        method: \"POST\",\n        data: formData,\n      });\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const goToContactLists = () => {\n    history.push(\"/contact-lists\");\n  };\n\n  return (\n    <MainContainer className={classes.mainContainer}>\n      <ContactListItemModal\n        open={contactListItemModalOpen}\n        onClose={handleCloseContactListItemModal}\n        aria-labelledby=\"form-dialog-title\"\n        contactId={selectedContactId}\n      ></ContactListItemModal>\n      <ConfirmationModal\n        title={\n          deletingContact\n            ? `${i18n.t(\"contactListItems.confirmationModal.deleteTitle\")} ${\n                deletingContact.name\n              }?`\n            : `${i18n.t(\"contactListItems.confirmationModal.importTitlte\")}`\n        }\n        open={confirmOpen}\n        onClose={setConfirmOpen}\n        onConfirm={() =>\n          deletingContact\n            ? handleDeleteContact(deletingContact.id)\n            : handleImportContacts()\n        }\n      >\n        {deletingContact ? (\n          `${i18n.t(\"contactListItems.confirmationModal.deleteMessage\")}`\n        ) : (\n          <>\n            {i18n.t(\"contactListItems.confirmationModal.importMessage\")}\n            <a href={planilhaExemplo} download=\"planilha.xlsx\">\n              Clique aqui para baixar planilha exemplo.\n            </a>\n          </>\n        )}\n      </ConfirmationModal>\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} sm={5} item>\n            <Title>{contactList.name}</Title>\n          </Grid>\n          <Grid xs={12} sm={7} item>\n            <Grid spacing={2} container>\n              <Grid xs={12} sm={6} item>\n                <TextField\n                  fullWidth\n                  placeholder={i18n.t(\"contactListItems.searchPlaceholder\")}\n                  type=\"search\"\n                  value={searchParam}\n                  onChange={handleSearch}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon style={{ color: \"gray\" }} />\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid xs={4} sm={2} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={goToContactLists}\n                >\n                  {i18n.t(\"contactListItems.buttons.lists\")}\n                </Button>\n              </Grid>\n              <Grid xs={4} sm={2} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={() => {\n                    fileUploadRef.current.value = null;\n                    fileUploadRef.current.click();\n                  }}\n                >\n                  {i18n.t(\"contactListItems.buttons.import\")}\n                </Button>\n              </Grid>\n              <Grid xs={4} sm={2} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={handleOpenContactListItemModal}\n                >\n                  {i18n.t(\"contactListItems.buttons.add\")}\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <>\n          <input\n            style={{ display: \"none\" }}\n            id=\"upload\"\n            name=\"file\"\n            type=\"file\"\n            accept=\".xls,.xlsx\"\n            onChange={() => {\n              setConfirmOpen(true);\n            }}\n            ref={fileUploadRef}\n          />\n        </>\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\" style={{ width: \"0%\" }}>\n                #\n              </TableCell>\n              <TableCell>{i18n.t(\"contactListItems.table.name\")}</TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contactListItems.table.number\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contactListItems.table.email\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"contactListItems.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {contacts.map((contact) => (\n                <TableRow key={contact.id}>\n                  <TableCell align=\"center\" style={{ width: \"0%\" }}>\n                    <IconButton>\n                      {contact.isWhatsappValid ? (\n                        <CheckCircleIcon\n                          titleAccess=\"Whatsapp Válido\"\n                          htmlColor=\"green\"\n                        />\n                      ) : (\n                        <BlockIcon\n                          titleAccess=\"Whatsapp Inválido\"\n                          htmlColor=\"grey\"\n                        />\n                      )}\n                    </IconButton>\n                  </TableCell>\n                  <TableCell>{contact.name}</TableCell>\n                  <TableCell align=\"center\">{contact.number}</TableCell>\n                  <TableCell align=\"center\">{contact.email}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => hadleEditContact(contact.id)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n                    <Can\n                      role={user.profile}\n                      perform=\"contacts-page:deleteContact\"\n                      yes={() => (\n                        <IconButton\n                          size=\"small\"\n                          onClick={() => {\n                            setConfirmOpen(true);\n                            setDeletingContact(contact);\n                          }}\n                        >\n                          <DeleteOutlineIcon />\n                        </IconButton>\n                      )}\n                    />\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default ContactListItems;\n","import React, { useContext, useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { i18n } from \"../../translate/i18n\";\nimport { head } from \"lodash\";\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport MessageVariablesPicker from \"../MessageVariablesPicker\";\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\n\nimport {\n    FormControl,\n    Grid,\n    InputLabel,\n    MenuItem,\n    Select,\n} from \"@material-ui/core\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nconst path = require('path');\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n    },\n    multFieldLine: {\n        display: \"flex\",\n        \"& > *:not(:last-child)\": {\n            marginRight: theme.spacing(1),\n        },\n    },\n\n    btnWrapper: {\n        position: \"relative\",\n    },\n\n    buttonProgress: {\n        color: green[500],\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12,\n    },\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 120,\n    },\n    colorAdorment: {\n        width: 20,\n        height: 20,\n    },\n}));\n\nconst QuickeMessageSchema = Yup.object().shape({\n    shortcode: Yup.string().required(\"Obrigatório\"),\n    //   message: Yup.string().required(\"Obrigatório\"),\n});\n\nconst QuickMessageDialog = ({ open, onClose, quickemessageId, reload }) => {\n    const classes = useStyles();\n    const { user } = useContext(AuthContext);\n    const { profile } = user;\n    const messageInputRef = useRef();\n\n    const initialState = {\n        shortcode: \"\",\n        message: \"\",\n        geral: false,\n        status: true,\n    };\n\n    const [confirmationOpen, setConfirmationOpen] = useState(false);\n    const [quickemessage, setQuickemessage] = useState(initialState);\n    const [attachment, setAttachment] = useState(null);\n    const attachmentFile = useRef(null);\n\n    useEffect(() => {\n        try {\n            (async () => {\n                if (!quickemessageId) return;\n\n                const { data } = await api.get(`/quick-messages/${quickemessageId}`);\n\n                setQuickemessage((prevState) => {\n                    return { ...prevState, ...data };\n                });\n            })();\n        } catch (err) {\n            toastError(err);\n        }\n    }, [quickemessageId, open]);\n\n    const handleClose = () => {\n        setQuickemessage(initialState);\n        setAttachment(null);\n        onClose();\n    };\n\n    const handleAttachmentFile = (e) => {\n      \n        const file = head(e.target.files);\n        if (file) {\n            setAttachment(file);\n        }\n    };\n\n    const handleSaveQuickeMessage = async (values) => {\n\n        const quickemessageData = { ...values, isMedia: true, mediaPath: attachment ? String(attachment.name).replace(/ /g, \"_\") : values.mediaPath ? path.basename(values.mediaPath).replace(/ /g, \"_\") : null };\n\n        try {\n            if (quickemessageId) {\n                await api.put(`/quick-messages/${quickemessageId}`, quickemessageData);\n                if (attachment != null) {\n                    const formData = new FormData();\n                    formData.append(\"typeArch\", \"quickMessage\");\n                    formData.append(\"file\", attachment);\n                    await api.post(\n                        `/quick-messages/${quickemessageId}/media-upload`,\n                        formData\n                    );\n                }\n            } else {\n                const { data } = await api.post(\"/quick-messages\", quickemessageData);\n                if (attachment != null) {\n                    const formData = new FormData();\n                    formData.append(\"typeArch\", \"quickMessage\");\n                    formData.append(\"file\", attachment);\n                    await api.post(`/quick-messages/${data.id}/media-upload`, formData);\n                }\n            }\n            toast.success(i18n.t(\"quickMessages.toasts.success\"));\n            if (typeof reload == \"function\") {\n\n                reload();\n            }\n        } catch (err) {\n            toastError(err);\n        }\n        handleClose();\n    };\n\n    const deleteMedia = async () => {\n        if (attachment) {\n            setAttachment(null);\n            attachmentFile.current.value = null;\n        }\n\n        if (quickemessage.mediaPath) {\n            await api.delete(`/quick-messages/${quickemessage.id}/media-upload`);\n            setQuickemessage((prev) => ({\n                ...prev,\n                mediaPath: null,\n            }));\n            toast.success(i18n.t(\"quickMessages.toasts.deleted\"));\n            if (typeof reload == \"function\") {\n\n                reload();\n            }\n        }\n    };\n\n    const handleClickMsgVar = async (msgVar, setValueFunc) => {\n        const el = messageInputRef.current;\n        const firstHalfText = el.value.substring(0, el.selectionStart);\n        const secondHalfText = el.value.substring(el.selectionEnd);\n        const newCursorPos = el.selectionStart + msgVar.length;\n\n        setValueFunc(\"message\", `${firstHalfText}${msgVar}${secondHalfText}`);\n\n        await new Promise(r => setTimeout(r, 100));\n        messageInputRef.current.setSelectionRange(newCursorPos, newCursorPos);\n    };\n\n    return (\n        <div className={classes.root}>\n            <ConfirmationModal\n                title={i18n.t(\"quickMessages.confirmationModal.deleteTitle\")}\n                open={confirmationOpen}\n                onClose={() => setConfirmationOpen(false)}\n                onConfirm={deleteMedia}\n            >\n                {i18n.t(\"quickMessages.confirmationModal.deleteMessage\")}\n            </ConfirmationModal>\n            <Dialog\n                open={open}\n                onClose={handleClose}\n                maxWidth=\"xs\"\n                fullWidth\n                scroll=\"paper\"\n            >\n                <DialogTitle id=\"form-dialog-title\">\n                    {quickemessageId\n                        ? `${i18n.t(\"quickMessages.dialog.edit\")}`\n                        : `${i18n.t(\"quickMessages.dialog.add\")}`}\n                </DialogTitle>\n                <div style={{ display: \"none\" }}>\n                    <input\n                        type=\"file\"\n                        ref={attachmentFile}\n                        onChange={(e) => handleAttachmentFile(e)}\n                    />\n                </div>\n                <Formik\n                    initialValues={quickemessage}\n                    enableReinitialize={true}\n                    validationSchema={QuickeMessageSchema}\n                    onSubmit={(values, actions) => {\n                        setTimeout(() => {\n                            handleSaveQuickeMessage(values);\n                            actions.setSubmitting(false);\n                        }, 400);\n                    }}\n                >\n                    {({ touched, errors, isSubmitting, setFieldValue, values }) => (\n                        <Form>\n                            <DialogContent dividers>\n                                <Grid spacing={2} container>\n                                    <Grid xs={12} item>\n                                        <Field\n                                            as={TextField}\n                                            autoFocus\n                                            label={i18n.t(\"quickMessages.dialog.shortcode\")}\n                                            name=\"shortcode\"\n                                            error={touched.shortcode && Boolean(errors.shortcode)}\n                                            helperText={touched.shortcode && errors.shortcode}\n                                            variant=\"outlined\"\n                                            margin=\"dense\"\n                                            fullWidth\n                                        />\n                                    </Grid>\n                                    <Grid xs={12} item>\n                                        <Field\n                                            as={TextField}\n                                            label={i18n.t(\"quickMessages.dialog.message\")}\n                                            name=\"message\"\n                                            inputRef={messageInputRef}\n                                            error={touched.message && Boolean(errors.message)}\n                                            helperText={touched.message && errors.message}\n                                            variant=\"outlined\"\n                                            margin=\"dense\"\n                                            multiline={true}\n                                            rows={7}\n                                            fullWidth\n                                        // disabled={quickemessage.mediaPath || attachment ? true : false}\n                                        />\n                                    </Grid>\n                                    <Grid item>\n                                        <MessageVariablesPicker\n                                            disabled={isSubmitting}\n                                            onClick={value => handleClickMsgVar(value, setFieldValue)}\n                                        />\n                                    </Grid>\n                                    {(quickemessage.mediaPath || attachment) && (\n                                        <Grid xs={12} item>\n                                            <Button startIcon={<AttachFileIcon />}>\n                                                {attachment ? attachment.name : quickemessage.mediaName}\n                                            </Button>\n                                            <IconButton\n                                                onClick={() => setConfirmationOpen(true)}\n                                                color=\"secondary\"\n                                            >\n                                                <DeleteOutlineIcon color=\"secondary\" />\n                                            </IconButton>\n                                        </Grid>\n                                    )}\n                                </Grid>\n                            </DialogContent>\n                            <DialogActions>\n                                {!attachment && !quickemessage.mediaPath && (\n                                    <Button\n                                        color=\"primary\"\n                                        onClick={() => attachmentFile.current.click()}\n                                        disabled={isSubmitting}\n                                        variant=\"outlined\"\n                                    >\n                                        {i18n.t(\"quickMessages.buttons.attach\")}\n                                    </Button>\n                                )}\n                                <Button\n                                    onClick={handleClose}\n                                    color=\"secondary\"\n                                    disabled={isSubmitting}\n                                    variant=\"outlined\"\n                                >\n                                    {i18n.t(\"quickMessages.buttons.cancel\")}\n                                </Button>\n                                <Button\n                                    type=\"submit\"\n                                    color=\"primary\"\n                                    disabled={isSubmitting}\n                                    variant=\"contained\"\n                                    className={classes.btnWrapper}\n                                >\n                                    {quickemessageId\n                                        ? `${i18n.t(\"quickMessages.buttons.edit\")}`\n                                        : `${i18n.t(\"quickMessages.buttons.add\")}`}\n                                    {isSubmitting && (\n                                        <CircularProgress\n                                            size={24}\n                                            className={classes.buttonProgress}\n                                        />\n                                    )}\n                                </Button>\n                            </DialogActions>\n                        </Form>\n                    )}\n                </Formik>\n            </Dialog>\n        </div>\n    );\n};\n\nexport default QuickMessageDialog;","import React, { useState, useEffect, useReducer, useContext, useCallback } from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport QuickMessageDialog from \"../../components/QuickMessageDialog\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Grid } from \"@material-ui/core\";\nimport { isArray } from \"lodash\";\nimport { socketConnection } from \"../../services/socket\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_QUICKMESSAGES\") {\n    //console.log(\"aqui\");\n    //console.log(action);\n    //console.log(action.payload);\n    const quickmessages = action.payload;\n    const newQuickmessages = [];\n    //console.log(newQuickmessages);\n\n    if (isArray(quickmessages)) {\n      quickmessages.forEach((quickemessage) => {\n        const quickemessageIndex = state.findIndex(\n          (u) => u.id === quickemessage.id\n        );\n        if (quickemessageIndex !== -1) {\n          state[quickemessageIndex] = quickemessage;\n        } else {\n          newQuickmessages.push(quickemessage);\n        }\n      });\n    }\n\n    return [...state, ...newQuickmessages];\n  }\n\n  if (action.type === \"UPDATE_QUICKMESSAGES\") {\n    const quickemessage = action.payload;\n    const quickemessageIndex = state.findIndex((u) => u.id === quickemessage.id);\n\n    if (quickemessageIndex !== -1) {\n      state[quickemessageIndex] = quickemessage;\n      return [...state];\n    } else {\n      return [quickemessage, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_QUICKMESSAGE\") {\n    const quickemessageId = action.payload;\n\n    const quickemessageIndex = state.findIndex((u) => u.id === quickemessageId);\n    if (quickemessageIndex !== -1) {\n      state.splice(quickemessageIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Quickemessages = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedQuickemessage, setSelectedQuickemessage] = useState(null);\n  const [deletingQuickemessage, setDeletingQuickemessage] = useState(null);\n  const [quickemessageModalOpen, setQuickMessageDialogOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [quickemessages, dispatch] = useReducer(reducer, []);\n  const { user } = useContext(AuthContext);\n  const { profile } = user;\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchQuickemessages();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = user.companyId;\n    const socket = socketConnection({ companyId, userId: user.id });\n\n    socket.on(`company${companyId}-quickemessage`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_QUICKMESSAGES\", payload: data.record });\n      }\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_QUICKMESSAGE\", payload: +data.id });\n      }\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const fetchQuickemessages = async () => {\n    try {\n      const companyId = user.companyId;\n      //const searchParam = ({ companyId, userId: user.id });\n      const { data } = await api.get(\"/quick-messages\", {\n        params: { searchParam, pageNumber },\n      });\n\n      dispatch({ type: \"LOAD_QUICKMESSAGES\", payload: data.records });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenQuickMessageDialog = () => {\n    setSelectedQuickemessage(null);\n    setQuickMessageDialogOpen(true);\n  };\n\n  const handleCloseQuickMessageDialog = () => {\n    setSelectedQuickemessage(null);\n    setQuickMessageDialogOpen(false);\n    //window.location.reload();\n    fetchQuickemessages();\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditQuickemessage = (quickemessage) => {\n    //console.log(quickemessage);\n    setSelectedQuickemessage(quickemessage);\n    setQuickMessageDialogOpen(true);\n  };\n\n  const handleDeleteQuickemessage = async (quickemessageId) => {\n    try {\n      await api.delete(`/quick-messages/${quickemessageId}`);\n      toast.success(i18n.t(\"quickemessages.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingQuickemessage(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n    fetchQuickemessages();\n    dispatch({ type: \"RESET\" });\n\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={deletingQuickemessage && `${i18n.t(\"quickMessages.confirmationModal.deleteTitle\")} ${deletingQuickemessage.shortcode}?`}\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteQuickemessage(deletingQuickemessage.id)}\n      >\n        {i18n.t(\"quickMessages.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <QuickMessageDialog\n        resetPagination={() => {\n          setPageNumber(1);\n          fetchQuickemessages();\n        }}\n        open={quickemessageModalOpen}\n        onClose={handleCloseQuickMessageDialog}\n        aria-labelledby=\"form-dialog-title\"\n        quickemessageId={selectedQuickemessage && selectedQuickemessage.id}\n      />\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} sm={8} item>\n            <Title>{i18n.t(\"quickMessages.title\")}</Title>\n          </Grid>\n          <Grid xs={12} sm={4} item>\n            <Grid spacing={2} container>\n              <Grid xs={6} sm={6} item>\n                <TextField\n                  fullWidth\n                  placeholder={i18n.t(\"quickMessages.searchPlaceholder\")}\n                  type=\"search\"\n                  value={searchParam}\n                  onChange={handleSearch}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon style={{ color: \"gray\" }} />\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid xs={6} sm={6} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  onClick={handleOpenQuickMessageDialog}\n                  color=\"primary\"\n                >\n                  {i18n.t(\"quickMessages.buttons.add\")}\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"quickMessages.table.shortcode\")}\n              </TableCell>\n\n              <TableCell align=\"center\">\n                {i18n.t(\"quickMessages.table.mediaName\")}\n              </TableCell>        \n              <TableCell align=\"center\">\n                {i18n.t(\"quickMessages.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {quickemessages.map((quickemessage) => (\n                <TableRow key={quickemessage.id}>\n                  <TableCell align=\"center\">{quickemessage.shortcode}</TableCell>\n\n                  <TableCell align=\"center\">\n                    {quickemessage.mediaName ?? i18n.t(\"quickMessages.noAttachment\")}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditQuickemessage(quickemessage)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingQuickemessage(quickemessage);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={5} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Quickemessages;","import React, { useState, useEffect, useReducer, useContext, useCallback } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport api from \"../../services/api\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport Board from 'react-trello';\nimport { toast } from \"react-toastify\";\nimport { i18n } from \"../../translate/i18n\";\nimport { useHistory } from 'react-router-dom';\nimport { socketConnection } from \"../../services/socket\";\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: \"flex\",\n    alignItems: \"center\",\n    padding: theme.spacing(1),\n  },\n  button: {\n    background: \"#10a110\",\n    border: \"none\",\n    padding: \"10px\",\n    color: \"white\",\n    fontWeight: \"bold\",\n    borderRadius: \"5px\",\n  },\n  \n}));\n\nconst Kanban = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const [tags, setTags] = useState([]);\n  const [reloadData, setReloadData] = useState(false);\n  const [isInitialLoadComplete, setIsInitialLoadComplete] = useState(false);\n\n\n  const fetchTags = async () => {\n    try {\n      const response = await api.get(\"/tags/kanban\");\n      const fetchedTags = response.data.lista || []; \n\n      setTags(fetchedTags);\n\n      // Fetch tickets after fetching tags\n      await fetchTickets(jsonString);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    fetchTags();\n  }, []);\n\n  const [file, setFile] = useState({\n    lanes: []\n  });\n\n\n  const [tickets, setTickets] = useState([]);\n  const { user } = useContext(AuthContext);\n  const { profile, queues } = user;\n  const jsonString = user.queues.map(queue => queue.UserQueue.queueId);\n\n  const fetchTickets = async (jsonString) => {\n    try {\n      \n      const { data } = await api.get(\"/ticket/kanban\", {\n        params: {\n          queueIds: JSON.stringify(jsonString),\n          teste: true\n        }\n      });\n      setTickets(data.tickets);\n    } catch (err) {\n      console.log(err);\n      setTickets([]);\n    }\n  };\n\n\n  const popularCards = (jsonString) => {\n    const filteredTickets = tickets.filter(ticket => ticket.tags.length === 0);\n\n    const lanes = [\n      {\n        id: \"lane0\",\n        title: i18n.t(\"Em aberto\"),\n        label: \"0\",\n        cards: filteredTickets.map(ticket => ({\n          id: ticket.id.toString(),\n          label: \"Ticket nº \" + ticket.id.toString(),\n          description: (\n              <div>\n                <p>\n                  {ticket.contact.number}\n                  <br />\n                  {ticket.lastMessage}\n                </p>\n                <button \n                  className={classes.button} \n                  onClick={() => {\n                    handleCardClick(ticket.uuid)\n                  }}>\n                    Ver Ticket\n                </button>\n              </div>\n            ),\n          title: ticket.contact.name,\n          draggable: true,\n          href: \"/tickets/\" + ticket.uuid,\n        })),\n      },\n      ...tags.map(tag => {\n        const filteredTickets = tickets.filter(ticket => {\n          const tagIds = ticket.tags.map(tag => tag.id);\n          return tagIds.includes(tag.id);\n        });\n\n        return {\n          id: tag.id.toString(),\n          title: tag.name,\n          label: tag.id.toString(),\n          cards: filteredTickets.map(ticket => ({\n            id: ticket.id.toString(),\n            label: \"Ticket nº \" + ticket.id.toString(),\n            description: (\n              <div>\n                <p>\n                  {ticket.contact.number}\n                  <br />\n                  {ticket.lastMessage}\n                </p>\n                <button \n                  className={classes.button} \n                  onClick={() => {\n                    \n                    handleCardClick(ticket.uuid)\n                  }}>\n                    Ver Ticket\n                </button>\n              </div>\n            ),\n            title: ticket.contact.name,\n            draggable: true,\n            href: \"/tickets/\" + ticket.uuid,          \n          })),\n          style: { backgroundColor: tag.color, color: \"white\" }\n        };\n      }),\n    ];\n\n    setFile({ lanes });\n  };\n\n  const handleCardClick = (uuid) => {  \n    //console.log(\"Clicked on card with UUID:\", uuid);\n    history.push('/tickets/' + uuid);\n  };\n\n  useEffect(() => {\n    popularCards(jsonString);\n}, [tags, tickets, reloadData]);\n\n  const handleCardMove = async (cardId, sourceLaneId, targetLaneId) => {\n    try {\n        \n          await api.delete(`/ticket-tags/${targetLaneId}`);\n        toast.success('Ticket Tag Removido!');\n          await api.put(`/ticket-tags/${targetLaneId}/${sourceLaneId}`);\n        toast.success('Ticket Tag Adicionado com Sucesso!');\n\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Board \n\t\tdata={file} \n\t\tonCardMoveAcrossLanes={handleCardMove}\n\t\tstyle={{backgroundColor: 'rgba(252, 252, 252, 0.03)'}}\n    />\n    </div>\n  );\n};\n\n\nexport default Kanban;\n","import React, { useContext } from \"react\";\nimport { Route as RouterRoute, Redirect } from \"react-router-dom\";\n\nimport { AuthContext } from \"../context/Auth/AuthContext\";\nimport BackdropLoading from \"../components/BackdropLoading\";\n\nconst Route = ({ component: Component, isPrivate = false, ...rest }) => {\n\tconst { isAuth, loading } = useContext(AuthContext);\n\n\tif (!isAuth && isPrivate) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{loading && <BackdropLoading />}\n\t\t\t\t<Redirect to={{ pathname: \"/login\", state: { from: rest.location } }} />\n\t\t\t</>\n\t\t);\n\t}\n\n\tif (isAuth && !isPrivate) {\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{loading && <BackdropLoading />}\n\t\t\t\t<Redirect to={{ pathname: \"/\", state: { from: rest.location } }} />;\n\t\t\t</>\n\t\t);\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{loading && <BackdropLoading />}\n\t\t\t<RouterRoute {...rest} component={Component} />\n\t\t</>\n\t);\n};\n\nexport default Route;\n","import React, {\n  useState,\n  useEffect,\n  useReducer,\n  useCallback,\n  useContext,\n} from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport ScheduleModal from \"../../components/ScheduleModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport moment from \"moment\";\nimport { capitalize } from \"lodash\";\nimport { socketConnection } from \"../../services/socket\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\n// A custom hook that builds on useLocation to parse\n// the query string for you.\nconst getUrlParam = (param) => {\n  return new URLSearchParams(window.location.search).get(param);\n};\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_SCHEDULES\") {\n    const schedules = action.payload;\n    const newSchedules = [];\n\n    schedules.forEach((schedule) => {\n      const scheduleIndex = state.findIndex((s) => s.id === schedule.id);\n      if (scheduleIndex !== -1) {\n        state[scheduleIndex] = schedule;\n      } else {\n        newSchedules.push(schedule);\n      }\n    });\n\n    return [...state, ...newSchedules];\n  }\n\n  if (action.type === \"UPDATE_SCHEDULES\") {\n    const schedule = action.payload;\n    const scheduleIndex = state.findIndex((s) => s.id === schedule.id);\n\n    if (scheduleIndex !== -1) {\n      state[scheduleIndex] = schedule;\n      return [...state];\n    } else {\n      return [schedule, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_SCHEDULE\") {\n    const scheduleId = action.payload;\n\n    const scheduleIndex = state.findIndex((s) => s.id === scheduleId);\n    if (scheduleIndex !== -1) {\n      state.splice(scheduleIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Schedules = () => {\n  const classes = useStyles();\n\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedSchedule, setSelectedSchedule] = useState(null);\n  const [deletingSchedule, setDeletingSchedule] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [schedules, dispatch] = useReducer(reducer, []);\n  const [scheduleModalOpen, setScheduleModalOpen] = useState(false);\n  const [contactId, setContactId] = useState(+getUrlParam(\"contactId\"));\n\n  const fetchSchedules = useCallback(async () => {\n    try {\n      const { data } = await api.get(\"/schedules/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_SCHEDULES\", payload: data.schedules });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  }, [searchParam, pageNumber]);\n\n  const handleOpenScheduleModalFromContactId = useCallback(() => {\n    if (contactId) {\n      handleOpenScheduleModal();\n    }\n  }, [contactId]);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchSchedules();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [\n    searchParam,\n    pageNumber,\n    contactId,\n    fetchSchedules,\n    handleOpenScheduleModalFromContactId,\n  ]);\n\n  useEffect(() => {\n    handleOpenScheduleModalFromContactId();\n    const socket = socketConnection({ companyId: user.companyId });\n\n    socket.on(\"user\", (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_SCHEDULES\", payload: data.schedules });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_USER\", payload: +data.scheduleId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, [handleOpenScheduleModalFromContactId, user]);\n\n  const cleanContact = () => {\n    setContactId(\"\");\n  };\n\n  const handleOpenScheduleModal = () => {\n    setSelectedSchedule(null);\n    setScheduleModalOpen(true);\n  };\n\n  const handleCloseScheduleModal = () => {\n    setSelectedSchedule(null);\n    setScheduleModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditSchedule = (schedule) => {\n    setSelectedSchedule(schedule);\n    setScheduleModalOpen(true);\n  };\n\n  const handleDeleteSchedule = async (scheduleId) => {\n    try {\n      await api.delete(`/schedules/${scheduleId}`);\n      toast.success(i18n.t(\"schedules.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingSchedule(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n    await fetchSchedules();\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const truncate = (str, len) => {\n    if (str.length > len) {\n      return str.substring(0, len) + \"...\";\n    }\n    return str;\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingSchedule &&\n          `${i18n.t(\"schedules.confirmationModal.deleteTitle\")}`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteSchedule(deletingSchedule.id)}\n      >\n        {i18n.t(\"schedules.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <ScheduleModal\n        open={scheduleModalOpen}\n        onClose={handleCloseScheduleModal}\n        reload={fetchSchedules}\n        aria-labelledby=\"form-dialog-title\"\n        scheduleId={selectedSchedule && selectedSchedule.id}\n        contactId={contactId}\n        cleanContact={cleanContact}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"schedules.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon style={{ color: \"gray\" }} />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenScheduleModal}\n          >\n            {i18n.t(\"schedules.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"schedules.table.contact\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"schedules.table.body\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"schedules.table.sendAt\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"schedules.table.status\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"schedules.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {schedules.map((schedule) => (\n                <TableRow key={schedule.id}>\n                  <TableCell align=\"center\">{schedule.contact.name}</TableCell>\n                  <TableCell align=\"center\" title={schedule.body}>\n                    {truncate(schedule.body, 25)}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {moment(schedule.sendAt).format(\"DD/MM/YYYY HH:mm:ss\")}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {capitalize(schedule.status)}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditSchedule(schedule)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingSchedule(schedule);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Schedules;\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\nimport { head } from \"lodash\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport moment from \"moment\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport {\n  Box,\n  FormControl,\n  Grid,\n  InputLabel,\n  MenuItem,\n  Select,\n  Tab,\n  Tabs,\n} from \"@material-ui/core\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    backgroundColor: \"#fff\"\n  },\n\n  tabmsg: {\n    backgroundColor: theme.palette.campaigntab,\n  },\n\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n\n  extraAttr: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n}));\n\nconst CampaignSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n});\n\nconst CampaignModal = ({\n  open,\n  onClose,\n  campaignId,\n  initialValues,\n  onSave,\n  resetPagination,\n}) => {\n  const classes = useStyles();\n  const isMounted = useRef(true);\n  const { user } = useContext(AuthContext);\n  const { companyId } = user;\n  const [file, setFile] = useState(null);\n\n  const initialState = {\n    name: \"\",\n    message1: \"\",\n    message2: \"\",\n    message3: \"\",\n    message4: \"\",\n    message5: \"\",\n    confirmationMessage1: \"\",\n    confirmationMessage2: \"\",\n    confirmationMessage3: \"\",\n    confirmationMessage4: \"\",\n    confirmationMessage5: \"\",\n    status: \"INATIVA\", // INATIVA, PROGRAMADA, EM_ANDAMENTO, CANCELADA, FINALIZADA,\n    confirmation: false,\n    scheduledAt: \"\",\n    whatsappId: \"\",\n    contactListId: \"\",\n    tagListId: \"Nenhuma\",\n    companyId,\n  };\n\n  const [campaign, setCampaign] = useState(initialState);\n  const [whatsapps, setWhatsapps] = useState([]);\n  const [contactLists, setContactLists] = useState([]);\n  const [messageTab, setMessageTab] = useState(0);\n  const [attachment, setAttachment] = useState(null);\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n  const [campaignEditable, setCampaignEditable] = useState(true);\n  const attachmentFile = useRef(null);\n  const [tagLists, setTagLists] = useState([]);\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    (async () => {\n      try {\n        const { data } = await api.get(\"/files/\", {\n          params: { companyId }\n        });\n\n        setFile(data.files);\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    if (isMounted.current) {\n      if (initialValues) {\n        setCampaign((prevState) => {\n          return { ...prevState, ...initialValues };\n        });\n      }\n\n      api\n        .get(`/contact-lists/list`, { params: { companyId } })\n        .then(({ data }) => setContactLists(data));\n\n      api\n        .get(`/whatsapp`, { params: { companyId, session: 0 } })\n        .then(({ data }) => setWhatsapps(data));\n\n      api.get(`/tags`, { params: { companyId } })\n        .then(({ data }) => {\n          const fetchedTags = data.tags;\n          // Perform any necessary data transformation here\n          const formattedTagLists = fetchedTags.map((tag) => ({\n            id: tag.id,\n            name: tag.name,\n          }));\n          setTagLists(formattedTagLists);\n        })\n        .catch((error) => {\n          console.error(\"Error retrieving tags:\", error);\n        });\n        \n      if (!campaignId) return;\n\n      api.get(`/campaigns/${campaignId}`).then(({ data }) => {\n        setCampaign((prev) => {\n          let prevCampaignData = Object.assign({}, prev);\n\n          Object.entries(data).forEach(([key, value]) => {\n            if (key === \"scheduledAt\" && value !== \"\" && value !== null) {\n              prevCampaignData[key] = moment(value).format(\"YYYY-MM-DDTHH:mm\");\n            } else {\n              prevCampaignData[key] = value === null ? \"\" : value;\n            }\n          });\n\n          return prevCampaignData;\n        });\n      });\n    }\n  }, [campaignId, open, initialValues, companyId]);\n\n  useEffect(() => {\n    const now = moment();\n    const scheduledAt = moment(campaign.scheduledAt);\n    const moreThenAnHour =\n      !Number.isNaN(scheduledAt.diff(now)) && scheduledAt.diff(now, \"hour\") > 1;\n    const isEditable =\n      campaign.status === \"INATIVA\" ||\n      (campaign.status === \"PROGRAMADA\" && moreThenAnHour);\n\n    setCampaignEditable(isEditable);\n  }, [campaign.status, campaign.scheduledAt]);\n\n  const handleClose = () => {\n    onClose();\n    setCampaign(initialState);\n  };\n\n  const handleAttachmentFile = (e) => {\n    const file = head(e.target.files);\n    if (file) {\n      setAttachment(file);\n    }\n  };\n\n  const handleSaveCampaign = async (values) => {\n    try {\n      const dataValues = {};\n      Object.entries(values).forEach(([key, value]) => {\n        if (key === \"scheduledAt\" && value !== \"\" && value !== null) {\n          dataValues[key] = moment(value).format(\"YYYY-MM-DD HH:mm:ss\");\n        } else {\n          dataValues[key] = value === \"\" ? null : value;\n        }\n      });\n\n      if (campaignId) {\n        await api.put(`/campaigns/${campaignId}`, dataValues);\n\n        if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(`/campaigns/${campaignId}/media-upload`, formData);\n        }\n        handleClose();\n      } else {\n        const { data } = await api.post(\"/campaigns\", dataValues);\n\n        if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(`/campaigns/${data.id}/media-upload`, formData);\n        }\n        if (onSave) {\n          onSave(data);\n        }\n        handleClose();\n      }\n      toast.success(i18n.t(\"campaigns.toasts.success\"));\n    } catch (err) {\n      console.log(err);\n      toastError(err);\n    }\n  };\n\n  const deleteMedia = async () => {\n    if (attachment) {\n      setAttachment(null);\n      attachmentFile.current.value = null;\n    }\n\n    if (campaign.mediaPath) {\n      await api.delete(`/campaigns/${campaign.id}/media-upload`);\n      setCampaign((prev) => ({ ...prev, mediaPath: null, mediaName: null }));\n      toast.success(i18n.t(\"campaigns.toasts.deleted\"));\n    }\n  };\n\n  const renderMessageField = (identifier) => {\n    return (\n      <Field\n        as={TextField}\n        id={identifier}\n        name={identifier}\n        fullWidth\n        rows={5}\n        label={i18n.t(`campaigns.dialog.form.${identifier}`)}\n        placeholder={i18n.t(\"campaigns.dialog.form.messagePlaceholder\")}\n        multiline={true}\n        variant=\"outlined\"\n        helperText=\"Utilize variáveis como {nome}, {numero}, {email} ou defina variáveis personalziadas.\"\n        disabled={!campaignEditable && campaign.status !== \"CANCELADA\"}\n      />\n    );\n  };\n\n  const renderConfirmationMessageField = (identifier) => {\n    return (\n      <Field\n        as={TextField}\n        id={identifier}\n        name={identifier}\n        fullWidth\n        rows={5}\n        label={i18n.t(`campaigns.dialog.form.${identifier}`)}\n        placeholder={i18n.t(\"campaigns.dialog.form.messagePlaceholder\")}\n        multiline={true}\n        variant=\"outlined\"\n        disabled={!campaignEditable && campaign.status !== \"CANCELADA\"}\n      />\n    );\n  };\n\n  const cancelCampaign = async () => {\n    try {\n      await api.post(`/campaigns/${campaign.id}/cancel`);\n      toast.success(i18n.t(\"campaigns.toasts.cancel\"));\n      setCampaign((prev) => ({ ...prev, status: \"CANCELADA\" }));\n      resetPagination();\n    } catch (err) {\n      toast.error(err.message);\n    }\n  };\n\n  const restartCampaign = async () => {\n    try {\n      await api.post(`/campaigns/${campaign.id}/restart`);\n      toast.success(i18n.t(\"campaigns.toasts.restart\"));\n      setCampaign((prev) => ({ ...prev, status: \"EM_ANDAMENTO\" }));\n      resetPagination();\n    } catch (err) {\n      toast.error(err.message);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <ConfirmationModal\n        title={i18n.t(\"campaigns.confirmationModal.deleteTitle\")}\n        open={confirmationOpen}\n        onClose={() => setConfirmationOpen(false)}\n        onConfirm={deleteMedia}\n      >\n        {i18n.t(\"campaigns.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        fullWidth\n        maxWidth=\"md\"\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          {campaignEditable ? (\n            <>\n              {campaignId\n                ? `${i18n.t(\"campaigns.dialog.update\")}`\n                : `${i18n.t(\"campaigns.dialog.new\")}`}\n            </>\n          ) : (\n            <>{`${i18n.t(\"campaigns.dialog.readonly\")}`}</>\n          )}\n        </DialogTitle>\n        <div style={{ display: \"none\" }}>\n          <input\n            type=\"file\"\n            ref={attachmentFile}\n            onChange={(e) => handleAttachmentFile(e)}\n          />\n        </div>\n        <Formik\n          initialValues={campaign}\n          enableReinitialize={true}\n          validationSchema={CampaignSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveCampaign(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ values, errors, touched, isSubmitting }) => (\n            <Form>\n              <DialogContent dividers>\n                <Grid spacing={2} container>\n                  <Grid xs={12} md={9} item>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"campaigns.dialog.form.name\")}\n                      name=\"name\"\n                      error={touched.name && Boolean(errors.name)}\n                      helperText={touched.name && errors.name}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                      className={classes.textField}\n                      disabled={!campaignEditable}\n                    />\n                  </Grid>\n                  <Grid xs={12} md={3} item>\n                    <FormControl\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                      className={classes.formControl}\n                    >\n                      <InputLabel id=\"confirmation-selection-label\">\n                        {i18n.t(\"campaigns.dialog.form.confirmation\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"campaigns.dialog.form.confirmation\")}\n                        placeholder={i18n.t(\n                          \"campaigns.dialog.form.confirmation\"\n                        )}\n                        labelId=\"confirmation-selection-label\"\n                        id=\"confirmation\"\n                        name=\"confirmation\"\n                        error={\n                          touched.confirmation && Boolean(errors.confirmation)\n                        }\n                        disabled={!campaignEditable}\n                      >\n                        <MenuItem value={false}>Desabilitada</MenuItem>\n                        <MenuItem value={true}>Habilitada</MenuItem>\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  <Grid xs={12} md={4} item>\n                    <FormControl\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                      className={classes.formControl}\n                    >\n                      <InputLabel id=\"contactList-selection-label\">\n                        {i18n.t(\"campaigns.dialog.form.contactList\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"campaigns.dialog.form.contactList\")}\n                        placeholder={i18n.t(\n                          \"campaigns.dialog.form.contactList\"\n                        )}\n                        labelId=\"contactList-selection-label\"\n                        id=\"contactListId\"\n                        name=\"contactListId\"\n                        error={\n                          touched.contactListId && Boolean(errors.contactListId)\n                        }\n                        disabled={!campaignEditable}\n                      >\n                        <MenuItem value=\"\">Nenhuma</MenuItem>\n                        {contactLists &&\n                          contactLists.map((contactList) => (\n                            <MenuItem\n                              key={contactList.id}\n                              value={contactList.id}\n                            >\n                              {contactList.name}\n                            </MenuItem>\n                          ))}\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  <Grid xs={12} md={4} item>\n                    <FormControl\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                      className={classes.formControl}\n                    >\n                      <InputLabel id=\"tagList-selection-label\">\n                        {i18n.t(\"campaigns.dialog.form.tagList\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"campaigns.dialog.form.tagList\")}\n                        placeholder={i18n.t(\"campaigns.dialog.form.tagList\")}\n                        labelId=\"tagList-selection-label\"\n                        id=\"tagListId\"\n                        name=\"tagListId\"\n                        error={touched.tagListId && Boolean(errors.tagListId)}\n                        disabled={!campaignEditable}\n                      >\n                        <MenuItem value=\"\">Nenhuma</MenuItem>\n                        {Array.isArray(tagLists) &&\n                          tagLists.map((tagList) => (\n                            <MenuItem key={tagList.id} value={tagList.id}>\n                              {tagList.name}\n                            </MenuItem>\n                          ))}\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  <Grid xs={12} md={4} item>\n                    <FormControl\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                      className={classes.formControl}\n                    >\n                      <InputLabel id=\"whatsapp-selection-label\">\n                        {i18n.t(\"campaigns.dialog.form.whatsapp\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"campaigns.dialog.form.whatsapp\")}\n                        placeholder={i18n.t(\"campaigns.dialog.form.whatsapp\")}\n                        labelId=\"whatsapp-selection-label\"\n                        id=\"whatsappId\"\n                        name=\"whatsappId\"\n                        error={touched.whatsappId && Boolean(errors.whatsappId)}\n                        disabled={!campaignEditable}\n                      >\n                        <MenuItem value=\"\">Nenhuma</MenuItem>\n                        {whatsapps &&\n                          whatsapps.map((whatsapp) => (\n                            <MenuItem key={whatsapp.id} value={whatsapp.id}>\n                              {whatsapp.name}\n                            </MenuItem>\n                          ))}\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  <Grid xs={12} md={4} item>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"campaigns.dialog.form.scheduledAt\")}\n                      name=\"scheduledAt\"\n                      error={touched.scheduledAt && Boolean(errors.scheduledAt)}\n                      helperText={touched.scheduledAt && errors.scheduledAt}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      type=\"datetime-local\"\n                      InputLabelProps={{\n                        shrink: true,\n                      }}\n                      fullWidth\n                      className={classes.textField}\n                      disabled={!campaignEditable}\n                    />\n                  </Grid>\n                  <Grid xs={12} md={4} item>\n                  <FormControl\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      className={classes.FormControl}\n                      fullWidth\n                    >\n                      <InputLabel id=\"fileListId-selection-label\">{i18n.t(\"campaigns.dialog.form.fileList\")}</InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"campaigns.dialog.form.fileList\")}\n                        name=\"fileListId\"\n                        id=\"fileListId\"\n                        placeholder={i18n.t(\"campaigns.dialog.form.fileList\")}\n                        labelId=\"fileListId-selection-label\"\n                        value={values.fileListId || \"\"}\n                      >\n                        <MenuItem value={\"\"} >{\"Nenhum\"}</MenuItem>\n                        {file.map(f => (\n                          <MenuItem key={f.id} value={f.id}>\n                            {f.name}\n                          </MenuItem>\n                        ))}\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  <Grid xs={12} item>\n                    <Tabs\n                      value={messageTab}\n                      indicatorColor=\"primary\"\n                      textColor=\"primary\"\n                      className={classes.tabmsg}\n                      onChange={(e, v) => setMessageTab(v)}\n                      variant=\"fullWidth\"\n                      centered\n                      style={{\n                        borderRadius: 2,\n                      }}\n                    >\n                      <Tab label=\"Msg. 1\" index={0} />\n                      <Tab label=\"Msg. 2\" index={1} />\n                      <Tab label=\"Msg. 3\" index={2} />\n                      <Tab label=\"Msg. 4\" index={3} />\n                      <Tab label=\"Msg. 5\" index={4} />\n                    </Tabs>\n                    <Box style={{ paddingTop: 20, border: \"none\" }}>\n                      {messageTab === 0 && (\n                        <>\n                          {values.confirmation ? (\n                            <Grid spacing={2} container>\n                              <Grid xs={12} md={8} item>\n                                <>{renderMessageField(\"message1\")}</>\n                              </Grid>\n                              <Grid xs={12} md={4} item>\n                                <>\n                                  {renderConfirmationMessageField(\n                                    \"confirmationMessage1\"\n                                  )}\n                                </>\n                              </Grid>\n                            </Grid>\n                          ) : (\n                            <>{renderMessageField(\"message1\")}</>\n                          )}\n                        </>\n                      )}\n                      {messageTab === 1 && (\n                        <>\n                          {values.confirmation ? (\n                            <Grid spacing={2} container>\n                              <Grid xs={12} md={8} item>\n                                <>{renderMessageField(\"message2\")}</>\n                              </Grid>\n                              <Grid xs={12} md={4} item>\n                                <>\n                                  {renderConfirmationMessageField(\n                                    \"confirmationMessage2\"\n                                  )}\n                                </>\n                              </Grid>\n                            </Grid>\n                          ) : (\n                            <>{renderMessageField(\"message2\")}</>\n                          )}\n                        </>\n                      )}\n                      {messageTab === 2 && (\n                        <>\n                          {values.confirmation ? (\n                            <Grid spacing={2} container>\n                              <Grid xs={12} md={8} item>\n                                <>{renderMessageField(\"message3\")}</>\n                              </Grid>\n                              <Grid xs={12} md={4} item>\n                                <>\n                                  {renderConfirmationMessageField(\n                                    \"confirmationMessage3\"\n                                  )}\n                                </>\n                              </Grid>\n                            </Grid>\n                          ) : (\n                            <>{renderMessageField(\"message3\")}</>\n                          )}\n                        </>\n                      )}\n                      {messageTab === 3 && (\n                        <>\n                          {values.confirmation ? (\n                            <Grid spacing={2} container>\n                              <Grid xs={12} md={8} item>\n                                <>{renderMessageField(\"message4\")}</>\n                              </Grid>\n                              <Grid xs={12} md={4} item>\n                                <>\n                                  {renderConfirmationMessageField(\n                                    \"confirmationMessage4\"\n                                  )}\n                                </>\n                              </Grid>\n                            </Grid>\n                          ) : (\n                            <>{renderMessageField(\"message4\")}</>\n                          )}\n                        </>\n                      )}\n                      {messageTab === 4 && (\n                        <>\n                          {values.confirmation ? (\n                            <Grid spacing={2} container>\n                              <Grid xs={12} md={8} item>\n                                <>{renderMessageField(\"message5\")}</>\n                              </Grid>\n                              <Grid xs={12} md={4} item>\n                                <>\n                                  {renderConfirmationMessageField(\n                                    \"confirmationMessage5\"\n                                  )}\n                                </>\n                              </Grid>\n                            </Grid>\n                          ) : (\n                            <>{renderMessageField(\"message5\")}</>\n                          )}\n                        </>\n                      )}\n                    </Box>\n                  </Grid>\n                  {(campaign.mediaPath || attachment) && (\n                    <Grid xs={12} item>\n                      <Button startIcon={<AttachFileIcon />}>\n                        {attachment != null\n                          ? attachment.name\n                          : campaign.mediaName}\n                      </Button>\n                      {campaignEditable && (\n                        <IconButton\n                          onClick={() => setConfirmationOpen(true)}\n                          color=\"secondary\"\n                        >\n                          <DeleteOutlineIcon />\n                        </IconButton>\n                      )}\n                    </Grid>\n                  )}\n                </Grid>\n              </DialogContent>\n              <DialogActions>\n                {campaign.status === \"CANCELADA\" && (\n                  <Button\n                    color=\"primary\"\n                    onClick={() => restartCampaign()}\n                    variant=\"outlined\"\n                  >\n                    {i18n.t(\"campaigns.dialog.buttons.restart\")}\n                  </Button>\n                )}\n                {campaign.status === \"EM_ANDAMENTO\" && (\n                  <Button\n                    color=\"primary\"\n                    onClick={() => cancelCampaign()}\n                    variant=\"outlined\"\n                  >\n                    {i18n.t(\"campaigns.dialog.buttons.cancel\")}\n                  </Button>\n                )}\n                {!attachment && !campaign.mediaPath && campaignEditable && (\n                  <Button\n                    color=\"primary\"\n                    onClick={() => attachmentFile.current.click()}\n                    disabled={isSubmitting}\n                    variant=\"outlined\"\n                  >\n                    {i18n.t(\"campaigns.dialog.buttons.attach\")}\n                  </Button>\n                )}\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"campaigns.dialog.buttons.close\")}\n                </Button>\n                {(campaignEditable || campaign.status === \"CANCELADA\") && (\n                  <Button\n                    type=\"submit\"\n                    color=\"primary\"\n                    disabled={isSubmitting}\n                    variant=\"contained\"\n                    className={classes.btnWrapper}\n                  >\n                    {campaignId\n                      ? `${i18n.t(\"campaigns.dialog.buttons.edit\")}`\n                      : `${i18n.t(\"campaigns.dialog.buttons.add\")}`}\n                    {isSubmitting && (\n                      <CircularProgress\n                        size={24}\n                        className={classes.buttonProgress}\n                      />\n                    )}\n                  </Button>\n                )}\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default CampaignModal;\n","/* eslint-disable no-unused-vars */\n\nimport React, { useState, useEffect, useReducer } from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\nimport DescriptionIcon from \"@material-ui/icons/Description\";\nimport TimerOffIcon from \"@material-ui/icons/TimerOff\";\nimport PlayCircleOutlineIcon from \"@material-ui/icons/PlayCircleOutline\";\nimport PauseCircleOutlineIcon from \"@material-ui/icons/PauseCircleOutline\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport CampaignModal from \"../../components/CampaignModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Grid } from \"@material-ui/core\";\nimport { isArray } from \"lodash\";\nimport { useDate } from \"../../hooks/useDate\";\nimport { socketConnection } from \"../../services/socket\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_CAMPAIGNS\") {\n    const campaigns = action.payload;\n    const newCampaigns = [];\n\n    if (isArray(campaigns)) {\n      campaigns.forEach((campaign) => {\n        const campaignIndex = state.findIndex((u) => u.id === campaign.id);\n        if (campaignIndex !== -1) {\n          state[campaignIndex] = campaign;\n        } else {\n          newCampaigns.push(campaign);\n        }\n      });\n    }\n\n    return [...state, ...newCampaigns];\n  }\n\n  if (action.type === \"UPDATE_CAMPAIGNS\") {\n    const campaign = action.payload;\n    const campaignIndex = state.findIndex((u) => u.id === campaign.id);\n\n    if (campaignIndex !== -1) {\n      state[campaignIndex] = campaign;\n      return [...state];\n    } else {\n      return [campaign, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_CAMPAIGN\") {\n    const campaignId = action.payload;\n\n    const campaignIndex = state.findIndex((u) => u.id === campaignId);\n    if (campaignIndex !== -1) {\n      state.splice(campaignIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Campaigns = () => {\n  const classes = useStyles();\n\n  const history = useHistory();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedCampaign, setSelectedCampaign] = useState(null);\n  const [deletingCampaign, setDeletingCampaign] = useState(null);\n  const [campaignModalOpen, setCampaignModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [campaigns, dispatch] = useReducer(reducer, []);\n\n  const { datetimeToClient } = useDate();\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchCampaigns();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-campaign`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_CAMPAIGNS\", payload: data.record });\n      }\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_CAMPAIGN\", payload: +data.id });\n      }\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const fetchCampaigns = async () => {\n    try {\n      const { data } = await api.get(\"/campaigns/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_CAMPAIGNS\", payload: data.records });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenCampaignModal = () => {\n    setSelectedCampaign(null);\n    setCampaignModalOpen(true);\n  };\n\n  const handleCloseCampaignModal = () => {\n    setSelectedCampaign(null);\n    setCampaignModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditCampaign = (campaign) => {\n    setSelectedCampaign(campaign);\n    setCampaignModalOpen(true);\n  };\n\n  const handleDeleteCampaign = async (campaignId) => {\n    try {\n      await api.delete(`/campaigns/${campaignId}`);\n      toast.success(i18n.t(\"campaigns.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingCampaign(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const formatStatus = (val) => {\n    switch (val) {\n      case \"INATIVA\":\n        return \"Inativa\";\n      case \"PROGRAMADA\":\n        return \"Programada\";\n      case \"EM_ANDAMENTO\":\n        return \"Em Andamento\";\n      case \"CANCELADA\":\n        return \"Cancelada\";\n      case \"FINALIZADA\":\n        return \"Finalizada\";\n      default:\n        return val;\n    }\n  };\n\n  const cancelCampaign = async (campaign) => {\n    try {\n      await api.post(`/campaigns/${campaign.id}/cancel`);\n      toast.success(i18n.t(\"campaigns.toasts.cancel\"));\n      setPageNumber(1);\n      fetchCampaigns();\n    } catch (err) {\n      toast.error(err.message);\n    }\n  };\n\n  const restartCampaign = async (campaign) => {\n    try {\n      await api.post(`/campaigns/${campaign.id}/restart`);\n      toast.success(i18n.t(\"campaigns.toasts.restart\"));\n      setPageNumber(1);\n      fetchCampaigns();\n    } catch (err) {\n      toast.error(err.message);\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingCampaign &&\n          `${i18n.t(\"campaigns.confirmationModal.deleteTitle\")} ${\n            deletingCampaign.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteCampaign(deletingCampaign.id)}\n      >\n        {i18n.t(\"campaigns.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <CampaignModal\n        resetPagination={() => {\n          setPageNumber(1);\n          fetchCampaigns();\n        }}\n        open={campaignModalOpen}\n        onClose={handleCloseCampaignModal}\n        aria-labelledby=\"form-dialog-title\"\n        campaignId={selectedCampaign && selectedCampaign.id}\n      />\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} sm={8} item>\n            <Title>{i18n.t(\"campaigns.title\")}</Title>\n          </Grid>\n          <Grid xs={12} sm={4} item>\n            <Grid spacing={2} container>\n              <Grid xs={6} sm={6} item>\n                <TextField\n                  fullWidth\n                  placeholder={i18n.t(\"campaigns.searchPlaceholder\")}\n                  type=\"search\"\n                  value={searchParam}\n                  onChange={handleSearch}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon style={{ color: \"gray\" }} />\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid xs={6} sm={6} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  onClick={handleOpenCampaignModal}\n                  color=\"primary\"\n                >\n                  {i18n.t(\"campaigns.buttons.add\")}\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.name\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.status\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.contactList\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.whatsapp\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.scheduledAt\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.completedAt\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.confirmation\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"campaigns.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {campaigns.map((campaign) => (\n                <TableRow key={campaign.id}>\n                  <TableCell align=\"center\">{campaign.name}</TableCell>\n                  <TableCell align=\"center\">\n                    {formatStatus(campaign.status)}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {campaign.contactListId\n                      ? campaign.contactList.name\n                      : \"Não definida\"}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {campaign.whatsappId\n                      ? campaign.whatsapp.name\n                      : \"Não definido\"}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {campaign.scheduledAt\n                      ? datetimeToClient(campaign.scheduledAt)\n                      : \"Sem agendamento\"}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {campaign.completedAt\n                      ? datetimeToClient(campaign.completedAt)\n                      : \"Não concluída\"}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {campaign.confirmation ? \"Habilitada\" : \"Desabilitada\"}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {campaign.status === \"EM_ANDAMENTO\" && (\n                      <IconButton\n                        onClick={() => cancelCampaign(campaign)}\n                        title=\"Parar Campanha\"\n                        size=\"small\"\n                      >\n                        <PauseCircleOutlineIcon />\n                      </IconButton>\n                    )}\n                    {campaign.status === \"CANCELADA\" && (\n                      <IconButton\n                        onClick={() => restartCampaign(campaign)}\n                        title=\"Parar Campanha\"\n                        size=\"small\"\n                      >\n                        <PlayCircleOutlineIcon />\n                      </IconButton>\n                    )}\n                    <IconButton\n                      onClick={() =>\n                        history.push(`/campaign/${campaign.id}/report`)\n                      }\n                      size=\"small\"\n                    >\n                      <DescriptionIcon />\n                    </IconButton>\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditCampaign(campaign)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingCampaign(campaign);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={8} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Campaigns;\n","import React, { useEffect, useState } from \"react\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport { toast } from \"react-toastify\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport api from \"../../services/api\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport {\n  Box,\n  Button,\n  FormControl,\n  Grid,\n  IconButton,\n  InputLabel,\n  MenuItem,\n  Select,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  TextField,\n  Typography,\n} from \"@material-ui/core\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  textRight: {\n    textAlign: \"right\",\n  },\n  tabPanelsContainer: {\n    padding: theme.spacing(2),\n  },\n}));\n\nconst initialSettings = {\n  messageInterval: 20,\n  longerIntervalAfter: 20,\n  greaterInterval: 60,\n  variables: [],\n};\n\nconst CampaignsConfig = () => {\n  const classes = useStyles();\n\n  const [settings, setSettings] = useState(initialSettings);\n  const [showVariablesForm, setShowVariablesForm] = useState(false);\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n  const [selectedKey, setSelectedKey] = useState(null);\n  const [variable, setVariable] = useState({ key: \"\", value: \"\" });\n\n  useEffect(() => {\n    api.get(\"/campaign-settings\").then(({ data }) => {\n      const settingsList = [];\n      if (Array.isArray(data) && data.length > 0) {\n        data.forEach((item) => {\n          settingsList.push([item.key, JSON.parse(item.value)]);\n        });\n        setSettings(Object.fromEntries(settingsList));\n      }\n    });\n  }, []);\n\n  const handleOnChangeVariable = (e) => {\n    if (e.target.value !== null) {\n      const changedProp = {};\n      changedProp[e.target.name] = e.target.value;\n      setVariable((prev) => ({ ...prev, ...changedProp }));\n    }\n  };\n\n  const handleOnChangeSettings = (e) => {\n    const changedProp = {};\n    changedProp[e.target.name] = e.target.value;\n    setSettings((prev) => ({ ...prev, ...changedProp }));\n  };\n\n  const addVariable = () => {\n    setSettings((prev) => {\n      const variablesExists = settings.variables.filter(\n        (v) => v.key === variable.key\n      );\n      const variables = prev.variables;\n      if (variablesExists.length === 0) {\n        variables.push(Object.assign({}, variable));\n        setVariable({ key: \"\", value: \"\" });\n      }\n      return { ...prev, variables };\n    });\n  };\n\n  const removeVariable = () => {\n    const newList = settings.variables.filter((v) => v.key !== selectedKey);\n    setSettings((prev) => ({ ...prev, variables: newList }));\n    setSelectedKey(null);\n  };\n\n  const saveSettings = async () => {\n    await api.post(\"/campaign-settings\", { settings });\n    toast.success(\"Configurações salvas\");\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={i18n.t(\"campaigns.confirmationModal.deleteTitle\")}\n        open={confirmationOpen}\n        onClose={() => setConfirmationOpen(false)}\n        onConfirm={removeVariable}\n      >\n        {i18n.t(\"campaigns.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} item>\n            <Title>{i18n.t(\"campaignsConfig.title\")}</Title>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\">\n        <Box className={classes.tabPanelsContainer}>\n          <Grid spacing={2} container>\n            <Grid xs={12} item>\n              <Typography component={\"h3\"}>Intervalos</Typography>\n            </Grid>\n            <Grid xs={12} md={4} item>\n              <FormControl\n                variant=\"outlined\"\n                className={classes.formControl}\n                fullWidth\n              >\n                <InputLabel id=\"messageInterval-label\">\n                  Intervalo Randômico de Disparo\n                </InputLabel>\n                <Select\n                  name=\"messageInterval\"\n                  id=\"messageInterval\"\n                  labelId=\"messageInterval-label\"\n                  label=\"Intervalo Randômico de Disparo\"\n                  value={settings.messageInterval}\n                  onChange={(e) => handleOnChangeSettings(e)}\n                >\n                  <MenuItem value={0}>Sem Intervalo</MenuItem>\n                  <MenuItem value={5}>5 segundos</MenuItem>\n                  <MenuItem value={10}>10 segundos</MenuItem>\n                  <MenuItem value={15}>15 segundos</MenuItem>\n                  <MenuItem value={20}>20 segundos</MenuItem>\n                </Select>\n              </FormControl>\n            </Grid>\n            <Grid xs={12} md={4} item>\n              <FormControl\n                variant=\"outlined\"\n                className={classes.formControl}\n                fullWidth\n              >\n                <InputLabel id=\"longerIntervalAfter-label\">\n                  Intervalo Maior Após\n                </InputLabel>\n                <Select\n                  name=\"longerIntervalAfter\"\n                  id=\"longerIntervalAfter\"\n                  labelId=\"longerIntervalAfter-label\"\n                  label=\"Intervalo Maior Após\"\n                  value={settings.longerIntervalAfter}\n                  onChange={(e) => handleOnChangeSettings(e)}\n                >\n                  <MenuItem value={0}>Não definido</MenuItem>\n                  <MenuItem value={1}>1 segundo</MenuItem>\n                  <MenuItem value={5}>5 segundos</MenuItem>\n                  <MenuItem value={10}>10 segundos</MenuItem>\n                  <MenuItem value={15}>15 segundos</MenuItem>\n                  <MenuItem value={20}>20 segundos</MenuItem>\n                  <MenuItem value={30}>30 segundos</MenuItem>\n                  <MenuItem value={40}>40 segundos</MenuItem>\n                  <MenuItem value={60}>60 segundos</MenuItem>\n                  <MenuItem value={80}>80 segundos</MenuItem>\n                  <MenuItem value={100}>100 segundos</MenuItem>\n                  <MenuItem value={120}>120 segundos</MenuItem>\n                </Select>\n              </FormControl>\n            </Grid>\n            <Grid xs={12} md={4} item>\n              <FormControl\n                variant=\"outlined\"\n                className={classes.formControl}\n                fullWidth\n              >\n                <InputLabel id=\"greaterInterval-label\">\n                  Intervalo de Disparo Maior\n                </InputLabel>\n                <Select\n                  name=\"greaterInterval\"\n                  id=\"greaterInterval\"\n                  labelId=\"greaterInterval-label\"\n                  label=\"Intervalo de Disparo Maior\"\n                  value={settings.greaterInterval}\n                  onChange={(e) => handleOnChangeSettings(e)}\n                >\n                  <MenuItem value={0}>Sem Intervalo</MenuItem>\n                  <MenuItem value={1}>1 segundo</MenuItem>\n                  <MenuItem value={5}>5 segundos</MenuItem>\n                  <MenuItem value={10}>10 segundos</MenuItem>\n                  <MenuItem value={15}>15 segundos</MenuItem>\n                  <MenuItem value={20}>20 segundos</MenuItem>\n                  <MenuItem value={30}>30 segundos</MenuItem>\n                  <MenuItem value={40}>40 segundos</MenuItem>\n                  <MenuItem value={60}>60 segundos</MenuItem>\n                  <MenuItem value={80}>80 segundos</MenuItem>\n                  <MenuItem value={100}>100 segundos</MenuItem>\n                  <MenuItem value={120}>120 segundos</MenuItem>\n                </Select>\n              </FormControl>\n            </Grid>\n            <Grid xs={12} className={classes.textRight} item>\n              <Button\n                onClick={() => setShowVariablesForm(!showVariablesForm)}\n                color=\"primary\"\n                style={{ marginRight: 10 }}\n              >\n                Adicionar Variável\n              </Button>\n              <Button\n                onClick={saveSettings}\n                color=\"primary\"\n                variant=\"contained\"\n              >\n                Salvar Configurações\n              </Button>\n            </Grid>\n            {showVariablesForm && (\n              <>\n                <Grid xs={12} md={6} item>\n                  <TextField\n                    label=\"Atalho\"\n                    variant=\"outlined\"\n                    value={variable.key}\n                    name=\"key\"\n                    onChange={handleOnChangeVariable}\n                    fullWidth\n                  />\n                </Grid>\n                <Grid xs={12} md={6} item>\n                  <TextField\n                    label=\"Conteúdo\"\n                    variant=\"outlined\"\n                    value={variable.value}\n                    name=\"value\"\n                    onChange={handleOnChangeVariable}\n                    fullWidth\n                  />\n                </Grid>\n                <Grid xs={12} className={classes.textRight} item>\n                  <Button\n                    onClick={() => setShowVariablesForm(!showVariablesForm)}\n                    color=\"primary\"\n                    style={{ marginRight: 10 }}\n                  >\n                    Fechar\n                  </Button>\n                  <Button\n                    onClick={addVariable}\n                    color=\"primary\"\n                    variant=\"contained\"\n                  >\n                    Adicionar\n                  </Button>\n                </Grid>\n              </>\n            )}\n            {settings.variables.length > 0 && (\n              <Grid xs={12} className={classes.textRight} item>\n                <Table size=\"small\">\n                  <TableHead>\n                    <TableRow>\n                      <TableCell style={{ width: \"1%\" }}></TableCell>\n                      <TableCell>Atalho</TableCell>\n                      <TableCell>Conteúdo</TableCell>\n                    </TableRow>\n                  </TableHead>\n                  <TableBody>\n                    {Array.isArray(settings.variables) &&\n                      settings.variables.map((v, k) => (\n                        <TableRow key={k}>\n                          <TableCell>\n                            <IconButton\n                              size=\"small\"\n                              onClick={() => {\n                                setSelectedKey(v.key);\n                                setConfirmationOpen(true);\n                              }}\n                            >\n                              <DeleteOutlineIcon />\n                            </IconButton>\n                          </TableCell>\n                          <TableCell>{\"{\" + v.key + \"}\"}</TableCell>\n                          <TableCell>{v.value}</TableCell>\n                        </TableRow>\n                      ))}\n                  </TableBody>\n                </Table>\n              </Grid>\n            )}\n          </Grid>\n        </Box>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default CampaignsConfig;\n","import React, { useEffect, useRef, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\n\nimport { Grid, LinearProgress, Typography } from \"@material-ui/core\";\nimport api from \"../../services/api\";\nimport { has, get, isNull } from \"lodash\";\nimport CardCounter from \"../../components/Dashboard/CardCounter\";\nimport GroupIcon from \"@material-ui/icons/Group\";\nimport ScheduleIcon from \"@material-ui/icons/Schedule\";\nimport EventAvailableIcon from \"@material-ui/icons/EventAvailable\";\nimport DoneIcon from \"@material-ui/icons/Done\";\nimport DoneAllIcon from \"@material-ui/icons/DoneAll\";\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\nimport ListAltIcon from \"@material-ui/icons/ListAlt\";\nimport { useDate } from \"../../hooks/useDate\";\n\nimport { socketConnection } from \"../../services/socket\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(2),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  textRight: {\n    textAlign: \"right\",\n  },\n  tabPanelsContainer: {\n    padding: theme.spacing(2),\n  },\n}));\n\nconst CampaignReport = () => {\n  const classes = useStyles();\n\n  const { campaignId } = useParams();\n\n  const [campaign, setCampaign] = useState({});\n  const [validContacts, setValidContacts] = useState(0);\n  const [delivered, setDelivered] = useState(0);\n  const [confirmationRequested, setConfirmationRequested] = useState(0);\n  const [confirmed, setConfirmed] = useState(0);\n  const [percent, setPercent] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const mounted = useRef(true);\n\n  const { datetimeToClient } = useDate();\n\n  useEffect(() => {\n    if (mounted.current) {\n      findCampaign();\n    }\n\n    return () => {\n      mounted.current = false;\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (mounted.current && has(campaign, \"shipping\")) {\n      if (has(campaign, \"contactList\")) {\n        const contactList = get(campaign, \"contactList\");\n        const valids = contactList.contacts.filter((c) => c.isWhatsappValid);\n        setValidContacts(valids.length);\n      }\n\n      if (has(campaign, \"shipping\")) {\n        const contacts = get(campaign, \"shipping\");\n        const delivered = contacts.filter((c) => !isNull(c.deliveredAt));\n        const confirmationRequested = contacts.filter(\n          (c) => !isNull(c.confirmationRequestedAt)\n        );\n        const confirmed = contacts.filter(\n          (c) => !isNull(c.deliveredAt) && !isNull(c.confirmationRequestedAt)\n        );\n        setDelivered(delivered.length);\n        setConfirmationRequested(confirmationRequested.length);\n        setConfirmed(confirmed.length);\n        setDelivered(delivered.length);\n      }\n    }\n  }, [campaign]);\n\n  useEffect(() => {\n    setPercent((delivered / validContacts) * 100);\n  }, [delivered, validContacts]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-campaign`, (data) => {\n     \n      if (data.record.id === +campaignId) {\n        setCampaign(data.record);\n\n        if (data.record.status === \"FINALIZADA\") {\n          setTimeout(() => {\n            findCampaign();\n          }, 5000);\n        }\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [campaignId]);\n\n  const findCampaign = async () => {\n    setLoading(true);\n    const { data } = await api.get(`/campaigns/${campaignId}`);\n    setCampaign(data);\n    setLoading(false);\n  };\n\n  const formatStatus = (val) => {\n    switch (val) {\n      case \"INATIVA\":\n        return \"Inativa\";\n      case \"PROGRAMADA\":\n        return \"Programada\";\n      case \"EM_ANDAMENTO\":\n        return \"Em Andamento\";\n      case \"CANCELADA\":\n        return \"Cancelada\";\n      case \"FINALIZADA\":\n        return \"Finalizada\";\n      default:\n        return val;\n    }\n  };\n\n  return (\n    <MainContainer>\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} item>\n            <Title>Relatório da {campaign.name || \"Campanha\"}</Title>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\">\n        <Typography variant=\"h6\" component=\"h2\">\n          Status: {formatStatus(campaign.status)} {delivered} de {validContacts}\n        </Typography>\n        <Grid spacing={2} container>\n          <Grid xs={12} item>\n            <LinearProgress\n              variant=\"determinate\"\n              style={{ height: 15, borderRadius: 3, margin: \"20px 0\" }}\n              value={percent}\n            />\n          </Grid>\n          <Grid xs={12} md={4} item>\n            <CardCounter\n              icon={<GroupIcon fontSize=\"inherit\" />}\n              title=\"Contatos Válidos\"\n              value={validContacts}\n              loading={loading}\n            />\n          </Grid>\n          {campaign.confirmation && (\n            <>\n              <Grid xs={12} md={4} item>\n                <CardCounter\n                  icon={<DoneIcon fontSize=\"inherit\" />}\n                  title=\"Confirmações Solicitadas\"\n                  value={confirmationRequested}\n                  loading={loading}\n                />\n              </Grid>\n              <Grid xs={12} md={4} item>\n                <CardCounter\n                  icon={<DoneAllIcon fontSize=\"inherit\" />}\n                  title=\"Confirmações\"\n                  value={confirmed}\n                  loading={loading}\n                />\n              </Grid>\n            </>\n          )}\n          <Grid xs={12} md={4} item>\n            <CardCounter\n              icon={<CheckCircleIcon fontSize=\"inherit\" />}\n              title=\"Entregues\"\n              value={delivered}\n              loading={loading}\n            />\n          </Grid>\n          {campaign.whatsappId && (\n            <Grid xs={12} md={4} item>\n              <CardCounter\n                icon={<WhatsAppIcon fontSize=\"inherit\" />}\n                title=\"Conexão\"\n                value={campaign.whatsapp.name}\n                loading={loading}\n              />\n            </Grid>\n          )}\n          {campaign.contactListId && (\n            <Grid xs={12} md={4} item>\n              <CardCounter\n                icon={<ListAltIcon fontSize=\"inherit\" />}\n                title=\"Lista de Contatos\"\n                value={campaign.contactList.name}\n                loading={loading}\n              />\n            </Grid>\n          )}\n          <Grid xs={12} md={4} item>\n            <CardCounter\n              icon={<ScheduleIcon fontSize=\"inherit\" />}\n              title=\"Agendamento\"\n              value={datetimeToClient(campaign.scheduledAt)}\n              loading={loading}\n            />\n          </Grid>\n          <Grid xs={12} md={4} item>\n            <CardCounter\n              icon={<EventAvailableIcon fontSize=\"inherit\" />}\n              title=\"Conclusão\"\n              value={datetimeToClient(campaign.completedAt)}\n              loading={loading}\n            />\n          </Grid>\n        </Grid>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default CampaignReport;\n","import React, { useState, useEffect, useRef } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport IconButton from \"@material-ui/core/IconButton\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport { head } from \"lodash\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport {\n  FormControl,\n  Grid,\n  InputLabel,\n  MenuItem,\n  Select,\n} from \"@material-ui/core\";\nimport ConfirmationModal from \"../ConfirmationModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  multFieldLine: {\n    display: \"flex\",\n    \"& > *:not(:last-child)\": {\n      marginRight: theme.spacing(1),\n    },\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n  colorAdorment: {\n    width: 20,\n    height: 20,\n  },\n}));\n\nconst AnnouncementSchema = Yup.object().shape({\n  title: Yup.string().required(\"Obrigatório\"),\n  text: Yup.string().required(\"Obrigatório\"),\n});\n\nconst AnnouncementModal = ({ open, onClose, announcementId, reload }) => {\n  const classes = useStyles();\n\n  const initialState = {\n    title: \"\",\n    text: \"\",\n    priority: 3,\n    status: true,\n  };\n\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n  const [announcement, setAnnouncement] = useState(initialState);\n  const [attachment, setAttachment] = useState(null);\n  const attachmentFile = useRef(null);\n\n  useEffect(() => {\n    try {\n      (async () => {\n        if (!announcementId) return;\n\n        const { data } = await api.get(`/announcements/${announcementId}`);\n        setAnnouncement((prevState) => {\n          return { ...prevState, ...data };\n        });\n      })();\n    } catch (err) {\n      toastError(err);\n    }\n  }, [announcementId, open]);\n\n  const handleClose = () => {\n    setAnnouncement(initialState);\n    setAttachment(null);\n    onClose();\n  };\n\n  const handleAttachmentFile = (e) => {\n    const file = head(e.target.files);\n    if (file) {\n      setAttachment(file);\n    }\n  };\n\n  const handleSaveAnnouncement = async (values) => {\n    const announcementData = { ...values };\n    try {\n      if (announcementId) {\n        await api.put(`/announcements/${announcementId}`, announcementData);\n        if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(\n            `/announcements/${announcementId}/media-upload`,\n            formData\n          );\n        }\n      } else {\n        const { data } = await api.post(\"/announcements\", announcementData);\n        if (attachment != null) {\n          const formData = new FormData();\n          formData.append(\"file\", attachment);\n          await api.post(`/announcements/${data.id}/media-upload`, formData);\n        }\n      }\n      toast.success(i18n.t(\"announcements.toasts.success\"));\n      if (typeof reload == \"function\") {\n        reload();\n      }\n    } catch (err) {\n      toastError(err);\n    }\n    handleClose();\n  };\n\n  const deleteMedia = async () => {\n    if (attachment) {\n      setAttachment(null);\n      attachmentFile.current.value = null;\n    }\n\n    if (announcement.mediaPath) {\n      await api.delete(`/announcements/${announcement.id}/media-upload`);\n      setAnnouncement((prev) => ({\n        ...prev,\n        mediaPath: null,\n      }));\n      toast.success(i18n.t(\"announcements.toasts.deleted\"));\n      if (typeof reload == \"function\") {\n        reload();\n      }\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <ConfirmationModal\n        title={i18n.t(\"announcements.confirmationModal.deleteTitle\")}\n        open={confirmationOpen}\n        onClose={() => setConfirmationOpen(false)}\n        onConfirm={deleteMedia}\n      >\n        {i18n.t(\"announcements.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <Dialog\n        open={open}\n        onClose={handleClose}\n        maxWidth=\"xs\"\n        fullWidth\n        scroll=\"paper\"\n      >\n        <DialogTitle id=\"form-dialog-title\">\n          {announcementId\n            ? `${i18n.t(\"announcements.dialog.edit\")}`\n            : `${i18n.t(\"announcements.dialog.add\")}`}\n        </DialogTitle>\n        <div style={{ display: \"none\" }}>\n          <input\n            type=\"file\"\n            accept=\".png,.jpg,.jpeg\"\n            ref={attachmentFile}\n            onChange={(e) => handleAttachmentFile(e)}\n          />\n        </div>\n        <Formik\n          initialValues={announcement}\n          enableReinitialize={true}\n          validationSchema={AnnouncementSchema}\n          onSubmit={(values, actions) => {\n            setTimeout(() => {\n              handleSaveAnnouncement(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ touched, errors, isSubmitting, values }) => (\n            <Form>\n              <DialogContent dividers>\n                <Grid spacing={2} container>\n                  <Grid xs={12} item>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"announcements.dialog.form.title\")}\n                      name=\"title\"\n                      error={touched.title && Boolean(errors.title)}\n                      helperText={touched.title && errors.title}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      fullWidth\n                    />\n                  </Grid>\n                  <Grid xs={12} item>\n                    <Field\n                      as={TextField}\n                      label={i18n.t(\"announcements.dialog.form.text\")}\n                      name=\"text\"\n                      error={touched.text && Boolean(errors.text)}\n                      helperText={touched.text && errors.text}\n                      variant=\"outlined\"\n                      margin=\"dense\"\n                      multiline={true}\n                      rows={7}\n                      fullWidth\n                    />\n                  </Grid>\n                  <Grid xs={12} item>\n                    <FormControl variant=\"outlined\" margin=\"dense\" fullWidth>\n                      <InputLabel id=\"status-selection-label\">\n                        {i18n.t(\"announcements.dialog.form.status\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"announcements.dialog.form.status\")}\n                        placeholder={i18n.t(\"announcements.dialog.form.status\")}\n                        labelId=\"status-selection-label\"\n                        id=\"status\"\n                        name=\"status\"\n                        error={touched.status && Boolean(errors.status)}\n                      >\n                        <MenuItem value={true}>Ativo</MenuItem>\n                        <MenuItem value={false}>Inativo</MenuItem>\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  <Grid xs={12} item>\n                    <FormControl variant=\"outlined\" margin=\"dense\" fullWidth>\n                      <InputLabel id=\"priority-selection-label\">\n                        {i18n.t(\"announcements.dialog.form.priority\")}\n                      </InputLabel>\n                      <Field\n                        as={Select}\n                        label={i18n.t(\"announcements.dialog.form.priority\")}\n                        placeholder={i18n.t(\n                          \"announcements.dialog.form.priority\"\n                        )}\n                        labelId=\"priority-selection-label\"\n                        id=\"priority\"\n                        name=\"priority\"\n                        error={touched.priority && Boolean(errors.priority)}\n                      >\n                        <MenuItem value={1}>Alta</MenuItem>\n                        <MenuItem value={2}>Média</MenuItem>\n                        <MenuItem value={3}>Baixa</MenuItem>\n                      </Field>\n                    </FormControl>\n                  </Grid>\n                  {(announcement.mediaPath || attachment) && (\n                    <Grid xs={12} item>\n                      <Button startIcon={<AttachFileIcon />}>\n                        {attachment ? attachment.name : announcement.mediaName}\n                      </Button>\n                      <IconButton\n                        onClick={() => setConfirmationOpen(true)}\n                        color=\"secondary\"\n                      >\n                        <DeleteOutlineIcon />\n                      </IconButton>\n                    </Grid>\n                  )}\n                </Grid>\n              </DialogContent>\n              <DialogActions>\n                {!attachment && !announcement.mediaPath && (\n                  <Button\n                    color=\"primary\"\n                    onClick={() => attachmentFile.current.click()}\n                    disabled={isSubmitting}\n                    variant=\"outlined\"\n                  >\n                    {i18n.t(\"announcements.dialog.buttons.attach\")}\n                  </Button>\n                )}\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"announcements.dialog.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {announcementId\n                    ? `${i18n.t(\"announcements.dialog.buttons.add\")}`\n                    : `${i18n.t(\"announcements.dialog.buttons.edit\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default AnnouncementModal;\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport AnnouncementModal from \"../../components/AnnouncementModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { Grid } from \"@material-ui/core\";\nimport { isArray } from \"lodash\";\nimport { socketConnection } from \"../../services/socket\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_ANNOUNCEMENTS\") {\n    const announcements = action.payload;\n    const newAnnouncements = [];\n\n    if (isArray(announcements)) {\n      announcements.forEach((announcement) => {\n        const announcementIndex = state.findIndex(\n          (u) => u.id === announcement.id\n        );\n        if (announcementIndex !== -1) {\n          state[announcementIndex] = announcement;\n        } else {\n          newAnnouncements.push(announcement);\n        }\n      });\n    }\n\n    return [...state, ...newAnnouncements];\n  }\n\n  if (action.type === \"UPDATE_ANNOUNCEMENTS\") {\n    const announcement = action.payload;\n    const announcementIndex = state.findIndex((u) => u.id === announcement.id);\n\n    if (announcementIndex !== -1) {\n      state[announcementIndex] = announcement;\n      return [...state];\n    } else {\n      return [announcement, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_ANNOUNCEMENT\") {\n    const announcementId = action.payload;\n\n    const announcementIndex = state.findIndex((u) => u.id === announcementId);\n    if (announcementIndex !== -1) {\n      state.splice(announcementIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    // padding: theme.spacing(1),\n    padding: theme.padding,\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst Announcements = () => {\n  const classes = useStyles();\n  const history = useHistory();\n\n  const { user } = useContext(AuthContext);\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedAnnouncement, setSelectedAnnouncement] = useState(null);\n  const [deletingAnnouncement, setDeletingAnnouncement] = useState(null);\n  const [announcementModalOpen, setAnnouncementModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [announcements, dispatch] = useReducer(reducer, []);\n\n  // trava para nao acessar pagina que não pode  \n  useEffect(() => {\n    async function fetchData() {\n      if (!user.super) {\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\n        setTimeout(() => {\n          history.push(`/`)\n        }, 1000);\n      }\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      fetchAnnouncements();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = user.companyId;\n    const socket = socketConnection({ companyId, userId: user.id });\n\n    socket.on(`company-announcement`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_ANNOUNCEMENTS\", payload: data.record });\n      }\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_ANNOUNCEMENT\", payload: +data.id });\n      }\n    });\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const fetchAnnouncements = async () => {\n    try {\n      const { data } = await api.get(\"/announcements/\", {\n        params: { searchParam, pageNumber },\n      });\n      dispatch({ type: \"LOAD_ANNOUNCEMENTS\", payload: data.records });\n      setHasMore(data.hasMore);\n      setLoading(false);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleOpenAnnouncementModal = () => {\n    setSelectedAnnouncement(null);\n    setAnnouncementModalOpen(true);\n  };\n\n  const handleCloseAnnouncementModal = () => {\n    setSelectedAnnouncement(null);\n    setAnnouncementModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditAnnouncement = (announcement) => {\n    setSelectedAnnouncement(announcement);\n    setAnnouncementModalOpen(true);\n  };\n\n  const handleDeleteAnnouncement = async (announcement) => {\n    try {\n      if (announcement.mediaName)\n      await api.delete(`/announcements/${announcement.id}/media-upload`);\n\n      await api.delete(`/announcements/${announcement.id}`);\n      \n      toast.success(i18n.t(\"announcements.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingAnnouncement(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  const translatePriority = (val) => {\n    if (val === 1) {\n      return \"Alta\";\n    }\n    if (val === 2) {\n      return \"Média\";\n    }\n    if (val === 3) {\n      return \"Baixa\";\n    }\n  };\n\n  return (\n    <MainContainer >\n      <ConfirmationModal\n        title={\n          deletingAnnouncement &&\n          `${i18n.t(\"announcements.confirmationModal.deleteTitle\")} ${deletingAnnouncement.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteAnnouncement(deletingAnnouncement)}\n      >\n        {i18n.t(\"announcements.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <AnnouncementModal\n        resetPagination={() => {\n          setPageNumber(1);\n          fetchAnnouncements();\n        }}\n        open={announcementModalOpen}\n        onClose={handleCloseAnnouncementModal}\n        aria-labelledby=\"form-dialog-title\"\n        announcementId={selectedAnnouncement && selectedAnnouncement.id}\n      />\n      <MainHeader>\n        <Grid style={{ width: \"99.6%\" }} container>\n          <Grid xs={12} sm={8} item>\n            <Title>{i18n.t(\"announcements.title\")} ({announcements.length})</Title>\n          </Grid>\n          <Grid xs={12} sm={4} item>\n            <Grid spacing={2} container>\n              <Grid xs={6} sm={6} item>\n                <TextField\n                  fullWidth\n                  placeholder={i18n.t(\"announcements.searchPlaceholder\")}\n                  type=\"search\"\n                  value={searchParam}\n                  onChange={handleSearch}\n                  InputProps={{\n                    startAdornment: (\n                      <InputAdornment position=\"start\">\n                        <SearchIcon style={{ color: \"gray\" }} />\n                      </InputAdornment>\n                    ),\n                  }}\n                />\n              </Grid>\n              <Grid xs={6} sm={6} item>\n                <Button\n                  fullWidth\n                  variant=\"contained\"\n                  onClick={handleOpenAnnouncementModal}\n                  color=\"primary\"\n                >\n                  {i18n.t(\"announcements.buttons.add\")}\n                </Button>\n              </Grid>\n            </Grid>\n          </Grid>\n        </Grid>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.title\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.priority\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.mediaName\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.status\")}\n              </TableCell>\n              <TableCell align=\"center\">\n                {i18n.t(\"announcements.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {announcements.map((announcement) => (\n                <TableRow key={announcement.id}>\n                  <TableCell align=\"center\">{announcement.title}</TableCell>\n                  <TableCell align=\"center\">\n                    {translatePriority(announcement.priority)}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {announcement.mediaName ?? i18n.t(\"quickMessages.noAttachment\")}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    {announcement.status ? i18n.t(\"announcements.active\") : i18n.t(\"announcements.inactive\")}\n                  </TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditAnnouncement(announcement)}\n                    >\n                      <EditIcon />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingAnnouncement(announcement);\n                      }}\n                    >\n                      <DeleteOutlineIcon />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={5} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer >\n  )\n};\n\nexport default Announcements;","import React, { useContext, useState } from \"react\";\nimport {\n  Chip,\n  IconButton,\n  List,\n  ListItem,\n  ListItemSecondaryAction,\n  ListItemText,\n  makeStyles,\n} from \"@material-ui/core\";\n\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { useDate } from \"../../hooks/useDate\";\n\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport api from \"../../services/api\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    position: \"relative\",\n    flex: 1,\n    height: \"calc(100% - 58px)\",\n    overflow: \"hidden\",\n    borderRadius: 0,\n    backgroundColor: theme.palette.boxlist, //DARK MODE PLW DESIGN//\n  },\n  chatList: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    position: \"relative\",\n    flex: 1,\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  listItem: {\n    cursor: \"pointer\",\n  },\n}));\n\nexport default function ChatList({\n  chats,\n  handleSelectChat,\n  handleDeleteChat,\n  handleEditChat,\n  pageInfo,\n  loading,\n}) {\n  const classes = useStyles();\n  const history = useHistory();\n  const { user } = useContext(AuthContext);\n  const { datetimeToClient } = useDate();\n\n  const [confirmationModal, setConfirmModalOpen] = useState(false);\n  const [selectedChat, setSelectedChat] = useState({});\n\n  const { id } = useParams();\n\n  const goToMessages = async (chat) => {\n    if (unreadMessages(chat) > 0) {\n      try {\n        await api.post(`/chats/${chat.id}/read`, { userId: user.id });\n      } catch (err) {}\n    }\n\n    if (id !== chat.uuid) {\n      history.push(`/chats/${chat.uuid}`);\n      handleSelectChat(chat);\n    }\n  };\n\n  const handleDelete = () => {\n    handleDeleteChat(selectedChat);\n  };\n\n  const unreadMessages = (chat) => {\n    const currentUser = chat.users.find((u) => u.userId === user.id);\n    return currentUser.unreads;\n  };\n\n  const getPrimaryText = (chat) => {\n    const mainText = chat.title;\n    const unreads = unreadMessages(chat);\n    return (\n      <>\n        {mainText}\n        {unreads > 0 && (\n          <Chip\n            size=\"small\"\n            style={{ marginLeft: 5 }}\n            label={unreads}\n            color=\"secondary\"\n          />\n        )}\n      </>\n    );\n  };\n\n  const getSecondaryText = (chat) => {\n    return chat.lastMessage !== \"\"\n      ? `${datetimeToClient(chat.updatedAt)}: ${chat.lastMessage}`\n      : \"\";\n  };\n\n  const getItemStyle = (chat) => {\n    return {\n      borderLeft: chat.uuid === id ? \"6px solid #002d6e\" : null,\n      backgroundColor: chat.uuid === id ? \"theme.palette.chatlist\" : null,\n    };\n  };\n\n  return (\n    <>\n      <ConfirmationModal\n        title={\"Excluir Conversa\"}\n        open={confirmationModal}\n        onClose={setConfirmModalOpen}\n        onConfirm={handleDelete}\n      >\n        Esta ação não pode ser revertida, confirmar?\n      </ConfirmationModal>\n      <div className={classes.mainContainer}>\n        <div className={classes.chatList}>\n          <List>\n            {Array.isArray(chats) &&\n              chats.length > 0 &&\n              chats.map((chat, key) => (\n                <ListItem\n                  onClick={() => goToMessages(chat)}\n                  key={key}\n                  className={classes.listItem}\n                  style={getItemStyle(chat)}\n                  button\n                >\n                  <ListItemText\n                    primary={getPrimaryText(chat)}\n                    secondary={getSecondaryText(chat)}\n                  />\n                  {chat.ownerId === user.id && (\n                    <ListItemSecondaryAction>\n                      <IconButton\n                        onClick={() => {\n                          goToMessages(chat).then(() => {\n                            handleEditChat(chat);\n                          });\n                        }}\n                        edge=\"end\"\n                        aria-label=\"delete\"\n                        size=\"small\"\n                        style={{ marginRight: 5 }}\n                      >\n                        <EditIcon />\n                      </IconButton>\n                      <IconButton\n                        onClick={() => {\n                          setSelectedChat(chat);\n                          setConfirmModalOpen(true);\n                        }}\n                        edge=\"end\"\n                        aria-label=\"delete\"\n                        size=\"small\"\n                      >\n                        <DeleteIcon />\n                      </IconButton>\n                    </ListItemSecondaryAction>\n                  )}\n                </ListItem>\n              ))}\n          </List>\n        </div>\n      </div>\n    </>\n  );\n}\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\nimport {\n  Box,\n  FormControl,\n  IconButton,\n  Input,\n  InputAdornment,\n  makeStyles,\n  Paper,\n  Typography,\n} from \"@material-ui/core\";\nimport SendIcon from \"@material-ui/icons/Send\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport { useDate } from \"../../hooks/useDate\";\nimport api from \"../../services/api\";\nimport { green } from \"@material-ui/core/colors\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    position: \"relative\",\n    flex: 1,\n    overflow: \"hidden\",\n    borderRadius: 0,\n    height: \"100%\",\n    borderLeft: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n  messageList: {\n    position: \"relative\",\n    overflowY: \"auto\",\n    height: \"100%\",\n    ...theme.scrollbarStyles,\n    backgroundColor: theme.palette.chatlist, //DARK MODE PLW DESIGN//\n  },\n  inputArea: {\n    position: \"relative\",\n    height: \"auto\",\n  },\n  input: {\n    padding: \"20px\",\n  },\n  buttonSend: {\n    margin: theme.spacing(1),\n  },\n  boxLeft: {\n    padding: \"10px 10px 5px\",\n    margin: \"10px\",\n    position: \"relative\",\n    backgroundColor: \"blue\",\n    maxWidth: 300,\n    borderRadius: 10,\n    borderBottomLeftRadius: 0,\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n  boxRight: {\n    padding: \"10px 10px 5px\",\n    margin: \"10px 10px 10px auto\",\n    position: \"relative\",\n    backgroundColor: \"green\", //DARK MODE PLW DESIGN//\n    textAlign: \"right\",\n    maxWidth: 300,\n    borderRadius: 10,\n    borderBottomRightRadius: 0,\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n}));\n\nexport default function ChatMessages({\n  chat,\n  messages,\n  handleSendMessage,\n  handleLoadMore,\n  scrollToBottomRef,\n  pageInfo,\n  loading,\n}) {\n  const classes = useStyles();\n  const { user } = useContext(AuthContext);\n  const { datetimeToClient } = useDate();\n  const baseRef = useRef();\n\n  const [contentMessage, setContentMessage] = useState(\"\");\n\n  const scrollToBottom = () => {\n    if (baseRef.current) {\n      baseRef.current.scrollIntoView({});\n    }\n  };\n\n  const unreadMessages = (chat) => {\n    if (chat !== undefined) {\n      const currentUser = chat.users.find((u) => u.userId === user.id);\n      return currentUser.unreads > 0;\n    }\n    return 0;\n  };\n\n  useEffect(() => {\n    if (unreadMessages(chat) > 0) {\n      try {\n        api.post(`/chats/${chat.id}/read`, { userId: user.id });\n      } catch (err) {}\n    }\n    scrollToBottomRef.current = scrollToBottom;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleScroll = (e) => {\n    const { scrollTop } = e.currentTarget;\n    if (!pageInfo.hasMore || loading) return;\n    if (scrollTop < 600) {\n      handleLoadMore();\n    }\n  };\n\n  return (\n    <Paper className={classes.mainContainer}>\n      <div onScroll={handleScroll} className={classes.messageList}>\n        {Array.isArray(messages) &&\n          messages.map((item, key) => {\n            if (item.senderId === user.id) {\n              return (\n                <Box key={key} className={classes.boxRight}>\n                  <Typography variant=\"subtitle2\">\n                    {item.sender.name}\n                  </Typography>\n                  {item.message}\n                  <Typography variant=\"caption\" display=\"block\">\n                    {datetimeToClient(item.createdAt)}\n                  </Typography>\n                </Box>\n              );\n            } else {\n              return (\n                <Box key={key} className={classes.boxLeft}>\n                  <Typography variant=\"subtitle2\">\n                    {item.sender.name}\n                  </Typography>\n                  {item.message}\n                  <Typography variant=\"caption\" display=\"block\">\n                    {datetimeToClient(item.createdAt)}\n                  </Typography>\n                </Box>\n              );\n            }\n          })}\n        <div ref={baseRef}></div>\n      </div>\n      <div className={classes.inputArea}>\n        <FormControl variant=\"outlined\" fullWidth>\n          <Input\n            multiline\n            value={contentMessage}\n            onKeyUp={(e) => {\n              if (e.key === \"Enter\" && contentMessage.trim() !== \"\") {\n                handleSendMessage(contentMessage);\n                setContentMessage(\"\");\n              }\n            }}\n            onChange={(e) => setContentMessage(e.target.value)}\n            className={classes.input}\n            endAdornment={\n              <InputAdornment position=\"end\">\n                <IconButton\n                  onClick={() => {\n                    if (contentMessage.trim() !== \"\") {\n                      handleSendMessage(contentMessage);\n                      setContentMessage(\"\");\n                    }\n                  }}\n                  className={classes.buttonSend}\n                >\n                  <SendIcon />\n                </IconButton>\n              </InputAdornment>\n            }\n          />\n        </FormControl>\n      </div>\n    </Paper>\n  );\n}\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\n\nimport { useParams, useHistory } from \"react-router-dom\";\n\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  Grid,\n  makeStyles,\n  Paper,\n  Tab,\n  Tabs,\n  TextField,\n} from \"@material-ui/core\";\nimport ChatList from \"./ChatList\";\nimport ChatMessages from \"./ChatMessages\";\nimport { UsersFilter } from \"../../components/UsersFilter\";\nimport api from \"../../services/api\";\nimport { socketConnection } from \"../../services/socket\";\n\nimport { has, isObject } from \"lodash\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainContainer: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    position: \"relative\",\n    flex: 1,\n    padding: theme.spacing(2),\n    height: `calc(100% - 48px)`,\n    overflowY: \"hidden\",\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\n  },\n  gridContainer: {\n    flex: 1,\n    height: \"100%\",\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\n    backgroundColor: theme.palette.dark,\n  },\n  gridItem: {\n    height: \"100%\",\n  },\n  gridItemTab: {\n    height: \"92%\",\n    width: \"100%\",\n  },\n  btnContainer: {\n    textAlign: \"right\",\n    padding: 10,\n  },\n}));\n\nexport function ChatModal({\n  open,\n  chat,\n  type,\n  handleClose,\n  handleLoadNewChat,\n}) {\n  const [users, setUsers] = useState([]);\n  const [title, setTitle] = useState(\"\");\n\n  useEffect(() => {\n    setTitle(\"\");\n    setUsers([]);\n    if (type === \"edit\") {\n      const userList = chat.users.map((u) => ({\n        id: u.user.id,\n        name: u.user.name,\n      }));\n      setUsers(userList);\n      setTitle(chat.title);\n    }\n  }, [chat, open, type]);\n\n  const handleSave = async () => {\n    try {\n      if (!title) {\n        alert(\"Por favor, preencha o título da conversa.\");\n        return;\n      }\n\n      if (!users || users.length === 0) {\n        alert(\"Por favor, selecione pelo menos um usuário.\");\n        return;\n      }\n\n      if (type === \"edit\") {\n        await api.put(`/chats/${chat.id}`, {\n          users,\n          title,\n        });\n      } else {\n        const { data } = await api.post(\"/chats\", {\n          users,\n          title,\n        });\n        handleLoadNewChat(data);\n      }\n      handleClose();\n    } catch (err) {}\n  };  \n\n  return (\n    <Dialog\n      open={open}\n      onClose={handleClose}\n      aria-labelledby=\"alert-dialog-title\"\n      aria-describedby=\"alert-dialog-description\"\n    >\n      <DialogTitle id=\"alert-dialog-title\">Conversa</DialogTitle>\n      <DialogContent>\n        <Grid spacing={2} container>\n          <Grid xs={12} style={{ padding: 18 }} item>\n            <TextField\n              label=\"Título\"\n              placeholder=\"Título\"\n              value={title}\n              onChange={(e) => setTitle(e.target.value)}\n              variant=\"outlined\"\n              size=\"small\"\n              fullWidth\n            />\n          </Grid>\n          <Grid xs={12} item>\n            <UsersFilter\n              onFiltered={(users) => setUsers(users)}\n              initialUsers={users}\n            />\n          </Grid>\n        </Grid>\n      </DialogContent>\n      <DialogActions>\n        <Button onClick={handleClose} color=\"primary\">\n          Fechar\n        </Button>\n        <Button onClick={handleSave} color=\"primary\" variant=\"contained\">\n          Salvar\n        </Button>\n      </DialogActions>\n    </Dialog>\n  );\n}\n\nfunction Chat(props) {\n  const classes = useStyles();\n  const { user } = useContext(AuthContext);\n  const history = useHistory();\n\n  const [showDialog, setShowDialog] = useState(false);\n  const [dialogType, setDialogType] = useState(\"new\");\n  const [currentChat, setCurrentChat] = useState({});\n  const [chats, setChats] = useState([]);\n  const [chatsPageInfo, setChatsPageInfo] = useState({ hasMore: false });\n  const [messages, setMessages] = useState([]);\n  const [messagesPageInfo, setMessagesPageInfo] = useState({ hasMore: false });\n  const [messagesPage, setMessagesPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n  const [tab, setTab] = useState(0);\n  const isMounted = useRef(true);\n  const scrollToBottomRef = useRef();\n  const { id } = useParams();\n\n  useEffect(() => {\n    return () => {\n      isMounted.current = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    if (isMounted.current) {\n      findChats().then((data) => {\n        const { records } = data;\n        if (records.length > 0) {\n          setChats(records);\n          setChatsPageInfo(data);\n\n          if (id && records.length) {\n            const chat = records.find((r) => r.uuid === id);\n            selectChat(chat);\n          }\n        }\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    if (isObject(currentChat) && has(currentChat, \"id\")) {\n      findMessages(currentChat.id).then(() => {\n        if (typeof scrollToBottomRef.current === \"function\") {\n          setTimeout(() => {\n            scrollToBottomRef.current();\n          }, 300);\n        }\n      });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentChat]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-chat-user-${user.id}`, (data) => {\n      if (data.action === \"create\") {\n        setChats((prev) => [data.record, ...prev]);\n      }\n      if (data.action === \"update\") {\n        const changedChats = chats.map((chat) => {\n          if (chat.id === data.record.id) {\n            setCurrentChat(data.record);\n            return {\n              ...data.record,\n            };\n          }\n          return chat;\n        });\n        setChats(changedChats);\n      }\n    });\n\n    socket.on(`company-${companyId}-chat`, (data) => {\n      if (data.action === \"delete\") {\n        const filteredChats = chats.filter((c) => c.id !== +data.id);\n        setChats(filteredChats);\n        setMessages([]);\n        setMessagesPage(1);\n        setMessagesPageInfo({ hasMore: false });\n        setCurrentChat({});\n        history.push(\"/chats\");\n      }\n    });\n\n    if (isObject(currentChat) && has(currentChat, \"id\")) {\n      socket.on(`company-${companyId}-chat-${currentChat.id}`, (data) => {\n        if (data.action === \"new-message\") {\n          setMessages((prev) => [...prev, data.newMessage]);\n          const changedChats = chats.map((chat) => {\n            if (chat.id === data.newMessage.chatId) {\n              return {\n                ...data.chat,\n              };\n            }\n            return chat;\n          });\n          setChats(changedChats);\n          scrollToBottomRef.current();\n        }\n\n        if (data.action === \"update\") {\n          const changedChats = chats.map((chat) => {\n            if (chat.id === data.chat.id) {\n              return {\n                ...data.chat,\n              };\n            }\n            return chat;\n          });\n          setChats(changedChats);\n          scrollToBottomRef.current();\n        }\n      });\n    }\n\n    return () => {\n      socket.disconnect();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [currentChat]);\n\n  const selectChat = (chat) => {\n    try {\n      setMessages([]);\n      setMessagesPage(1);\n      setCurrentChat(chat);\n      setTab(1);\n    } catch (err) {}\n  };\n\n  const sendMessage = async (contentMessage) => {\n    setLoading(true);\n    try {\n      await api.post(`/chats/${currentChat.id}/messages`, {\n        message: contentMessage,\n      });\n    } catch (err) {}\n    setLoading(false);\n  };\n\n  const deleteChat = async (chat) => {\n    try {\n      await api.delete(`/chats/${chat.id}`);\n    } catch (err) {}\n  };\n\n  const findMessages = async (chatId) => {\n    setLoading(true);\n    try {\n      const { data } = await api.get(\n        `/chats/${chatId}/messages?pageNumber=${messagesPage}`\n      );\n      setMessagesPage((prev) => prev + 1);\n      setMessagesPageInfo(data);\n      setMessages((prev) => [...data.records, ...prev]);\n    } catch (err) {}\n    setLoading(false);\n  };\n\n  const loadMoreMessages = async () => {\n    if (!loading) {\n      findMessages(currentChat.id);\n    }\n  };\n\n  const findChats = async () => {\n    try {\n      const { data } = await api.get(\"/chats\");\n      return data;\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const renderGrid = () => {\n    return (\n      <Grid className={classes.gridContainer} container>\n        <Grid className={classes.gridItem} md={3} item>\n          \n            <div className={classes.btnContainer}>\n              <Button\n                onClick={() => {\n                  setDialogType(\"new\");\n                  setShowDialog(true);\n                }}\n                color=\"primary\"\n                variant=\"contained\"\n              >\n                Nova\n              </Button>\n            </div>\n          \n          <ChatList\n            chats={chats}\n            pageInfo={chatsPageInfo}\n            loading={loading}\n            handleSelectChat={(chat) => selectChat(chat)}\n            handleDeleteChat={(chat) => deleteChat(chat)}\n            handleEditChat={() => {\n              setDialogType(\"edit\");\n              setShowDialog(true);\n            }}\n          />\n        </Grid>\n        <Grid className={classes.gridItem} md={9} item>\n          {isObject(currentChat) && has(currentChat, \"id\") && (\n            <ChatMessages\n              chat={currentChat}\n              scrollToBottomRef={scrollToBottomRef}\n              pageInfo={messagesPageInfo}\n              messages={messages}\n              loading={loading}\n              handleSendMessage={sendMessage}\n              handleLoadMore={loadMoreMessages}\n            />\n          )}\n        </Grid>\n      </Grid>\n    );\n  };\n\n  const renderTab = () => {\n    return (\n      <Grid className={classes.gridContainer} container>\n        <Grid md={12} item>\n          <Tabs\n            value={tab}\n            indicatorColor=\"primary\"\n            textColor=\"primary\"\n            onChange={(e, v) => setTab(v)}\n            aria-label=\"disabled tabs example\"\n          >\n            <Tab label=\"Chats\" />\n            <Tab label=\"Mensagens\" />\n          </Tabs>\n        </Grid>\n        {tab === 0 && (\n          <Grid className={classes.gridItemTab} md={12} item>\n            <div className={classes.btnContainer}>\n              <Button\n                onClick={() => setShowDialog(true)}\n                color=\"primary\"\n                variant=\"contained\"\n              >\n                Novo\n              </Button>\n            </div>\n            <ChatList\n              chats={chats}\n              pageInfo={chatsPageInfo}\n              loading={loading}\n              handleSelectChat={(chat) => selectChat(chat)}\n              handleDeleteChat={(chat) => deleteChat(chat)}\n            />\n          </Grid>\n        )}\n        {tab === 1 && (\n          <Grid className={classes.gridItemTab} md={12} item>\n            {isObject(currentChat) && has(currentChat, \"id\") && (\n              <ChatMessages\n                scrollToBottomRef={scrollToBottomRef}\n                pageInfo={messagesPageInfo}\n                messages={messages}\n                loading={loading}\n                handleSendMessage={sendMessage}\n                handleLoadMore={loadMoreMessages}\n              />\n            )}\n          </Grid>\n        )}\n      </Grid>\n    );\n  };\n\n  return (\n    <>\n      <ChatModal\n        type={dialogType}\n        open={showDialog}\n        chat={currentChat}\n        handleLoadNewChat={(data) => {\n          setMessages([]);\n          setMessagesPage(1);\n          setCurrentChat(data);\n          setTab(1);\n          history.push(`/chats/${data.uuid}`);\n        }}\n        handleClose={() => setShowDialog(false)}\n      />\n      <Paper className={classes.mainContainer}>\n        {isWidthUp(\"md\", props.width) ? renderGrid() : renderTab()}\n      </Paper>\n    </>\n  );\n}\n\nexport default withWidth()(Chat);\n","import React, { useState, useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from '@material-ui/core/Grid';\nimport TextField from '@material-ui/core/TextField';\n\nimport SubscriptionModal from \"../../components/SubscriptionModal\";\nimport MainHeader from \"../../components/MainHeader\";\nimport Title from \"../../components/Title\";\nimport MainContainer from \"../../components/MainContainer\";\n\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n}));\n\nconst _formatDate = (date) => {\n  const now = new Date();\n  const past = new Date(date);\n  const diff = Math.abs(now.getTime() - past.getTime());\n  const days = Math.ceil(diff / (1000 * 60 * 60 * 24));\n\n  return days;\n}\n\nconst Contacts = () => {\n  const classes = useStyles();\n  const { user } = useContext(AuthContext);\n\n  const [loading,] = useState(false);\n  const [, setPageNumber] = useState(1);\n  const [selectedContactId, setSelectedContactId] = useState(null);\n  const [contactModalOpen, setContactModalOpen] = useState(false);\n  const [hasMore,] = useState(false);\n\n\n  const handleOpenContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(true);\n  };\n\n  const handleCloseContactModal = () => {\n    setSelectedContactId(null);\n    setContactModalOpen(false);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer className={classes.mainContainer}>\n      <SubscriptionModal\n        open={contactModalOpen}\n        onClose={handleCloseContactModal}\n        aria-labelledby=\"form-dialog-title\"\n        contactId={selectedContactId}\n      ></SubscriptionModal>\n\n      <MainHeader>\n        <Title>Assinatura</Title>\n      </MainHeader>\n      <Grid item xs={12} sm={4}>\n        <Paper\n          className={classes.mainPaper}\n          variant=\"outlined\"\n          onScroll={handleScroll}\n        >\n\n          <div>\n            <TextField\n              id=\"outlined-full-width\"\n              label=\"Período de teste\"\n              defaultValue={`Seu período de teste termina em ${_formatDate(user?.company?.trialExpiration)} dias!`}\n              fullWidth\n              margin=\"normal\"\n              InputLabelProps={{\n                shrink: true,\n              }}\n              InputProps={{\n                readOnly: true,\n              }}\n              variant=\"outlined\"\n            />\n\n          </div>\n\n          <div>\n            <TextField\n              id=\"outlined-full-width\"\n              label=\"Email de cobrança\"\n              defaultValue={user?.company?.email}\n              fullWidth\n              margin=\"normal\"\n              InputLabelProps={{\n                shrink: true,\n              }}\n              InputProps={{\n                readOnly: true,\n              }}\n              variant=\"outlined\"\n            />\n\n          </div>\n\n          <div>\n            <Button\n              variant=\"contained\"\n              color=\"primary\"\n              onClick={handleOpenContactModal}\n              fullWidth\n            >\n              Assine Agora!\n            </Button>\n          </div>\n\n        </Paper>\n      </Grid>\n    </MainContainer>\n  );\n};\n\nexport default Contacts;\n","import React, { useState, useEffect, useContext } from \"react\";\n\nimport * as Yup from \"yup\";\nimport {\n    Formik,\n    Form,\n    Field,\n    FieldArray\n} from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport {\n    Box,\n    Button,\n    CircularProgress,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    Divider,\n    Grid,\n    makeStyles,\n    TextField\n} from \"@material-ui/core\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\n\nimport { green } from \"@material-ui/core/colors\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        gap: 4\n    },\n    multFieldLine: {\n        display: \"flex\",\n        \"& > *:not(:last-child)\": {\n            marginRight: theme.spacing(1),\n        },\n    },\n    textField: {\n        marginRight: theme.spacing(1),\n        flex: 1,\n    },\n\n    extraAttr: {\n        display: \"flex\",\n        justifyContent: \"center\",\n        alignItems: \"center\",\n    },\n\n    btnWrapper: {\n        position: \"relative\",\n    },\n\n    buttonProgress: {\n        color: green[500],\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12,\n    },\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 2000,\n    },\n    colorAdorment: {\n        width: 20,\n        height: 20,\n    },\n}));\n\nconst FileListSchema = Yup.object().shape({\n    name: Yup.string()\n        .min(3, \"nome muito curto\")\n        .required(\"Obrigatório\"),\n    message: Yup.string()\n        .required(\"Obrigatório\")\n});\n\nconst FilesModal = ({ open, onClose, fileListId, reload }) => {\n    const classes = useStyles();\n    const { user } = useContext(AuthContext);\n    const [ files, setFiles ] = useState([]);\n    const [selectedFileNames, setSelectedFileNames] = useState([]);\n\n\n    const initialState = {\n        name: \"\",\n        message: \"\",\n        options: [{ name: \"\", path:\"\", mediaType:\"\" }],\n    };\n\n    const [fileList, setFileList] = useState(initialState);\n\n    useEffect(() => {\n        try {\n            (async () => {\n                if (!fileListId) return;\n\n                const { data } = await api.get(`/files/${fileListId}`);\n                setFileList(data);\n            })()\n        } catch (err) {\n            toastError(err);\n        }\n    }, [fileListId, open]);\n\n    const handleClose = () => {\n        setFileList(initialState);\n        setFiles([]);\n        onClose();\n    };\n\n    const handleSaveFileList = async (values) => {\n\n        const uploadFiles = async (options, filesOptions, id) => {\n                const formData = new FormData();\n                formData.append(\"fileId\", id);\n                formData.append(\"typeArch\", \"fileList\")\n                filesOptions.forEach((fileOption, index) => {\n                    if (fileOption.file) {\n                        formData.append(\"files\", fileOption.file);\n                        formData.append(\"mediaType\", fileOption.file.type)\n                        formData.append(\"name\", options[index].name);\n                        formData.append(\"id\", options[index].id);\n                    }\n                });\n      \n              try {\n                const { data } = await api.post(`/files/uploadList/${id}`, formData);\n                setFiles([]);\n                return data;\n              } catch (err) {\n                toastError(err);\n              }\n            return null;\n        }\n\n        const fileData = { ...values, userId: user.id };\n        \n        try {\n            if (fileListId) {\n                const { data } = await api.put(`/files/${fileListId}`, fileData)\n                if (data.options.length > 0)\n\n                    uploadFiles(data.options, values.options, fileListId)\n            } else {\n                const { data } = await api.post(\"/files\", fileData);\n                if (data.options.length > 0)\n                    uploadFiles(data.options, values.options, data.id)\n            }\n            toast.success(i18n.t(\"fileModal.success\"));\n            if (typeof reload == 'function') {\n                reload();\n            }            \n        } catch (err) {\n            toastError(err);\n        }\n        handleClose();\n    };\n\n    return (\n        <div className={classes.root}>\n            <Dialog\n                open={open}\n                onClose={handleClose}\n                maxWidth=\"md\"\n                fullWidth\n                scroll=\"paper\">\n                <DialogTitle id=\"form-dialog-title\">\n                    {(fileListId ? `${i18n.t(\"fileModal.title.edit\")}` : `${i18n.t(\"fileModal.title.add\")}`)}\n                </DialogTitle>\n                <Formik\n                    initialValues={fileList}\n                    enableReinitialize={true}\n                    validationSchema={FileListSchema}\n                    onSubmit={(values, actions) => {\n                        setTimeout(() => {\n                            handleSaveFileList(values);\n                            actions.setSubmitting(false);\n                        }, 400);\n                    }}\n                >\n                    {({ touched, errors, isSubmitting, values }) => (\n                        <Form>\n                            <DialogContent dividers>\n                                <div className={classes.multFieldLine}>\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"fileModal.form.name\")}\n                                        name=\"name\"\n                                        error={touched.name && Boolean(errors.name)}\n                                        helperText={touched.name && errors.name}\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                    />\n                                </div>\n                                <br />\n                                <div className={classes.multFieldLine}>\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"fileModal.form.message\")}\n                                        type=\"message\"\n                                        multiline\n                                        minRows={5}\n                                        fullWidth\n                                        name=\"message\"\n                                        error={\n                                            touched.message && Boolean(errors.message)\n                                        }\n                                        helperText={\n                                            touched.message && errors.message\n                                        }\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                    />\n                                </div>\n                                <Typography\n                                    style={{ marginBottom: 8, marginTop: 12 }}\n                                    variant=\"subtitle1\"\n                                >\n                                    {i18n.t(\"fileModal.form.fileOptions\")}\n                                </Typography>\n\n                                <FieldArray name=\"options\">\n                                    {({ push, remove }) => (\n                                        <>\n                                            {values.options &&\n                                                values.options.length > 0 &&\n                                                values.options.map((info, index) => (    \n                                                    <div\n                                                        className={classes.extraAttr}\n                                                        key={`${index}-info`}\n                                                    >\n                                                        <Grid container  spacing={0}>\n                                                            <Grid xs={6} md={10} item> \n                                                                <Field\n                                                                    as={TextField}\n                                                                    label={i18n.t(\"fileModal.form.extraName\")}\n                                                                    name={`options[${index}].name`}\n                                                                    variant=\"outlined\"\n                                                                    margin=\"dense\"\n                                                                    multiline\n                                                                    fullWidth\n                                                                    minRows={2}\n                                                                    className={classes.textField}\n                                                                />\n                                                            </Grid>     \n                                                            <Grid xs={2} md={2} item style={{ display: 'flex', alignItems: 'center', justifyContent: 'flex-end' }}>\n                                                                <input\n                                                                    type=\"file\"\n                                                                    onChange={(e) => {\n                                                                        const selectedFile = e.target.files[0];\n                                                                        const updatedOptions = [...values.options];                                                                \n                                                                        updatedOptions[index].file = selectedFile;\n                                                                       \n                                                                        setFiles('options', updatedOptions);\n\n                                                                        // Atualize a lista selectedFileNames para o campo específico\n                                                                        const updatedFileNames = [...selectedFileNames];\n                                                                        updatedFileNames[index] = selectedFile ? selectedFile.name : '';\n                                                                        setSelectedFileNames(updatedFileNames);\n                                                                    }}\n                                                                    style={{ display: 'none' }}\n                                                                    name={`options[${index}].file`}\n                                                                    id={`file-upload-${index}`}\n                                                                />\n                                                                <label htmlFor={`file-upload-${index}`}>\n                                                                    <IconButton component=\"span\">\n                                                                        <AttachFileIcon />\n                                                                    </IconButton>\n                                                                </label>\n                                                                <IconButton\n                                                                    size=\"small\"\n                                                                    onClick={() => remove(index)}\n                                                                >\n                                                                    <DeleteOutlineIcon />\n                                                                </IconButton>    \n                                                            </Grid>\n                                                            <Grid xs={12} md={12} item>\n                                                                {info.path? info.path : selectedFileNames[index]}                               \n                                                            </Grid> \n                                                        </Grid>                                                    \n                                                </div>                     \n                                                                                           \n                                                ))}\n                                            <div className={classes.extraAttr}>\n                                                <Button\n                                                    style={{ flex: 1, marginTop: 8 }}\n                                                    variant=\"outlined\"\n                                                    color=\"primary\"\n                                                    onClick={() => {push({ name: \"\", path: \"\"});\n                                                    setSelectedFileNames([...selectedFileNames, \"\"]);\n                                                }}\n                                                >\n                                                    {`+ ${i18n.t(\"fileModal.buttons.fileOptions\")}`}\n                                                </Button>\n                                            </div>\n                                        </>\n                                    )}\n                                </FieldArray>\n                            </DialogContent>\n                            <DialogActions>\n                                <Button\n                                    onClick={handleClose}\n                                    color=\"secondary\"\n                                    disabled={isSubmitting}\n                                    variant=\"outlined\"\n                                >\n                                    {i18n.t(\"fileModal.buttons.cancel\")}\n                                </Button>\n                                <Button\n                                    type=\"submit\"\n                                    color=\"primary\"\n                                    disabled={isSubmitting}\n                                    variant=\"contained\"\n                                    className={classes.btnWrapper}\n                                >\n                                    {fileListId\n                                        ? `${i18n.t(\"fileModal.buttons.okEdit\")}`\n                                        : `${i18n.t(\"fileModal.buttons.okAdd\")}`}\n                                    {isSubmitting && (\n                                        <CircularProgress\n                                            size={24}\n                                            className={classes.buttonProgress}\n                                        />\n                                    )}\n                                </Button>\n                            </DialogActions>\n                        </Form>\n                    )}\n                </Formik>\n            </Dialog>\n        </div>\n    );\n};\n\nexport default FilesModal;","import React, {\n    useState,\n    useEffect,\n    useReducer,\n    useCallback,\n    useContext,\n} from \"react\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Button from \"@material-ui/core/Button\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport SearchIcon from \"@material-ui/icons/Search\";\nimport TextField from \"@material-ui/core/TextField\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\n\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\nimport EditIcon from \"@material-ui/icons/Edit\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport FileModal from \"../../components/FileModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\nimport toastError from \"../../errors/toastError\";\nimport { socketConnection } from \"../../services/socket\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\n\nconst reducer = (state, action) => {\n    if (action.type === \"LOAD_FILES\") {\n        const files = action.payload;\n        const newFiles = [];\n\n        files.forEach((fileList) => {\n            const fileListIndex = state.findIndex((s) => s.id === fileList.id);\n            if (fileListIndex !== -1) {\n                state[fileListIndex] = fileList;\n            } else {\n                newFiles.push(fileList);\n            }\n        });\n\n        return [...state, ...newFiles];\n    }\n\n    if (action.type === \"UPDATE_FILES\") {\n        const fileList = action.payload;\n        const fileListIndex = state.findIndex((s) => s.id === fileList.id);\n\n        if (fileListIndex !== -1) {\n            state[fileListIndex] = fileList;\n            return [...state];\n        } else {\n            return [fileList, ...state];\n        }\n    }\n\n    if (action.type === \"DELETE_TAG\") {\n        const fileListId = action.payload;\n\n        const fileListIndex = state.findIndex((s) => s.id === fileListId);\n        if (fileListIndex !== -1) {\n            state.splice(fileListIndex, 1);\n        }\n        return [...state];\n    }\n\n    if (action.type === \"RESET\") {\n        return [];\n    }\n};\n\nconst useStyles = makeStyles((theme) => ({\n    mainPaper: {\n        flex: 1,\n        padding: theme.spacing(1),\n        overflowY: \"scroll\",\n        ...theme.scrollbarStyles,\n    },\n}));\n\nconst FileLists = () => {\n    const classes = useStyles();\n\n    const { user } = useContext(AuthContext);\n\n    const [loading, setLoading] = useState(false);\n    const [pageNumber, setPageNumber] = useState(1);\n    const [hasMore, setHasMore] = useState(false);\n    const [selectedFileList, setSelectedFileList] = useState(null);\n    const [deletingFileList, setDeletingFileList] = useState(null);\n    const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n    const [searchParam, setSearchParam] = useState(\"\");\n    const [files, dispatch] = useReducer(reducer, []);\n    const [fileListModalOpen, setFileListModalOpen] = useState(false);\n\n    const fetchFileLists = useCallback(async () => {\n        try {\n            const { data } = await api.get(\"/files/\", {\n                params: { searchParam, pageNumber },\n            });\n            dispatch({ type: \"LOAD_FILES\", payload: data.files });\n            setHasMore(data.hasMore);\n            setLoading(false);\n        } catch (err) {\n            toastError(err);\n        }\n    }, [searchParam, pageNumber]);\n\n    useEffect(() => {\n        dispatch({ type: \"RESET\" });\n        setPageNumber(1);\n    }, [searchParam]);\n\n    useEffect(() => {\n        setLoading(true);\n        const delayDebounceFn = setTimeout(() => {\n            fetchFileLists();\n        }, 500);\n        return () => clearTimeout(delayDebounceFn);\n    }, [searchParam, pageNumber, fetchFileLists]);\n\n    useEffect(() => {\n        const socket = socketConnection({ companyId: user.companyId });\n\n        socket.on(`company-${user.companyId}-file`, (data) => {\n            if (data.action === \"update\" || data.action === \"create\") {\n                dispatch({ type: \"UPDATE_FILES\", payload: data.files });\n            }\n\n            if (data.action === \"delete\") {\n                dispatch({ type: \"DELETE_USER\", payload: +data.fileId });\n            }\n        });\n\n        return () => {\n            socket.disconnect();\n        };\n    }, [user]);\n\n    const handleOpenFileListModal = () => {\n        setSelectedFileList(null);\n        setFileListModalOpen(true);\n    };\n\n    const handleCloseFileListModal = () => {\n        setSelectedFileList(null);\n        setFileListModalOpen(false);\n    };\n\n    const handleSearch = (event) => {\n        setSearchParam(event.target.value.toLowerCase());\n    };\n\n    const handleEditFileList = (fileList) => {\n        setSelectedFileList(fileList);\n        setFileListModalOpen(true);\n    };\n\n    const handleDeleteFileList = async (fileListId) => {\n        try {\n            await api.delete(`/files/${fileListId}`);\n            toast.success(i18n.t(\"files.toasts.deleted\"));\n        } catch (err) {\n            toastError(err);\n        }\n        setDeletingFileList(null);\n        setSearchParam(\"\");\n        setPageNumber(1);\n\n        dispatch({ type: \"RESET\" });\n        setPageNumber(1);\n        await fetchFileLists();\n    };\n\n    const loadMore = () => {\n        setPageNumber((prevState) => prevState + 1);\n    };\n\n    const handleScroll = (e) => {\n        if (!hasMore || loading) return;\n        const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n        if (scrollHeight - (scrollTop + 100) < clientHeight) {\n            loadMore();\n        }\n    };\n\n    return (\n        <MainContainer>\n            <ConfirmationModal\n                title={deletingFileList && `${i18n.t(\"files.confirmationModal.deleteTitle\")}`}\n                open={confirmModalOpen}\n                onClose={setConfirmModalOpen}\n                onConfirm={() => handleDeleteFileList(deletingFileList.id)}\n            >\n                {i18n.t(\"files.confirmationModal.deleteMessage\")}\n            </ConfirmationModal>\n            <FileModal\n                open={fileListModalOpen}\n                onClose={handleCloseFileListModal}\n                reload={fetchFileLists}\n                aria-labelledby=\"form-dialog-title\"\n                fileListId={selectedFileList && selectedFileList.id}\n            />\n            <MainHeader>\n                <Title>{i18n.t(\"files.title\")} ({files.length})</Title>\n                <MainHeaderButtonsWrapper>\n                    <TextField\n                        placeholder={i18n.t(\"contacts.searchPlaceholder\")}\n                        type=\"search\"\n                        value={searchParam}\n                        onChange={handleSearch}\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    <SearchIcon style={{ color: \"gray\" }} />\n                                </InputAdornment>\n                            ),\n                        }}\n                    />\n                    <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={handleOpenFileListModal}\n                    >\n                        {i18n.t(\"files.buttons.add\")}\n                    </Button>\n                </MainHeaderButtonsWrapper>\n            </MainHeader>\n            <Paper\n                className={classes.mainPaper}\n                variant=\"outlined\"\n                onScroll={handleScroll}\n            >\n                <Table size=\"small\">\n                    <TableHead>\n                        <TableRow>\n                            <TableCell align=\"center\">{i18n.t(\"files.table.name\")}</TableCell>\n                            <TableCell align=\"center\">\n                                {i18n.t(\"files.table.actions\")}\n                            </TableCell>\n                        </TableRow>\n                    </TableHead>\n                    <TableBody>\n                        <>\n                            {files.map((fileList) => (\n                                <TableRow key={fileList.id}>\n                                    <TableCell align=\"center\">\n                                        {fileList.name}\n                                    </TableCell>\n                                    <TableCell align=\"center\">\n                                        <IconButton size=\"small\" onClick={() => handleEditFileList(fileList)}>\n                                            <EditIcon />\n                                        </IconButton>\n\n                                        <IconButton\n                                            size=\"small\"\n                                            onClick={(e) => {\n                                                setConfirmModalOpen(true);\n                                                setDeletingFileList(fileList);\n                                            }}\n                                        >\n                                            <DeleteOutlineIcon />\n                                        </IconButton>\n                                    </TableCell>\n                                </TableRow>\n                            ))}\n                            {loading && <TableRowSkeleton columns={4} />}\n                        </>\n                    </TableBody>\n                </Table>\n            </Paper>\n        </MainContainer>\n    );\n};\n\nexport default FileLists;\n","import React, { useEffect, useState } from \"react\";\nimport { Field } from \"formik\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Select from \"@material-ui/core/Select\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst useStyles = makeStyles(theme => ({\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 120,\n    },\n}));\n\nconst QueueSelectSingle = () => {\n    const classes = useStyles();\n    const [queues, setQueues] = useState([]);\n\n    useEffect(() => {\n        (async () => {\n            try {\n                const { data } = await api.get(\"/queue\");\n                setQueues(data);\n            } catch (err) {\n                toastError(`QUEUESELETSINGLE >>> ${err}`);\n            }\n        })();\n    }, []);\n\n    return (\n        <div style={{ marginTop: 6 }}>\n            <FormControl\n                variant=\"outlined\"\n                className={classes.FormControl}\n                margin=\"dense\"\n                fullWidth\n            >\n                <div>\n                    <Typography>\n                        {i18n.t(\"queueSelect.inputLabel\")}\n                    </Typography>\n                    <Field\n                        as={Select}\n                        label={i18n.t(\"queueSelect.inputLabel\")}\n                        name=\"queueId\"\n                        labelId=\"queue-selection-label\"\n                        id=\"queue-selection\"\n                        fullWidth\n                    >\n                        {queues.map(queue => (\n                            <MenuItem key={queue.id} value={queue.id}>\n                                {queue.name}\n                            </MenuItem>\n                        ))}\n                    </Field>\n                </div>\n            </FormControl>\n        </div>\n    );\n};\n\nexport default QueueSelectSingle;\n","import React, { useState, useEffect } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport { i18n } from \"../../translate/i18n\";\nimport { MenuItem, FormControl, InputLabel, Select } from \"@material-ui/core\";\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\nimport { InputAdornment, IconButton } from \"@material-ui/core\";\nimport QueueSelectSingle from \"../../components/QueueSelectSingle\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n    },\n    multFieldLine: {\n        display: \"flex\",\n        \"& > *:not(:last-child)\": {\n            marginRight: theme.spacing(1),\n        },\n    },\n\n    btnWrapper: {\n        position: \"relative\",\n    },\n\n    buttonProgress: {\n        color: green[500],\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        marginTop: -12,\n        marginLeft: -12,\n    },\n    formControl: {\n        margin: theme.spacing(1),\n        minWidth: 120,\n    },\n    colorAdorment: {\n        width: 20,\n        height: 20,\n    },\n}));\n\nconst PromptSchema = Yup.object().shape({\n    name: Yup.string().min(5, \"Muito curto!\").max(100, \"Muito longo!\").required(\"Obrigatório\"),\n    prompt: Yup.string().min(50, \"Muito curto!\").required(\"Descreva o treinamento para Inteligência Artificial\"),\n    voice: Yup.string().required(\"Informe o modo para Voz\"),\n    max_tokens: Yup.number().required(\"Informe o número máximo de tokens\"),\n    temperature: Yup.number().required(\"Informe a temperatura\"),\n    apikey: Yup.string().required(\"Informe a API Key\"),\n    queueId: Yup.number().required(\"Informe a fila\"),\n    max_messages: Yup.number().required(\"Informe o número máximo de mensagens\")\n});\n\nconst PromptModal = ({ open, onClose, promptId }) => {\n    const classes = useStyles();\n    const [selectedVoice, setSelectedVoice] = useState(\"texto\");\n    const [showApiKey, setShowApiKey] = useState(false);\n\n    const handleToggleApiKey = () => {\n        setShowApiKey(!showApiKey);\n    };\n\n    const initialState = {\n        name: \"\",\n        prompt: \"\",\n        voice: \"texto\",\n        voiceKey: \"\",\n        voiceRegion: \"\",\n        maxTokens: 100,\n        temperature: 1,\n        apiKey: \"\",\n        queueId: null,\n        maxMessages: 10\n    };\n\n    const [prompt, setPrompt] = useState(initialState);\n\n    useEffect(() => {\n        const fetchPrompt = async () => {\n            if (!promptId) {\n                setPrompt(initialState);\n                return;\n            }\n            try {\n                const { data } = await api.get(`/prompt/${promptId}`);\n                setPrompt(prevState => {\n                    return { ...prevState, ...data };\n                });\n                setSelectedVoice(data.voice);\n            } catch (err) {\n                toastError(err);\n            }\n        };\n\n        fetchPrompt();\n    }, [promptId, open]);\n\n    const handleClose = () => {\n        setPrompt(initialState);\n        setSelectedVoice(\"texto\");\n        onClose();\n    };\n\n    const handleChangeVoice = (e) => {\n        setSelectedVoice(e.target.value);\n    };\n\n    const handleSavePrompt = async values => {\n        const promptData = { ...values, voice: selectedVoice };\n        if (!values.queueId) {\n            toastError(\"Informe o setor\");\n            return;\n        }\n        try {\n            if (promptId) {\n                await api.put(`/prompt/${promptId}`, promptData);\n            } else {\n                await api.post(\"/prompt\", promptData);\n            }\n            toast.success(i18n.t(\"promptModal.success\"));\n        } catch (err) {\n            toastError(err);\n        }\n        handleClose();\n    };\n\n    return (\n        <div className={classes.root}>\n            <Dialog\n                open={open}\n                onClose={handleClose}\n                maxWidth=\"md\"\n                scroll=\"paper\"\n                fullWidth\n            >\n                <DialogTitle id=\"form-dialog-title\">\n                    {promptId\n                        ? `${i18n.t(\"promptModal.title.edit\")}`\n                        : `${i18n.t(\"promptModal.title.add\")}`}\n                </DialogTitle>\n                <Formik\n                    initialValues={prompt}\n                    enableReinitialize={true}\n                    onSubmit={(values, actions) => {\n                        setTimeout(() => {\n                            handleSavePrompt(values);\n                            actions.setSubmitting(false);\n                        }, 400);\n                    }}\n                >\n                    {({ touched, errors, isSubmitting, values }) => (\n                        <Form style={{ width: \"100%\" }}>\n                            <DialogContent dividers>\n                                <Field\n                                    as={TextField}\n                                    label={i18n.t(\"promptModal.form.name\")}\n                                    name=\"name\"\n                                    error={touched.name && Boolean(errors.name)}\n                                    helperText={touched.name && errors.name}\n                                    variant=\"outlined\"\n                                    margin=\"dense\"\n                                    fullWidth\n                                />\n                                <FormControl fullWidth margin=\"dense\" variant=\"outlined\">\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"promptModal.form.apikey\")}\n                                        name=\"apiKey\"\n                                        type={showApiKey ? 'text' : 'password'}\n                                        error={touched.apiKey && Boolean(errors.apiKey)}\n                                        helperText={touched.apiKey && errors.apiKey}\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                        InputProps={{\n                                            endAdornment: (\n                                                <InputAdornment position=\"end\">\n                                                    <IconButton onClick={handleToggleApiKey}>\n                                                        {showApiKey ? <VisibilityOff /> : <Visibility />}\n                                                    </IconButton>\n                                                </InputAdornment>\n                                            ),\n                                        }}\n                                    />\n                                </FormControl>\n                                <Field\n                                    as={TextField}\n                                    label={i18n.t(\"promptModal.form.prompt\")}\n                                    name=\"prompt\"\n                                    error={touched.prompt && Boolean(errors.prompt)}\n                                    helperText={touched.prompt && errors.prompt}\n                                    variant=\"outlined\"\n                                    margin=\"dense\"\n                                    fullWidth\n                                    rows={10}\n                                    multiline={true}\n                                />\n                                <QueueSelectSingle />\n                                <div className={classes.multFieldLine}>\n                                    <FormControl fullWidth margin=\"dense\" variant=\"outlined\">\n                                    <InputLabel>{i18n.t(\"promptModal.form.voice\")}</InputLabel>\n                                        <Select\n                                            id=\"type-select\"\n                                            labelWidth={60}\n                                            name=\"voice\"\n                                            value={selectedVoice}\n                                            onChange={handleChangeVoice}\n                                            multiple={false}\n                                        >\n                                            <MenuItem key={\"texto\"} value={\"texto\"}>\n                                                Texto\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-FranciscaNeural\"} value={\"pt-BR-FranciscaNeural\"}>\n                                                Francisa\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-AntonioNeural\"} value={\"pt-BR-AntonioNeural\"}>\n                                                Antônio\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-BrendaNeural\"} value={\"pt-BR-BrendaNeural\"}>\n                                                Brenda\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-DonatoNeural\"} value={\"pt-BR-DonatoNeural\"}>\n                                                Donato\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-ElzaNeural\"} value={\"pt-BR-ElzaNeural\"}>\n                                                Elza\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-FabioNeural\"} value={\"pt-BR-FabioNeural\"}>\n                                                Fábio\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-GiovannaNeural\"} value={\"pt-BR-GiovannaNeural\"}>\n                                                Giovanna\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-HumbertoNeural\"} value={\"pt-BR-HumbertoNeural\"}>\n                                                Humberto\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-JulioNeural\"} value={\"pt-BR-JulioNeural\"}>\n                                                Julio\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-LeilaNeural\"} value={\"pt-BR-LeilaNeural\"}>\n                                                Leila\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-LeticiaNeural\"} value={\"pt-BR-LeticiaNeural\"}>\n                                                Letícia\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-ManuelaNeural\"} value={\"pt-BR-ManuelaNeural\"}>\n                                                Manuela\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-NicolauNeural\"} value={\"pt-BR-NicolauNeural\"}>\n                                                Nicolau\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-ValerioNeural\"} value={\"pt-BR-ValerioNeural\"}>\n                                                Valério\n                                            </MenuItem>\n                                            <MenuItem key={\"pt-BR-YaraNeural\"} value={\"pt-BR-YaraNeural\"}>\n                                                Yara\n                                            </MenuItem>\n                                        </Select>\n                                    </FormControl>\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"promptModal.form.voiceKey\")}\n                                        name=\"voiceKey\"\n                                        error={touched.voiceKey && Boolean(errors.voiceKey)}\n                                        helperText={touched.voiceKey && errors.voiceKey}\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                    />\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"promptModal.form.voiceRegion\")}\n                                        name=\"voiceRegion\"\n                                        error={touched.voiceRegion && Boolean(errors.voiceRegion)}\n                                        helperText={touched.voiceRegion && errors.voiceRegion}\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                    />\n                                </div>\n                                \n                                <div className={classes.multFieldLine}>\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"promptModal.form.temperature\")}\n                                        name=\"temperature\"\n                                        error={touched.temperature && Boolean(errors.temperature)}\n                                        helperText={touched.temperature && errors.temperature}\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                    />\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"promptModal.form.max_tokens\")}\n                                        name=\"maxTokens\"\n                                        error={touched.maxTokens && Boolean(errors.maxTokens)}\n                                        helperText={touched.maxTokens && errors.maxTokens}\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                    />\n                                    <Field\n                                        as={TextField}\n                                        label={i18n.t(\"promptModal.form.max_messages\")}\n                                        name=\"maxMessages\"\n                                        error={touched.maxMessages && Boolean(errors.maxMessages)}\n                                        helperText={touched.maxMessages && errors.maxMessages}\n                                        variant=\"outlined\"\n                                        margin=\"dense\"\n                                        fullWidth\n                                    />\n                                </div>\n                            </DialogContent>\n                            <DialogActions>\n                                <Button\n                                    onClick={handleClose}\n                                    color=\"secondary\"\n                                    disabled={isSubmitting}\n                                    variant=\"outlined\"\n                                >\n                                    {i18n.t(\"promptModal.buttons.cancel\")}\n                                </Button>\n                                <Button\n                                    type=\"submit\"\n                                    color=\"primary\"\n                                    disabled={isSubmitting}\n                                    variant=\"contained\"\n                                    className={classes.btnWrapper}\n                                >\n                                    {promptId\n                                        ? `${i18n.t(\"promptModal.buttons.okEdit\")}`\n                                        : `${i18n.t(\"promptModal.buttons.okAdd\")}`}\n                                    {isSubmitting && (\n                                        <CircularProgress\n                                            size={24}\n                                            className={classes.buttonProgress}\n                                        />\n                                    )}\n                                </Button>\n                            </DialogActions>\n                        </Form>\n                    )}\n                </Formik>\n            </Dialog>\n        </div>\n    );\n};\n\nexport default PromptModal;","import React, { useEffect, useReducer, useState } from \"react\";\n\nimport openSocket from \"socket.io-client\";\n\nimport {\n  Button,\n  IconButton,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow\n} from \"@material-ui/core\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport Title from \"../../components/Title\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport api from \"../../services/api\";\nimport { DeleteOutline, Edit } from \"@material-ui/icons\";\nimport PromptModal from \"../../components/PromptModal\";\nimport { toast } from \"react-toastify\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  customTableCell: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n  },\n}));\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_PROMPTS\") {\n    const prompts = action.payload;\n    const newPrompts = [];\n\n    prompts.forEach((prompt) => {\n      const promptIndex = state.findIndex((p) => p.id === prompt.id);\n      if (promptIndex !== -1) {\n        state[promptIndex] = prompt;\n      } else {\n        newPrompts.push(prompt);\n      }\n    });\n\n    return [...state, ...newPrompts];\n  }\n\n  if (action.type === \"UPDATE_PROMPTS\") {\n    const prompt = action.payload;\n    const promptIndex = state.findIndex((p) => p.id === prompt.id);\n\n    if (promptIndex !== -1) {\n      state[promptIndex] = prompt;\n      return [...state];\n    } else {\n      return [prompt, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_PROMPT\") {\n    const promptId = action.payload;\n    const promptIndex = state.findIndex((p) => p.id === promptId);\n    if (promptIndex !== -1) {\n      state.splice(promptIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst Prompts = () => {\n  const classes = useStyles();\n\n  const [prompts, dispatch] = useReducer(reducer, []);\n  const [loading, setLoading] = useState(false);\n\n  const [promptModalOpen, setPromptModalOpen] = useState(false);\n  const [selectedPrompt, setSelectedPrompt] = useState(null);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n\n  useEffect(() => {\n    (async () => {\n      setLoading(true);\n      try {\n        const { data } = await api.get(\"/prompt\");\n        dispatch({ type: \"LOAD_PROMPTS\", payload: data.prompts });\n\n        setLoading(false);\n      } catch (err) {\n        toastError(err);\n        setLoading(false);\n      }\n    })();\n  }, []);\n\n  useEffect(() => {\n    const socket = openSocket(process.env.REACT_APP_BACKEND_URL);\n\n    socket.on(\"prompt\", (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_PROMPTS\", payload: data.prompt });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_PROMPT\", payload: data.promptId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleOpenPromptModal = () => {\n    setPromptModalOpen(true);\n    setSelectedPrompt(null);\n  };\n\n  const handleClosePromptModal = () => {\n    setPromptModalOpen(false);\n    setSelectedPrompt(null);\n  };\n\n  const handleEditPrompt = (prompt) => {\n    setSelectedPrompt(prompt);\n    setPromptModalOpen(true);\n  };\n\n  const handleCloseConfirmationModal = () => {\n    setConfirmModalOpen(false);\n    setSelectedPrompt(null);\n  };\n\n  const handleDeletePrompt = async (promptId) => {\n    try {\n      const { data } = await api.delete(`/prompt/${promptId}`);\n      toast.info(i18n.t(data.message));\n    } catch (err) {\n      toastError(err);\n    }\n    setSelectedPrompt(null);\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          selectedPrompt &&\n          `${i18n.t(\"prompts.confirmationModal.deleteTitle\")} ${selectedPrompt.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={handleCloseConfirmationModal}\n        onConfirm={() => handleDeletePrompt(selectedPrompt.id)}\n      >\n        {i18n.t(\"prompts.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <PromptModal\n        open={promptModalOpen}\n        onClose={handleClosePromptModal}\n        promptId={selectedPrompt?.id}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"prompts.title\")}</Title>\n        <MainHeaderButtonsWrapper>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenPromptModal}\n          >\n            {i18n.t(\"prompts.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper className={classes.mainPaper} variant=\"outlined\">\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell align=\"left\">\n                {i18n.t(\"prompts.table.name\")}\n              </TableCell>\n              <TableCell align=\"left\">\n                {i18n.t(\"prompts.table.queue\")}\n              </TableCell>\n              <TableCell align=\"left\">\n                {i18n.t(\"prompts.table.max_tokens\")}\n              </TableCell> \n              <TableCell align=\"center\">\n                {i18n.t(\"prompts.table.actions\")}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {prompts.map((prompt) => (\n                <TableRow key={prompt.id}>\n                  <TableCell align=\"left\">{prompt.name}</TableCell>\n                  <TableCell align=\"left\">{prompt.queue.name}</TableCell>\n                  <TableCell align=\"left\">{prompt.maxTokens}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditPrompt(prompt)}\n                    >\n                      <Edit />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => {\n                        setSelectedPrompt(prompt);\n                        setConfirmModalOpen(true);\n                      }}\n                    >\n                      <DeleteOutline />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={4} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default Prompts;\n","import React, { useState, useEffect } from \"react\";\n\nimport * as Yup from \"yup\";\nimport { Formik, Form, Field } from \"formik\";\nimport { toast } from \"react-toastify\";\n\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  CircularProgress,\n  Select,\n  InputLabel,\n  MenuItem,\n  FormControl,\n  TextField,\n  Grid,\n  Paper,\n} from \"@material-ui/core\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { green } from \"@material-ui/core/colors\";\n\nimport { i18n } from \"../../translate/i18n\";\n\nimport api from \"../../services/api\";\nimport toastError from \"../../errors/toastError\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n    gap: 4\n  },\n  textField: {\n    marginRight: theme.spacing(1),\n    flex: 1,\n  },\n\n  btnWrapper: {\n    position: \"relative\",\n  },\n\n  buttonProgress: {\n    color: green[500],\n    position: \"absolute\",\n    top: \"50%\",\n    left: \"50%\",\n    marginTop: -12,\n    marginLeft: -12,\n  },\n  btnLeft: {\n    display: \"flex\",\n    marginRight: \"auto\",\n    marginLeft: 12,\n  },\n  colorAdorment: {\n    width: 20,\n    height: 20,\n  },\n}));\n\nconst DialogflowSchema = Yup.object().shape({\n  name: Yup.string()\n    .min(2, \"Too Short!\")\n    .max(50, \"Too Long!\")\n    .required(\"Required\"),\n  // projectName: Yup.string()\n  //   .min(3, \"Too Short!\")\n  //   .max(100, \"Too Long!\")\n  //   .required(),\n  // jsonContent: Yup.string().min(3, \"Too Short!\").required(),\n  // language: Yup.string().min(2, \"Too Short!\").max(50, \"Too Long!\").required(),\n});\n\n\n\nconst QueueIntegration = ({ open, onClose, integrationId }) => {\n  const classes = useStyles();\n\n  const initialState = {\n    type: \"typebot\",\n    name: \"\",\n    projectName: \"\",\n    jsonContent: \"\",\n    language: \"\",\n    urlN8N: \"\",\n    typebotDelayMessage: 1000,\n    typebotExpires: 1,\n    typebotKeywordFinish: \"\",\n    typebotKeywordRestart: \"\",\n    typebotRestartMessage: \"\",\n    typebotSlug: \"\",\n    typebotUnknownMessage: \"\",\n\n  };\n\n  const [integration, setIntegration] = useState(initialState);\n\n  useEffect(() => {\n    (async () => {\n      if (!integrationId) return;\n      try {\n        const { data } = await api.get(`/queueIntegration/${integrationId}`);\n        setIntegration((prevState) => {\n          return { ...prevState, ...data };\n        });\n      } catch (err) {\n        toastError(err);\n      }\n    })();\n\n    return () => {\n      setIntegration({\n        type: \"dialogflow\",\n        name: \"\",\n        projectName: \"\",\n        jsonContent: \"\",\n        language: \"\",\n        urlN8N: \"\",\n        typebotDelayMessage: 1000\n      });\n    };\n\n  }, [integrationId, open]);\n\n  const handleClose = () => {\n    onClose();\n    setIntegration(initialState);\n  };\n\n  const handleTestSession = async (event, values) => {\n    try {\n      const { projectName, jsonContent, language } = values;\n\n      await api.post(`/queueIntegration/testSession`, {\n        projectName,\n        jsonContent,\n        language,\n      });\n\n      toast.success(i18n.t(\"queueIntegrationModal.messages.testSuccess\"));\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  const handleSaveDialogflow = async (values) => {\n    try {\n      if (values.type === 'n8n' || values.type === 'webhook' || values.type === 'typebot') values.projectName = values.name\n      if (integrationId) {\n        await api.put(`/queueIntegration/${integrationId}`, values);\n        toast.success(i18n.t(\"queueIntegrationModal.messages.editSuccess\"));\n      } else {\n        await api.post(\"/queueIntegration\", values);\n        toast.success(i18n.t(\"queueIntegrationModal.messages.addSuccess\"));\n      }\n      handleClose();\n    } catch (err) {\n      toastError(err);\n    }\n  };\n\n  return (\n    <div className={classes.root}>\n      <Dialog open={open} onClose={handleClose} fullWidth maxWidth=\"md\" scroll=\"paper\">\n        <DialogTitle>\n          {integrationId\n            ? `${i18n.t(\"queueIntegrationModal.title.edit\")}`\n            : `${i18n.t(\"queueIntegrationModal.title.add\")}`}\n        </DialogTitle>\n        <Formik\n          initialValues={integration}\n          enableReinitialize={true}\n          validationSchema={DialogflowSchema}\n          onSubmit={(values, actions, event) => {\n            setTimeout(() => {\n              handleSaveDialogflow(values);\n              actions.setSubmitting(false);\n            }, 400);\n          }}\n        >\n          {({ touched, errors, isSubmitting, values }) => (\n            <Form>\n              <Paper square className={classes.mainPaper} elevation={1}>\n                <DialogContent dividers>\n                  <Grid container spacing={1}>\n                    <Grid item xs={12} md={6} xl={6}>\n                      <FormControl\n                        variant=\"outlined\"\n                        className={classes.formControl}\n                        margin=\"dense\"\n                        fullWidth\n                      >\n                        <InputLabel id=\"type-selection-input-label\">\n                          {i18n.t(\"queueIntegrationModal.form.type\")}\n                        </InputLabel>\n\n                        <Field\n                          as={Select}\n                          label={i18n.t(\"queueIntegrationModal.form.type\")}\n                          name=\"type\"\n                          labelId=\"profile-selection-label\"\n                          error={touched.type && Boolean(errors.type)}\n                          helpertext={touched.type && errors.type}\n                          id=\"type\"\n                          required\n                        >\n                          <MenuItem value=\"dialogflow\">DialogFlow</MenuItem>\n                          <MenuItem value=\"n8n\">N8N</MenuItem>\n                          <MenuItem value=\"webhook\">WebHooks</MenuItem>\n                          <MenuItem value=\"typebot\">Typebot</MenuItem>\n                        </Field>\n                      </FormControl>\n                    </Grid>\n                    {values.type === \"dialogflow\" && (\n                      <>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.name\")}\n                            autoFocus\n                            name=\"name\"\n                            fullWidth\n                            error={touched.name && Boolean(errors.name)}\n                            helpertext={touched.name && errors.name}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <FormControl\n                            variant=\"outlined\"\n                            className={classes.formControl}\n                            margin=\"dense\"\n                            fullWidth\n                          >\n                            <InputLabel id=\"language-selection-input-label\">\n                              {i18n.t(\"queueIntegrationModal.form.language\")}\n                            </InputLabel>\n\n                            <Field\n                              as={Select}\n                              label={i18n.t(\"queueIntegrationModal.form.language\")}\n                              name=\"language\"\n                              labelId=\"profile-selection-label\"\n                              fullWidth\n                              error={touched.language && Boolean(errors.language)}\n                              helpertext={touched.language && errors.language}\n                              id=\"language-selection\"\n                              required\n                            >\n                              <MenuItem value=\"pt-BR\">Portugues</MenuItem>\n                              <MenuItem value=\"en\">Inglês</MenuItem>\n                              <MenuItem value=\"es\">Español</MenuItem>\n                            </Field>\n                          </FormControl>\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.projectName\")}\n                            name=\"projectName\"\n                            error={touched.projectName && Boolean(errors.projectName)}\n                            helpertext={touched.projectName && errors.projectName}\n                            fullWidth\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={12} xl={12} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.jsonContent\")}\n                            type=\"jsonContent\"\n                            multiline\n                            //inputRef={greetingRef}\n                            maxRows={5}\n                            minRows={5}\n                            fullWidth\n                            name=\"jsonContent\"\n                            error={touched.jsonContent && Boolean(errors.jsonContent)}\n                            helpertext={touched.jsonContent && errors.jsonContent}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                          />\n                        </Grid>\n                      </>\n                    )}\n\n                    {(values.type === \"n8n\" || values.type === \"webhook\") && (\n                      <>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.name\")}\n                            autoFocus\n                            required\n                            name=\"name\"\n                            error={touched.name && Boolean(errors.name)}\n                            helpertext={touched.name && errors.name}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={12} xl={12} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.urlN8N\")}\n                            name=\"urlN8N\"\n                            error={touched.urlN8N && Boolean(errors.urlN8N)}\n                            helpertext={touched.urlN8N && errors.urlN8N}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            required\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                      </>\n                    )}\n                    {(values.type === \"typebot\") && (\n                      <>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.name\")}\n                            autoFocus\n                            name=\"name\"\n                            error={touched.name && Boolean(errors.name)}\n                            helpertext={touched.name && errors.name}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            required\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={12} xl={12} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.urlN8N\")}\n                            name=\"urlN8N\"\n                            error={touched.urlN8N && Boolean(errors.urlN8N)}\n                            helpertext={touched.urlN8N && errors.urlN8N}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            required\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.typebotSlug\")}\n                            name=\"typebotSlug\"\n                            error={touched.typebotSlug && Boolean(errors.typebotSlug)}\n                            helpertext={touched.typebotSlug && errors.typebotSlug}\n                            required\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.typebotExpires\")}\n                            name=\"typebotExpires\"\n                            error={touched.typebotExpires && Boolean(errors.typebotExpires)}\n                            helpertext={touched.typebotExpires && errors.typebotExpires}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.typebotDelayMessage\")}\n                            name=\"typebotDelayMessage\"\n                            error={touched.typebotDelayMessage && Boolean(errors.typebotDelayMessage)}\n                            helpertext={touched.typebotDelayMessage && errors.typebotDelayMessage}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.typebotKeywordFinish\")}\n                            name=\"typebotKeywordFinish\"\n                            error={touched.typebotKeywordFinish && Boolean(errors.typebotKeywordFinish)}\n                            helpertext={touched.typebotKeywordFinish && errors.typebotKeywordFinish}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.typebotKeywordRestart\")}\n                            name=\"typebotKeywordRestart\"\n                            error={touched.typebotKeywordRestart && Boolean(errors.typebotKeywordRestart)}\n                            helpertext={touched.typebotKeywordRestart && errors.typebotKeywordRestart}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={6} xl={6} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.typebotUnknownMessage\")}\n                            name=\"typebotUnknownMessage\"\n                            error={touched.typebotUnknownMessage && Boolean(errors.typebotUnknownMessage)}\n                            helpertext={touched.typebotUnknownMessage && errors.typebotUnknownMessage}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        <Grid item xs={12} md={12} xl={12} >\n                          <Field\n                            as={TextField}\n                            label={i18n.t(\"queueIntegrationModal.form.typebotRestartMessage\")}\n                            name=\"typebotRestartMessage\"\n                            error={touched.typebotRestartMessage && Boolean(errors.typebotRestartMessage)}\n                            helpertext={touched.typebotRestartMessage && errors.typebotRestartMessage}\n                            variant=\"outlined\"\n                            margin=\"dense\"\n                            fullWidth\n                            className={classes.textField}\n                          />\n                        </Grid>\n                        \n                      </>\n                    )}\n                  </Grid>\n                </DialogContent>\n              </Paper>\n\n              <DialogActions>\n                {values.type === \"dialogflow\" && (\n                  <Button\n                    //type=\"submit\"\n                    onClick={(e) => handleTestSession(e, values)}\n                    color=\"inherit\"\n                    disabled={isSubmitting}\n                    name=\"testSession\"\n                    variant=\"outlined\"\n                    className={classes.btnLeft}\n                  >\n                    {i18n.t(\"queueIntegrationModal.buttons.test\")}\n                  </Button>\n                )}\n                <Button\n                  onClick={handleClose}\n                  color=\"secondary\"\n                  disabled={isSubmitting}\n                  variant=\"outlined\"\n                >\n                  {i18n.t(\"queueIntegrationModal.buttons.cancel\")}\n                </Button>\n                <Button\n                  type=\"submit\"\n                  color=\"primary\"\n                  disabled={isSubmitting}\n                  variant=\"contained\"\n                  className={classes.btnWrapper}\n                >\n                  {integrationId\n                    ? `${i18n.t(\"queueIntegrationModal.buttons.okEdit\")}`\n                    : `${i18n.t(\"queueIntegrationModal.buttons.okAdd\")}`}\n                  {isSubmitting && (\n                    <CircularProgress\n                      size={24}\n                      className={classes.buttonProgress}\n                    />\n                  )}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </div >\n  );\n};\n\nexport default QueueIntegration;","import React, { useState, useEffect, useReducer, useContext } from \"react\";\nimport { toast } from \"react-toastify\";\nimport { socketConnection } from \"../../services/socket\";\nimport n8n from \"../../assets/n8n.png\";\nimport dialogflow from \"../../assets/dialogflow.png\";\nimport webhooks from \"../../assets/webhook.png\";\nimport typebot from \"../../assets/typebot.jpg\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\n\nimport {\n  Avatar,\n  Button,\n  IconButton,\n  InputAdornment,\n  Paper,\n  Table,\n  TableBody,\n  TableCell,\n  TableHead,\n  TableRow,\n  TextField,\n  Tooltip\n} from \"@material-ui/core\";\n\nimport {\n  DeleteOutline,\n  Edit\n} from \"@material-ui/icons\";\n\nimport SearchIcon from \"@material-ui/icons/Search\";\n\nimport MainContainer from \"../../components/MainContainer\";\nimport MainHeader from \"../../components/MainHeader\";\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\nimport Title from \"../../components/Title\";\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\nimport IntegrationModal from \"../../components/QueueIntegrationModal\";\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\n\nimport api from \"../../services/api\";\nimport { i18n } from \"../../translate/i18n\";\nimport toastError from \"../../errors/toastError\";\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\nimport usePlans from \"../../hooks/usePlans\";\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\n\nconst reducer = (state, action) => {\n  if (action.type === \"LOAD_INTEGRATIONS\") {\n    const queueIntegration = action.payload;\n    const newIntegrations = [];\n\n    queueIntegration.forEach((integration) => {\n      const integrationIndex = state.findIndex((u) => u.id === integration.id);\n      if (integrationIndex !== -1) {\n        state[integrationIndex] = integration;\n      } else {\n        newIntegrations.push(integration);\n      }\n    });\n\n    return [...state, ...newIntegrations];\n  }\n\n  if (action.type === \"UPDATE_INTEGRATIONS\") {\n    const queueIntegration = action.payload;\n    const integrationIndex = state.findIndex((u) => u.id === queueIntegration.id);\n\n    if (integrationIndex !== -1) {\n      state[integrationIndex] = queueIntegration;\n      return [...state];\n    } else {\n      return [queueIntegration, ...state];\n    }\n  }\n\n  if (action.type === \"DELETE_INTEGRATION\") {\n    const integrationId = action.payload;\n\n    const integrationIndex = state.findIndex((u) => u.id === integrationId);\n    if (integrationIndex !== -1) {\n      state.splice(integrationIndex, 1);\n    }\n    return [...state];\n  }\n\n  if (action.type === \"RESET\") {\n    return [];\n  }\n};\n\nconst useStyles = makeStyles((theme) => ({\n  mainPaper: {\n    flex: 1,\n    padding: theme.spacing(2),\n    margin: theme.spacing(1),\n    overflowY: \"scroll\",\n    ...theme.scrollbarStyles,\n  },\n  avatar: {\n    width: \"140px\",\n    height: \"40px\",\n    borderRadius: 4\n  },\n}));\n\nconst QueueIntegration = () => {\n  const classes = useStyles();\n\n  const [loading, setLoading] = useState(false);\n  const [pageNumber, setPageNumber] = useState(1);\n  const [hasMore, setHasMore] = useState(false);\n  const [selectedIntegration, setSelectedIntegration] = useState(null);\n  const [deletingUser, setDeletingUser] = useState(null);\n  const [userModalOpen, setUserModalOpen] = useState(false);\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\n  const [searchParam, setSearchParam] = useState(\"\");\n  const [queueIntegration, dispatch] = useReducer(reducer, []);\n  const { user } = useContext(AuthContext);\n  const { getPlanCompany } = usePlans();\n  const companyId = user.companyId;\n  const history = useHistory();\n\n  useEffect(() => {\n    async function fetchData() {\n      const planConfigs = await getPlanCompany(undefined, companyId);\n      if (!planConfigs.plan.useIntegrations) {\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\n        setTimeout(() => {\n          history.push(`/`)\n        }, 1000);\n      }\n    }\n    fetchData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    dispatch({ type: \"RESET\" });\n    setPageNumber(1);\n  }, [searchParam]);\n\n  useEffect(() => {\n    setLoading(true);\n    const delayDebounceFn = setTimeout(() => {\n      const fetchIntegrations = async () => {\n        try {\n          const { data } = await api.get(\"/queueIntegration/\", {\n            params: { searchParam, pageNumber },\n          });\n          dispatch({ type: \"LOAD_INTEGRATIONS\", payload: data.queueIntegrations });\n          setHasMore(data.hasMore);\n          setLoading(false);\n        } catch (err) {\n          toastError(err);\n        }\n      };\n      fetchIntegrations();\n    }, 500);\n    return () => clearTimeout(delayDebounceFn);\n  }, [searchParam, pageNumber]);\n\n  useEffect(() => {\n    const companyId = localStorage.getItem(\"companyId\");\n    const socket = socketConnection({ companyId });\n\n    socket.on(`company-${companyId}-queueIntegration`, (data) => {\n      if (data.action === \"update\" || data.action === \"create\") {\n        dispatch({ type: \"UPDATE_INTEGRATIONS\", payload: data.queueIntegration });\n      }\n\n      if (data.action === \"delete\") {\n        dispatch({ type: \"DELETE_INTEGRATION\", payload: +data.integrationId });\n      }\n    });\n\n    return () => {\n      socket.disconnect();\n    };\n  }, []);\n\n  const handleOpenUserModal = () => {\n    setSelectedIntegration(null);\n    setUserModalOpen(true);\n  };\n\n  const handleCloseIntegrationModal = () => {\n    setSelectedIntegration(null);\n    setUserModalOpen(false);\n  };\n\n  const handleSearch = (event) => {\n    setSearchParam(event.target.value.toLowerCase());\n  };\n\n  const handleEditIntegration = (queueIntegration) => {\n    setSelectedIntegration(queueIntegration);\n    setUserModalOpen(true);\n  };\n\n  const handleDeleteIntegration = async (integrationId) => {\n    try {\n      await api.delete(`/queueIntegration/${integrationId}`);\n      toast.success(i18n.t(\"queueIntegration.toasts.deleted\"));\n    } catch (err) {\n      toastError(err);\n    }\n    setDeletingUser(null);\n    setSearchParam(\"\");\n    setPageNumber(1);\n  };\n\n  const loadMore = () => {\n    setPageNumber((prevState) => prevState + 1);\n  };\n\n  const handleScroll = (e) => {\n    if (!hasMore || loading) return;\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\n      loadMore();\n    }\n  };\n\n  return (\n    <MainContainer>\n      <ConfirmationModal\n        title={\n          deletingUser &&\n          `${i18n.t(\"queueIntegration.confirmationModal.deleteTitle\")} ${deletingUser.name\n          }?`\n        }\n        open={confirmModalOpen}\n        onClose={setConfirmModalOpen}\n        onConfirm={() => handleDeleteIntegration(deletingUser.id)}\n      >\n        {i18n.t(\"queueIntegration.confirmationModal.deleteMessage\")}\n      </ConfirmationModal>\n      <IntegrationModal\n        open={userModalOpen}\n        onClose={handleCloseIntegrationModal}\n        aria-labelledby=\"form-dialog-title\"\n        integrationId={selectedIntegration && selectedIntegration.id}\n      />\n      <MainHeader>\n        <Title>{i18n.t(\"queueIntegration.title\")} ({queueIntegration.length})</Title>\n        <MainHeaderButtonsWrapper>\n          <TextField\n            placeholder={i18n.t(\"queueIntegration.searchPlaceholder\")}\n            type=\"search\"\n            value={searchParam}\n            onChange={handleSearch}\n            InputProps={{\n              startAdornment: (\n                <InputAdornment position=\"start\">\n                  <SearchIcon color=\"secondary\" />\n                </InputAdornment>\n              ),\n            }}\n          />\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleOpenUserModal}\n          >\n            {i18n.t(\"queueIntegration.buttons.add\")}\n          </Button>\n        </MainHeaderButtonsWrapper>\n      </MainHeader>\n      <Paper\n        className={classes.mainPaper}\n        variant=\"outlined\"\n        onScroll={handleScroll}\n      >\n        <Table size=\"small\">\n          <TableHead>\n            <TableRow>\n              <TableCell padding=\"checkbox\"></TableCell>\n              <TableCell align=\"center\">{i18n.t(\"queueIntegration.table.id\")}</TableCell>\n              <TableCell align=\"center\">{i18n.t(\"queueIntegration.table.name\")}</TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <>\n              {queueIntegration.map((integration) => (\n                <TableRow key={integration.id}>\n                  <TableCell >\n                    {integration.type === \"dialogflow\" && (<Avatar \n                      src={dialogflow} className={classes.avatar} />)}\n                    {integration.type === \"n8n\" && (<Avatar\n                      src={n8n} className={classes.avatar} />)}\n                    {integration.type === \"webhook\" && (<Avatar\n                      src={webhooks} className={classes.avatar} />)}\n                    {integration.type === \"typebot\" && (<Avatar\n                      src={typebot} className={classes.avatar} />)}\n                  </TableCell>\n\n                  <TableCell align=\"center\">{integration.id}</TableCell>\n                  <TableCell align=\"center\">{integration.name}</TableCell>\n                  <TableCell align=\"center\">\n                    <IconButton\n                      size=\"small\"\n                      onClick={() => handleEditIntegration(integration)}\n                    >\n                      <Edit color=\"secondary\" />\n                    </IconButton>\n\n                    <IconButton\n                      size=\"small\"\n                      onClick={(e) => {\n                        setConfirmModalOpen(true);\n                        setDeletingUser(integration);\n                      }}\n                    >\n                      <DeleteOutline color=\"secondary\" />\n                    </IconButton>\n                  </TableCell>\n                </TableRow>\n              ))}\n              {loading && <TableRowSkeleton columns={7} />}\n            </>\n          </TableBody>\n        </Table>\n      </Paper>\n    </MainContainer>\n  );\n};\n\nexport default QueueIntegration;","import React, { useEffect, useState } from \"react\";\nimport { BrowserRouter, Switch } from \"react-router-dom\";\nimport { ToastContainer } from \"react-toastify\";\n\nimport LoggedInLayout from \"../layout\";\nimport Dashboard from \"../pages/Dashboard/\";\nimport TicketResponsiveContainer from \"../pages/TicketResponsiveContainer\";\nimport Signup from \"../pages/Signup/\";\nimport Login from \"../pages/Login/\";\nimport Connections from \"../pages/Connections/\";\nimport SettingsCustom from \"../pages/SettingsCustom/\";\nimport Financeiro from \"../pages/Financeiro/\";\nimport Users from \"../pages/Users\";\nimport Contacts from \"../pages/Contacts/\";\nimport Queues from \"../pages/Queues/\";\nimport Tags from \"../pages/Tags/\";\nimport MessagesAPI from \"../pages/MessagesAPI/\";\nimport Helps from \"../pages/Helps/\";\nimport ContactLists from \"../pages/ContactLists/\";\nimport ContactListItems from \"../pages/ContactListItems/\";\n// import Companies from \"../pages/Companies/\";\nimport QuickMessages from \"../pages/QuickMessages/\";\nimport Kanban from \"../pages/Kanban\";\nimport { AuthProvider } from \"../context/Auth/AuthContext\";\nimport { TicketsContextProvider } from \"../context/Tickets/TicketsContext\";\nimport { WhatsAppsProvider } from \"../context/WhatsApp/WhatsAppsContext\";\nimport Route from \"./Route\";\nimport Schedules from \"../pages/Schedules\";\nimport Campaigns from \"../pages/Campaigns\";\nimport CampaignsConfig from \"../pages/CampaignsConfig\";\nimport CampaignReport from \"../pages/CampaignReport\";\nimport Annoucements from \"../pages/Annoucements\";\nimport Chat from \"../pages/Chat\";\nimport ToDoList from \"../pages/ToDoList/\";\nimport Subscription from \"../pages/Subscription/\";\nimport Files from \"../pages/Files/\";\nimport Prompts from \"../pages/Prompts\";\nimport QueueIntegration from \"../pages/QueueIntegration\";\n\nconst Routes = () => {\n  const [showCampaigns, setShowCampaigns] = useState(false);\n\n  useEffect(() => {\n    const cshow = localStorage.getItem(\"cshow\");\n    if (cshow !== undefined) {\n      setShowCampaigns(true);\n    }\n  }, []);\n\n  return (\n    <BrowserRouter>\n      <AuthProvider>\n        <TicketsContextProvider>\n          <Switch>\n            <Route exact path=\"/login\" component={Login} />\n            <Route exact path=\"/signup\" component={Signup} />\n            {/* <Route exact path=\"/create-company\" component={Companies} /> */}\n            <WhatsAppsProvider>\n              <LoggedInLayout>\n                <Route exact path=\"/\" component={Dashboard} isPrivate />\n                <Route\n                  exact\n                  path=\"/tickets/:ticketId?\"\n                  component={TicketResponsiveContainer}\n                  isPrivate\n                />\n                <Route\n                  exact\n                  path=\"/connections\"\n                  component={Connections}\n                  isPrivate\n                />\n                <Route\n                  exact\n                  path=\"/quick-messages\"\n                  component={QuickMessages}\n                  isPrivate\n                />\n                <Route\n                  exact\n                  path=\"/todolist\"\n                  component={ToDoList}\n                  isPrivate\n                  />\n                <Route\n                  exact\n                  path=\"/schedules\"\n                  component={Schedules}\n                  isPrivate\n                />\n                <Route exact path=\"/tags\" component={Tags} isPrivate />\n                <Route exact path=\"/contacts\" component={Contacts} isPrivate />\n                <Route exact path=\"/helps\" component={Helps} isPrivate />\n                <Route exact path=\"/users\" component={Users} isPrivate />\n                <Route exact path=\"/files\" component={Files} isPrivate />\n                <Route exact path=\"/prompts\" component={Prompts} isPrivate />\n                <Route exact path=\"/queue-integration\" component={QueueIntegration} isPrivate />\n\n                <Route\n                  exact\n                  path=\"/messages-api\"\n                  component={MessagesAPI}\n                  isPrivate\n                />\n                <Route\n                  exact\n                  path=\"/settings\"\n                  component={SettingsCustom}\n                  isPrivate\n                />\n\t\t\t\t        <Route \n                  exact\n                  path=\"/kanban\"\n                  component={Kanban}\n                  isPrivate\n                />\n                <Route\n                  exact\n                  path=\"/financeiro\"\n                  component={Financeiro}\n                  isPrivate\n                />\n                <Route exact path=\"/queues\" component={Queues} isPrivate />\n                <Route\n                  exact\n                  path=\"/announcements\"\n                  component={Annoucements}\n                  isPrivate\n                />\n                <Route\n                  exact\n                  path=\"/subscription\"\n                  component={Subscription}\n                  isPrivate\n                />\n                <Route exact path=\"/chats/:id?\" component={Chat} isPrivate />\n                {showCampaigns && (\n                  <>\n                    <Route\n                      exact\n                      path=\"/contact-lists\"\n                      component={ContactLists}\n                      isPrivate\n                    />\n                    <Route\n                      exact\n                      path=\"/contact-lists/:contactListId/contacts\"\n                      component={ContactListItems}\n                      isPrivate\n                    />\n                    <Route\n                      exact\n                      path=\"/campaigns\"\n                      component={Campaigns}\n                      isPrivate\n                    />\n                    <Route\n                      exact\n                      path=\"/campaign/:campaignId/report\"\n                      component={CampaignReport}\n                      isPrivate\n                    />\n                    <Route\n                      exact\n                      path=\"/campaigns-config\"\n                      component={CampaignsConfig}\n                      isPrivate\n                    />\n                  </>\n                )}\n              </LoggedInLayout>\n            </WhatsAppsProvider>\n          </Switch>\n          <ToastContainer autoClose={3000} />\n        </TicketsContextProvider>\n      </AuthProvider>\n    </BrowserRouter>\n  );\n};\n\nexport default Routes;\n","import React, { useState, useEffect } from \"react\";\n\nimport \"react-toastify/dist/ReactToastify.css\";\nimport { QueryClient, QueryClientProvider } from \"react-query\";\n\nimport { ptBR } from \"@material-ui/core/locale\";\nimport { createTheme, ThemeProvider } from \"@material-ui/core/styles\";\nimport { useMediaQuery } from \"@material-ui/core\";\nimport ColorModeContext from \"./layout/themeContext\";\n\nimport Routes from \"./routes\";\n\nconst queryClient = new QueryClient();\n\nconst App = () => {\n    const [locale, setLocale] = useState();\n\n    const prefersDarkMode = useMediaQuery(\"(prefers-color-scheme: dark)\");\n    const preferredTheme = window.localStorage.getItem(\"preferredTheme\");\n    const [mode, setMode] = useState(preferredTheme ? preferredTheme : prefersDarkMode ? \"dark\" : \"light\");\n\n    const colorMode = React.useMemo(\n        () => ({\n            toggleColorMode: () => {\n                setMode((prevMode) => (prevMode === \"light\" ? \"dark\" : \"light\"));\n            },\n        }),\n        []\n    );\n\n    const theme = createTheme(\n        {\n            scrollbarStyles: {\n                \"&::-webkit-scrollbar\": {\n                    width: '8px',\n                    height: '8px',\n                },\n                \"&::-webkit-scrollbar-thumb\": {\n                    boxShadow: 'inset 0 0 6px rgba(0, 0, 0, 0.3)',\n                    backgroundColor: \"#e8e8e8\",\n                },\n            },\n            scrollbarStylesSoft: {\n                \"&::-webkit-scrollbar\": {\n                    width: \"8px\",\n                },\n                \"&::-webkit-scrollbar-thumb\": {\n                    backgroundColor: mode === \"light\" ? \"#F3F3F3\" : \"#333333\",\n                },\n            },\n            palette: {\n                type: mode,\n                primary: { main: \"#2576d2\" },\n                textPrimary: mode === \"light\" ? \"#2576d2\" : \"#FFFFFF\",\n                borderPrimary: mode === \"light\" ? \"#2576d2\" : \"#FFFFFF\",\n                dark: { main: mode === \"light\" ? \"#333333\" : \"#F3F3F3\" },\n                light: { main: mode === \"light\" ? \"#F3F3F3\" : \"#333333\" },\n                tabHeaderBackground: mode === \"light\" ? \"#EEE\" : \"#333\",\n                optionsBackground: mode === \"light\" ? \"#fafafa\" : \"#333\",\n\t\t\t\toptions: mode === \"light\" ? \"#fafafa\" : \"#666\",\n\t\t\t\tfontecor: mode === \"light\" ? \"#2576d2\" : \"#fff\",\n                fancyBackground: mode === \"light\" ? \"#fafafa\" : \"#333\",\n\t\t\t\tbordabox: mode === \"light\" ? \"#eee\" : \"#333\",\n\t\t\t\tnewmessagebox: mode === \"light\" ? \"#eee\" : \"#333\",\n\t\t\t\tinputdigita: mode === \"light\" ? \"#fff\" : \"#333\",\n\t\t\t\tcontactdrawer: mode === \"light\" ? \"#fff\" : \"#333\",\n\t\t\t\tannouncements: mode === \"light\" ? \"#ededed\" : \"#333\",\n\t\t\t\tlogin: mode === \"light\" ? \"#fff\" : \"#1C1C1C\",\n\t\t\t\tannouncementspopover: mode === \"light\" ? \"#fff\" : \"#333\",\n\t\t\t\tchatlist: mode === \"light\" ? \"#eee\" : \"#333\",\n\t\t\t\tboxlist: mode === \"light\" ? \"#ededed\" : \"#333\",\n\t\t\t\tboxchatlist: mode === \"light\" ? \"#ededed\" : \"#333\",\n                total: mode === \"light\" ? \"#fff\" : \"#222\",\n                messageIcons: mode === \"light\" ? \"grey\" : \"#F3F3F3\",\n                inputBackground: mode === \"light\" ? \"#FFFFFF\" : \"#333\",\n                barraSuperior: mode === \"light\" ? \"linear-gradient(to right, #2576d2, #0000FF, #00008B)\" : \"#666\",\n\t\t\t\tboxticket: mode === \"light\" ? \"#EEE\" : \"#333\",\n\t\t\t\tcampaigntab: mode === \"light\" ? \"#ededed\" : \"#333\",\n            },\n            mode,\n        },\n        locale\n    );\n\n    useEffect(() => {\n        const i18nlocale = localStorage.getItem(\"i18nextLng\");\n        const browserLocale =\n            i18nlocale.substring(0, 2) + i18nlocale.substring(3, 5);\n\n        if (browserLocale === \"ptBR\") {\n            setLocale(ptBR);\n        }\n    }, []);\n\n    useEffect(() => {\n        window.localStorage.setItem(\"preferredTheme\", mode);\n    }, [mode]);\n\n\n\n    return (\n        <ColorModeContext.Provider value={{ colorMode }}>\n            <ThemeProvider theme={theme}>\n                <QueryClientProvider client={queryClient}>\n                    <Routes />\n                </QueryClientProvider>\n            </ThemeProvider>\n        </ColorModeContext.Provider>\n    );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\n\nimport App from \"./App\";\n\nReactDOM.render(\n\t<CssBaseline>\n\t\t<App />\n\t</CssBaseline>,\n\tdocument.getElementById(\"root\")\n);\n\n// ReactDOM.render(\n// \t<React.StrictMode>\n// \t\t<CssBaseline>\n// \t\t\t<App />\n// \t\t</CssBaseline>,\n//   </React.StrictMode>\n\n// \tdocument.getElementById(\"root\")\n// );\n","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAAAiCAYAAAAah5Z6AAAACXBIWXMAAC4jAAAuIwF4pT92AAAGQGlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDggNzkuMTY0MDM2LCAyMDE5LzA4LzEzLTAxOjA2OjU3ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDI0LTAyLTE1VDA5OjM0OjM4LTAzOjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAyNC0wMi0xNVQxMDoxMjozMC0wMzowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyNC0wMi0xNVQxMDoxMjozMC0wMzowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpjYzlhMzI0YS02MGEzLWRmNDgtOGU3OC04OTIxMDY4NTNmNGMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6Y2M5YTMyNGEtNjBhMy1kZjQ4LThlNzgtODkyMTA2ODUzZjRjIiB4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ9InhtcC5kaWQ6Y2M5YTMyNGEtNjBhMy1kZjQ4LThlNzgtODkyMTA2ODUzZjRjIj4gPHBob3Rvc2hvcDpUZXh0TGF5ZXJzPiA8cmRmOkJhZz4gPHJkZjpsaSBwaG90b3Nob3A6TGF5ZXJOYW1lPSJXSEFUU0FQUCIgcGhvdG9zaG9wOkxheWVyVGV4dD0iV0hBVFNBUFAiLz4gPC9yZGY6QmFnPiA8L3Bob3Rvc2hvcDpUZXh0TGF5ZXJzPiA8cGhvdG9zaG9wOkRvY3VtZW50QW5jZXN0b3JzPiA8cmRmOkJhZz4gPHJkZjpsaT5hZG9iZTpkb2NpZDpwaG90b3Nob3A6YmQwZjAzNTUtODZmZC03NTQ2LWE5YjMtMGM4NDA5Y2M0Y2MyPC9yZGY6bGk+IDwvcmRmOkJhZz4gPC9waG90b3Nob3A6RG9jdW1lbnRBbmNlc3RvcnM+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6Y2M5YTMyNGEtNjBhMy1kZjQ4LThlNzgtODkyMTA2ODUzZjRjIiBzdEV2dDp3aGVuPSIyMDI0LTAyLTE1VDA5OjM0OjM4LTAzOjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgMjEuMCAoV2luZG93cykiLz4gPC9yZGY6U2VxPiA8L3htcE1NOkhpc3Rvcnk+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Qf5zNAAADcxJREFUeJztnH1wFOd5wH/v7t6n7iSdJPQNGAkM2Bh/SGOo3ThuAo4df4zTWI6dpI5DXGjSxrhpOuAm03io26B0PE3skBYaxsnUbWOoS9xOHH9Am6bBphgcF+OAPwAZCQmQdKeTdN+7+/aP0+HVcneIlQ6Y6f1m3pm73ffdfXb3ed7n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\"","module.exports = __webpack_public_path__ + \"static/media/planilha.549edeba.xlsx\";","module.exports = __webpack_public_path__ + \"static/media/wa-background.2675a051.png\";","module.exports = __webpack_public_path__ + \"static/media/wa-background-dark.8244f042.png\";","module.exports = __webpack_public_path__ + \"static/media/sound.9fd5812c.mp3\";","module.exports = __webpack_public_path__ + \"static/media/chat_notify.2529c259.mp3\";","module.exports = __webpack_public_path__ + \"static/media/n8n.5c788b8d.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfQAAADICAMAAAApx+PaAAABrVBMVEUAAAB2dnZ1dXV2dnZ2dnZ2dnZ1dXWYmJh2dnZ7e3t1dXV2dnaHh4d2dnZ2dnb/8fF2dnZ1dXV9fX11dXV3d3d1dXV2dnZ4eHh1dXWFhYV1dXV1dXXvbxB8fHx9fX12dnZ1dXV1dXV2dnZ1dXV3d3d1dXV3d3d3d3d3d3d1dXV9fX12dnZ2dnZ2dnZ4eHh4eHh1dXV1dXV2dnZ7e3t2dnZ1dXV3d3eEhIT0lxp3d3fyjRd2dnZ1dXV2dnZ3d3d2dnZ2dnb/jiD0kxl2dnZ2dnZ2dnZ2dnZ3d3d2dnbtbw52dnZ2dnb0lhp1dXV4eHh3d3d2dnZ2dnZ3d3d4eHj1jBv1hRvEmHj1lxr0lRp4eHh8fHzsbg7zlhn0lxryhxbxgxX0lxrtbg/1lxp3d3fucBDvdA/tcA7wehLtbg7tbg70lhrtbg7vcxDxgRPvdxHtbg/tbQ7zlxv0lhr0lxvubg/tbw/zmBv2mBz2mRzwcA94eHjsbg7zlxvtbg7tbg7tbg72lxrubg/ubg7scBDwfRLzlxrtbQ/1lhv0mBr0lxz2lxz1lhzsbQ51dXXzlhptsIrZAAAAjHRSTlMAy7fZp62fA6Af9qYGzvwB0t4R0GqJcRs/C/qVPhQP/e7qm+KOYzE7NuYY88JUKiXxxoEi1btQCPtH3KqleXZgDQretLCSfFxL/oRY6r9AJ+xtNC4dEgT25DMh9vLv49rQhGxBM/v58u7Tua/x6+jgv6yfh1RGQTUoJCDm2cmhk5JzaV/gxZp6YVlRSVahGaQAAAzRSURBVHja7NcxCoJgGADQ72rdodShQLyBCrq4OojwnbkhgggbW37fu8ULAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP6u6pauCs5kajOznYLTuPb50l+DU7iMdb7V4yUo39bkp2YLCjev+W2dg4Ldhjwy3IJCVd0jj931rVD7kr8te1CcJ3tn2pTIEQbgV10dZREWEBAobrkVwQN0PeOxGm9jLjebc3NU5fqQfMhVSaUqqUoqNa+/OUw3dM9MDwuzUM6oPJ8WxIbh6e73mN7dn7++eTVf/wwD7hVv/Lhy04mVQfl2n3D/e3LTDSf/umHA/eCnT2665ZNB+XYvePuHGzP8MOjM3nne+OfFjTle/DMI7Xeb/3ZuzLPzHwy4s7Qv0wbl2z3lnT9Xbl6XlT8Hndk7yLufndz0wsmgM3vnIEdjemBwsObOQY7G9MDgYM3d48/3bvrDytfQG04JBtwO3+30SfrJ92DI0bCKvZQ/cFAGA1bTiENX0JmAMk4K+s+0f9aTKDwZP5YAYDPSIAP3FPnNj97vg/L3PpZlMGQYBQrjB9ugJR/HBhdF6MgYNhiBfnM2hE0moQF5NAr3FFmWv3j6Ya9b+9M35W6kcxIbIVCzjAS/VdI34thi6kFIl+WvdlZ6cf7+t7JsQjolGZCAk0TCsEXSA8gobT8Q6bLcQ2j/8G9ZNiGds7sNDB8Sxq2R/lYcGSl4MNIbof3k9Xb2RjDvLH1phhJ5tOxzYYuleWixiYRVC6Sz4OKaeRl8Pnf+gKQrof01qrenX8qdpOtX8PbhzAVSEsy6tIaI8QWwRHqQ7utZIDwo6UpoN12mybIJ6YzQZhIJIzFesx09uwZrpGdQ4RIepHRZNlW+vSA7uxnpnOgyEvbcoMIi6X5UiD1U6fKbXZdvK09lhnnpIM0gYdMG0lOkeQAPVnrX5dvOt7J56eJXjYmY9dLXSU/mIUvvqnz7kATz3qQ7q6iwMJB+68gCpHzr2HPtXTpMhDstdcn7vOjsUnrseQxehXOivA3GPO5e+v049y0L0PLtRacyrXfpkOJtTzjPNvgVVOQik2RWXOwFiq+WHqqlPA5EDHvG5gzFus8iaWxQmc2Q7u9irsG5MhOyCsNkyDyl2E56MDPqK7gcnqHIYZ1PJa+CdmKSp0LaT0ieA7sgCwihXey59kn6oot/tZPY4LFKuQ85jlSwvfT6ZgI5lWch0HNdVQ21IAFEsMEjZbNBgSlj6eVd5JT8MaC8hQrPNFeFCmlQM4sNfGAXZDWdy7cXtOfau3T+XSQkUbr7CLVc1NpJz6VRS+ElEPhYcVQzNG9eej0VRw3JA6CQd68CgzUX88CJuejUsAuyCC/fTgx6rv2UvkC/HkG6e7yNDFH6sQP1hLdAhSSMVQialR6tosARDe+k8oxHgTMk3jA8RoUy2AVZpF1ndmXnA7m/0s9oK0yQPsNXVCGMlHjNSHqG79sFBxeny9IopSRSnqyZk170oAFjoDCNCgfqni7FA5xx+pltgywglm+859pn6V5etPlU0l82NY7nQgDOs8cuWtF7RelvNUWPTC0CuINTPiSEc9BiCinDc14AZ27GgRQqPbikUCHv5qMcC9KlUyS41o5/DcWuAkOIfLJKSTqWeJf2CgjsNX6wDXIH6MEaWqb1Xbqb6IzopQ9Rkee6sO0XpMc8dHZMSa0BM1RqIQqUK/o4nWMLcY9Lb/GILP+2JZsfCbPz0GSuoJpaKZaXUGbZ/g8t8qjwFtgGuQPkYA05GtNn6fzsxJp+e8+OORA9MWAskteVnFy6OidIqL/O66QmotKcezIKDCliUvo83Wj2JWAEn9CUEBqsosI0NCnGEZGEpCVt6pIG+yB3wVdPaZnWf+kj2OBUzN6jG+k5EDKhM530WIIE+1VQkwuTxU81Z2nqPwEq3MPmpI8h/zNTS9f6IQA4K5q9e4o8crDEjQ22D/ZBNkFfpfOCZ9eoTpe0ccBDNkyd9IDhubpntHRWCZsDDdGSGelBF1mn20Yp6Cxr4rLfXia6d9UlWrG5F9gHa6WXSBosSBdJkVG4dD50KQpathO8dC6QF7tBy4wZ6VsspxcvyxVTIjwqTAAh6iKfbqvVjGEjJO10qt9S6XW+VEXp+c3RJ+mKp7q2P+ekYXFYK93poFNGzz7zUUaFAOgom5H+mKUTGg5RoQYAIYdqVmToBXnJ9rAIhFF69M5GWCp9HhU2DaRLU0vIuZhJsdXLpedZiaylRhMAtkqzQtGQNCGdRSAtIZI6zDCpu+xqSZ6+3LwwFvRXwUZYKj1DQ64oPe9DA4a4dL7YztsceTtudUTjEuhZNiE9bNBBZTXmOjQ4IJljnaSWyqvT7mY+N8S7DhUn2AhLpa8TKV5Bes2BHaTzKRNtEzQuWxX2BQisdS89xkK60XUtM9N4yPzvtyo3DLIMYh3shJXSnQWqUi/9pQspyeHxyNjokkuUzpN3cQnxxRmh/VCBVPfSn7NtQ8ca/+zDrMW0xyrLKssmRmjwtxNWSedL9UgvPeRBwl4OKKEDn5H0rXYrnS3OI9K76Wmle1Eh0+a6Tvl1eFo5XVJiM3K2NWtKdbATFkqXRmiepZd+iULSLa23jell0DNBMwW2F4gx/bRL6axTvAECQ3wMupeXm9Vbin+IeBHg0oYHr6ySzpTsgl56Fdl2ydjXSecHGLZAAyucc6yRlxey90SX0lmpvyaGphIN37zfvtncQQ5VI0w1r/8YbIV10s9oqL7WS5doleYUj1sMGdXp62LEZtn0r2i4TLNoQjoJ00k3cMRbqgG61ddLqjx9gyR6dMcPx8BWWCb9PEkDN+ilF1FcW8G4gXTYJXaLoMVbYnk1eEi0lUBLxIz0KdaFEQsPLKoCiitWU1cg5+S56CHtKtkLq6TXKjQ/DwrSacdmX1i8ovRLFgfU+FUZwb5RBAg6zEinH2dS0k1ZF3kW1J9+blzT6F8iGSCZYHb7Jy2skR6dQUJ4GgTpXhQWRw0NpYeSBvdTVuMkZd9WHb2szIMKadbcXbY9g9s6dZ+2G7hBBkwgoiOkuaE6nCbrHeyFFdKf+x3CuSYqnadZrhwwDh2idP5do2MVOLkEu8nGd+GRCc2ZOXPSr8UjWPVROqyk6eazcEW5whanYDNuR/roIqU8XcukPNgkvgEE3ckZaqWSB0p9IY5tpIdo0efacALFGQhTHaHW/KJRpHAITRaX0Yx0PnFwfxuazE8ioaY9GKAPJew6L8Fm3Ip0YyqHYCg9h5S91SCEss/Shm1YStmBBM9CNgTO7IYHCY6yqn6jnG4FJfCuphxoWnpoCQmFDSVMOKdTLvG86xFSXF5NckEJgs2wTvpSGQTpXAIljBSPX5ROnbqwBdfpmtPldZR4a7TTlCnpMJ9g7zGSZm+zLAHnuvUkcPJIqYLdsEq6Z4t9Z0LvPTaJWirlgCidslpBPaVVULMgzLZYxJx0OPegwCMnqPGIkd9dQMIm2A1LpLuqGa5cXOkQnUU16RwI0hlXPtTiuwItmRKq2YsCkb7evXSInqKW8ILb6DQOFrVtRMI82I3bll4Zqe7XtkGDeD9dCiT5rvzYC6J0jnTgQU6a7SCc4CP1DtNKFSNdSOfUllDFmiBy2mAnP0M6sO34Q+4Xf4Ah0QkVRSe0oaj8OAqMemY0iegqVDeCZMcnv83GC4IaKb8w6ymhwzN7lJfAiInAaTqMF77xl27WylsAgvGQ2ekGZc2bTPufkHieWA4w5eofK8wbPHcO9uPz3+V+8Pvn0HekmATd44RX4+YvGHndQmp7MWirIzCvjfuv3+Re+e2vu/S39Ytou1Nrt88bn34g98KXn9r5P23KThne0w2H4IHzyzc9OP/mF7AtzuMq4jVoqP/f3h20RBWFYQC+kdEiMVpEmy8wsigUgqBFBBG4CLdKbdxK6MpZOJugRBeu7v3PgiPIMIIz9x7xfPo8f+GDmft+973nfJy0WhgftP0cjJt67by5mO/ytaee0Pw+3W8Xt39S9Z09zyctnM3lmc+e3t6PB7LBfh1vtYvZOqv9dq73k5c1G9vNpb/fuq7GV9x3Z2/ULmK011RvrZvY/Pnh9audd0uX+/dnmdLGbTs6bOd1eNQkcNGjnbHhx71PfNutOqZNHzQ0Y+lHw5TxXDEtzzVsT1+udFPW/Z/PiDliWjSZbH/prqx+rufkxnrEjTHtNN1T0KfvTx6vrqy/eLT29cEv4voM/c9x7TGN0kMfVbxzpbdIH9MoOPTdkyQxjWJD/58nplFm6P8S7FzpK/JXY1hUZKvGMFykqsZQRGSqxlBGZKrGUEakqsZQROSqxlBC2Lk+PJGsGkMBka0aw3CRrxrDUJGxGsMwoRoDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAQue6vJdUy+5+yQAAAABJRU5ErkJggg==\"","module.exports = __webpack_public_path__ + \"static/media/webhook.e5374d73.png\";","module.exports = \"data:image/jpeg;base64,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\""],"sourceRoot":""}